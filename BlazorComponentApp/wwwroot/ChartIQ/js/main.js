/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={579:(e,t,i)=>{let a={CIQ:i(316).Pz};"undefined"!=typeof __TREE_SHAKE__&&__TREE_SHAKE__||a.CIQ.activateImports((e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.CSVReader=t.CSVReader||class{constructor(e){const t=new FileReader;this.reader=t,this.file=e}async parse(e){const{reader:t}=this;return new Promise(((i,a)=>{t.readAsText(e),t.onload=e=>{const a=this.splitResults(t.result),n=a.shift(),r=n.match(/"/)?new RegExp(/,(?=")/):new RegExp(/,/);this.fields=n.split(r).map((e=>{let t;try{t=JSON.parse(e)}catch(i){t=e}return t})),""===a[a.length-1]&&a.pop(),this.results=a,i(a)},t.onerror=e=>{console.warn(e),a(e)}}))}determineLineBreak(e){const{length:t}=e;let i,a=Math.floor(.05*t),n=0;do{const t=e.substring(n,a);t.indexOf("\r\n")>-1?i="\r\n":t.indexOf("\n")>-1?i="\n":n+=a}while(!i);return i}splitResults(e){return e.split(this.determineLineBreak(e))}},t.DataLoader=t.DataLoader||class{constructor(e){const{stx:i}=e;i?(this.stx=i,this.cssRequired=!0,i.dataLoader=this,t.UI&&t.UI.observeProperty("uiContext",i,(({value:e})=>{e&&(setTimeout(this.subscribeToChanges,0,e),setTimeout(this.registerHotKeys,0,e))}))):console.warn("The DataLoader requires an stx parameter")}formatData(e,t){const{defaultPlotField:i}=this.stx.chart,{results:a,fields:n}=e,{name:r}=t,s=n.indexOf("DT"),o=n.indexOf("Date"),l=n.indexOf(r),h=l>-1;let c=[s>-1?s:o];h&&c.push(n.indexOf(r)),a.data=a.map((e=>{const t={};return e.split(",").forEach(((e,a)=>{if(h&&-1===c.indexOf(a))return;let r,s=n[a];try{r=JSON.parse(e)}catch(t){r=e}let o="DT"===s||"Date"===s?r:Number.parseFloat(r);t[n[a]]=o,a===l&&(delete t[n[a]],t[i]=o)})),t}))}importData(e){const t=this,{stx:i}=this,a=Object.fromEntries(e.formData.entries());let{color:n,display:r,name:s,panel:o,periodicity:l}=a;l=JSON.parse(l),this.formatData(e,a);const{results:h}=e,{data:c}=h,d={symbol:s,static:!0},u={data:c,symbolObject:d,panel:"true"===o||void 0,color:n};"secondary"===r?i.addSeries(s,u,(function(){let e=i.getSeries({symbol:s})[0];const a=i.tickFromDate(e.endPoints.end);i.chart.scroll=i.chart.dataSet.length-1-a+i.chart.maxTicks,t.registerDataWarnings(!0)})):(i.quoteDriver.pause(s),i.loadChart(d,{masterData:c,periodicity:l},(()=>{t.registerDataWarnings()})))}registerDataWarnings(e){const{stx:t}=this,i=t.addEventListener("menu",(({stx:e,menu:t})=>{t===document.querySelector("cq-menu.ciq-period")&&e.dispatch("notification",{message:"Changing Periodicity may lose loaded data",displayTime:3})}));let a,n;function r(){t.getSymbols({static:!0}).length||(t.removeEventListener(i),e&&(t.removeInjection(a),t.removeInjection(n)))}e&&(a=t.append("removeSeries",r),n=t.append("deleteHighlighed",r)),t.addEventListener("periodicity",(({stx:e,differentData:t})=>{const i=e.getSymbols({static:!0});i&&t&&i.forEach((t=>{e.removeSeries(t,e.chart),r()}))})),t.addEventListener("newChart",(()=>{r()}))}registerHotKeys(e){const i=t.getFromNS(e.config,"hotkeyConfig.hotkeys");if(!i)return;let a=i.find((({action:e})=>"dataLoader"===e));a&&(a.action=()=>{e.getAdvertised("Channel").write(null,"dataLoader",!0)})}subscribeToChanges(e){const{stx:i}=e,a=t.UI.BaseComponent.prototype;a.channelSubscribe("channel.dataLoader",(t=>{let n=t?{type:"dataLoader",params:{stx:i,context:e}}:{};a.channelWrite("channel.dialog",n,i)}),i)}}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.ExtendedHours=t.ExtendedHours||function(e){var i=e.stx;this.filter=e.filter,i||(i=e,this.filter=!1);var a={};this.stx=i,this.stx.extendedHours=this,this.cssRequired=!0,i.addEventListener("theme",(function(e){for(var t in a={},i.layout.marketSessions)a.session||(a.session={}),a.session[t]=i.canvasStyle("stx_market_session "+t)})),i.addEventListener("symbolChange",(function(e){"master"!=e.action||!i.layout.extended||i.chart.market.market_def&&i.chart.market.sessions.length||t.alert("There are no Extended Hours for this instrument.")})),t.UI&&t.UI.KeystrokeHub.addHotKeyHandler("extendedHours",(()=>{document.body.keystrokeHub.context.advertised.Layout.setExtendedHours()}),i),this.prepare=function(e,t){for(var n in i.layout.extended=e,i.layout.marketSessions)a.session={},i.chart.market.disableSession(n);if(i.layout.marketSessions={},e)if(t||(t=["pre","post"]),t.length)for(var r=0;r<t.length;r++)i.layout.marketSessions[t[r]]=!0;else i.layout.marketSessions=t;for(n in i.layout.marketSessions)a.session||(a.session={}),a.session[n]=i.canvasStyle("stx_market_session "+n),i.chart.market.disableSession(n,!0)},this.complete=function(e){i.changeOccurred("layout"),i.chart.market.market_def?this.filter?(i.createDataSet(),i.draw(),e&&e()):i.loadChart(i.chart.symbol,e):e&&e()},this.set=function(e,t,i){this.prepare(e,t),this.complete(i)},this.stx.append("drawYAxis",(function(e,n){if(this.layout.extended&&e.yAxis==n.yAxis&&!1!==e.shareChartXAxis&&!e.hidden){var r=e.chart;if(!t.ChartEngine.isDailyInterval(this.layout.interval)&&(a.divider=this.canvasStyle("stx_market_session divider"),a.session)){for(var s,o,l=r.market,h=[],c={},d=0;d<r.dataSegment.length;d++){var u=r.dataSegment[d];if(u&&u.DT){var p=null;l.market_def&&(!s||s<=u.DT)&&(o=l.getSession(u.DT),s=l[""===o||this.layout.marketSessions&&this.layout.marketSessions[o]?"getNextClose":"getNextOpen"](u.DT));var m=a.session[o];if(m&&(p=m.backgroundColor),c.color&&c.color!=p&&(h.push({start:c.start,end:c.end,color:c.color}),c={}),p){var g=this.layout.candleWidth;u.candleWidth&&(g=u.candleWidth),c.end=this.pixelFromBar(d,r)+g/2,c.start||0===c.start||(c.start=c.end-g+1),c.color=p}else c={}}}(c.start||0===c.start)&&h.push({start:c.start,end:c.end,color:c.color});var f=t.isTransparent(a.divider.backgroundColor),v=a.divider.width.replace(/px/g,""),y={y0:e.bottom,y1:e.top,color:a.divider.backgroundColor,type:"line",context:r.context,confineToPanel:e,pattern:"dashed",lineWidth:v,deferStroke:!0};for(this.startClip(e.name),r.context.beginPath(),i.highlightedDraggable&&(r.context.globalAlpha*=.3),d=0;d<h.length;d++)r.context.fillStyle=h[d].color,!f&&h[d].start>r.left&&this.plotLine(t.extend({x0:h[d].start,x1:h[d].start},y)),r.context.fillRect(h[d].start,e.top,h[d].end-h[d].start,e.bottom-e.top),!f&&h[d].end<r.right&&this.plotLine(t.extend({x0:h[d].end,x1:h[d].end},y));r.context.stroke(),this.endClip()}}}))}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.FullScreen=t.FullScreen||function(e){if(e||(e={}),e.stx){try{if(window.location.host!==window.top.location.host)throw new Error(window.location.host+" does not match "+window.top.location.host)}catch(e){return void console.warn("Full screen mode disabled.")}this.stx=e.stx,this.stx.fullScreen=this,this.fullScreenButton=null,this.fullScreenState=!1,this.addFullScreenButton=function(){this.stx.registerChartControl&&(this.fullScreenButton=this.stx.registerChartControl("stx-full-screen","Full Screen",function(e){return function(t){e.fullScreenToggle(t),t.stopPropagation()}}(this)))},this.fullScreenToggle=function(e){document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullscreen||document.documentElement.msRequestFullscreen?this.getFullScreenElement()?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullscreen?document.documentElement.mozRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():(this.fullScreenState=!this.fullScreenState,this.fullScreenRender())},this.fullScreenRender=function(){var e=null;(e=this.stx.container.closest("*[cq-context], cq-context, body"))&&(!0===this.fullScreenState?(this.fullScreenButton&&this.fullScreenButton.classList.add("active"),e.classList.add("full-screen")):(this.fullScreenButton&&this.fullScreenButton.classList.remove("active"),e.classList.remove("full-screen")),window.dispatchEvent(new Event("resize")))},this.onFullScreenChange=function(){this.getFullScreenElement()?this.fullScreenState=!0:this.fullScreenState=!1,this.fullScreenRender()},this.getFullScreenElement=function(){return document.fullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement},document.addEventListener("fullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("mozfullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("MSFullscreenChange",this.onFullScreenChange.bind(this),!1),this.addFullScreenButton()}else console.warn("The Full Screen addon requires an stx parameter")}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.InactivityTimer=t.InactivityTimer||function(e){if(e.minutes){(!e.interval||e.interval<0)&&(e.interval=60),this.stx=e.stx,this.timeout=e.minutes,this.interval=e.interval,this.wakeCB=e.wakeCB,this.sleepCB=e.sleepCB,this.sleepTimer=null,this.sleeping=!1,this.last=(new Date).getTime(),this.wakeChart=function(){clearTimeout(this.sleepTimer),this.last=(new Date).getTime(),this.sleeping&&(this.stx.quoteDriver&&this.stx.quoteDriver.updateChartLoop(),this.sleeping=!1,document.body.classList.remove("ciq-sleeping")),this.sleepTimer=setTimeout(this.sleepChart.bind(this),6e4*this.timeout),this.wakeCB&&this.wakeCB()},this.sleepChart=function(){this.sleeping||(this.stx.quoteDriver&&this.stx.quoteDriver.updateChartLoop(this.interval),this.sleeping=!0,document.body.classList.add("ciq-sleeping")),this.sleepCB&&this.sleepCB()};var t=this;["mousemove","mousedown","touchstart","touchmove","pointerdown","pointermove","keydown","wheel"].forEach((function(e){document.body.addEventListener(e,(function(e){t.wakeChart()}),{passive:!1})})),this.wakeChart()}}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.RangeSlider=t.RangeSlider||function(e){this.cssRequired=!0;var i=e.stx;i.slider=this;var a=e.height?e.height:"95px",n=e.chartContainer?e.chartContainer:e.stx.container,r=document.createElement("div");r.className="ciq-chart";var s=document.createElement("div");s.className="chartContainer",r.appendChild(s),n.parentElement.parentElement.insertBefore(r,n.parentElement.nextSibling),Object.assign(r.style,{height:a,paddingTop:"5px",display:"none"}),s.style.height="100%",s.dimensionlessCanvas=!0;var o=this.slider=new t.ChartEngine({container:s,preferences:{labels:!1,whitespace:0}});o.xaxisHeight=30,o.manageTouchAndMouse=!1,o.minimumCandleWidth=0;var l=o.chart.panel,h=l.subholder,c=l.close;h.style.cursor="ew-resize",h.classList.add("stx_range_slider"),c&&(c.style.display="inline",t.safeClickTouch(c,(function(){i.layout.rangeSlider=!1,i.changeOccurred("layout")})));var d=l.yAxis;d.drawCurrentPriceLabel=!1,Object.defineProperty(d,"position",{get:function(){return i.slider.yAxisPosition||i.chart.panel.yAxis.position},set:function(e){i.slider.yAxisPosition=e}});const{get:u,set:p}=Object.getOwnPropertyDescriptor(t.ChartEngine.YAxis.prototype,"width");Object.defineProperty(d,"width",{get:function(){return Math.max(u.call(d),i.chart.yAxis.width)},set:function(e){p.call(d,e)}}),t.extend(d,e.yAxis),o.chart.baseline.userLevel=!1,o.controls.home&&(o.controls.home.style.width=0),o.initializeChart(),t.UI&&(t.UI.KeystrokeHub.addHotKeyHandler("rangeSlider",(()=>{document.body.keystrokeHub.context.advertised.Layout.setRangeSlider()}),i),t.UI.observeProperty("breakpoint",i.chart,(e=>o.notifyBreakpoint(e.value)))),this.updateStyles=function(e,t,a){i.setStyle(e,t,a),this.style=i.canvasStyle("stx_range_slider shading")},this.display=function(e){if(i.layout.rangeSlider!==e)return i.layout.rangeSlider=e,void i.changeOccurred("layout");r.style.display=e?"":"none",i.resizeChart(),window.dispatchEvent(new Event("resize")),e&&(o.resizeChart(),o.initializeChart(),this.requestDraw())},this.setSymbol=function(e){o.chart.panel.display=o.chart.symbol=e,o.chart.symbolObject={symbol:e},o.chart.market=i.chart.market,o.setMainSeriesRenderer(),o.resizeChart(),this.adjustRange(i.chart),this.requestDraw()},this.acceptLayoutChange=function(e){var a=!1;o.layout.rangeSlider!==e.rangeSlider&&i.slider.display(e.rangeSlider),["chartType","aggregationType","periodicity","interval","timeUnit","chartScale","rangeSlider","flipped","extended","marketSessions","kagi","rangebars","renko","priceLines","pandf"].forEach((function(i){t.equals(o.layout[i],e[i])||(o.layout[i]=e[i],a=!0)})),t.trulyVisible(r)&&a&&(o.setMainSeriesRenderer(),this.requestDraw())},this.adjustRange=function(e){if(e.dataSet&&e.endPoints&&e.endPoints.begin){var t=o.chart;if(t.width){var a=0,n=0;if(i.quoteDriver){var r={symbol:e.symbol,symbolObject:e.symbolObject,interval:i.layout.interval};"month"!=r.interval&&"week"!=r.interval||i.dontRoll||(r.interval="day");var s=i.quoteDriver.getQuoteFeed(r).behavior;s&&s.bufferSize&&(e.moreAvailable&&(a=s.bufferSize),i.isHistoricalMode()&&(n=s.bufferSize))}t.baseline.defaultLevel=e.baseline.actualLevel,t.scroll=Math.max(0,e.dataSet.length-i.tickFromDate(e.endPoints.begin)-a)+1,o.setMaxTicks(t.scroll-n+2)}}},this.copyData=function(e){if(e.dataSet&&e.masterData){var t=o.chart;t.masterData=o.masterData=e.masterData.slice(0),t.dataSet=e.dataSet.slice(0),t.state=e.state,this.requestDraw()}},this.calculateYAxisPosition=function(){var e=o.chart.panel;o.getYAxisCurrentPosition(e.yAxis,e)!=e.yAxis.position&&o.calculateYAxisPositions()},this.drawSlider=function(){if(t.trulyVisible(r)&&i.chart.dataSet&&i.chart.dataSet.length){var e=this.style;e||(e=this.style=i.canvasStyle("stx_range_slider shading"));var a=i.chart.panel,n=o.chart.context,s=o.chart.segmentImage||[],l=o.layout.candleWidth/2,c=o.tickLeft=Math.max(i.tickFromPixel(a.left+l),0),d=o.tickRight=Math.min(i.tickFromPixel(a.right-l),i.chart.dataSet.length-1),u=o.pixelLeft=o.pixelFromTick(c)-(s[c]?s[c].candleWidth/2:l),p=o.pixelRight=o.pixelFromTick(d)+(s[d]?s[d].candleWidth/2:l),m=h.offsetLeft,g=m+h.offsetWidth;n.save(),n.beginPath(),n.fillStyle=e.backgroundColor,n.fillRect(m,h.offsetTop,u-m,h.offsetHeight),n.fillRect(g,h.offsetTop,p-g,h.offsetHeight),n.strokeStyle=e.borderTopColor,n.lineWidth=parseInt(e.borderWidth,10),n.moveTo(u,h.offsetTop),n.lineTo(u,h.offsetTop+h.offsetHeight),n.moveTo(p,h.offsetTop),n.lineTo(p,h.offsetTop+h.offsetHeight),n.stroke(),n.beginPath(),n.lineWidth=parseInt(e.width,10),n.lineCap="round",n.moveTo(u,h.offsetTop+h.offsetHeight/4),n.lineTo(u,h.offsetTop+3*h.offsetHeight/4),n.moveTo(p,h.offsetTop+h.offsetHeight/4),n.lineTo(p,h.offsetTop+3*h.offsetHeight/4),n.stroke(),n.restore()}},this.requestDraw=function(){this.drawRequested||(this.drawRequested=setTimeout((()=>{o.draw(),this.drawSlider(),this.drawRequested=clearTimeout(this.drawRequested)}),100))},i.addEventListener("layout",(function(e){e.stx.slider.acceptLayoutChange(e.stx.layout)})),i.addEventListener("preferences",(function(e){const{language:i}=e.stx.preferences;t.I18N&&o.preferences.language!=i&&t.I18N.setLocale(o,i),o.preferences.language=i,this.slider.requestDraw()})),i.addEventListener("symbolChange",(function(e){"master"==e.action&&e.stx.slider.setSymbol(e.symbol)})),i.addEventListener("symbolImport",(function(e){"master"==e.action&&e.stx.slider.setSymbol(e.symbol),e.stx.slider.acceptLayoutChange(e.stx.layout)})),i.addEventListener("theme",(function(e){if(o.clearPixelCache(),o.styles={},o.chart.container.style.backgroundColor="",t.ThemeHelper){var i=new t.ThemeHelper({stx:e.stx});i.params.stx=o,i.update()}})),i.append("createDataSet",(function(...e){const[,,{animationEntry:t}={}]=e||[];t||(this.slider.adjustRange(this.chart),this.slider.copyData(this.chart))})),i.append("draw",(function({animationEntry:e}={}){!e&&t.trulyVisible(r)&&o.chart.dataSet&&(this.slider.calculateYAxisPosition(),this.slider.adjustRange(this.chart),this.slider.requestDraw())})),i.prepend("resizeChart",(function(){var e=n.parentElement,i=e.parentElement,a=t.elementDimensions(i).height,s=i.querySelectorAll(".chartContainer");Array.from(s).forEach((function(e){e!==n&&t.trulyVisible(e)&&(a-=t.elementDimensions(e.parentElement,{border:1,padding:1,margin:1}).height)})),e.style.height=a+"px",this.layout.rangeSlider?(r.style.display="",o.resizeChart(),o.initializeChart(),this.slider.requestDraw()):r.style.display="none"})),["mousedown","touchstart","pointerdown"].forEach((function(e){h.addEventListener(e,(function(e){var a=o.backOutX(e.pageX);if(a||0===a){a-=e.target.offsetLeft,o.startDrag=a,o.startPixelLeft=o.pixelLeft,o.startPixelRight=o.pixelRight;var n=i.slider.style;n||(n=i.slider.style=i.canvasStyle("stx_range_slider shading"));var r=parseInt(n.borderLeftWidth,10);(a+=this.offsetLeft)<o.pixelRight-r&&(o.needsLeft=!0),a>o.pixelLeft+r&&(o.needsRight=!0),t.touchDevice||o.needsLeft&&o.needsRight&&e.target.classList.add("stx-drag-chart")}}),{passive:!1})})),["mouseup","mouseover","touchend","pointerup"].forEach((function(e){h.addEventListener(e,(function(e){const{which:t,type:i}=e;1===t&&"pointerup"!==i&&"mouseup"!==i||(e.target.classList.remove("stx-drag-chart"),o.chart.panel.subholder.style.cursor="ew-resize",o.startDrag=null,o.needsLeft=!1,o.needsRight=!1)}))})),["mousemove","touchmove","pointermove"].forEach((function(e){h.addEventListener(e,(function(e){o.timeout||(o.timeout=setTimeout((()=>{const t=()=>o.timeout=clearTimeout(o.timeout),{startDrag:a,startPixelLeft:n,startPixelRight:r,needsLeft:s,needsRight:l}=o;let{tickLeft:h,tickRight:c}=o;if(!a&&0!==a)return t();const{touches:d}=e;let u=(d&&d.length?o.backOutX(d[0].pageX):o.backOutX(e.pageX))-e.target.offsetLeft;if(!u&&0!==u)return t();if(u-=a,s)n+u<o.chart.left&&(u=o.chart.left-n),l&&r+u>=o.chart.right&&(u=o.chart.right-r,o.isHome()||(u+=o.layout.candleWidth/2)),h=o.tickFromPixel(n+u),l&&(c=h+o.tickRight-o.tickLeft);else{if(!l)return t();c=Math.min(o.tickFromPixel(r+u),i.chart.dataSet.length-1)}let p=i.chart.width/(c-h+1);c>=h&&(s&&l||p>=i.minimumCandleWidth)&&(o.tickLeft=h,o.tickRight=c,i.chart.scroll=i.chart.dataSet.length-h,s&&l||i.setCandleWidth(p),i.micropixels=0,i.draw()),t()})))}),{passive:!1})})),this.adjustRange(i.chart),this.copyData(i.chart),i.draw()}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.Shortcuts=t.Shortcuts||function({stx:e,width:i=580,windowForEachChart:a=!0,config:n}={}){if(!e)return void console.warn("The Shortcuts addon requires an stx parameter");this.stx=e,this.width=i,this.windowForEachChart=a,this.content=this.getShortcutContent(n),this.ensureMessagingAvailable(e),this.enableUI(e),this.cssRequired=!0,e.shortcuts=this,t.UI&&t.UI.KeystrokeHub.addHotKeyHandler("shortcuts",(()=>{document.body.keystrokeHub.context.advertised.Layout.showShortcuts()}),e);const r=this.stx.container.closest("cq-context");new MutationObserver((()=>this.content=this.getShortcutContent(n))).observe(r,{attributes:!0})},t.Shortcuts.prototype.enableUI=function(e){e&&t.UI&&setTimeout((()=>{e.uiContext.getAdvertised("Layout").showShortcuts=(e,t)=>this.toggle(t)}))},t.Shortcuts.prototype.ensureMessagingAvailable=function(e){setTimeout((()=>{const t=e.uiContext.topNode;Array.from(t.querySelectorAll("cq-floating-window")).find((e=>e.closest("cq-context")===t))||t.append(document.createElement("cq-floating-window"))}))},t.Shortcuts.prototype.getShortcutContent=function(e){const t=(e.drawingTools||[]).filter((e=>e.shortcut)).map((({label:e,shortcut:t})=>`<div class="ciq-shortcut">\n\t\t\t\t\t<div>${e}</div>\n\t\t\t\t\t<div><span>Alt</span> + <span>${t.toUpperCase()}</span></div>\n\t\t\t\t</div>`)).join(""),i=e=>" + "===e?"<span>+</span>":e.split("+").map((e=>e&&" "!==e?"<span>"+e+"</span>":"")).join(" + "),a=this.stx.container.closest("cq-context");return`\n\t\t<div class="ciq-shortcut-container">\n\t\t\t<div>\n\t\t\t\t<div><b>Drawing tools shortcuts</b></div>\n\t\t\t\t<div>${t}</div>\n\t\t\t</div>\n\t\t\t<hr>\n\t\t\t<div>\n\t\t\t\t<div><b>Hotkeys</b></div>\n\t\t\t\t<div>${(e.hotkeyConfig&&e.hotkeyConfig.hotkeys||[]).map((({label:e,action:t,commands:n,extension:r})=>{return r&&(s=r,!a.hasAttribute(s.toLowerCase()+"-active"))?"":`<div class="ciq-shortcut"><div>${e||t}</div><div>${(e=>e.map((e=>e.replace(/Arrow|Key|Digit|^ | $/g,""))).map((e=>e.replace(/\+/," + "))).reduce(((e,t)=>{return!e.includes(t)&&(i=t).charCodeAt(i.length-1)<127?e.concat(t):e;var i}),[]).map(i).join("<br>"))(n)}</div></div>`;var s})).join("")}</div>\n\t\t\t</div>\n\t\t</div>\n\t`},t.Shortcuts.prototype.toggle=function(e){this.stx.dispatch("floatingWindow",{type:"shortcut",title:"Shortcuts",content:this.content,container:this.stx.uiContext.topNode,onClose:()=>this.closed=!0,width:this.width,status:e,tag:this.windowForEachChart?void 0:"shortcut"})}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;function i(){}t.TableView=t.TableView||function({stx:e,minColumnWidth:a="84px",coverUIMaxWidth:n=400,coverContainer:r,usePreviousCloseForChange:s=!0}={}){e?(this.stx=e,this.viewAdditionalColumns=!1,this.minColumnWidth=a,this.coverUIMaxWidth=n,this.coverContainer=r,this.usePreviousCloseForChange=s,this.builder=i,this.listeners=[],e.tableView=this,this.cssRequired=!0,t.UI&&t.UI.observeProperty("uiContext",e,(({value:e})=>{e&&setTimeout((()=>{this.subscribeToChanges(e);const i=t.getFromNS(e.config,"hotkeyConfig.hotkeys",[]).find((({action:e})=>"tableView"===e));i&&(i.action=()=>{const{tableView:e}=document.body.keystrokeHub.context.stx;if(e)return e.toggle(),!0})}))}))):console.warn("The TableView addon requires an stx parameter")},t.TableView.prototype.open=function(e){e&&(this.params=e);const{config:i={},onClose:a}=this.params||{};if(this.view&&this.close(!1),i.minColumnWidth=this.minColumnWidth,i.coverUIMaxWidth=this.coverUIMaxWidth,i.coverContainer=this.coverContainer,this.onClose=a,this.view=this.builder.createTable(this.stx,i),!this.view)return;const{stx:n}=this,r=this.close.bind(this),s=document.body.keystrokeHub;s&&s.addActiveModal(this),setTimeout((()=>this.removeCloseListener=function(e){const i=n.uiContext.topNode,a=({target:e})=>!e.closest(".ciq-data-table-container")&&r();i.addEventListener("click",a);const s=e=>{const{tableView:i}=document.body.keystrokeHub.context.stx;if(i)if("Escape"===e.code)i.close(),e.preventDefault();else{if(!t.UI||!t.UI.BaseComponent)return;const a=t.UI.BaseComponent.prototype,n=i.view.querySelectorAll("button");if("Tab"===e.code){let{shiftKey:t}=e||{};a.focusNextItem(n,t,!0);const i=a.findFocused(n);i[0]&&a.highlightItem.call({keyboardNavigation:document.body.keystrokeHub},i[0])}else if("Enter"===e.code){const t=a.findFocused(n);t[0]&&a.clickItem(t[0],e)}}};document.body.addEventListener("keydown",s);const o=t.getFn("UI.getUIManager")();return o&&(e.view.show=e.view.hide=function(){},o.openMenu(e.view,{})),()=>{i.removeEventListener("click",a),document.body.removeEventListener("keydown",s),o&&o.closeMenu(e.view)}}(this)))},t.TableView.prototype.close=function(e=!0){if(this.view&&(this.view.remove(),this.view=null),e&&this.onClose&&this.onClose(),this.removeCloseListener&&(this.removeCloseListener(),this.removeCloseListener=null),document.body.keystrokeHub){let{tabActiveModals:e}=document.body.keystrokeHub,t=e.indexOf(this);t>-1&&e.splice(t,1),document.body.keystrokeHub.highlightAlign()}},t.TableView.prototype.toggle=function(){this[this.view?"close":"open"]()},t.TableView.prototype.subscribeToChanges=function(e,i="channels.tableView"){const{channelSubscribe:a,channelWrite:n}=t.UI.BaseComponent.prototype,{channels:{tableView:r=i}={}}=e.config||{},{stx:s}=this;a(r,(e=>{e?s.tableView.open({onClose:()=>{n(r,!1,s)}}):s.tableView.close()}),s)},i.colHeaders={date:{label:"Date"},open:{label:"Open"},high:{label:"High"},low:{label:"Low"},close:{label:"Close"},pctChange:{label:"% Change",cls:"ciq-extra"},pctChangeVsAvg:{label:"% Change vs Average",cls:"ciq-extra"},volume:{label:"Volume",cls:"ciq-extra"}},i.percentDecimalPlaces=2,i.createTable=function(e,i={}){if(!e.chart||!e.chart.dataSegment)return;const{builder:a}=e.tableView,{getChartData:n,dataToHtml:r,dataToCsv:s,downloadCsv:o,getDateFormatter:l,getValueFormatter:h,getVolumeFormatter:c,getFilenameFormatter:d,getSeriesDataNames:u,getStudyDataNames:p,getChartCover:m}=a,g=Object.assign({},this.colHeaders);if(e.chart.highLowBars||(delete g.open,delete g.high,delete g.low),!e.tableView.viewAdditionalColumns)for(let e in g)g[e].cls&&delete g[e];const f=Object.values(g).map((e=>e.label)),v=u(e);v.forEach((e=>g[e]={label:e}));const y=p(e);y.forEach((e=>{f.includes(e)||(g[e]={label:e})}));const b=v.concat(y),{dateFormatter:x=l(e),valueFormatter:C=h(e),percentFormatter:S=h(e,this.percentDecimalPlaces),volumeFormatter:T=c(e),fileNameFormatter:D=d(e),minColumnWidth:w="84px"}=i,k=n(e,{dateFormatter:x,valueFormatter:C,percentFormatter:S,volumeFormatter:T,additionalDataFields:b}),L=m(e,i),{symbolDisplay:A,symbol:M}=e.chart,P=a.getCoverToolbar({symbol:A||M,viewAdditionalColumns:e.tableView.viewAdditionalColumns,copyFn:function(){const t=document.createElement("textArea");document.body.appendChild(t),t.textContent=s(k,{colHeaders:g,colSeparator:","}),t.select(),document.execCommand("copy"),t.remove(),e.dispatch("notification","copytoclipboard")},downloadFn:function(){const e=s(k,{colHeaders:g,colSeparator:","}),t=D(e);o(e,t)},toggleAdditionalColumnsFn:()=>{const{tableView:t}=e;t.viewAdditionalColumns=!t.viewAdditionalColumns,t.open()},closeFn:()=>e.tableView.close()});return L.appendChild(P),setTimeout((()=>{const i=r(k,{colHeaders:g,minColumnWidth:w});L.appendChild(i);const a=t.getFromNS(e,"uiContext.config.scrollbarStyling");a&&(a.refresh(L.querySelector("tbody")),a.refresh(L.querySelector(".ciq-data-table-wrapper"),{suppressScrollY:!0})),t.I18N&&t.I18N.localized&&t.I18N.translateUI(null,L),L.classList.remove("loading")})),L},i.dataToHtml=function(e,{colHeaders:t,minColumnWidth:i}){const a=Object.keys(t).length,n=`calc((100% - ${10+4*a}px ) / ${a})`,r=Object.entries(t).map((([,{label:e}],t)=>`<th\n\t\t\tscope="col"\n\t\t\tstyle="width: ${n};"\n\t\t\t>${e.replace("(","  (")}</th>`)),s=e.map((e=>`<tr>${Object.keys(t).map(((t,i)=>{const a=e[t];return 0===i?`<th scope="row"\n\t\t\t\t\t\t\t\tstyle="width: ${n}"\n\t\t\t\t\t\t\t\t>${a}</th>`:`<td style="width: ${n}">${a}</td>`})).join("")}</tr>`)),o=document.createElement("div");o.classList.add("ciq-data-table-wrapper");const l=i?`calc(${a} * ${i})`:"";return o.innerHTML=`\n\t\t<table class="header-fixed"\t${l?`style="min-width: ${l}"`:""}>\n\t\t<thead>${r.join("")}</thead>\n\t\t<tbody>${s.join("")}</tbody>\n\t\t</table>`,o},i.dataToCsv=function(e,{colHeaders:t,colSeparator:i="\t"}){return`${Object.entries(t).map((([,{label:e}])=>`"${e}"`)).join(i)}\n${e.map((e=>Object.keys(t).map((t=>`"${e[t]}"`)).join(i))).reverse().join("\n")}`},i.downloadCsv=function(e,t="filename"){const i=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=window.URL.createObjectURL(i,{type:"text/plain"}),a.download=`${t}.csv`,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},i.getChartData=function(e,{dateFormatter:i,valueFormatter:a,percentFormatter:n,volumeFormatter:r,additionalDataFields:s}){const o=e.chart.dataSegment.filter((e=>null!==e)),{usePreviousCloseForChange:l}=e.tableView;let h=[],c=0;const d=o.reduce(((e,{Close:t,iqPrevClose:i,Open:a})=>{const n=l?i:a;return void 0===t||Number.isNaN(t)||void 0===n||Number.isNaN(n)?e:(c++,e+(t-n)/n)}),0)/c;return o.forEach(((o,c)=>{const{DT:u,displayDate:p,High:m,Low:g,Open:f,Close:v,iqPrevClose:y,Volume:b}=o,x=l?y:f,C=(v-x)/x,S=p||(e.displayZone?t.convertTimeZone(u,e.dataZone,e.displayZone):u),T={DT:u,date:i(S),open:a(f),close:a(v),change:a(v-x),pctChange:n(100*C),pctChangeVsAvg:n(100*(C-d)),high:a(m),low:a(g),volume:r(b)};s.forEach((e=>{let t=o[e];null!=t?("object"==typeof t&&(t=t.Close),T[e]=a(t)):T[e]=""})),h.push(T)})),h.sort(((e,t)=>t.DT-e.DT)),h},i.getDateFormatter=function(e){return(i,a)=>i?t.displayableDate(e,e.chart,i,!0):""},i.getValueFormatter=function(e,t){const{chart:{panel:i,yAxis:a},layout:{chartScale:n}}=e;let r;return r=a.originalPriceFormatter&&a.originalPriceFormatter.func?n=>a.originalPriceFormatter.func(e,i,n,t):a.priceFormatter&&"percent"!=n&&"relative"!=n?n=>a.priceFormatter(e,i,n,t):a=>e.formatYAxisPrice(a,i,t),e=>r(e).replace(/^-*0\.0*$/,"0")},i.getVolumeFormatter=function(e){return t=>{if(null==t)return"";if(e.internationalizer)return e.internationalizer.priceFormatters[0].format(t);const i=t.toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i[0]}},i.getFilenameFormatter=function(e){return t=>{const i=e.chart.symbolDisplay||e.chart.symbol;let a,n;if(t){const e=t.split("\n");e.length>1&&([,a=""]=e[e.length-1].match(/^"([^"]*)"/)||[],[,n=""]=e[1].match(/^"([^"]*)"/)||[],a=a.replace(/:/g,".").replace(/\//g,"-"),n=n.replace(/:/g,".").replace(/\//g,"-"))}return`${i}${a?` (${a} _ ${n})`:""}`}},i.getChartCover=function(e,{coverUIMaxWidth:t,coverContainer:i}){const a=i&&document.querySelector(i)||(e.uiContext&&e.container.offsetWidth<t?e.uiContext.topNode:e.container.parentElement.parentElement),n=document.createElement("div");Object.assign(n.style,{top:0,left:0,right:0,bottom:0}),n.classList.add("ciq-data-table-container","loading");const r=document.createElement("div");return r.classList.add("ciq-spinner-wrapper"),r.innerHTML='<span class="ciq-spinner"></span>',n.appendChild(r),a.appendChild(n),n},i.getCoverToolbar=function({symbol:e,viewAdditionalColumns:t,copyFn:i,downloadFn:a,toggleAdditionalColumnsFn:n,closeFn:r}){const s=document.createElement("div");s.classList.add("ciq-data-table-toolbar"),s.innerHTML=`\n\t\t<div class="ciq-data-table-title"></div>\n\t\t<button class="ciq-data-table-copy">${this.copyLabel}</button>\n\t\t<button class="ciq-data-table-download">${this.downloadLabel}</button>\n\t\t<button class="ciq-data-table-additionalColumns">${this.getAdditionalColumnLabel(t)}</button>\n\t\t<cq-close />\n\t`,s.querySelector(".ciq-data-table-title").textContent=e;const o=s.querySelector(".ciq-data-table-copy");i?o.addEventListener("click",i):o.style.display="none";const l=s.querySelector(".ciq-data-table-download");a?l.addEventListener("click",(function(){l.blur(),a()})):l.style.display="none";const h=s.querySelector(".ciq-data-table-additionalColumns");return n?h.addEventListener("click",n):h.style.display="none",s.close=r,s},i.copyLabel="Copy",i.downloadLabel="Download",i.getAdditionalColumnLabel=function(e){return`<span>${e?"- ":"+ "}</span>Additional columns`},i.getStudyDataNames=function(e){return Object.values(e.layout.studies||{}).map((function(e){return Object.keys(e.outputMap).filter(t)})).reduce(((e,t)=>e.concat(t)),[]);function t(t){return e.chart.dataSegment.some((e=>e&&e[t]))}},i.getSeriesDataNames=function(e){return Object.values(e.chart.seriesRenderers||{}).filter((e=>"_main_series"!==e.params.name)).map((e=>e.seriesParams.map((({symbol:e})=>e)))).reduce(((e,t)=>e.concat(t)),[])}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.Marker?t.Tooltip=t.Tooltip||function(e){if(!t.Marker)return void console.warn("CIQ.Tooltip addon requires CIQ.Marker module to be enabled.");this.cssRequired=!0;const{stx:i,ohl:a,change:n,volume:r,series:s,studies:o,interpolation:l,showOverBarOnly:h,showBarHighlight:c=!0,useDataZone:d}=e,{container:u}=i.chart;let p=u.querySelector("stx-hu-tooltip");p||(p=document.createElement("stx-hu-tooltip"),u.appendChild(p));let m=u.querySelector(".stx-hu-tooltip-highlight");function g(){const{headsUp:e,crosshair:t}=i.layout,a=e&&e.floating||"floating"===e,n=t&&i.displayCrosshairs&&["static",null,void 0].includes(e);return!(!i.huTooltip||a||n||(f(),0))}function f(){const{huTooltip:e}=i,{node:t}=e;t&&(t.style.left="-50000px",t.style.right="auto",e.lastBar={},e.highlightEl&&(e.highlightEl.style.display="none"))}function v(){var e=this;if(!g()){var i=e.barFromPixel(e.cx),h=e.chart.dataSegment[i];if(h){if(!t.Marker.Tooltip.sameBar(h,e.huTooltip.lastBar)||i==e.chart.dataSegment.length-1){var c=e.huTooltip.node;Array.from(c.parentElement.querySelectorAll("[auto]")).forEach((function(e){e.remove()})),Array.from(c.parentElement.querySelectorAll("stx-hu-tooltip-field-value")).forEach((function(e){e.innerHTML=""}));var u=e.chart.panel,p=u.yAxis,m={},v=[];if(v.push({member:"DT",display:"DT",panel:u,yAxis:p}),v.push({member:"Close",display:"Close",panel:u,yAxis:p}),m.DT=m.Close=1,n&&t.ChartEngine.isDailyInterval(e.layout.interval)&&v.push({member:"Change",display:"Change",panel:u,yAxis:p}),a&&(v.push({member:"Open",display:"Open",panel:u,yAxis:p}),v.push({member:"High",display:"High",panel:u,yAxis:p}),v.push({member:"Low",display:"Low",panel:u,yAxis:p}),m.Open=m.High=m.Low=1),r&&(v.push({member:"Volume",display:"Volume",panel:null,yAxis:null}),m.Volume=1),s){var y=e.chart.seriesRenderers;for(var b in y){var x=y[b];if(x!==e.mainSeriesRenderer){u=e.panels[x.params.panel],!(p=x.params.yAxis)&&x.params.shareYAxis&&(p=u.yAxis);for(var C=0;C<x.seriesParams.length;C++){var S=x.seriesParams[C],T=S.symbol,D=S.field;T?D&&T!=D&&(T=t.createObjectChainNames(T,D)[0]):T=D;var w=S.display||S.symbol||S.field;T&&!m[w]&&(v.push({member:T,display:w,panel:u,yAxis:p,isSeries:!0}),m[w]=1)}}}}if(o)for(var k in e.layout.studies){var L=e.layout.studies[k];for(var A in p=(u=e.panels[L.panel])&&L.getYAxis(e),e.layout.studies[k].outputMap)A&&!m[A]&&(v.push({member:A,display:A,panel:u,yAxis:p}),m[A]=1);m[k+"_hist"]||(v.push({member:k+"_hist",display:k+"_hist",panel:u,yAxis:p}),v.push({member:k+"_hist1",display:k+"_hist1",panel:u,yAxis:p}),v.push({member:k+"_hist2",display:k+"_hist2",panel:u,yAxis:p}),m[k+"_hist"]=1)}for(var M=0;M<v.length;M++){var P=v[M],O=P.member,_=P.display,F="DT"==O;!F||d||t.ChartEngine.isDailyInterval(e.layout.interval)||(O="displayDate"),u=P.panel;var H=null;(p=P.yAxis)&&(u&&u===u.chart.panel?(H=Math.max(p.printDecimalPlaces,u.chart.decimalPlaces),(p.maxDecimalPlaces||0===p.maxDecimalPlaces)&&(H=Math.min(H,p.maxDecimalPlaces))):p.decimalPlaces||0===p.decimalPlaces?H=p.decimalPlaces:(p.maxDecimalPlaces||0===p.maxDecimalPlaces)&&(H=p.maxDecimalPlaces));var I=null,q=t.existsInObjectChain(h,O);q?I=q.obj[q.member]:"Change"==O&&(I=h.Close-h.iqPrevClose);var E=_.replace(/^(Result )(.*)/,"$2");if(l&&v[M].isSeries&&null==I){var V=e.valueFromInterpolation(i,E,"Close",u,p);if(null===V)break;I=V}if(!I&&0!==I||!F&&"object"==typeof I&&!I.Close&&0!==I.Close){var N=c.querySelector('stx-hu-tooltip-field[field="'+E+'"]');N&&""!==N.querySelector("stx-hu-tooltip-field-name").innerHTML&&(N.querySelector("stx-hu-tooltip-field-value").innerHTML="n/a")}else{var j="";if((I.Close||0===I.Close)&&(I=I.Close),I.constructor==Number)if(p)j=p.originalPriceFormatter&&p.originalPriceFormatter.func?p.originalPriceFormatter.func(e,u,I,H):p.priceFormatter&&p.priceFormatter!=t.Comparison.priceFormat?p.priceFormatter(e,u,I,H):e.formatYAxisPrice(I,u,H,p);else{j=I;var R=e.internationalizer;if(R){var z=R.priceFormatters.length,U=t.countDecimals(j);U>=z&&(U=z-1),j=R.priceFormatters[U].format(j)}}else I.constructor==Date?F&&e.controls.floatDate&&e.controls.floatDate.innerHTML?j=e.chart.xAxis.noDraw?"N/A":t.displayableDate(e,u.chart,I):(j=t.yyyymmdd(I),t.ChartEngine.isDailyInterval(e.layout.interval)||(j+=" "+I.toTimeString().substr(0,8))):j=I;var Z=c.querySelector('stx-hu-tooltip-field[field="'+E+'"]');if(Z){Z.querySelector("stx-hu-tooltip-field-value").innerHTML=j;var W=Z.querySelector("stx-hu-tooltip-field-name");""===W.innerHTML&&(W.innerHTML=E,t.I18N&&t.I18N.localized&&t.I18N.translateUI(null,W))}else{var Y=document.createElement("stx-hu-tooltip-field");Y.setAttribute("auto",!0);var B=document.createElement("stx-hu-tooltip-field-name");B.innerHTML=e.translateIf(E),Y.appendChild(B);var Q=document.createElement("stx-hu-tooltip-field-value");Q.innerHTML=j,Y.appendChild(Q),c.appendChild(Y)}}}e.huTooltip.render()}}else f()}}function y(e){if("-50000px"!==e.node.style.left){var a=i.controls.mSticky;if(a&&"none"!==a.style.display){var n=t.stripPX(e.node.style.top)-t.elementDimensions(a,{padding:!0,border:!0,margin:!0}).height;n<0&&(e.node.style.top=t.stripPX(e.node.style.top)-n+"px",n=0);var r=a.style;t.efficientDOMUpdate(r,"top",n+"px"),t.efficientDOMUpdate(r,"left",e.node.style.left),t.efficientDOMUpdate(r,"right",e.node.style.right)}}}m||(m=document.createElement("div"),m.classList.add("stx-hu-tooltip-highlight"),u.appendChild(m)),t.Marker.Tooltip=function(e){this.className||(this.className="CIQ.Marker.Tooltip"),this.highlightEl=m,e.label="tooltip",t.Marker.call(this,e)},t.inheritsFrom(t.Marker.Tooltip,t.Marker,!1),t.Marker.Tooltip.sameBar=function(e,t){return!(!e||!t)&&+e.DT==+t.DT&&e.Close==t.Close&&e.Open==t.Open&&e.Volume==t.Volume},t.Marker.Tooltip.placementFunction=function(e){if(!g()){for(var i=e.stx,a=0;a<e.arr.length;a++){var n,r,s,o=e.arr[a],l=i.barFromPixel(i.cx),d=i.chart.dataSegment[l],p=!0;if("undefined"!=d&&d&&d.DT&&(n=!0,d.High&&(r=i.pixelFromPrice(d.High)),d.Low&&(s=i.pixelFromPrice(d.Low)),i.chart.highLowBars||d.Close&&(r=i.pixelFromPrice(d.Close)-15,s=i.pixelFromPrice(d.Close)+15),!h||i.cy>=r&&i.cy<=s||(p=!1)),!i.insideChart||i.openDialog||i.activeDrawing||i.grabbingScreen||!n||!p)return m.style.display="none",o.node.style.left="-50000px",o.node.style.right="auto",void(o.lastBar={});if(t.Marker.Tooltip.sameBar(i.chart.dataSegment[l],o.lastBar)&&l!=i.chart.dataSegment.length-1)return void y(o);o.lastBar=i.chart.dataSegment[l];var f=o.lastBar.candleWidth||i.layout.candleWidth;parseInt(getComputedStyle(o.node).width,10)+i.chart.panel.left+30+f<i.backOutX(t.ChartEngine.crosshairX)?(o.node.style.left="auto",o.node.style.right=Math.round(u.clientWidth-i.pixelFromBar(l)+30)+"px"):(o.node.style.left=Math.round(i.pixelFromBar(l)+30)+"px",o.node.style.right="auto");var v=parseInt(getComputedStyle(o.node).height,10),b=Math.round(i.backOutY(t.ChartEngine.crosshairY)-v/2);if(b+v>i.height&&(b=i.height-v),b<0&&(b=0),o.node.style.top=b+"px",y(o),c&&!i.layout.crosshair){const e=o.lastBar.candleWidth||i.layout.candleWidth,t=i.pixelFromBar(l)-e/2;let a=e;t+a>i.chart.width&&(a=i.chart.width-t),m.style.display="block",m.style.left=t+"px",m.style.width=a+"px"}else m.style.display="none"}if(t.touchDevice&&i.layout.crosshair){var x=i.overXAxis,C=i.overYAxis;i.overXAxis=i.overYAxis=!1,i.doDisplayCrosshairs(),i.overXAxis=x,i.overYAxis=C}}},u.addEventListener("mouseout",f),i.append("mousemoveinner",(function(){y(this.huTooltip)})),i.append("deleteHighlighted",(function(){this.huTooltip.lastBar={},this.headsUpHR()})),i.append("headsUpHR",v),i.append("createDataSegment",v),i.huTooltip=new t.Marker.Tooltip({stx:i,xPositioner:"bar",chartContainer:!0,node:p})}:console.error("tooltip addon requires first activating markers feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.Animation=t.Animation||function(e){if(!e)throw new Error("Invalid constructor arguments.");var i,a,n;if(e instanceof t.ChartEngine?(i=arguments[0],a=arguments[1],n=arguments[2]):(i=e.stx,a=e.animationParameters,n=e.easeMachine),!i)return console.warn("No CIQ.ChartEngine provided. Cannot properly create CIQ.Animation instance");this.cssRequired=!0;var r={stayPut:!1,ticksFromEdgeOfScreen:5,granularity:1e6};a=t.extend(r,a),r.tension&&(i.chart.tension=a.tension),i.tickAnimator=n||new t.EaseMachine(Math.easeOutCubic,1e3);var s=new t.EaseMachine(Math.easeInOutCubic,1e3),o=["#0298d3","#19bcfc","#5dcffc","#9ee3ff"],l=0,h=20,c=0,d=!1,u=null;function p(){d=!1,u=null}t.UI&&t.UI.observeProperty("animation",i.layout,(({value:e})=>{r.tension&&(i.chart.tension=e?a.tension:0)})),i.addEventListener(["symbolChange","layout"],(function(e){p()})),i.prepend("updateCurrentMarketData",(function(e,t,i,a){t||(t=this.chart),a&&a.fromTrade&&t.closePendingAnimation&&(a.finalClose=t.closePendingAnimation.Close)})),i.prepend("updateChartData",(function(e,i,n){var r=this;if(i||(i=r.chart),i&&i.defaultChartStyleConfig&&"none"!=i.defaultChartStyleConfig&&this.layout.animation&&(void 0===n||!n.animationEntry&&!n.secondarySeries)&&i.dataSegment){var s=r.tickAnimator,o=this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation;if(o){if(!s)return void console.warn("Animation plug-in can not run because the tickAnimator has not been declared. See instructions in animation.js");if(this.prevSymbol!=i.symbol&&(this.prevQuote=0,i.closePendingAnimation=null,this.prevSymbol=i.symbol),L(),s.stop(),e.length>1){var l=e.splice(0,e.length-1),h=t.clone(n);h.animationEntry=!0,h.bypassGovernor=!0,h.noCreateDataSet=!1,h.appending=!0,r.updateChartData(l,i,h)}}var c=t.clone(n);c||(c={}),c.animationEntry=!0,c.bypassGovernor=!0,c.noCreateDataSet=!1,c.appending=!0,c.firstLoop=!0;var p=this.chart.symbol,m=this.layout.periodicity,g=this.layout.interval,f=this.layout.timeUnit;if(o){var v=e[e.length-1];this.prevQuote=this.currentQuote("Close");var y,b=!1;if(r.isHome()||(b=!0),!(v&&v.Close&&this.prevQuote&&this.prevQuote.Close))return!1;if(this.extendedHours&&i.market.market_def){var x=v.DT;if(t.ChartEngine.isDailyInterval(g))d=!i.market.isMarketDate(x);else if(!u||u<=x){var C=i.market.getSession(x);d=!(""===C||this.layout.marketSessions&&this.layout.marketSessions[C]),u=i.market[d?"getNextOpen":"getNextClose"](x)}if(d)return this.draw(),!1}var S=m;"second"==g||"second"==f?S*=1e3:"minute"!=g&&"minute"!=f||(S*=6e4),isNaN(g)||(S*=g),y="day"==g||"day"==f?v.DT.getDate()!=this.prevQuote.DT.getDate():"week"==g||"week"==f?v.DT.getDate()>=this.prevQuote.DT.getDate()+7:"month"==g||"month"==f?v.DT.getMonth()!=this.prevQuote.DT.getMonth():v.DT.getTime()>=this.prevQuote.DT.getTime()+S;var T=!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars,D=0;if(y){if(!this.animations.zoom.hasCompleted)return!1;var w=this.layout.candleWidth;if(i.scroll<=i.maxTicks)for(;this.micropixels>0;)i.scroll++,this.micropixels-=w;D=-1*w,i.scroll<=i.maxTicks?(this.previousMicroPixels=this.micropixels,this.nextMicroPixels=this.micropixels+w,i.dataSegment.length<i.maxTicks-a.ticksFromEdgeOfScreen&&!a.stayPut&&(this.nextMicroPixels=this.micropixels,i.scroll>=i.maxTicks-this.preferences.whitespace/this.layout.candleWidth&&i.scroll++),i.animatingHorizontalScroll=T,i.previousDataSetLength=i.dataSet.length):b||i.scroll++}i.closePendingAnimation={Close:v.Close,Open:v.Open,High:v.High,Low:v.Low};var k=y&&!T?v.Open:this.prevQuote.Close;return s.run(function(e,n,o){return function(l){var h=l.Close;if(!i.dataSet.length||p!=i.symbol||m!=r.layout.periodicity||g!=r.layout.interval||f!=r.layout.timeUnit)return s.stop(),void L();var d=t.clone(e);d.Adj_Close=null,d.Close=Math.round(h*a.granularity)/a.granularity,i.animatingHorizontalScroll&&(r.micropixels=l.micropixels,i.lastTickOffset=l.lineOffset),c.updateDataSegmentInPlace=!s.hasCompleted;var u=[d];o&&"tick"!==r.layout.interval&&u.unshift(n),r.updateChartData(u,i,c),c.firstLoop=!1,s.hasCompleted&&L()}}(v,t.clone(this.prevQuote),y),{Close:k,micropixels:this.nextMicroPixels,lineOffset:D},{Close:v.Close,micropixels:this.micropixels,lineOffset:0}),!0}}function L(){i.animatingHorizontalScroll&&(i.animatingHorizontalScroll=!1,r.micropixels=r.nextMicroPixels=r.previousMicroPixels,i.lastTickOffset=0),i.closePendingAnimation&&(function(e){if(i.masterData)for(var t=i.masterData.length-1;t>=0;t--){var a=i.masterData[t];if(a.Close||0===a.Close)return a.Close=e.Close,e.LastSize&&(a.LastSize=e.LastSize),e.LastTime&&(a.LastTime=e.LastTime),void 0===e.Open&&void 0!==a.Open&&(a.Open=e.Close),void 0===e.High&&void 0!==a.High&&(a.High=e.Close),void 0===e.Low&&void 0!==a.Low&&(a.Low=e.Close),r.updateCurrentMarketData({Close:a.Close,DT:a.DT,LastSize:a.LastSize,LastTime:a.LastTime},null,null,{animationLastBar:!0,fromTrade:!0}),void r.createDataSet(null,null,{appending:!0})}}(i.closePendingAnimation),i.closePendingAnimation=null)}})),i.prepend("renderYAxis",(function(e){if(!this.grabbingScreen&&this.isHome()&&this.layout.animation&&this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation){var i=e.panel.yAxis;if(!t.Comparison||i.priceFormatter!=t.Comparison.priceFormat)if(e.prevLowValue||0===e.prevLowValue||(e.prevLowValue=e.animatedLow=e.lowValue),e.prevHighValue||0===e.prevHighValue||(e.prevHighValue=e.animatedHigh=e.highValue),s.running||(e.animatingVerticalScroll=!1),e.prevLowValue>=e.lowValue&&e.prevHighValue<=e.highValue)e.animatingVerticalScroll&&(i.highValue=e.animatedHigh,i.lowValue=e.animatedLow);else if(s.running&&s.stop(),e.lowValue||e.highValue){var a=e.prevLowValue,n=e.prevHighValue;e.prevLowValue=e.lowValue,e.prevHighValue=e.highValue,e.animatingVerticalScroll=!0,s.run(function(t){return function(i){e.animatedLow=i.low,e.animatedHigh=i.high,t.draw()}}(this),{low:a,high:n},{low:e.lowValue,high:e.highValue}),i.lowValue=e.animatedLow,i.highValue=e.animatedHigh}}})),i.append("draw",(function(){if(!d&&this.chart.dataSet&&this.chart.dataSet.length&&this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation&&this.layout.animation){c%h==0&&(l++,c=0),c++;var e=this.chart.context,t=this.chart.panel,i=this.currentQuote("Close");if(!i)return;var a=i.Close,n=this.pixelFromTick(i.tick,this.chart);this.chart.lastTickOffset&&(n+=this.chart.lastTickOffset);var r=this.pixelFromPrice(a,t);this.chart.yAxis.left>n&&this.chart.yAxis.top<=r&&this.chart.yAxis.bottom>=r&&(l>=o.length&&(l=0),e.beginPath(),e.moveTo(n,r),e.arc(n,r,2+1.07*l,0,2*Math.PI,!1),e.fillStyle=o[l],e.fill())}}))}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.ContinuousZoom=t.ContinuousZoom||function(e){this.cssRequired=!0,this.update(e),this.stx.continuousZoom=this,this.addSmartZoomButton=function(){var e=this.stx.registerChartControl&&this.stx.registerChartControl("stx-smart-zoom","SmartZoom (Alt + 0)",function(e){return function(t){e.smartZoomToggle(t),t.stopPropagation()}}(this));e&&(this.stx.addEventListener("layout",(function(t){!0===t.stx.layout.smartzoom?e.classList.add("active"):e.classList.remove("active")})),this.stx.addEventListener("symbolImport",(function(t){!1===t.stx.layout.smartzoom&&e.classList.remove("active")})))},this.smartZoomToggle=function(e){this.smartZoomEnable(!this.stx.layout.smartzoom)},this.smartZoomEnable=function(e){this.stx.layout.smartzoom=e,this.stx.changeOccurred("layout")},this.addSmartZoomButton(),this.smartZoomEnable(!0)},t.ContinuousZoom.prototype.update=function(e){e||(e={}),this.stx=e.stx,this.periodicities=e.periodicities,this.boundaries=e.boundaries},t.ContinuousZoom.prototype.execute=function(e){function t(e){var t=e.period||e.periodicity,i=e.interval,a=e.timeUnit||"minute";switch(isNaN(i)&&(a=i,i=1),a){case"month":i*=4.35;case"week":i*=7;case"day":i*=1440;case"minute":i*=60;case"second":break;case"millisecond":i/=1e3;break;default:return null}return t*i}if(this.stx&&this.stx.layout.smartzoom){var i=this.periodicities,a=this.boundaries,n=this.stx,r=n.layout,s=n.chart;if(i&&a&&(!e&&a.maxCandleWidth&&r.candleWidth>a.maxCandleWidth||e&&a.minCandleWidth&&r.candleWidth<a.minCandleWidth||!e&&a.minTicks&&s.maxTicks<a.minTicks||e&&a.maxTicks&&s.maxTicks>a.maxTicks)){for(var o={value:e?Number.MAX_VALUE:0},l=t(r),h=0;h<i.length;h++){var c=t(i[h]);(c>l&&c<o.value&&e||c<l&&c>o.value&&!e)&&(o={value:c,periodicity:i[h]})}var d=o.periodicity;d&&n.setRange({dtLeft:s.xaxis[0].DT,dtRight:s.xaxis[s.xaxis.length-1].DT,dontSaveRangeToLayout:!0,periodicity:d})}}}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.Outliers=t.Outliers||function(e){if(e||(e={}),e.stx){Array.isArray(e.altColors)||(e.altColors=["#323390","#66308f","#0073ba","#f4932f","#0056a4","#00a99c","#00a553","#ea1d2c","#e9088c","#fff126","#912a8e","#ee652e","#00afed","#8ec648"]),this.stx=e.stx,this.stx.outliers=this,this.cssRequired=!0,this.multiplier=e.multiplier||3,this.altColors=e.altColors,this.axisData={},this.stx.addEventListener("layout",(function(e){Object.keys(e.stx.outliers.axisData).forEach(function(e){this.removeAllMarkers(this.axisData[e]),delete this.axisData[e]}.bind(e.stx.outliers))})),t.UI&&t.UI.KeystrokeHub.addHotKeyHandler("outliers",(()=>{document.body.keystrokeHub.context.advertised.Layout.setOutliers()}),this.stx),this.processDataSet=function(e,t,i){if(!e.length||e.length<=1)return!1;var a=[0,0];if(!this.axisData[i.name]){var n="",r=-1;Object.keys(this.axisData).forEach(function(e){this.axisData[e].panel.name==t.name&&r++}.bind(this)),r>-1&&r<this.altColors.length&&(n=this.altColors[r]),this.axisData[i.name]={axis:i,panel:t,displayState:"none",isFlipped:!1,originalZoom:i.zoom,markerColor:n,markers:{},axisMarkers:{}}}var s=this.axisData[i.name];return Object.assign(s,this.find(e)),this.refreshMarkerArray(s),this.refreshMarkers(s),"low"!==s.displayState&&"all"!==s.displayState||null===s.outlierMin?a[0]=s.trendMin:a[0]=s.outlierMin,"high"!==s.displayState&&"all"!==s.displayState||null===s.outlierMax?a[1]=s.trendMax:a[1]=s.outlierMax,a},this.find=function(e){if(e.length&&!(e.length<=0)){var t,i,a=function(e,t){return{quote:e.quote,DT:e.quote.DT,value:e.value,position:t}},n=null,r=null,s=null,o=null,l=[],h=e.slice();h.sort((function(e,t){return e.value-t.value}));var c=h.length,d=h[Math.floor(c/4)].value,u=h[Math.floor(c*(3/4))].value,p=u-d;t=d-p*this.multiplier,i=u+p*this.multiplier;for(var m=0;m<c;m++){var g=h[m],f=h[c-(m+1)];if(g.value<=t&&l.push(a(g,"low")),f.value>=i&&l.push(a(f,"high")),null===s&&g.value<=t&&(s=g.value),null===o&&f.value>=i&&(o=f.value),null===n&&g.value>t&&(n=g.value),null===r&&f.value<i&&(r=f.value),null!==n&&null!==r)break}return{minValue:t,maxValue:i,trendMin:n,trendMax:r,outlierMin:s,outlierMax:o,activeOutliers:l}}},this.refreshMarkerArray=function(e){this.deprecateMarkers(e);var t=e.markers;e.activeOutliers.forEach(function(i){var a=i.DT.getTime().toString();t[a]||(t[a]={isFresh:!0,type:"quote",value:i.value,marker:this.markOutlier(i,i.position,e)}),t[a].isFresh=!0}.bind(this)),null!==e.outlierMax&&(t.axisHigh||(t.axisHigh={isFresh:!0,type:"axis",value:e.outlierMax,marker:this.markAxis("high",e)}),t.axisHigh.isFresh=!0),null!==e.outlierMin&&(t.axisLow||(t.axisLow={isFresh:!0,type:"axis",value:e.outlierMin,marker:this.markAxis("low",e)}),t.axisLow.isFresh=!0)},this.setDisplayState=function(e,t){"high"!=e&&"low"!=e&&"all"!=e&&(e="none");var i=e;"all"==t.displayState&&"high"==e?i="low":"all"==t.displayState&&"low"==e?i="high":"high"==t.displayState&&"low"==e||"low"==t.displayState&&"high"==e?i="all":t.displayState==e&&(i="none"),t.displayState=i,t.axis.zoom=t.originalZoom,this.refreshMarkers(t),this.stx.draw()},this.deprecateMarkers=function(e){Object.keys(e.markers).forEach(function(e){var t;(t=this.markers[e]).marker&&!t.isFresh?(t.marker.remove&&t.marker.remove(),t.marker=null):t.isFresh=!1,this.markers[e].marker||delete this.markers[e]}.bind(e))},this.removeAllMarkers=function(e){Object.keys(e.markers).forEach((function(t){var i=e.markers[t].marker;i&&(i.remove&&i.remove(),i=null),i||delete e.markers[t]}))},this.updateMarkerVisibility=function(){Object.keys(this.markers).forEach(function(e){"all"==this.displayState||this.markers[e].marker.node.classList.contains(this.displayState)?this.markers[e].marker.node.style.display="none":this.markers[e].marker.node.style.display="block"}.bind(this))},this.refreshAxisMarkers=function(e,t){var i=!1;e.classList.contains("high")&&(i=!0);var a=t.axis.top;(!t.isFlipped&&!i||t.isFlipped&&i)&&(a=t.axis.bottom-50),e.classList.contains("nano")&&(a=t.axis.top+t.axis.height/2-22);var n=Math.floor(t.axis.left).toString()+"px",r=Math.floor(a).toString()+"px",s=i?t.outlierMax:t.outlierMin;e.style.transform="translate("+n+", "+r+")",e.querySelector(".outlier-value").innerText=this.stx.formatYAxisPrice(s),"0px"===n?e.classList.add("right"):e.classList.remove("right")},this.refreshMarkers=function(e){Object.keys(e.markers).forEach(function(e,t){var i=e.markers[t].marker,a=e.markers[t].value,n=e.markers[t].type;a>e.trendMax&&e.axis.high>=a||a<e.trendMin&&e.axis.low<=a?"quote"==n?i.node.style.display="none":"axis"==n&&i.node.classList.add("compress"):"quote"==n?i.node.style.display="block":"axis"==n&&i.node.classList.remove("compress"),"axis"==n&&this.refreshAxisMarkers(i.node,e),e.axis.height<100?i.node.classList.add("nano"):i.node.classList.remove("nano"),e.axis.height<250?i.node.classList.add("micro"):i.node.classList.remove("micro")}.bind(this,e)),e.isFlipped!==e.axis.flipped&&this.flipMarkers(e)},this.markAxis=function(e,i){var a=document.createElement("div");a.classList.add("outlier-sticker","axis","mini",e),a.innerHTML='<div class="expansion"><div class="pill"><div class="icon"></div></div><div class="tick"></div><span class="outlier-value"></div><div class="compression"><div class="pill"><div class="icon"></div></div></div></span>',this.matchYAxisStyle(a),this.setMarkerColor(a,i.markerColor);var n=this.handleMarkerClick.bind(this,e,i,a);return a.addEventListener("click",n),a.addEventListener("touchend",n),new t.Marker({stx:this.stx,xPositioner:"none",yPositioner:"none",label:"expand",permanent:!0,chartContainer:!0,node:a})},this.markOutlier=function(e,i,a){if(e){a||(a={panel:this.stx.panels.chart}),i=i||"high";var n=document.createElement("div");n.classList.add("outlier-sticker","quote","mini",i),n.innerHTML='<div class="pill"><div class="icon"></div></div><span class="outlier-value">'+this.stx.formatYAxisPrice(e.value,a.panel)+"</span>",this.matchYAxisStyle(n),this.setMarkerColor(n,a.markerColor);var r=this.handleMarkerClick.bind(this,i,a,n);return n.addEventListener("click",r),n.addEventListener("touchend",r),new t.Marker({stx:this.stx,xPositioner:"date",yPositioner:"high"==i?"top":"bottom",x:e.quote.DT,panelName:a.panel.name,node:n})}},this.handleMarkerClick=function(e,t,i){i.classList.contains("nano")&&(e="all"),this.setDisplayState(e,t),this.stx.draw()},this.matchYAxisStyle=function(e){if(this.stx.styles.stx_yaxis){var t=this.stx.styles.stx_yaxis;e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.color=t.color,e.style.borderColor=t.color}},this.setMarkerColor=function(e,t){if(""!=t)for(var i=e.querySelectorAll(".pill"),a=0;a<i.length;a++)i[a].style.backgroundColor=t},this.flipMarkers=function(e){e.isFlipped=e.axis.flipped,Object.keys(e.markers).forEach(function(e,t){var i=e.markers[t].marker,a=e.markers[t].value,n=e.markers[t].type;e.isFlipped?i.node.classList.add("flipped"):i.node.classList.remove("flipped"),"quote"==n&&(a>e.trendMax?e.isFlipped?i.params.yPositioner="bottom":i.params.yPositioner="top":a<e.trendMin&&(e.isFlipped?i.params.yPositioner="top":i.params.yPositioner="bottom"))}.bind(this,e))};var i=t.ChartEngine.prototype.determineMinMax.bind(this.stx);t.ChartEngine.prototype.determineMinMax=function(e,t,a,n,r,s,o,l,h){return h||(h=[]),o&&l&&this.layout.outliers&&h.push(this.outliers.processDataSet.bind(this.outliers)),i(e,t,a,n,r,s,o,l,h)}}else console.warn("The Outliers addon requires an stx parameter")}}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.PlotComplementer=t.PlotComplementer||function(e){var i=e.stx,a=t.uniqueID();e.decorator||(e.decorator={});var n=e.decorator.symbol||"_"+a,r=e.decorator.display||" (addl)";i.plotComplementers||(i.plotComplementers=[]),i.plotComplementers.push(this),this.id=e.id||a,this.defaultRenderingParameters={chartType:"line",width:1,opacity:.5},e.renderingParameters&&(this.defaultRenderingParameters=e.renderingParameters);var s=this;function o(i,a,o,l){if("err"!=function(t){if(t.quoteDriver&&e.quoteFeed){for(var i=0;i<t.quoteDriver.quoteFeeds.length;i++)if(t.quoteDriver.quoteFeeds[i].engine==e.quoteFeed)return;return"err"}}(i)&&(l||(l=a),!i.isEquationChart(a)&&(o||(o={}),!o.isComparison&&l&&-1==l.indexOf(n)))){var h=l+n,c=a+n,d=i.getRendererFromSeries(l),u=t.extend({display:a+r,name:h,symbol:c,symbolObject:{symbol:c,generator:s.id,masterSymbol:a},overChart:!1,gapDisplayStyle:!0,permanent:!0,panel:o.panel,yAxis:o.yAxis,shareYAxis:!0,loadData:!!s.quoteFeed,dependentOf:d?d.params.name:i.mainSeriesRenderer.params.name},s.renderingParameters);u.color||(u.color=o.color||"auto"),i.addSeries(h,u,(function(e,t){e&&i.removeSeries(h,i.chart),i.chart.seriesRenderers[h]&&(i.chart.seriesRenderers[h].params.display=u.display)}))}}function l(e,t,i){t&&-1==t.indexOf(n)&&e.removeSeries(t+n,i)}function h(e){"master"==e.action?(e.prevSymbol||(e.prevSymbol=e.symbol),l(e.stx,e.prevSymbol,e.stx.chart),o(e.stx,e.symbol)):"add-series"==e.action?(l(e.stx,e.id,e.stx.chart),o(e.stx,e.symbol,e.parameters,e.id)):"remove-series"==e.action&&l(e.stx,e.id,e.stx.chart)}i.addEventListener("symbolChange",h),i.addEventListener("symbolImport",h),this.resetRenderingParameters=function(){this.renderingParameters=this.defaultRenderingParameters},this.setQuoteFeed=function(e){if(e.quoteFeed&&e.behavior){var a=t.clone(e.behavior);a.generator=this.id;var n=e.filter;i.attachQuoteFeed(e.quoteFeed,a,(function(e){return!(n&&!n(e))&&e.symbolObject.generator==a.generator})),this.quoteFeed=e.quoteFeed}},this.setQuoteFeed(e),this.resetRenderingParameters()}}),null)},638:(e,t,i)=>{var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,R,z,U,Z,W,Y,B,Q,X,G,K,$,J,ee,te,ie,ae,ne,re,se,oe,le,he,ce,de,ue,pe,me,ge,fe,ve,ye,be,xe=i(611);function Ce(){}Ce[461638]=function(){for(var e=2;9!==e;)switch(e){case 2:e="object"==typeof globalThis?1:5;break;case 5:var t;try{for(var i=2;6!==i;)switch(i){case 9:delete t.RDCLD,delete Object.prototype.CoVO$,i=6;break;case 3:throw"";case 4:i="undefined"==typeof RDCLD?3:9;break;case 5:t.RDCLD=t,i=4;break;case 2:Object.defineProperty(Object.prototype,"CoVO$",{get:function(){for(;;)return this},configurable:!0}),t=CoVO$,i=5}}catch(e){t=window}return t;case 1:return globalThis}}(),Ce[219347]=function(e){for(var t=2;11!==t;)switch(t){case 13:var i=function(e,t,i,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];n(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};t=12;break;case 12:i(r,"charCodeAt",a[8],a[4]),t=11;break;case 6:a[4]+=a[9],a[4]+=a[5],t=13;break;case 3:a[9]="6",a[8]=3,a[8]=1,a[4]=a[2],t=6;break;case 2:var a=[arguments];a[5]="",a[5]="ww",a[2]="l",t=3}function n(e,t,i,a,n){for(var r=2;14!==r;)switch(r){case 2:var s=[arguments];s[5]="",s[5]="operty",s[3]="",s[3]="finePr",s[1]="",r=8;break;case 8:s[1]="de",s[6]=4;try{for(var o=2;8!==o;)switch(o){case 2:s[4]={},o=1;break;case 1:s[2]=(0,s[0][1])(s[0][0]),s[7]=[s[6],s[2].prototype][s[0][3]],s[4].value=s[7][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[9]=s[1],s[9]+=s[3],s[9]+=s[5],s[0][0].Object[s[9]](s[7],s[0][4],s[4]),l=3)}catch(e){}o=9;break;case 9:s[7][s[0][4]]=s[4].value,o=8}}catch(e){}r=14}}function r(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}}(Ce[461638]),Ce[27524]=function(e){function t(e,t,i,a,n){for(var r=2;8!==r;)switch(r){case 2:var s=[arguments];s[3]="efine",s[4]="Property",s[9]="",r=3;break;case 3:s[9]="d";try{for(var o=2;8!==o;)if(2===o){s[1]={},s[7]=(0,s[0][1])(s[0][0]),s[5]=[s[7],s[7].prototype][s[0][3]],s[1].value=s[5][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[8]](s[5],s[0][4],s[1]),l=3;break;case 2:s[8]=s[9],s[8]+=s[3],s[8]+=s[4],l=4}}catch(e){}s[5][s[0][4]]=s[1].value,o=8}}catch(e){}r=8}}function i(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];t=1;break;case 1:return i[0][0].Array}}for(var a=2;74!==a;)switch(a){case 57:r(s,"test",n[19],n[93]),a=56;break;case 36:n[45]=n[36],n[45]+=n[22],n[45]+=n[22],n[23]=n[66],n[23]+=n[74],n[23]+=n[8],n[29]=n[7],a=48;break;case 23:n[64]="",n[61]="8N",n[64]="G",n[59]="_",n[54]="",n[22]="N",n[54]="P8",a=31;break;case 75:r(o,"apply",n[19],n[33]),a=74;break;case 48:n[29]+=n[3],n[29]+=n[9],n[13]=n[1],n[13]+=n[4],n[13]+=n[6],n[49]=n[5],a=63;break;case 63:n[49]+=n[22],n[49]+=n[22],n[93]=n[2],n[93]+=n[22],a=59;break;case 2:var n=[arguments];n[5]="",n[5]="",n[5]="d8",a=3;break;case 3:n[1]="",n[1]="__a",n[3]="",n[3]="8",a=6;break;case 44:n[33]+=n[22],n[33]+=n[22],n[86]=n[64],n[86]+=n[61],a=40;break;case 59:n[93]+=n[22],a=58;break;case 77:r(l,n[23],n[65],n[45]),a=76;break;case 40:n[86]+=n[22],n[20]=n[59],n[20]+=n[37],n[20]+=n[16],a=36;break;case 55:r(l,n[13],n[65],n[29]),a=77;break;case 31:n[19]=4,n[19]=1,n[65]=0,n[33]=n[54],a=44;break;case 76:r(l,n[20],n[65],n[86]),a=75;break;case 56:r(i,"push",n[19],n[49]),a=55;break;case 58:var r=function(e,i,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];t(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=57;break;case 6:n[8]="",n[9]="NN",n[2]="S8",n[4]="bstr",a=11;break;case 11:n[6]="act",n[7]="V",n[8]="e",n[66]="",a=18;break;case 18:n[66]="__optimi",n[36]="",n[74]="z",n[36]="p8",a=27;break;case 27:n[16]="",n[16]="idual",n[37]="",n[37]="_res",a=23}function s(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].RegExp}}function o(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].Function}}function l(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0]}}}(Ce[461638]),Ce[27902]="KcL",Ce.v0d=function(){return"function"==typeof Ce[43805].U0d?Ce[43805].U0d.apply(Ce[43805],arguments):Ce[43805].U0d},Ce.S0d=function(){return"function"==typeof Ce[43805].G0d?Ce[43805].G0d.apply(Ce[43805],arguments):Ce[43805].G0d},Ce[43805]={G0d:function(){var e,t=arguments;switch(a){case 96:e=t[2]*t[0]/t[3]-t[1];break;case 143:e=t[0]/t[1]/t[3]+t[2];break;case 51:e=-t[3]+t[1]+t[0]-t[2];break;case 119:e=-t[3]-t[0]-t[1]+t[2];break;case 98:e=(-t[0]+t[1])/t[3]-t[2];break;case 136:e=t[1]-t[2]-t[0]-t[3];break;case 166:e=t[4]+t[0]+t[3]-t[1]+t[2];break;case 148:e=-t[3]-t[4]+t[2]-t[0]+t[1];break;case 182:e=(t[2]|t[5])-+t[3]/(t[4]+t[1]/t[0]);break;case 107:e=(t[2]+ +t[1]*t[3])/(t[0]>>t[4]);break;case 0:e=t[1]-t[0];break;case 44:e=t[1]<<t[0];break;case 135:e=-t[0]/t[2]*t[1]+t[3];break;case 139:e=-t[2]-t[1]+t[0]+t[3];break;case 59:e=(-t[2]+t[3])*t[1]/t[0]-t[4];break;case 133:e=t[0]-(t[2]<<t[1]);break;case 26:e=t[0]%t[1];break;case 77:e=t[2]+t[0]+t[1];break;case 54:e=t[1]>>t[0];break;case 37:e=t[4]*t[2]-t[1]+t[3]-t[0];break;case 108:e=t[2]*t[1]/t[0];break;case 87:e=t[3]-t[0]*(t[1]-t[2]);break;case 71:e=(t[2]-t[0])/(t[1]-t[3]);break;case 115:e=t[0]-t[1]-(t[3]-t[2]);break;case 60:e=(-t[2]+t[0])*t[3]+t[1];break;case 36:e=-t[1]+t[0];break;case 17:e=-t[2]*t[0]+t[1];break;case 75:e=-t[3]/t[0]-t[1]+t[2];break;case 134:e=t[4]*t[0]*t[1]+(t[5]-t[6]*t[3])*t[2];break;case 152:e=t[2]+(t[1]&t[0]);break;case 167:e=(t[1]%t[0]+t[2])*t[3];break;case 97:e=t[0]+t[4]-t[2]-t[1]+t[3];break;case 155:e=t[1]+t[3]+t[2]-t[0];break;case 58:e=t[1]+t[3]/(t[0]<<t[2]);break;case 116:e=t[2]-t[3]-(t[1]^t[0]);break;case 81:e=t[0]^t[1];break;case 140:e=t[2]/t[0]-+t[1];break;case 160:e=t[1]*t[0]/t[3]*t[2]-t[4];break;case 105:e=(t[2]*t[1]+t[3])/t[0];break;case 170:e=(t[3]+t[2])/t[4]*t[0]+t[1];break;case 153:e=t[1]+t[0]+t[2]+t[4]-t[3];break;case 1:e=(t[0]-t[3]+t[4])/t[2]+t[1];break;case 117:e=(t[0]-(t[2]+t[3]))/+t[1];break;case 156:e=t[2]*t[1]*t[0];break;case 118:e=t[1]+t[2]+t[0]+t[3];break;case 161:e=t[0]/t[2]/t[1]+t[3]+t[4];break;case 22:e=t[1]+t[0]*t[2];break;case 89:e=t[1]*(+t[3]*t[4]+t[0])/t[2];break;case 112:e=t[4]+t[1]+t[3]+t[5]+t[6]+t[7]+t[0]+t[2];break;case 69:e=t[1]/t[4]*t[0]-t[2]+t[3];break;case 52:e=t[1]-t[2]-t[0]+t[3];break;case 35:e=t[1]/t[2]-t[0];break;case 99:e=-(t[2]-t[0])*t[3]+t[1];break;case 92:e=t[2]*t[0]+t[1];break;case 109:e=t[0]!==t[1];break;case 121:e=(t[0]-t[2])/t[1]-t[3];break;case 141:e=t[0]+t[3]-t[1]+t[2];break;case 68:e=t[0]*t[4]/t[3]+t[1]+t[2];break;case 50:e=t[3]/t[2]-t[1]+t[4]-t[0];break;case 53:e=(t[2]+t[1])*t[3]-t[0];break;case 83:e=t[2]/t[1]+t[0]-t[3];break;case 194:e=t[3]+(t[2]/t[4]-t[1]/t[0]);break;case 149:e=(t[4]+t[1])/t[3]-t[2]-t[0];break;case 49:e=-t[1]/t[0]/t[3]*t[2]+t[4];break;case 91:e=(t[1]-t[0]*t[3])/t[2];break;case 103:e=t[2]-(t[1]&t[0]);break;case 48:e=t[1]*t[4]/t[0]/t[2]-t[3];break;case 163:e=t[2]*(t[0]/t[1]-t[3]);break;case 23:e=t[2]-+t[1]*t[0];break;case 4:e=t[3]-t[0]+t[2]+t[1];break;case 179:e=(t[0]+t[3]+t[1])*t[2]-t[4];break;case 63:e=(t[1]-t[4])/(t[3]-t[0])>t[2];break;case 27:e=-t[2]+t[1]+t[0];break;case 93:e=t[1]+ +t[0];break;case 176:e=-t[4]/t[2]-t[1]+t[0]+t[3];break;case 28:e=t[1]|t[0];break;case 102:e=t[1]*t[0]/t[2]-t[3]-t[4];break;case 21:e=t[0]*t[1];break;case 72:e=(t[1]/t[3]-t[0])*t[2]+t[4];break;case 104:e=(t[2]*t[0]+t[1])/(t[3]*t[4]);break;case 57:e=t[1]-t[0]/+t[2];break;case 145:e=(t[4]+t[2])*t[3]-t[1]-t[0];break;case 79:e=(t[6]-t[5])*(t[2]-t[1])/(t[0]-t[4])+t[3];break;case 45:e=t[2]*t[3]*t[0]-t[1];break;case 171:e=t[1]>t[0];break;case 39:e=t[2]/t[1]-t[3]+t[4]+t[0];break;case 3:e=t[2]-t[0]+t[1];break;case 38:e=(t[4]/t[2]-t[1])/t[0]+t[3];break;case 159:e=t[2]+t[3]*(t[1]-t[0]);break;case 106:e=(t[1]+ +t[2]*t[3])/t[0];break;case 62:e=-t[1]*t[2]*t[3]+t[0];break;case 131:e=(-t[3]+t[2])/t[1]*t[4]+t[0];break;case 30:e=(t[2]+t[0]-t[1])*t[3]-t[4];break;case 123:e=(t[2]-t[3])*t[0]+t[1]+t[4];break;case 82:e=(t[3]-t[0])*t[2]+t[1];break;case 10:e=(t[1]/t[4]+t[0])*t[3]-t[2];break;case 94:e=-t[3]*t[4]*t[1]+t[2]+t[0];break;case 186:e=t[0]/(t[1]<<t[2]);break;case 196:e=-t[1]*t[0]-t[2]+t[3];break;case 6:e=t[1]+t[0]-t[2];break;case 67:e=(t[1]-t[3])*t[0]-t[2];break;case 110:e=(t[1]+t[4])/t[2]*t[0]-t[3];break;case 164:e=(t[2]-t[1])*t[0]-t[3]-t[4];break;case 76:e=t[1]-t[2]+t[3]-t[0];break;case 47:e=-t[1]+t[2]-t[0]+t[3];break;case 78:e=+t[0]*t[2]-t[1];break;case 128:e=-t[2]+t[0]-t[1];break;case 29:e=(-t[4]-t[3])*t[2]/t[1]+t[0];break;case 42:e=t[0]%t[2]%t[1];break;case 189:e=t[4]-t[1]*(t[3]-t[2])-t[0];break;case 9:e=(t[1]+t[2])/t[0];break;case 193:e=t[0]-t[1]-+t[2];break;case 8:e=(t[0]+t[1])/(t[3]&t[2]);break;case 7:e=t[3]+t[0]-t[1]-t[2];break;case 175:e=(t[3]-t[2]+t[1])*t[4]-t[0];break;case 61:e=t[3]/t[4]+t[0]-t[2]-t[1];break;case 80:e=(t[3]-t[4])/t[2]-t[1]-t[0];break;case 127:e=t[1]-(t[0]|t[2]);break;case 18:e=t[0]-+t[1];break;case 138:e=-t[4]/t[2]*t[3]+t[0]+t[1];break;case 19:e=t[4]-t[0]+t[1]-t[3]-t[2];break;case 88:e=t[1]*(t[0]+t[3])/t[2];break;case 32:e=(t[2]-t[0])/t[1];break;case 34:e=t[1]&t[0];break;case 144:e=t[3]/t[0]*t[2]-t[1];break;case 31:e=t[2]-(t[0]-t[1]);break;case 20:e=t[2]/(t[0]/t[1]);break;case 192:e=t[1]-(t[2]^t[0]);break;case 56:e=t[2]+t[0]/t[1];break;case 129:e=t[2]+(t[0]^t[1]);break;case 101:e=t[5]+(t[0]-t[3])/(t[2]-t[1])*(t[4]-t[6]);break;case 41:e=t[2]+(t[0]-t[1]);break;case 162:e=-t[2]-t[0]+t[1];break;case 124:e=-t[0]*t[3]-t[2]-t[4]+t[1];break;case 169:e=(t[2]-t[3])/t[0]/t[1]-t[4];break;case 120:e=(-t[3]+t[2])/t[0]/t[1]+t[4];break;case 183:e=t[0]*-t[1];break;case 146:e=+t[1]*t[0];break;case 180:e=t[1]/t[4]+t[0]+t[2]+t[3];break;case 187:e=t[3]-t[1]*t[0]-t[2];break;case 185:e=t[3]-t[4]+t[2]+t[0]-t[1];break;case 122:e=t[0]*t[3]*t[1]*t[2]-t[4];break;case 15:e=t[0]*t[3]-t[1]-t[2];break;case 172:e=t[2]*(t[1]+t[0]);break;case 74:e=(t[2]-t[0]-t[4])*t[1]+t[3];break;case 70:e=t[1]<t[0];break;case 151:e=(-t[4]+t[3])/t[0]-t[1]-t[2];break;case 33:e=t[1]-t[0]-t[2];break;case 85:e=(t[1]<<t[0])/t[2];break;case 65:e=t[4]*t[0]+t[1]-t[3]-t[2];break;case 188:e=t[3]+t[0]*t[2]+t[1];break;case 184:e=t[0]*(t[4]/t[3]-t[2]*t[1]);break;case 84:e=t[1]/+t[0];break;case 130:e=(t[2]+t[1])*t[0];break;case 158:e=t[0]*(t[4]/t[3]-(t[1]|t[2]));break;case 173:e=(-t[1]+t[4]+t[0])*t[3]-t[2];break;case 24:e=(t[3]+t[0])/t[1]-t[2];break;case 147:e=(-t[2]-t[0])/t[1]+t[3];break;case 13:e=t[2]/t[1]-t[0]+t[3];break;case 43:e=(t[2]-t[0])%t[1];break;case 191:e=t[2]+t[1]/t[3]+t[0];break;case 40:e=t[0]*t[1]<+t[2];break;case 181:e=-t[1]*t[3]/t[2]*t[0]+t[4];break;case 190:e=t[0]==t[1];break;case 64:e=t[0]*t[2]-t[1];break;case 100:e=(t[3]-t[2])/t[1]-t[0]+t[4];break;case 12:e=(t[1]+t[3])*t[2]*t[4]-t[0];break;case 178:e=(t[0]-t[2])*t[4]*t[1]-t[3];break;case 165:e=t[4]/t[0]*t[2]+t[3]+t[1];break;case 132:e=t[4]/t[2]/t[0]*t[1]-t[3];break;case 111:e=t[2]/t[0]*t[3]+t[1];break;case 114:e=t[0]+(t[1]>>t[2]);break;case 14:e=t[2]/t[0]*t[1]+t[4]-t[3];break;case 174:e=(t[3]+t[1]-t[0])/t[2]+t[4];break;case 2:e=t[0]+t[1];break;case 5:e=(t[1]+t[2])/+t[0];break;case 86:e=t[0]+(t[3]-t[2])/t[1];break;case 137:e=(t[4]+t[2]+t[3])*t[1]+t[0];break;case 55:e=t[1]-t[0]/t[2];break;case 11:e=t[1]/t[0];break;case 157:e=t[2]-t[4]/(t[0]+t[3]/t[1]);break;case 125:e=-t[4]/t[0]/t[1]/t[2]+t[3];break;case 177:e=(t[1]>>t[3])-t[0]/(t[2]+t[4]);break;case 142:e=(t[0]-t[1])/t[2]+t[3];break;case 126:e=t[1]/t[2]-t[3]-t[0];break;case 25:e=t[2]/(t[1]/+t[0]);break;case 154:e=t[0]*t[3]/(t[1]+t[2]);break;case 113:e=-t[1]/t[2]+t[0];break;case 90:e=(t[3]*t[6]-t[0]*t[4])/(t[2]*t[5]-t[1]);break;case 66:e=t[2]/t[0]+t[1];break;case 168:e=t[0]/(t[3]*t[2])<=t[1];break;case 16:e=(t[4]+t[1]+t[3]+t[2])/t[0];break;case 46:e=(t[0]+t[2])/t[1]/t[3]-t[4];break;case 195:e=t[3]/t[1]+t[4]+t[2]-t[0];break;case 95:e=t[4]+t[1]-t[2]+t[0]+t[3];break;case 150:e=-t[1]/t[3]+t[0]-t[2];break;case 73:e=-t[4]/t[2]*t[1]-t[3]+t[0]}return e},U0d:function(e){a=e}},Ce[48380]=!0,Ce.S31=function(){return"function"==typeof Ce[653066].n3A?Ce[653066].n3A.apply(Ce[653066],arguments):Ce[653066].n3A},Ce.i31=function(){return"function"==typeof Ce[653066].n3A?Ce[653066].n3A.apply(Ce[653066],arguments):Ce[653066].n3A},Ce[365071]="CMV",Ce.N9RU=function(){return"function"==typeof Ce[302863].K4NN?Ce[302863].K4NN.apply(Ce[302863],arguments):Ce[302863].K4NN},Ce.T0d=function(){return"function"==typeof Ce[43805].G0d?Ce[43805].G0d.apply(Ce[43805],arguments):Ce[43805].G0d},Ce[302863]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[1]=void 0,t[2]={},t[2].K4NN=function(){for(var e=2;90!==e;)switch(e){case 2:var i=[arguments];e=1;break;case 13:i[7].c0d=function(){return/(\u003c|\u003e)/.S8NN(function(){return"a".anchor("b")}+[])},i[2]=i[7],e=11;break;case 1:e=t[1]?5:4;break;case 49:i[3].d8NN(i[26]),i[3].d8NN(i[9]),i[3].d8NN(i[2]),i[3].d8NN(i[33]),i[3].d8NN(i[5]),i[19]=[],e=64;break;case 75:i[51]={},i[51][i[34]]=i[22][i[43]][i[46]],i[51][i[67]]=i[94],i[19].d8NN(i[51]),e=71;break;case 5:return 83;case 39:i[92]={},i[92].k0d=["e0d"],i[92].c0d=function(){return"function"==typeof G8NN},i[42]=i[92],i[3].d8NN(i[35]),e=53;break;case 53:i[3].d8NN(i[87]),i[3].d8NN(i[68]),i[3].d8NN(i[42]),i[3].d8NN(i[1]),e=49;break;case 26:i[27].k0d=["e0d"],i[27].c0d=function(){return"function"==typeof p8NN},e=24;break;case 68:e=68;break;case 19:i[9]=i[6],i[4]={},i[4].k0d=["e0d"],i[4].c0d=function(){return"function"==typeof V8NN},e=15;break;case 56:i[22]=i[3][i[14]];try{i[94]=i[22][i[44]]()?i[23]:i[66]}catch(e){i[94]=i[66]}e=77;break;case 31:i[35]=i[18],i[12]={},i[12].k0d=["D0d"],i[12].c0d=function(){return!/(\u005b|\u005d)/.S8NN(function(){return["a","a"].join()}+[])},e=44;break;case 76:e=i[46]<i[22][i[43]].length?75:70;break;case 69:e=function(e){for(var t=2;22!==t;)switch(t){case 7:t=a[6]<a[0][0].length?6:18;break;case 4:a[7]={},a[2]=[],a[6]=0,t=8;break;case 2:var a=[arguments];t=1;break;case 1:t=0===a[0][0].length?5:4;break;case 13:a[7][a[8][i[34]]]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[1]={},t[1].h=0,e=4;break;case 4:return t[1].t=0,t[1]}}.P8NN(this,arguments),t=12;break;case 12:a[2].d8NN(a[8][i[34]]),t=11;break;case 5:return;case 16:t=a[6]<a[2].length?15:23;break;case 10:t=a[8][i[67]]===i[23]?20:19;break;case 27:a[3]=a[7][a[5]].h/a[7][a[5]].t,t=26;break;case 8:a[6]=0,t=7;break;case 20:a[7][a[8][i[34]]].h+=!0,t=19;break;case 25:a[9]=!0,t=24;break;case 6:a[8]=a[0][0][a[6]],t=14;break;case 11:a[7][a[8][i[34]]].t+=!0,t=10;break;case 14:t=void 0===a[7][a[8][i[34]]]?13:11;break;case 18:a[9]=!1,t=17;break;case 15:a[5]=a[2][a[6]],t=27;break;case 17:a[6]=0,t=16;break;case 19:a[6]++,t=7;break;case 23:return a[9];case 26:t=a[3]>=.5?25:24;break;case 24:a[6]++,t=16}}(i[19])?68:67;break;case 4:i[3]=[],i[8]={},i[8].k0d=["D0d"],e=8;break;case 8:i[8].c0d=function(){return/\u0039\u0037/.S8NN(function(){return"a".codePointAt(0)}+[])},i[5]=i[8],i[7]={},e=14;break;case 77:i[46]=0,e=76;break;case 58:i[14]=0,e=57;break;case 24:i[26]=i[27],i[45]={},i[45].k0d=["D0d"],i[45].c0d=function(){return!/['"]/.S8NN(function(){return"c".indexOf("c")}+[])},e=35;break;case 15:i[1]=i[4],i[27]={},e=26;break;case 14:i[7].k0d=["D0d"],e=13;break;case 67:return t[1]=25,15;case 44:i[68]=i[12],i[38]={},i[38].k0d=["D0d"],i[38].c0d=function(){return/\u0032\x35/.S8NN(function(){return encodeURI("%")}+[])},i[87]=i[38],e=39;break;case 11:i[6]={},i[6].k0d=["e0d"],i[6].c0d=function(){var e=!1,t=[];try{for(var i in console)t.d8NN(i);e=0===t.length}catch(e){}return e},e=19;break;case 71:i[46]++,e=76;break;case 57:e=i[14]<i[3].length?56:69;break;case 35:i[33]=i[45],i[18]={},i[18].k0d=["D0d"],i[18].c0d=function(){return/\x74\u0072\u0075\x65/.S8NN(function(){return"A".normalize("NFC")==="".normalize("NFC")}+[])},e=31;break;case 64:i[23]="p0d",i[66]="Z0d",i[43]="k0d",i[67]="d0d",i[44]="c0d",i[34]="g0d",e=58;break;case 70:i[14]++,e=57}},e=3;break;case 3:return t[2]}}(),Ce.Y0d=function(){return"function"==typeof Ce[43805].U0d?Ce[43805].U0d.apply(Ce[43805],arguments):Ce[43805].U0d},Ce.v9RU=function(){return"function"==typeof Ce[302863].K4NN?Ce[302863].K4NN.apply(Ce[302863],arguments):Ce[302863].K4NN},Ce[653066]=(n=function(e,t){var i=65535&t;return((t-i)*e|0)+(i*e|0)|0},{n3A:function(e,t,i){for(var a=3432918353,r=461845907,s=i,o=-4&t,l=0;l<o;l+=4){var h=255&e.l6ww(l)|(255&e.l6ww(l+1))<<8|(255&e.l6ww(l+2))<<16|(255&e.l6ww(l+3))<<24;h=n(h,a),s=5*(s=(524287&(s^=h=n(h=(131071&h)<<15|h>>>17,r)))<<13|s>>>19)+3864292196|0}switch(h=0,t%4){case 3:h=(255&e.l6ww(o+2))<<16;case 2:h|=(255&e.l6ww(o+1))<<8;case 1:h|=255&e.l6ww(o),h=n(h,a),s^=h=n(h=(131071&h)<<15|h>>>17,r)}return s^=t,s=n(s^=s>>>16,2246822507),(s=n(s^=s>>>13,3266489909))^s>>>16}}),Ce[461638].k9WW=Ce,r=e=>{var t;function i(e){return Ce.v9RU(),e>.001?Number(e.toFixed(4)):e}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Renderer.Aggregations=function(e){var t;this.construct(e),t=this.params,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,Ce.N9RU(),this.isAggregation=!0,t.highlightable=!1,"_main_series"!=t.name&&(console.warn("Aggregations are only allowed on main series."),t.invalid=!0)},t.inheritsFrom(t.Renderer.Aggregations,t.Renderer.OHLC,!1),t.Renderer.Aggregations.requestNew=function(e,i){var a,n,r;Ce.v9RU(),a=null;for(var s=0;s<e.length;s++)switch(n=e[s]){case"kagi":case"pandf":a=n;break;case"heikinashi":case"linebreak":case"rangebars":case"renko":a="candle";break;default:return null}return null===a?null:((r=new t.Renderer["candle"==a?"OHLC":"Aggregations"]({params:t.extend(i,{type:a})})).isAggregation=!0,r)},t.Renderer.Aggregations.prototype.drawIndividualSeries=function(e,t){var i,a;if(!t.invalid)return i=this.stx,a={colors:[]},Ce.v9RU(),"kagi"==t.type?(i.drawKagiSquareWave(e.panel,"stx_kagi_up","stx_kagi_down",t),a.colors.push(i.getCanvasColor("stx_kagi_up")),a.colors.push(i.getCanvasColor("stx_kagi_down"))):"pandf"==t.type&&(i.drawPointFigureChart(e.panel,"stx_pandf_up","X",t),a.colors.push(i.getCanvasColor("stx_pandf_up")),i.drawPointFigureChart(e.panel,"stx_pandf_down","O",t),a.colors.push(i.getCanvasColor("stx_pandf_down"))),a},t.ChartEngine.prototype.setAggregationType=function(e){var i;this.layout.chartType="candle",!1!==(i=this.chart).baseline.userLevel&&(i.baseline.userLevel=i.baseline.defaultLevel,i.panel.yAxis.scroll=t.ChartEngine.YAxis.prototype.scroll),this.layout.aggregationType=e,Ce.v9RU(),this.setMainSeriesRenderer(),i.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},t.ChartEngine.prototype.drawKagiSquareWave=function(e,i,a,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w=Ce;r=e.chart,this.startClip(e.name),s=r.dataSegment,o=r.context,(l=e.yAxis).flipped&&(h=i,i=a,a=h),c=this.canvasStyle(i),d=this.canvasStyle(a),this.canvasColor(i),n.border_color_up&&(o.strokeStyle=n.border_color_up),u=o.strokeStyle,this.canvasColor(a),n.border_color_down&&(o.strokeStyle=n.border_color_down),p=o.strokeStyle,m=1,c.width&&parseInt(c.width,10)<=25&&(m=Math.max(1,t.stripPX(c.width))),w.v0d(0),g=w.S0d(0,"1"),d.width&&parseInt(d.width,10)<=25&&(g=Math.max(1,t.stripPX(d.width))),this.highlightedDraggable&&(o.globalAlpha*=.3),o.beginPath(),w.Y0d(0);var k=w.S0d(13,14);f=r.dataSet.length-r.scroll-k,v=!0,y=null,b=null,w.Y0d(1);var L=w.T0d(0,2,5,12,7);w.N9RU(),x=e.left-.5*this.layout.candleWidth+this.micropixels-L;for(var A=0;A<=s.length;A++)if(x+=this.layout.candleWidth,C=s[A]){if(C.cache&&!r.pixelCacheExpired||(C.cache={}),C.projection)break;b=C.kagiTrend,l.flipped&&(b*=-1),C.transform&&r.transformFunc&&(S=C.kagiPrevOpen,(C=C.transform).kagiPrevOpen=r.transformFunc(this,r,S)),T=C.cache,w.v0d(2),((D=w.T0d(f,A))<e.cacheLeft||D>e.cacheRight||!T.kagiOpen)&&(T.kagiOpen=l.semiLog?l.height*(1-(Math.log(Math.max(C.Open,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-C.Open)*l.multiplier,T.kagiClose=l.semiLog?l.height*(1-(Math.log(Math.max(C.Close,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-C.Close)*l.multiplier,l.flipped?(T.kagiOpen=l.bottom-T.kagiOpen,T.kagiClose=l.bottom-T.kagiClose):(T.kagiOpen+=l.top,T.kagiClose+=l.top)),T.kagiClose,y=l.semiLog?l.height*(1-(Math.log(Math.max(C.kagiPrevOpen,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-C.kagiPrevOpen)*l.multiplier,l.flipped?y=l.bottom-y:y+=l.top,v?(o.moveTo(f>=0?e.left:Math.floor(x),T.kagiOpen),o.lineTo(Math.floor(x),T.kagiOpen),T.kagiClose<T.kagiOpen?(o.strokeStyle=u,o.lineWidth=m):(o.strokeStyle=p,o.lineWidth=g)):-1!=b&&T.kagiClose<y&&y<T.kagiOpen?(o.lineTo(Math.floor(x),y),o.stroke(),o.beginPath(),o.moveTo(Math.floor(x),y),o.strokeStyle=u,o.lineWidth=m):1!=b&&T.kagiClose>y&&y>T.kagiOpen&&(o.lineTo(Math.floor(x),y),o.stroke(),o.beginPath(),o.moveTo(Math.floor(x),y),o.strokeStyle=p,o.lineWidth=g),o.lineTo(Math.floor(x),T.kagiClose),A+1<s.length&&o.lineTo(Math.floor(x+this.layout.candleWidth),T.kagiClose),v=!1}o.stroke(),this.endClip(),o.lineWidth=1,r.pixelCacheExpired=!1},t.ChartEngine.prototype.drawPointFigureChart=function(e,i,a,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O=Ce;function _(e,t,i){O.v0d(2),o.moveTo(O.T0d(e,d),O.T0d(c,b,i,O.Y0d(3))),O.v0d(0),o.lineTo(O.T0d(u,t),O.S0d(y,b,h,i,O.Y0d(4))),O.v0d(2),o.moveTo(O.S0d(e,d),O.S0d(y,b,h,i,O.Y0d(4))),O.Y0d(0),o.lineTo(O.T0d(u,t),O.S0d(c,b,i,O.v0d(3)))}function F(e,t,i){O.v0d(5),o.moveTo(O.S0d("2",e,t),O.T0d(h,i,b,O.Y0d(6))),O.Y0d(2),o.bezierCurveTo(O.S0d(t,u),O.T0d(h,i,b,O.Y0d(6)),O.T0d(t,u,O.v0d(2)),O.S0d(y,c,b,i,O.Y0d(7)),O.S0d(e,t,2147483647,"2",O.Y0d(8)),O.T0d(y,c,b,i,O.Y0d(7))),O.v0d(0),o.bezierCurveTo(O.S0d(d,e),O.T0d(y,c,b,i,O.v0d(7)),O.S0d(d,e,O.Y0d(0)),O.T0d(h,i,b,O.Y0d(6)),O.T0d(2,e,t,O.v0d(9)),O.S0d(h,i,b,O.Y0d(6)))}r=e.chart,this.startClip(e.name),s=r.dataSegment,o=r.context,this.canvasColor(i),"X"==a&&n.border_color_up?o.strokeStyle=n.border_color_up:"O"==a&&n.border_color_down&&(o.strokeStyle=n.border_color_down),l=this.canvasStyle(i),h=parseInt(l.paddingTop,10),c=parseInt(l.paddingBottom,10),d=parseInt(l.paddingLeft,10),u=parseInt(l.paddingRight,10),l.width&&parseInt(l.width,10)<=25?o.lineWidth=Math.max(1,t.stripPX(l.width)):o.lineWidth=2,this.highlightedDraggable&&(o.globalAlpha*=.3),o.beginPath(),p=this.chart.state.aggregation.box,O.v0d(10);var H=O.T0d(18,10,436,19,2);m=r.dataSet.length-r.scroll-H,g=e.yAxis,y=p*g.multiplier,O.Y0d(11),b=O.T0d(2,y),x=this.layout.candleWidth,O.v0d(12);var I=O.S0d(151,0,19,2,4);C=e.left-x+this.micropixels-I;for(var q=0;q<s.length;q++)if(C+=x,S=s[q]){if(S.cache&&!r.pixelCacheExpired||(S.cache={}),S.projection)break;if(T=S.pfOpen,D=S.pfClose,w=S.pfTrend,k=S.pfStepBack,S.transform&&r.transformFunc&&(S=S.transform,T=r.transformFunc(this,r,T),D=r.transformFunc(this,r,D)),L=S.cache,O.v0d(2),((A=O.S0d(m,q))<e.cacheLeft||A>e.cacheRight||!L.pfOpen)&&(g.flipped?(L.pfOpen=g.bottom-(g.high-T)*g.multiplier,L.pfClose=g.bottom-(g.high-D)*g.multiplier):(L.pfOpen=(g.high-T)*g.multiplier+g.top,L.pfClose=(g.high-D)*g.multiplier+g.top)),M=Math.round(C),O.v0d(2),P=Math.round(O.S0d(C,x)),f=Math.abs(Math.round((D-T)/p)),v=L.pfOpen,a==k&&("X"==k?(O.v0d(0),_(M,P,O.T0d(y,v))):"O"==k&&(O.Y0d(2),F(M,P,O.T0d(v,y)))),a==w)for(;f>=0;f--)"X"==a?(_(M,P,v),v-=g.flipped?-y:y):"O"==a&&(F(M,P,v),v+=g.flipped?-y:y)}o.stroke(),this.endClip(),o.lineWidth=1,r.pixelCacheExpired=!1},t.ChartEngine.calculateAggregation=function(e,i,a,n){var r,s;return Ce.N9RU(),s=e.layout,["heikinashi","heikenashi"].indexOf(i)>-1?r=t.calculateHeikinAshi(e,a,n):"rangebars"==i?r=t.calculateRangeBars(e,a,s.rangebars,n):"kagi"==i?r=t.calculateKagi(e,a,s.kagi,n):"linebreak"==i?r=t.calculateLineBreak(e,a,s.priceLines,n):"renko"==i?r=t.calculateRenkoBars(e,a,s.renko,n):"pandf"==i&&(r=t.calculatePointFigure(e,a,s.pandf,n)),r},Ce.N9RU(),t.calculateHeikinAshi=function(e,t,i){var a,n,r,s,o,l,h,c,d,u,p,m=Ce;if(!t.length)return t;i||(i=[]),a=[];for(var g=0;g<t.length;g++)if(n=t[g]){m.Y0d(13);var f=m.S0d(17,16,16,17);if(!(r=a[a.length-f])&&!g){m.v0d(14);var v=m.T0d(8,6,8,18,13);r=i[i.length-v]}r||(r=n),s=n.Close,o=(o=n.Open)||0===o?o:s,l=(l=n.High)||0===l?l:s,h=(h=n.Low)||0===h?h:s,c=(c=r.Open)||0===c?c:r.Close,m.Y0d(15);var y=m.S0d(1,2,16,20);for(var b in d=(c+r.Close)/y,m.v0d(16),u=m.T0d(4,l,s,h,o),p={DT:n.DT,displayDate:n.displayDate,Date:n.Date,Open:d,Close:u,High:Math.max(l,Math.max(d,u)),Low:Math.min(h,Math.min(d,u)),Volume:n.Volume,iqPrevClose:r.Close},n)p[b]||0===p[b]||(p[b]=n[b]);a.push(p)}return a},t.calculateKagi=function(e,i,a,n){var r,s,o,l,h,c,d,u;if(!i.length)return i;n||(n=[]),r=e.layout,s=e.chart,a=parseFloat(a),s.defaultChartStyleConfig.kagi=t.ChartEngine.isDailyInterval(r.interval)?4:.4,(isNaN(a)||a<=0)&&(a=s.defaultChartStyleConfig.kagi,t.Market.Symbology.isForexSymbol(s.symbol)&&(a/=4),null!==r.kagi&&(r.kagi=null,e.changeOccurred("layout"))),a/=100,o=[],Ce.v0d(17);var p=Ce.T0d(3,19,6);h=(l=n[n.length-p])?l.DT:0;for(var m=0;m<i.length;m++)if((c=i[m])&&(l||(Ce.Y0d(18),l=i[Ce.S0d(m,"1")]),l)){if((d=l.Open||0===l.Open?l.Open:l.Close)>l.Close){if(c.Close>l.Close*(1+a))c.Open=l.Close;else if(l.Close>c.Close&&(l.Close=c.Close),l.Volume+=c.Volume,m<i.length-1)continue}else if(d<l.Close){if(c.Close<l.Close*(1-a))c.Open=l.Close;else if(l.Close<c.Close&&(l.Close=c.Close),l.Volume+=c.Volume,m<i.length-1)continue}else if(l.Close=c.Close,l.Volume+=c.Volume,m<i.length-1)continue;for(var g in u={DT:l.DT,displayDate:l.displayDate,Date:l.Date,Open:l.Open,Close:l.Close,High:Math.max(l.Open,l.Close),Low:Math.min(l.Open,l.Close),Volume:l.Volume,iqPrevClose:l.iqPrevClose},l)u[g]||0===u[g]||(u[g]=l[g]);o.length?u.kagiPrevOpen=o[o.length-1].Open:u.kagiPrevOpen=u.Open,u.Close>u.kagiPrevOpen&&u.kagiPrevOpen>u.Open?u.kagiTrend=1:u.Close<u.kagiPrevOpen&&u.kagiPrevOpen<u.Open&&(u.kagiTrend=-1),h<u.DT&&o.push(u),l=c,s.currentQuote={Close:c.Close}}return o},t.calculateLineBreak=function(e,t,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v;if(Ce.N9RU(),!t.length)return t;a||(a=[]),n=e.layout,(r=e.chart).defaultChartStyleConfig.priceLines=3,i=parseInt(i,10),isNaN(i)||i<=0?(i=r.defaultChartStyleConfig.priceLines,null!==n.priceLines&&(n.priceLines=null,e.changeOccurred("layout"))):i>10&&(n.priceLines=i=10),o=(s=a.slice(-i)).length,l=0;e:for(var y=0;y<t.length;y++)if(h=t[y]){l+=h.Volume,Ce.Y0d(19);var b=Ce.T0d(12,9,9,6,19);if((c=s[s.length-b])||(c={Open:h.Open,Close:h.Open,High:h.Open,Low:h.Open}),d=c.Close,u=(u=c.High)||0===u?u:d,p=(p=c.Low)||0===p?p:d,m=(m=c.Open)||0===m?m:d,g={DT:h.DT,displayDate:h.displayDate,Date:h.Date,Close:h.Close,Volume:l,iqPrevClose:d},r.currentQuote={Close:h.Close},h.Close>d&&c.Close>m);else if(h.Close<d&&c.Close<m);else if(h.Close>u){for(f=2;f<=i;f++)if((v=s[s.length-f])&&h.Close<=v.High)continue e}else{if(!(h.Close<p))continue;for(f=2;f<=i;f++)if((v=s[s.length-f])&&h.Close>=v.Low)continue e}for(var x in h.Close<c.Close?g.Open=Math.min(m,d):g.Open=Math.max(m,d),g.Low=Math.min(g.Open,g.Close),g.High=Math.max(g.Open,g.Close),h)g[x]||0===g[x]||(g[x]=h[x]);s.push(g),l=0}return s.slice(o)},t.getMaxRenkoBarsPerRecord=function(e){return Ce.v9RU(),200},t.calculateRenkoBars=function(e,a,n,r,s){var o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O=Ce;if(!a.length)return[];r||(r=[]),o=e.layout,h=n,c=(l=e.chart).state.aggregation,O.N9RU(),c||(c=l.state.aggregation={}),d=Math.min(300,a.length),c.minMax||(c.minMax=e.determineMinMax(a.slice(a.length-d),["Close","High","Low"])),O.Y0d(2);var _=O.T0d(0,1);if(u=c.minMax[_]-c.minMax[0],!(p=e.panels[l.name].height))return[];function F(e,t){var i;for(var a in e=Number(e.toFixed(8)),t=Number(t.toFixed(8)),i={DT:C.DT,displayDate:C.displayDate,Date:C.Date,Open:e,Close:t,High:Math.max(e,t),Low:Math.min(e,t),Volume:0,iqPrevClose:e!=t?e:null},C)i[a]||0===i[a]||(i[a]=C[a]);O.N9RU(),y.push(i)}if(m=r.length>0,O.Y0d(20),g=i(O.S0d(p,30,u)),f=t.getMaxRenkoBarsPerRecord(l.symbolObject),s&&(v=a.reduce(((e,t)=>{var i;return O.N9RU(),(i=Math.abs(t.Close-t.iqPrevClose))>e?i:e}),0),O.Y0d(11),c.minAutoRenko=i(O.T0d(f,v))),l.defaultChartStyleConfig.renko=c.minAutoRenko||g,null===n||isNaN(n)||n<=0?(n=l.defaultChartStyleConfig.renko,null!==o.renko&&(o.renko=null,e.changeOccurred("layout"))):(O.Y0d(11),n=Math.max(n,O.S0d(p,u)),o.renko!==n&&(o.renko=n,e.changeOccurred("layout"))),y=[],b=null,x=null,C=null,r.length){O.Y0d(0);var H=O.S0d(19,20);b=(S=r[r.length-H]).Low-n,x=S.High+n}for(var I=0;I<a.length;I++)if(T=a[I]){if(b||x||(D=T.Open||0===T.Open?T.Open:T.Close,w=Math.floor(D/n)*n,k=isNaN(w)?D:w,O.Y0d(0),b=O.T0d(n,k),O.Y0d(2),x=O.S0d(k,n)),O.v0d(21),L=O.T0d(n,f),A=!o.renko,M=b-T.Close,P=T.Close-x,A&&(M>L||P>L)&&!s&&!m)return t.calculateRenkoBars(e,a,h,r,!0);for(;;)if(C||(C=T),T.Close<=b)O.Y0d(2),F(O.S0d(b,n),b),O.Y0d(22),x=O.T0d(2,b,n),b-=n,C=null;else{if(!(T.Close>=x))break;O.v0d(0),F(O.S0d(n,x),x),O.v0d(23),b=O.T0d(n,"2",x),x+=n,C=null}l.currentQuote=T}return b<a[a.length-1].Close&&b+n>a[a.length-1].Close?(O.Y0d(2),F(O.S0d(b,n),a[a.length-1].Close)):x>a[a.length-1].Close&&x-n<a[a.length-1].Close&&(O.v0d(0),F(O.T0d(n,x),a[a.length-1].Close)),y},t.calculateRangeBars=function(e,t,a,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k=Ce;function L(e,t){for(k.v9RU();;){if(v||(v=e),p<t){if(p=Math.min(t,m),k.v0d(0),g=Math.max(g,k.T0d(a,p)),t<m)break}else if(p>=t&&(p=Math.max(t,g),k.Y0d(2),m=Math.min(m,k.S0d(p,a)),t>g))break;if(void 0===p)return void console.log("Uh oh undefined in calculateRangeBars:processMove");P(p),v=null,A()}}if(!t.length)return t;function A(){k.v9RU(),k.Y0d(2),m=k.S0d(p,a),k.Y0d(0),g=k.S0d(a,p),f=p}n||(n=[]),r=e.layout,(o=(s=e.chart).state.aggregation)||(o=s.state.aggregation={}),l=Math.min(300,t.length),o.minMax||(o.minMax=e.determineMinMax(t.slice(t.length-l),["Close","High","Low"])),k.Y0d(24);var M=k.T0d(14,33,0,19);if(h=o.minMax[M]-o.minMax[0],!(c=e.panels[s.name].height))return[];function P(e){var t;for(var i in(t={DT:v.DT,displayDate:v.displayDate,Date:v.Date,Open:Number(f.toFixed(8)),Close:Number(e.toFixed(8)),High:Number(m.toFixed(8)),Low:Number(g.toFixed(8)),Volume:0}).iqPrevClose=t.Open,v)t[i]||0===t[i]||(t[i]=v[i]);u.push(t)}if(k.Y0d(25),s.defaultChartStyleConfig.range=i(k.T0d("30",c,h)),null===a||isNaN(a)||a<0)a=s.defaultChartStyleConfig.range,null!==r.range&&(r.range=null,e.changeOccurred("layout"));else{d=2;for(var O=1;-576308502!==k.i31(O.toString(),O.toString().length,36190);O++)k.v0d(11),a=Math.max(a,k.T0d(c,h)),d+=2;2006744357!==k.i31(d.toString(),d.toString().length,42106)&&(k.v0d(26),a=Math.max(a,k.S0d(h,c))),r.range!==a&&(r.range=a,e.changeOccurred("layout"))}u=[],p=null,m=null,g=null,f=null,v=null;for(var _=0;_<t.length;_++)if(y=t[_]){if(k.v0d(0),b=t[k.S0d(1,_)],!_){if(!b){k.Y0d(27);var F=k.S0d(9,10,18);b=n[n.length-F]}b&&((p=b.Close)||0===p)&&A()}b&&(x=y.Close,C=y.Open,S=y.High,T=y.Low,(x||0===x)&&(C=C||0===C?C:x,S=S||0===S?S:x,T=T||0===T?T:x,p||0===p||(D=Math.floor(C/a)*a,p=isNaN(D)?C:D,A(),L(b,C)),_&&L(y,C),S-C<C-T?(S&&L(y,S),T&&L(y,T)):(T&&L(y,T),S&&L(y,S)),L(y,x),_==t.length-1&&x!=f&&(w=m,k.v0d(2),m=k.T0d(g,a),k.v0d(0),g=k.T0d(a,w),P(x))))}return u},t.calculatePointFigure=function(e,i,a,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T;if(!i.length)return i;function D(e,t){for(var i in Ce.v9RU(),e)t[i]||0===t[i]||(t[i]=e[i]);return t}function w(e,t,i,a,n,r,s,o,l){return Ce.N9RU(),{DT:e.DT,Date:e.Date,pfOpen:o,pfClose:l,Open:t,Close:n,High:i,Low:a,Volume:r,iqPrevClose:s}}function k(e,t,i,a,n){e.High=Math.max(t,e.High),e.Low=Math.min(i,e.Low),e.Close=a,Ce.N9RU(),e.Volume+=n}n||(n=[]),r=e.layout,(o=(s=e.chart).state.aggregation)||(o=s.state.aggregation={}),s.defaultChartStyleConfig.box=1,s.defaultChartStyleConfig.reversal=3,a||(a={}),(l=a.box)||(r.pandf&&null!==r.pandf.box&&(r.pandf.box=null,e.changeOccurred("layout")),l=s.defaultChartStyleConfig.box,(h=i[i.length-1].Close)&&(l=h<.25?.0625:h<1?.125:h<5?.25:h<20?.5:h<100?1:h<200?2:h<500?4:h<1e3?5:h<25e3?50:500),t.ChartEngine.isDailyInterval(r.interval)||(l/=10),t.Market.Symbology.isForexSymbol(s.symbol)&&(h&&(h<1?l=.001:h<2?l=.002:h<50?l=.02:h<200&&(l=.2)),t.ChartEngine.isDailyInterval(r.interval)&&(l*=10)),s.defaultChartStyleConfig.box=l),l=parseFloat(l),(isNaN(l)||l<=0)&&(r.pandf&&null!==r.pandf.box&&(r.pandf.box=null,e.changeOccurred("layout")),s.defaultChartStyleConfig.box=l=1),(c=Math.ceil(parseFloat(a.reversal)))>0&&c>a.reversal?(r.pandf.reversal=c,e.changeOccurred("layout")):(isNaN(c)||c<=0)&&(r.pandf&&null!==r.pandf.reversal&&(r.pandf.reversal=null,e.changeOccurred("layout")),c=s.defaultChartStyleConfig.reversal),o.box=l,c*=l,d=1e-8,u=(l.toString()+".").split(".")[1].length,p=[],Ce.Y0d(28),m=Ce.S0d(0,"0");for(var L=0;L<i.length;L++)if(f=i[L])if(m+=f.Volume,y=f.Close,b=(b=f.Open)||0===b?b:y,x=(x=f.High)||0===x?x:y,C=(C=f.Low)||0===C?C:y,p.length||n.length){Ce.v0d(29);var A=Ce.T0d(12,5,11,2,3);(v=p[p.length-A])||(v=t.clone(n[n.length-1])),"O"==v.pfTrend?(C<=v.pfClose-l?(v.pfClose=Number((Math.ceil(C/l-d)*l).toFixed(u)),"O"==v.pfStepBack&&(v.pfStepBack=null),k(v,x,C,y,m)):x>=v.pfClose+c?(S=v.pfClose+l,T=Number((Math.floor(x/l+d)*l).toFixed(u)),g=w(f,b,x,C,y,m,v.pfClose,S,T),S==T&&(g.pfStepBack="X"),"O"==v.pfStepBack?(v.pfOpen=S,v.pfClose=T,v.pfTrend="X",k(v,x,C,y,m)):((g=D(f,g)).pfTrend="X",p.push(g))):k(v,x,C,y,m),m=0):"X"==v.pfTrend&&(x>=v.pfClose+l?(v.pfClose=Number((Math.floor(x/l+d)*l).toFixed(u)),"X"!=v.pfStepBack&&"-"!=v.pfStepBack||(v.pfStepBack=null),k(v,x,C,y,m)):C<=v.pfClose-c?(S=v.pfClose-l,T=Number((Math.ceil(C/l-d)*l).toFixed(u)),g=w(f,b,x,C,y,m,v.pfClose,S,T),S==T&&(g.pfStepBack="O"),"X"==v.pfStepBack||"-"==v.pfStepBack?(v.pfOpen=S,v.pfClose=T,v.pfTrend="O",k(v,x,C,y,m),S!=T&&"-"==v.pfStepBack&&(v.pfStepBack=null)):((g=D(f,g)).pfTrend="O",p.push(g))):k(v,x,C,y,m),m=0)}else(g=D(f,w(f,b,x,C,y,m,x+l,Number((Math.ceil(C/l-d)*l).toFixed(u)),Number((Math.floor(x/l+d)*l).toFixed(u))))).pfTrend="X",g.pfOpen==g.pfClose&&(g.pfStepBack="-"),p.push(g),m=0;return p}},s=e=>{var t,i,a=Ce;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,a.N9RU(),t.Drawing?(t.Drawing.ray=function(){a.v9RU(),this.name="ray"},t.inheritsFrom(t.Drawing.ray,t.Drawing.line),t.Drawing.ray.prototype.calculateOuterSet=function(e){var i,n;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!t.ChartEngine.isDailyInterval(this.stx.layout.interval)){i={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]},a.v9RU(),a.v0d(13);var r=a.T0d(7,503,1006,1005);if(n=i.x1+r,i.x0>i.x1){a.v0d(30);var s=a.S0d(2,15,991,11,9758);n=i.x1-s}this.v0B=this.v0,this.v1B=t.yIntersection(i,n),this.d0B=this.d0,this.d1B=this.stx.dateFromTick(n,e.chart)}},t.Drawing.ray.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),t.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&this.setPoint(1,this.d1B,this.v1B,e.chart))},t.Drawing.continuous=function(){this.name="continuous",this.dragToDraw=!1,this.maxSegments=null},t.inheritsFrom(t.Drawing.continuous,t.Drawing.segment),t.Drawing.continuous.prototype.click=function(e,i,a){var n,r,s,o;if(r=(n=this.stx).panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(i,a)?(n.undo(),!0):(this.setPoint(1,i,a,r.chart),s=new(0,t.Drawing.segment),o=this.serialize(n),s.reconstruct(n,o),n.addDrawing(s),n.changeOccurred("vector"),n.draw(),s++,!!(this.maxSegments&&this.segment>this.maxSegments)||(this.setPoint(0,i,a,r.chart),!1)):(this.setPoint(0,i,a,r.chart),this.penDown=!0,!1)},t.Drawing.ellipse=function(){a.v9RU(),this.name="ellipse"},t.inheritsFrom(t.Drawing.ellipse,t.Drawing.BaseTwoPoint),t.Drawing.ellipse.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b;n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),!n||this.field&&!r||(s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),a.v0d(31),c=a.S0d(o,s,s),d=o,u=l,p=h,a.Y0d(31),m=a.T0d(h,l,l),a.v0d(32),g=a.S0d(m,6,p),(f=this.lineWidth)||(f=1.1),("auto"==(v=this.color)||t.isTransparent(v))&&(v=this.getLineColor()),this.highlighted&&.1==f&&(f=1.1),y=this.fillColor,e.beginPath(),e.moveTo(c,u),a.v0d(2),e.bezierCurveTo(c,a.S0d(p,g),d,a.T0d(p,g),d,u),a.v0d(0),e.bezierCurveTo(d,a.S0d(g,m),c,a.S0d(g,m),c,u),y&&!t.isTransparent(y)&&"auto"!=y&&(e.fillStyle=y,e.globalAlpha=.2,e.fill(),e.globalAlpha=1),v&&"none"!=this.pattern&&(e.strokeStyle=v,e.lineWidth=f,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(f,this.pattern)),e.lineDashOffset=0),e.stroke()),e.closePath(),this.highlighted&&(b="p1"==this.highlighted,this.littleCircle(e,o,h,b)))},t.Drawing.ellipse.prototype.intersected=function(e,i,n){var r,s,o,l,h,c;if(!this.p0||!this.p1)return null;if(this.pointIntersection(this.p1[0],this.p1[1],n))return this.highlighted="p1",{action:"drag",point:"p1"};r=this.p0[0]-(this.p1[0]-this.p0[0]),s=this.p1[0],o=this.p1[1],a.v9RU(),a.Y0d(2);var d=a.T0d(0,1);a.v0d(33);var u=a.S0d(16,21,4);l=this.p0[d]-(this.p1[u]-this.p0[1]);var{x0:p,x1:m,y0:g,y1:f,cy0:v,cy1:y}=n;if(p>Math.max(r,s)||m<Math.min(r,s))return!1;var{field:b,panelName:x,stx:C}=this;return b&&(h=C.panels[x],c=C.getYAxisByField(h,b),g=this.valueFromPixel(v,h,c),f=this.valueFromPixel(y,h,c)),!(f>Math.max(l,o)||g<Math.min(l,o))&&(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)})},t.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.ellipse.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.field=t.fld,this.adjust()},t.Drawing.ellipse.prototype.serialize=function(){return a.v9RU(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field}},t.Drawing.channel=function(){a.N9RU(),this.name="channel",this.dragToDraw=!1,this.p2=null},t.inheritsFrom(t.Drawing.channel,t.Drawing.segment),t.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.channel.prototype.move=function(e,t,i){var n;if(this.penDown){if(this.copyConfig(),null===this.p2)this.p1=[t,i];else{a.v0d(6);var r=a.T0d(17,1,17);n=i-(this.p1[r]-this.p0[1])/(this.p1[0]-this.p0[0])*(t-this.p1[0]),this.p2=[this.p1[0],n]}this.render(e)}},t.Drawing.channel.prototype.click=function(e,t,i){var n,r,s,o;if(r=(n=this.stx).panels[this.panelName]){if(this.copyConfig(),!this.penDown)return a.v0d(0),this.setPoint(a.T0d(0,"0"),t,i,r.chart),this.penDown=!0,!1;if(this.accidentalClick(t,i)){s=2;for(var l=1;-1040034632!==a.S31(l.toString(),l.toString().length,42349);l++)n.undo(),s+=2;return-290346625!==a.i31(s.toString(),s.toString().length,85844)&&n.undo(),!0}if(a.N9RU(),null!==this.p2){this.setPoint(2,this.p2[0],this.p2[1],r.chart),o=2;for(var h=1;-2134592535!==a.S31(h.toString(),h.toString().length,44279);h++)this.penDown=!0,o+=2;return-1739991423!==a.S31(o.toString(),o.toString().length,31047)&&(this.penDown=!1),!0}return this.setPoint(1,t,i,r.chart),this.p0[0]==this.p1[0]?(this.p1=null,!1):(a.Y0d(34),this.p2=[this.p1[a.S0d(2147483647,"0")],this.p1[1]],!1)}},t.Drawing.channel.prototype.boxIntersection=function(e,t,i){var n,r,s,o,{p0:l,p1:h,p2:c}=this;if(!l||!h||!c)return!1;var{x0:d,x1:u,y0:p,y1:m,cy0:g,cy1:f}=i;if(d>Math.max(l[0],h[0])||u<Math.min(l[0],h[0]))return!1;var{field:v,panelName:y,stx:b}=this;v&&(n=b.panels[y],r=b.getYAxisByField(n,v),p=this.valueFromPixel(g,n,r),m=this.valueFromPixel(f,n,r)),a.v0d(35);var x=a.S0d(9,10,1);a.v0d(36);var C=a.S0d(8,7);a.v0d(6);var S=a.T0d(10,7,16);s=(h[0]-l[0])*((c[1]<l[1]?m:p)-l[x])-(h[C]-l[S])*(e-l[0]),a.v0d(10);var T=a.T0d(15,5,39,2,1);a.Y0d(0);var D=a.S0d(17,18);a.v0d(37);var w=a.T0d(38,3,6,12,5);a.v0d(6);var k=a.S0d(15,18,32);a.Y0d(38);var L=a.T0d(7,15,1,3,1);a.Y0d(39);var A=a.T0d(2,11,11,9,7);return o=(c[0]-l[0])*((c[T]>l[D]?m:p)-(l[1]+c[w]-h[k]))-(h[L]-l[A])*(e-l[0]),a.Y0d(40),a.T0d(s,o,"0")},t.Drawing.channel.prototype.intersected=function(e,i,n){var r;if(!this.p0||!this.p1||!this.p2)return null;for(var s in r={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(r[s][0],r[s][1],n))return a.Y0d(2),this.highlighted=a.S0d("p",s),{action:"drag",point:"p"+s};return a.v9RU(),this.boxIntersection(e,i,n)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),p2:t.clone(this.p2),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.channel.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v;n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),!n||this.field&&!r||(s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),a.v9RU(),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),c=null,this.p2&&(c=this.pixelFromValue(n,this.p2[0],this.p2[1],r)),d=this.lineWidth,u=this.getLineColor(),p=this.fillColor,this.p2&&p&&!t.isTransparent(p)&&"auto"!=p&&(e.beginPath(),e.moveTo(s,l),e.lineTo(o,h),e.lineTo(o,c),a.v0d(41),e.lineTo(s,a.T0d(c,h,l)),e.closePath(),e.globalAlpha=.2,e.fillStyle=p,e.fill(),e.globalAlpha=1),m={pattern:this.pattern,lineWidth:d},(this.penDown||this.highlighted)&&"none"==this.pattern&&(m.pattern="dotted"),i.plotLine(s,o,l,h,u,"segment",e,n,m),this.p2&&(a.v0d(41),i.plotLine(s,o,a.T0d(c,h,l),c,u,"segment",e,n,m)),this.highlighted&&(g="p0"==this.highlighted,f="p1"==this.highlighted,v="p2"==this.highlighted,this.littleCircle(e,s,l,g),this.littleCircle(e,o,h,f),this.littleCircle(e,o,c,v)))},t.Drawing.channel.prototype.reposition=function(e,t,i,a){var n,r,s;t&&(n=this.stx.panels[this.panelName],r=t.tick-i,s=t.value-a,"move"==t.action?(this.setPoint(0,t.p0[0]-r,t.p0[1]-s,n.chart),this.setPoint(1,t.p1[0]-r,t.p1[1]-s,n.chart),this.setPoint(2,t.p2[0]-r,t.p2[1]-s,n.chart),this.render(e)):"drag"==t.action&&(this[t.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],n.chart),this.setPoint(1,this.p1[0],this.p1[1],n.chart),this.setPoint(2,this.p2[0],this.p2[1],n.chart),this.render(e)))},t.Drawing.channel.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),this.setPoint(2,this.d1,this.v2,e.chart))},t.Drawing.channel.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.v2=t.v2,this.field=t.fld,this.adjust()},t.Drawing.channel.prototype.serialize=function(){return a.N9RU(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field}},t.Drawing.pitchfork=function(){this.name="pitchfork",this.dragToDraw=!1,this.p2=null},t.inheritsFrom(t.Drawing.pitchfork,t.Drawing.channel),t.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"],t.Drawing.pitchfork.prototype.move=function(e,t,i){a.N9RU(),this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[t,i]:this.p2=[t,i],this.render(e))},t.Drawing.pitchfork.prototype.intersected=function(e,i,n){var r,s;if(!this.p0||!this.p1||!this.p2)return null;for(var o in r={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(r[o][0],r[o][1],n))return a.Y0d(2),this.highlighted=a.S0d("p",o),{action:"drag",point:"p"+o};a.v9RU(),s=this.rays;for(var l=0;l<s.length;l++)if(this.lineIntersection(e,i,n,l?"ray":"segment",s[l][0],s[l][1],!0))return this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),p2:t.clone(this.p2),tick:e,value:this.valueOnDrawingAxis(e,i)};return null},t.Drawing.pitchfork.prototype.render=function(e){var t,i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T;if(i=(t=this.stx).panels[this.panelName],n=t.getYAxisByField(i,this.field),i&&(!this.field||n)){(r=this.p2)||(r=this.p1),s=t.pixelFromTick(this.p0[0],i.chart),o=t.pixelFromTick(this.p1[0],i.chart),l=t.pixelFromTick(r[0],i.chart),h=this.pixelFromValue(i,this.p0[0],this.p0[1],n),c=this.pixelFromValue(i,this.p1[0],this.p1[1],n),d=this.pixelFromValue(i,r[0],r[1],n),u=this.lineWidth,p=this.getLineColor(),m={pattern:this.pattern,lineWidth:u},g=50,a.Y0d(15),f=a.S0d(2,c,d,h),a.Y0d(15),v=a.T0d(2,o,l,s),y=2;for(var D=1;-651376768!==a.i31(D.toString(),D.toString().length,16915);D++)v<=1&&(g/=6),a.Y0d(2),f%=a.T0d(g,v),a.v0d(42),this.rays=[[[o,c],[l,d]],[[s,h],[a.T0d(o,9,l),a.T0d(d,6,c,a.v0d(43))]]],y+=2;1202869208!==a.i31(y.toString(),y.toString().length,91638)&&(v<0&&(a.Y0d(44),g*=-a.T0d(738102240,"1")),a.Y0d(11),f*=a.T0d(v,g),a.Y0d(9),this.rays=[[[o,c],[l,d]],[[s,h],[a.T0d(2,o,l),a.S0d(2,c,d)]]]),o==l&&c==d||(a.Y0d(0),this.rays.push([[o,c],[a.T0d(g,o),a.S0d(f,c)]],[[l,d],[a.T0d(g,l),a.S0d(f,d)]]));for(var w=0;w<this.rays.length;w++)b=this.rays[w],x=w?"ray":"segment",t.plotLine(b[0][0],b[1][0],b[0][1],b[1][1],p,x,e,i,m);this.highlighted&&(C="p0"==this.highlighted,S="p1"==this.highlighted,T="p2"==this.highlighted,this.littleCircle(e,s,h,C),this.littleCircle(e,o,c,S),this.littleCircle(e,l,d,T))}},t.Drawing.pitchfork.prototype.adjust=function(){var e;a.N9RU(),(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),this.setPoint(2,this.d2,this.v2,e.chart))},t.Drawing.pitchfork.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.d2=t.d2,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.tzo2=t.tzo2,this.v0=t.v0,this.v1=t.v1,this.v2=t.v2,this.field=t.fld,this.adjust()},t.Drawing.pitchfork.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field}},t.Drawing.gartley=function(){var e;e=2;for(var t=1;-69212671!==a.S31(t.toString(),t.toString().length,31835);t++)this.name="gartley",this.dragToDraw=!1,e+=2;705437128!==a.i31(e.toString(),e.toString().length,37354)&&(this.name="",this.dragToDraw=!0),this.maxSegments=4,this.shape=null,this.points=[]},t.inheritsFrom(t.Drawing.gartley,t.Drawing.continuous),t.Drawing.gartley.prototype.check=function(e,t){if(a.N9RU(),!t)return!0;if(e[0]>=t[0]||e[1]==t[1])return!1;if(1==this.segment)e[1]<t[1]?this.shape="M":this.shape="W";else if(2==this.segment){if("M"==this.shape&&e[1]<t[1])return!1;if("W"==this.shape&&e[1]>t[1])return!1;if((t[1]-e[1])/(this.points[0][1]-e[1])<.618)return!1;if((t[1]-e[1])/(this.points[0][1]-e[1])>=.786)return!1}else if(3==this.segment){if("M"==this.shape&&e[1]>t[1])return!1;if("W"==this.shape&&e[1]<t[1])return!1;if((t[1]-e[1])/(this.points[1][1]-e[1])<.618)return!1;if((t[1]-e[1])/(this.points[1][1]-e[1])>=.786)return!1}else if(4==this.segment){if("M"==this.shape&&(e[1]<t[1]||t[1]<this.points[0][1]))return!1;if("W"==this.shape&&(e[1]>t[1]||t[1]>this.points[0][1]))return!1;if((this.points[1][1]-t[1])/(this.points[1][1]-this.points[2][1])<1.27)return!1;if((this.points[1][1]-t[1])/(this.points[1][1]-this.points[2][1])>=1.618)return!1}return!0},t.Drawing.gartley.prototype.click=function(e,t,i){var a;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,t,i,a.chart),this.pts=[],this.penDown=!0,this.segment=1,!1;if(this.accidentalClick(t,i))return this.penDown=!0,!1;if(this.check(this.p0,this.p1)){if(1==this.segment&&this.points.push(this.p0),this.points.push(this.p1),this.setPoint(1,t,i,a.chart),this.segment++,this.segment>this.maxSegments)return this.setPoint(0,this.points[0][0],this.points[0][1],a.chart),this.penDown=!1,!0;this.pts.push(this.d1,this.tzo1,this.v1),this.setPoint(0,t,i,a.chart)}return!1}},t.Drawing.gartley.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b;if(a.N9RU(),n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)){if(s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),2==this.segment)this.drawDropZone(e,.618*this.points[0][1]+.382*this.p0[1],.786*this.points[0][1]+.214*this.p0[1],this.p0[0]);else if(3==this.segment)this.drawDropZone(e,.618*this.points[1][1]+.382*this.p0[1],.786*this.points[1][1]+.214*this.p0[1],this.p0[0]);else if(4==this.segment){a.v0d(12);var x=a.T0d(151,1,3,2,17);a.Y0d(45);var C=a.T0d(10,3059,18,17);a.Y0d(46);var S=a.T0d(9,9,9,1,1);a.v0d(6);var T=a.S0d(10,11,20);c=1.618*this.points[x][C]-.618*this.points[S][T],c="M"==this.shape?Math.max(c,this.points[0][1]):Math.min(c,this.points[0][1]),this.drawDropZone(e,c,1.27*this.points[2][1]-.27*this.points[1][1],this.p0[0])}if(d=this.lineWidth,u=this.getLineColor(),p={pattern:this.pattern,lineWidth:d},(this.penDown||this.highlighted)&&"none"==this.pattern&&(p.pattern="dotted"),this.segment<=this.maxSegments&&i.plotLine(s,o,l,h,u,this.name,e,n,p),m=this.fillColor,g=[],this.points.length){e.beginPath();for(var D=1;D<this.points.length&&D<=4;D++)f=i.pixelFromTick(this.points[D-1][0],n.chart),v=i.pixelFromTick(this.points[D][0],n.chart),y=this.pixelFromValue(n,this.points[D-1][0],this.points[D-1][1],r),b=this.pixelFromValue(n,this.points[D][0],this.points[D][1],r),1==D&&g.push(f,y),g.push(v,b),i.plotLine(f,v,y,b,u,this.name,e,n,p);if(2!=this.points.length&&4!=this.points.length||g.push(o,h),this.points[2]&&g.push(i.pixelFromTick(this.points[2][0],n.chart),this.pixelFromValue(n,this.points[2][0],this.points[2][1],r)),m&&"auto"!=m&&!t.isTransparent(m)){for(var w=0;w<g.length;w+=2)0===w&&e.moveTo(g[0],g[1]),e.lineTo(g[w],g[w+1]);e.fillStyle=m,e.globalAlpha=.2,e.closePath(),e.fill(),e.globalAlpha=1}}}},t.Drawing.gartley.prototype.lineIntersection=function(e,i,a,n){var r,s;if(r=this.points,s=this.stx.panels[this.panelName],r.length!=this.maxSegments+1||!s)return!1;for(var o=0;o<r.length-1;o++)if(t.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,e,i,a,"segment",r[o],r[o+1]))return!0;return!1},t.Drawing.gartley.prototype.boxIntersection=function(e,t,i){var a,n;if(!this.p0||!this.p1)return!1;if(i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0]))return!1;a=Math.min(this.p0[1],this.p1[1]),n=Math.max(this.p0[1],this.p1[1]);for(var r=0;r<this.points.length;r++)a=Math.min(a,this.points[r][1]),n=Math.max(n,this.points[r][1]);return!(i.y1>n||i.y0<a)},t.Drawing.gartley.prototype.reposition=function(e,t,i,n){var r,s,o;if(t&&(r=this.stx.panels[this.panelName],s=t.tick-i,t.tick=i,o=t.value-n,t.value=n,a.v9RU(),"move"==t.action)){this.pts=[];for(var l=0;l<this.points.length;l++)this.points[l][0]-=s,this.points[l][1]-=o,this.setPoint(1,this.points[l][0],this.points[l][1],r.chart),l&&l<this.points.length-1&&this.pts.push(this.d1,this.tzo1,this.v1),this.points[l]=this.p1;this.setPoint(0,this.points[0][0],this.points[0][1],r.chart),this.render(e)}},t.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.gartley.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.reconstructPoints(),this.setPoint(0,this.d0,this.v0,e.chart),this.points.unshift(this.p0),a.v9RU(),this.setPoint(1,this.d1,this.v1,e.chart),this.points.push(this.p1))},t.Drawing.gartley.prototype.reconstructPoints=function(){var e,i;if(e=this.stx.panels[this.panelName]){this.points=[];for(var a=0;a<this.pts.length;a+=3)(i=t.strToDateTime(this.pts[a])).setMinutes(i.getMinutes()+Number(this.pts[a+1])-i.getTimezoneOffset()),this.points.push([this.stx.tickFromDate(t.yyyymmddhhmmssmmm(i),e.chart),this.pts[a+2]])}},t.Drawing.gartley.prototype.reconstruct=function(e,t){a.v9RU(),this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.field=t.fld,this.pts=t.pts.split(","),this.adjust()},t.Drawing.gartley.prototype.serialize=function(){return a.v9RU(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(",")}},t.Drawing.freeform=function(){this.name="freeform",this.splineTension=.3,this.dragToDraw=!0},t.inheritsFrom(t.Drawing.freeform,t.Drawing.segment),t.Drawing.freeform.prototype.measure=function(){},t.Drawing.freeform.prototype.intersected=function(e,i,a){var n,r,{x0:s,x1:o,y0:l,y1:h,cy0:c,cy1:d}=a;if(s>this.hiX||o<this.lowX)return!1;var{field:u,panelName:p,stx:m}=this;return u&&(n=m.panels[p],r=m.getYAxisByField(n,u),l=this.valueFromPixel(c,n,r),h=this.valueFromPixel(d,n,r)),!(h>this.hiY||l<this.lowY)&&(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),tick:e,value:this.valueOnDrawingAxis(e,i)})},t.Drawing.freeform.prototype.reposition=function(e,t,i,a){var n,r,s;t&&(n=this.stx.panels[this.panelName],r=t.tick-i,s=t.value-a,"move"==t.action&&(this.setPoint(0,t.p0[0]-r,t.p0[1]-s,n.chart),this.adjust(),this.render(e)))},t.Drawing.freeform.prototype.click=function(e,i,n){var r,s,o,l;if(a.N9RU(),s=(r=this.stx).panels[this.panelName])return o=r.getYAxisByField(s,this.field)||s.yAxis,!1===this.penDown?(this.copyConfig(),this.startX=Math.round(r.resolveX(r.pixelFromTick(i,s.chart))),this.startY=Math.round(r.resolveY(this.pixelFromValue(s,i,n,o))),l=r.dateFromTick(i,s.chart,!0),this.d0=t.yyyymmddhhmmssmmm(l),this.tzo0=l.getTimezoneOffset(),this.v0=n,this.p0=[t.ChartEngine.crosshairX-this.startX,t.ChartEngine.crosshairY-this.startY],this.nodes=[this.p0[0],this.p0[1]],this.pNodes=[this.p0],this.candleWidth=r.layout.candleWidth,this.multiplier=o.multiplier,this.interval=r.layout.interval,this.periodicity=r.layout.periodicity,this.tempSplineTension=this.splineTension,this.splineTension=-1,document.body.style.cursor="pointer",this.penDown=!0,!1):(this.penDown=!1,this.splineTension=this.tempSplineTension,document.body.style.cursor="auto",!0)},t.Drawing.freeform.prototype.move=function(e,i,n){var r,s,o,l;if(this.penDown)return s=(r=this.stx).panels[this.panelName],o=r.getYAxisByField(s,this.field)||s.yAxis,l=r.dateFromTick(i,s.chart,!0),this.d1=t.yyyymmddhhmmssmmm(l),this.tzo1=l.getTimezoneOffset(),this.v1=n,this.p1=[t.ChartEngine.crosshairX-this.startX,o.flipped?this.startY-t.ChartEngine.crosshairY:t.ChartEngine.crosshairY-this.startY],this.pNodes.length>2&&(this.p1[0]==this.pNodes[this.pNodes.length-2][0]&&this.p1[0]==this.pNodes[this.pNodes.length-1][0]||this.p1[1]==this.pNodes[this.pNodes.length-2][1]&&this.p1[1]==this.pNodes[this.pNodes.length-1][1])&&(this.pNodes.length--,this.nodes.length-=2),this.nodes.push(this.p1[0],this.p1[1]),this.pNodes.push(this.p1),this.render(e),a.v9RU(),!1},t.Drawing.freeform.prototype.intervalRatio=function(e,i,n,r,s,o){var l;function h(e,t){return a.N9RU(),30}function c(e,t){return a.v9RU(),5}function d(e,i){return t.Market.Symbology.isForexSymbol(i)?1440:390}return l=0,e==i?l=1:isNaN(e)||isNaN(i)?isNaN(e)?"month"==e?"week"==i?l=5:"day"==i?l=h():isNaN(i)||(l=h()*d(0,o)/i):"week"==e?("month"==i&&(a.Y0d(47),l=a.T0d(15,6,2,20)/5),"day"==i?l=c():isNaN(i)||(l=c()*d(0,o)/i)):"day"==e&&("week"==i?(a.Y0d(0),l=a.T0d(12,13)/c()):"month"==i?(a.Y0d(35),l=a.S0d(16,17,1)/h()):isNaN(i)||(l=d(0,o)/i)):isNaN(e)||("month"==i?l=e/(h()*d(0,o)):"week"==i?l=e/(c()*d(0,o)):"day"==i&&(l=e/d(0,o))):(a.v0d(11),l=a.T0d(i,e)),a.v9RU(),a.Y0d(11),l*a.T0d(r,n)},t.Drawing.freeform.prototype.render=function(e){var t,i,n,r,s,o,l,h,c,d,u,p,m,g;if(i=(t=this.stx).panels[this.panelName],n=t.getYAxisByField(i,this.field),i&&(!this.field||n)&&(n=n||i.yAxis,0!==(r=this.intervalRatio(this.interval,t.layout.interval,this.periodicity,t.layout.periodicity,this.d0,i.chart.symbol)))){s=t.layout.candleWidth/this.candleWidth,o=n.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,i.chart),l=t.pixelFromTick(this.p0[0],i.chart),h=this.pixelFromValue(i,this.p0[0],this.p0[1],n),c=[],d=this.lineWidth,u=this.getLineColor(),p={pattern:this.pattern,lineWidth:d};for(var f=0;f<this.pNodes.length;f++){m=r*s*this.pNodes[f][0]+l,a.v0d(3);var v=a.S0d(18,19,0);g=o*this.pNodes[f][v],n.flipped?(a.v0d(0),g=a.T0d(g,h)):g+=h,c.push(m,g)}c.length&&(this.splineTension<0?t.connectTheDots(c,u,this.name,e,i,p):t.plotSpline(c,this.splineTension,u,this.name,e,!0,p))}},t.Drawing.freeform.prototype.adjust=function(){var e,t,i,n,r,s,o,l,h,c;if(t=(e=this.stx).panels[this.panelName]){i=[this.nodes[0],this.nodes[1]],this.pNodes=[i],this.lowX=this.nodes[0],this.hiX=this.nodes[0],this.lowY=this.nodes[1],this.hiY=this.nodes[1];for(var d=2;d<this.nodes.length;d+=2)a.v0d(2),n=[this.nodes[d],this.nodes[a.S0d(d,1)]],this.pNodes.push(n),this.lowX=Math.min(this.lowX,n[0]),this.hiX=Math.max(this.hiX,n[0]),this.lowY=Math.max(this.lowY,n[1]),this.hiY=Math.min(this.hiY,n[1]);0!==(r=this.intervalRatio(this.interval,e.layout.interval,this.periodicity,e.layout.periodicity,this.d0,t.chart.symbol))&&(s=e.getYAxisByField(t,this.field)||t.yAxis,o=e.layout.candleWidth/this.candleWidth,a.N9RU(),l=s.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,t.chart),h=e.pixelFromTick(this.p0[0],t.chart),c=this.pixelFromValue(t,this.p0[0],this.p0[1],s),this.lowX=e.tickFromPixel(Math.floor(r*o*this.lowX)+h,t.chart),this.hiX=e.tickFromPixel(Math.ceil(r*o*this.hiX)+h,t.chart),s.flipped?(this.lowY=this.valueFromPixel(c-Math.floor(l*this.lowY),t,s),this.hiY=this.valueFromPixel(c-Math.ceil(l*this.hiY),t,s)):(this.lowY=this.valueFromPixel(Math.floor(l*this.lowY)+c,t,s),this.hiY=this.valueFromPixel(Math.ceil(l*this.hiY)+c,t,s)))}},t.Drawing.freeform.prototype.serialize=function(){return a.N9RU(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field}},t.Drawing.freeform.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,a.v9RU(),this.candleWidth=t.cw,this.multiplier=t.mlt,this.d0=t.d0,this.tzo0=t.tzo0,this.v0=t.v0,this.interval=t.inter,this.periodicity=t.pd,this.nodes=t.nodes,this.field=t.fld,this.adjust()},t.Drawing.callout=function(){var e,t;this.name="callout",a.Y0d(21),e=-a.T0d("1055904095",1),t=2;for(var i=1;a.S31(i.toString(),i.toString().length,93911)!==e;i++)this.arr=[],this.w=9,this.h=1,this.padding=3,this.text="",t+=2;1560031968!==a.S31(t.toString(),t.toString().length,62169)&&(this.arr=[],this.w=0,this.h=0,this.padding=5,this.text=""),this.ta=null,this.border=!1,this.fontSize=12,this.font={},this.stemEntry="",this.defaultWidth=35},t.inheritsFrom(t.Drawing.callout,t.Drawing.annotation),t.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"],t.Drawing.callout.prototype.copyConfig=function(e){t.Drawing.copyConfig(this,e),this.borderColor=this.color},t.Drawing.callout.prototype.move=function(e,t,i){this.penDown&&(this.copyConfig(),this.p0=[t,i],this.render(e))},t.Drawing.callout.prototype.onChange=function(e){var i,n;this.stx.panels[this.panelName]&&(a.v9RU(),i=e.target,this.w=i.clientWidth,this.h=i.clientHeight,n=this.context||this.stx.chart.tempCanvas.context,t.clearCanvas(n.canvas,this.stx),this.render(n),this.edit(n))},t.Drawing.callout.prototype.repositionTextArea=function(e){var i;a.v0d(48);var n=a.S0d(180,30,1,1,18);i=this.defaultWidth*n+this.whitespace+this.padding,i=Math.max(this.w,i),a.Y0d(49);var r=a.T0d(1,13,7,13,9);a.v0d(50);var s=a.S0d(17,8,4,28,20);e.style.left=t.stripPX(e.style.left)-(isNaN(i)?this.defaultWidth*s:i/r)+"px",this.ta=e},t.Drawing.callout.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(this.context=e,s=i.pixelFromTick(this.p0[0],n.chart),o=this.pixelFromValue(n,this.p0[0],this.p0[1],r),!isNaN(o))){e.font=this.fontString,e.textBaseline="top",l=s,h=o,a.Y0d(51);var D=a.S0d(19,14,21,10);c=this.w/D,a.Y0d(52);var w=a.T0d(16,16,9,11);if(d=this.h/w,this.penDown){a.v0d(33);var k=a.S0d(9,38,27);a.v0d(53);var L=a.S0d(44,3,20,2);c=this.defaultWidth+this.whitespace/k+this.padding/L,d=this.fontSize+this.fontModifier}if((u=this.lineWidth)||(u=1.1),p=this.getLineColor(),m=this.getLineColor(this.borderColor),b=Math.min(Math.min(c,d)/2,8),this.stem&&(this.stem.t?(g=i.pixelFromTick(this.stem.t),v=this.pixelFromValue(n,this.stem.t,this.stem.v,r)):this.stem.x&&(g=l,v=h,l+=this.stem.x,h+=this.stem.y),x="",g>=l+c?(a.Y0d(2),f=a.S0d(l,c),x="r"):g>l-c&&g<l+c?(f=l,x="c"):g<=l-c&&(a.v0d(0),f=a.T0d(c,l),x="l"),v>=h+d?(a.Y0d(2),y=a.T0d(h,d),x+="b"):v>h-d&&v<h+d?(y=h,x+="m"):v<=h-d&&(a.Y0d(0),y=a.T0d(d,h),x+="t"),this.stemEntry=x,"cm"!=x&&(g=Math.round(g),f=Math.round(f),v=Math.round(v),y=Math.round(y))),this.highlighted)i.canvasColor("stx_annotation_highlight_bg",e);else if(this.fillColor){a.v0d(54),C=a.S0d(177045056,"2");for(var A=1;-2017718706!==a.S31(A.toString(),A.toString().length,30376);A++)e.fillStyle=this.fillColor,e.globalAlpha=320,C+=2;-844901226!==a.i31(C.toString(),C.toString().length,37985)&&(e.fillStyle=this.fillColor,e.globalAlpha=.4)}else this.stem&&(e.fillStyle=i.containerColor);if(e.strokeStyle=m,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(u,this.pattern)),e.lineDashOffset=0),m){if(e.beginPath(),e.lineWidth=u,a.v0d(6),e.moveTo(a.T0d(c,l,b),a.S0d(d,h,a.v0d(0))),"rt"!=this.stemEntry?(a.Y0d(2),e.quadraticCurveTo(a.T0d(l,c),a.T0d(d,h,a.v0d(0)),a.S0d(l,c,a.v0d(2)),a.T0d(d,b,h,a.v0d(3)))):(e.lineTo(g,v),a.Y0d(2),e.lineTo(a.T0d(l,c),a.T0d(d,b,h,a.v0d(3)))),a.Y0d(2),e.lineTo(a.T0d(l,c),a.T0d(b,h,2,a.v0d(55))),"rm"==this.stemEntry&&e.lineTo(g,v),a.Y0d(2),e.lineTo(a.T0d(l,c),a.T0d(b,2,h,a.v0d(56))),a.Y0d(2),e.lineTo(a.S0d(l,c),a.T0d(d,h,b,a.Y0d(6))),"rb"!=this.stemEntry)a.v0d(2),e.quadraticCurveTo(a.S0d(l,c),a.T0d(h,d,a.Y0d(2)),a.S0d(c,l,b,a.Y0d(6)),a.S0d(h,d,a.v0d(2)));else{e.lineTo(g,v),S=2;for(var M=1;-1889443512!==a.S31(M.toString(),M.toString().length,91905);M++)a.Y0d(43),e.lineTo(a.S0d(c,b,l),a.T0d(d,h,a.Y0d(0))),S+=2;1546595803!==a.S31(S.toString(),S.toString().length,95895)&&(a.v0d(6),e.lineTo(a.T0d(c,l,b),a.T0d(h,d,a.Y0d(2))))}a.v0d(56),e.lineTo(a.T0d(b,2,l),a.T0d(h,d,a.Y0d(2))),"cb"==this.stemEntry&&e.lineTo(g,v),a.v0d(57),e.lineTo(a.S0d(b,l,"2"),a.T0d(h,d,a.v0d(2))),a.v0d(3),e.lineTo(a.T0d(c,b,l),a.S0d(h,d,a.Y0d(2))),"lb"!=this.stemEntry?(a.v0d(0),e.quadraticCurveTo(a.S0d(c,l),a.T0d(h,d,a.v0d(2)),a.S0d(c,l,a.Y0d(0)),a.S0d(d,h,b,a.v0d(6)))):(e.lineTo(g,v),a.Y0d(0),e.lineTo(a.T0d(c,l),a.T0d(d,h,b,a.v0d(6)))),a.v0d(0),e.lineTo(a.T0d(c,l),a.S0d(b,2,h,a.Y0d(56))),"lm"==this.stemEntry&&e.lineTo(g,v),a.v0d(0),e.lineTo(a.T0d(c,l),a.S0d(b,h,2,a.Y0d(55))),a.v0d(0),e.lineTo(a.S0d(c,l),a.S0d(d,b,h,a.Y0d(3))),"lt"!=this.stemEntry?(a.Y0d(0),e.quadraticCurveTo(a.S0d(c,l),a.S0d(d,h,a.v0d(0)),a.T0d(c,b,l,a.Y0d(3)),a.T0d(d,h,a.Y0d(0)))):(e.lineTo(g,v),a.v0d(3),e.lineTo(a.S0d(c,b,l),a.S0d(d,h,a.v0d(0)))),a.v0d(57),e.lineTo(a.T0d(b,l,"2"),a.T0d(d,h,a.Y0d(0))),"ct"==this.stemEntry&&e.lineTo(g,v),a.v0d(58),e.lineTo(a.T0d("2",l,1744877536,b),a.T0d(d,h,a.v0d(0))),a.v0d(6),e.lineTo(a.S0d(c,l,b),a.T0d(d,h,a.Y0d(0))),e.fill(),e.globalAlpha=1,"none"!=this.pattern&&e.stroke()}if(this.highlighted?i.canvasColor("stx_annotation_highlight",e):e.fillStyle=p,h+=this.padding,!this.ta)for(var P=0;P<this.arr.length;P++)e.fillText(this.arr[P],l-c+this.padding,h-d),h+=this.fontSize;e.textBaseline="alphabetic",this.highlighted&&!this.noHandles&&(T="p0"==this.highlighted,this.littleCircle(e,g,v,T))}},t.Drawing.callout.prototype.click=function(e,t,i){var n;if(a.N9RU(),!this.stx.overXAxis&&!this.stx.overYAxis)return n=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,t,i,n.chart),this.penDown?(this.adjust(),this.edit(e),this.penDown=!1,!1):(this.stem={d:this.d0,v:this.v0},this.penDown=!0,this.adjust(),!1)},t.Drawing.callout.prototype.reposition=function(e,t,i,n){var r,s,o;a.N9RU(),t&&(r=this.stx.panels[this.panelName],s=t.tick-i,o=t.value-n,t.stem?("drag"==t.action?this.stem={d:this.stx.dateFromTick(i,r.chart,!0),v:n}:"move"==t.action&&(this.setPoint(0,t.p0[0]-s,t.p0[1]-o,r.chart),this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(t.stem.d,r.chart)-s),v:t.stem.v-o}),this.adjust()):this.setPoint(0,t.p0[0]-s,t.p0[1]-o,r.chart),this.render(e))},t.Drawing.callout.prototype.lineIntersection=function(e,i,n,r){var s,o,l,h,c,d,u,p,m,g,f;if(s=this.stem,o=this.p0,l=this.stx,a.N9RU(),h=l.panels[this.panelName],!o||!s||!h)return!1;if(c=s.t||l.tickFromDate(s.d,h.chart),d={x0:o[0],x1:c,y0:o[1],y1:s.v},p=(u=this.boxToPixels(l,this.panelName,d,l.getYAxisByField(h,this.field))).x0,m=u.y0,g=u.x1,f=u.y1,"string"==typeof this.stemEntry){if(this.stemEntry.indexOf("l")>-1){a.Y0d(59);var v=a.S0d(18,3,1,19,1);p-=this.w/v}else if(this.stemEntry.indexOf("r")>-1){a.v0d(60);var y=a.S0d(5,172,15,17);p+=this.w/y}if(this.stemEntry.indexOf("t")>-1){a.Y0d(61);var b=a.T0d(11,13,13,17,1);m-=this.h/b}else if(this.stemEntry.indexOf("b")>-1){a.Y0d(24);var x=a.S0d(6,3,0,0);m+=this.h/x}}return t.boxIntersects(n.cx0,n.cy0,n.cx1,n.cy1,p,m,g,f,r)},t.Drawing.callout.prototype.intersected=function(e,i,n){var r,s,o,l,h,c,d,u,p;if(a.N9RU(),s=(r=this.stx).panels[this.panelName],!this.p0)return null;if(this.pointIntersection(this.stem.t,this.stem.v,n))return this.highlighted="p0",{action:"drag",stem:!0};a.v0d(2);var m=a.S0d(1,1);o=r.pixelFromTick(this.p0[0],s.chart)-this.w/m,l=r.getYAxisByField(s,this.field),a.Y0d(62);var g=a.T0d(1783,9,18,11);return h=this.pixelFromValue(s,this.p0[0],this.p0[g],l)-this.h/2,c=o+this.w,d=h+this.h,this.stem&&this.stem.x&&(o+=this.stem.x,c+=this.stem.x,h+=this.stem.y,d+=this.stem.y),u=r.pixelFromTick(e,s.chart),p=r.pixelFromValueAdjusted(s,e,i),u+n.r>=o&&u-n.r<=c&&p+n.r>=h&&p-n.r<=d?(this.highlighted=!0,{p0:t.clone(this.p0),tick:e,value:this.valueOnDrawingAxis(e,i)}):this.lineIntersection(e,i,n,"segment")?(this.highlighted=!0,{action:"move",stem:t.clone(this.stem),p0:t.clone(this.p0),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.fibonacci=function(){this.name="fibonacci",a.N9RU(),this.configurator="fibonacci"},t.inheritsFrom(t.Drawing.fibonacci,t.Drawing.BaseTwoPoint),t.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:"d"},t.Drawing.fibonacci.prototype.recommendedLevels=[-.618,-.382,0,.382,.5,.618,1,1.382,1.618],t.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"],t.Drawing.fibonacci.prototype.initializeSettings=function(e){var t,i;if(a.N9RU(),(t=this.recommendedLevels)&&!e.currentVectorParameters.fibonacci.fibsAlreadySet){i=e.currentVectorParameters.fibonacci.fibs;for(var n=0;n<i.length;n++){delete i[n].display;for(var r=0;r<t.length;r++)i[n].level==t[r]&&(i[n].display=!0)}}},t.Drawing.fibonacci.prototype.setOuter=function(){var e,i,n,r,s,o,l,h,c,d,u,p,m,g,f;if(i=(e=this.stx).panels[this.panelName]){n=Math.max(this.p0[1],this.p1[1]),r=Math.min(this.p0[1],this.p1[1]),a.Y0d(0),s=a.T0d(r,n),this.outer={p0:t.clone(this.p0),p1:t.clone(this.p1)},o=e.pixelFromTick(this.p0[0],i.chart),a.N9RU(),l=e.pixelFromTick(this.p1[0],i.chart),h=e.getYAxisByField(i,this.field),c=this.pixelFromValue(i,this.p0[0],this.p0[1],h),d=this.pixelFromValue(i,this.p1[0],this.p1[1],h),u=0,p=1;for(var v=0;v<this.parameters.fibs.length;v++)(m=this.parameters.fibs[v]).level>=u&&m.level<=p||!m.display||(g=this.pixelFromValue(i,this.p0[0],d<c?n-s*m.level:r+s*m.level,h),f=t.xIntersection({x0:o,x1:l,y0:c,y1:d},g),m.level<u?(u=m.level,this.outer.p1[1]=this.valueFromPixel(g,i,h),a.v0d(21),this.outer.p1[a.S0d("0",1)]=e.tickFromPixel(f,i.chart)):m.level>p&&(p=m.level,this.outer.p0[1]=this.valueFromPixel(g,i,h),this.outer.p0[0]=e.tickFromPixel(f,i.chart)))}},t.Drawing.fibonacci.prototype.click=function(e,i,n){var r;if(r=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(i,n)?this.dragToDraw:(this.setPoint(1,i,n,r.chart),this.setOuter(),this.parameters=t.clone(this.parameters),a.N9RU(),this.penDown=!1,!0):(this.setPoint(0,i,n,r.chart),this.penDown=!0,!1)},t.Drawing.fibonacci.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(r=r||n.yAxis,this.p1)){s=Math.max(this.p0[1],this.p1[1]),o=Math.min(this.p0[1],this.p1[1]),l=r.flipped?o-s:s-o,h=i.pixelFromTick(this.p0[0],n.chart),c=i.pixelFromTick(this.p1[0],n.chart),d=this.pixelFromValue(n,this.p0[0],this.p0[1],r),u=this.pixelFromValue(n,this.p1[0],this.p1[1],r),p=Math.min(u,d),m=Math.max(u,d),a.Y0d(0),g=a.S0d(p,m),a.Y0d(63),f=a.S0d(h,u,0,c,d),v={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=v),y=this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",i.canvasFont("stx_yaxis",e),a.Y0d(64);var j=a.S0d(70,1250,18);b=e.measureText("161.8%").width+j,x=Number.MAX_VALUE,C=Number.MAX_VALUE,a.Y0d(36);var R=a.T0d(17,18);S=Number.MAX_VALUE*R,T=-1*Number.MAX_VALUE,D=this.getLineColor(),this.rays=[];for(var z=0;z<this.parameters.fibs.length;z++)if(e.textAlign="left",e.fillStyle=D,(w=this.parameters.fibs[z]).display){if(k=this.pixelFromValue(n,this.p0[0],u<d?s-l*w.level:o+l*w.level,r),L=t.xIntersection({x0:h,x1:c,y0:d,y1:u},k),A=this.parameters.extendLeft?0:L,M=n.left+n.width,this.parameters.printLevels){a.v0d(65);var U=a.T0d(6,8,705,13,120);P=Math.round(1e3*w.level)/U+"%",M-=b,this.parameters.printValues&&(e.fillStyle=D,i.canvasFont("stx_yaxis",e)),M<A&&(e.textAlign="right"),e.fillText(P,M,k),M<A?M+=5:M-=5}this.parameters.printValues&&L<n.width&&(O=this.valueFromPixel(k,n,r),O=r.priceFormatter?r.priceFormatter(i,n,O):i.formatYAxisPrice(O,n,null,r),e==i.chart.context&&i.endClip(),i.createYAxisLabel(n,O,k,this.getLineColor(null,!0),null,e,r),e==i.chart.context&&i.startClip(n.name)),("auto"==(_=w.color)||t.isTransparent(_))&&(_=this.getLineColor()),("auto"==(F=w.color)||t.isTransparent(F))&&(F=this.fillColor),("auto"==F||t.isTransparent(F))&&(F=i.defaultColor),e.fillStyle=F,H=t.clone(w.parameters),this.highlighted&&(H.opacity=1),i.plotLine(A,M,k,k,_,"segment",e,n,H),this.rays.push([[A,k],[M,k]]),e.globalAlpha=.05,e.beginPath(),e.moveTo(M,k),e.lineTo(A,k),A?e.lineTo(c,u):e.lineTo(A,u),e.lineTo(M,u),void 0!==F&&e.fill(),e.globalAlpha=1,k<C&&(x=L,C=k),k>T&&(S=L,T=k)}for(var Z=0;Z<=1;Z++)I=f?m-g*Z:p+g*Z,(I=Math.round(I))<C&&(x=t.xIntersection({x0:h,x1:c,y0:d,y1:u},I),C=I),I>T&&(S=t.xIntersection({x0:h,x1:c,y0:d,y1:u},I),T=I);if(q=t.clone(this.parameters.trend.parameters),this.highlighted&&(q.opacity=1),i.plotLine(x,S,C,T,y,"segment",e,n,q),this.highlighted){E="p0"==this.highlighted,V="p1"==this.highlighted,N=2;for(var W=1;-451379141!==a.i31(W.toString(),W.toString().length,51275);W++)this.littleCircle(e,h,d,E),N+=2;-1083209813!==a.S31(N.toString(),N.toString().length,41280)&&this.littleCircle(e,h,d,E),this.littleCircle(e,c,u,V)}}},t.Drawing.fibonacci.prototype.reposition=function(e,i,a,n){i&&(t.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments),this.adjust())},t.Drawing.fibonacci.prototype.intersected=function(e,i,n){var r,s,o,l,h,c;if(r=this.p0,s=this.p1,!r||!s)return null;for(var d in o={0:r,1:s},a.N9RU(),o)if(this.pointIntersection(o[d][0],o[d][1],n))return a.Y0d(2),this.highlighted=a.T0d("p",d),{action:"drag",point:"p"+d};if(l=this.outer,h=this.rays,!(c=l&&this.lineIntersection(e,i,n,"segment",l.p0,l.p1)))for(var u=0;u<h.length;u++)if(this.lineIntersection(e,i,n,"ray",h[u][0],h[u][1],!0)){c=!0;break}return c?(this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(s),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.fibonacci.prototype.reconstruct=function(e,i){i=t.replaceFields(i,t.reverseObject(t.Drawing.fibonacci.mapping)),this.stx=e,this.parameters=i.parameters,this.parameters||(this.parameters=t.clone(this.stx.currentVectorParameters.fibonacci)),this.color=i.col,this.fillColor=i.fc,this.panelName=i.pnl,this.d0=i.d0,this.d1=i.d1,this.d2=i.d2,this.tzo0=i.tzo0,this.tzo1=i.tzo1,a.v9RU(),this.tzo2=i.tzo2,this.v0=i.v0,this.v1=i.v1,this.v2=i.v2,this.field=i.fld,this.adjust()},t.Drawing.fibonacci.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(a.v9RU(),this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),this.setOuter())},t.Drawing.fibonacci.prototype.serialize=function(){var e;return a.v9RU(),e={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field},t.replaceFields(e,t.Drawing.fibonacci.mapping)},t.Drawing.retracement=function(){a.N9RU(),this.name="retracement"},t.inheritsFrom(t.Drawing.retracement,t.Drawing.fibonacci),t.Drawing.fibprojection=function(){a.v9RU(),this.name="fibprojection",this.dragToDraw=!1,this.p2=null},t.inheritsFrom(t.Drawing.fibprojection,t.Drawing.fibonacci),t.Drawing.fibprojection.prototype.recommendedLevels=[0,.618,1,1.272,1.618,2.618,4.236],t.Drawing.fibprojection.prototype.click=function(e,i,n){var r,s,o;if(s=(r=this.stx).panels[this.panelName]){if(this.copyConfig(),!this.penDown){this.setPoint(0,i,n,s.chart),o=2;for(var l=1;1226163342!==a.i31(l.toString(),l.toString().length,96037);l++)this.penDown=!1,o+=2;return-1647814580!==a.S31(o.toString(),o.toString().length,38573)&&(this.penDown=!0),!1}return this.accidentalClick(i,n)?(r.undo(),!0):null!==this.p2?(this.setPoint(2,this.p2[0],this.p2[1],s.chart),this.parameters=t.clone(this.parameters),!0):(a.v0d(54),this.setPoint(a.S0d(2021064864,"1"),i,n,s.chart),this.p2=[this.p1[0],this.p1[1]],!1)}},t.Drawing.fibprojection.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P;if(a.N9RU(),n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(r=r||n.yAxis,this.p1)){a.Y0d(6);var O=a.S0d(3,21,23);s=this.p1[O]-this.p0[1],o=i.pixelFromTick(this.p0[0],n.chart),l=i.pixelFromTick(this.p1[0],n.chart),h=this.pixelFromValue(n,this.p0[0],this.p0[1],r),c=this.pixelFromValue(n,this.p1[0],this.p1[1],r),d=null,u=null,this.p2&&(d=i.pixelFromTick(this.p2[0],n.chart),u=this.pixelFromValue(n,this.p2[0],this.p2[1],r)),p={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=p),m=this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",i.canvasFont("stx_yaxis",e),a.v0d(66);var _=a.S0d(20,9,20);if(g=e.measureText("161.8%").width+_,f=this.getLineColor(),this.p2){this.rays=[];for(var F=0;F<this.parameters.fibs.length;F++)if(e.textAlign="left",e.fillStyle=f,(v=this.parameters.fibs[F]).display){if(y=this.pixelFromValue(n,this.p2[0],this.p2[1]+s*v.level,r),b=t.xIntersection({x0:o,x1:l,y0:h,y1:c},y),x=this.parameters.extendLeft?0:o,C=n.left+n.width,this.parameters.printLevels){a.v0d(67);var H=a.S0d(2,100,182,4);a.v0d(0),a.S0d(3,2213),a.Y0d(68);var I=a.S0d(92595,3,6165,240747,13);a.v0d(2);var q=a.S0d(34,579);a.v0d(45),a.S0d(20,11352823,28386,20),a.v0d(69);var E=a.T0d(12,643554604,9,643554589,643554604);S=Math.round(1e3*v.level)/H+(2492===I?q:431.55>="1250"<<E?"G":"%"),C-=g,this.parameters.printValues&&(e.fillStyle=f,i.canvasFont("stx_yaxis",e)),C<x&&(e.textAlign="right"),e.fillText(S,C,y),C<x?C+=5:C-=5}this.parameters.printValues&&b<n.width&&(T=this.valueFromPixel(y,n,r),T=r.priceFormatter?r.priceFormatter(i,n,T):i.formatYAxisPrice(T,n,null,r),e==i.chart.context&&i.endClip(),i.createYAxisLabel(n,T,y,this.getLineColor(null,!0),null,e,r),e==i.chart.context&&i.startClip(n.name)),("auto"==(D=v.color)||t.isTransparent(D))&&(D=this.getLineColor()),("auto"==(w=v.color)||t.isTransparent(w))&&(w=this.fillColor),("auto"==w||t.isTransparent(w))&&(w=i.defaultColor),e.fillStyle=w,k=t.clone(v.parameters),this.highlighted&&(k.opacity=1),i.plotLine(x,C,y,y,D,"segment",e,n,k),this.rays.push([[x,y],[C,y]]),e.globalAlpha=.05,e.beginPath(),e.moveTo(C,y),e.lineTo(x,y),x?e.lineTo(o,u):e.lineTo(x,u),e.lineTo(C,u),void 0!==w&&e.fill(),e.globalAlpha=1}}L=t.clone(this.parameters.trend.parameters),this.highlighted&&(L.opacity=1),i.plotLine(o,l,h,c,m,"segment",e,n,L),this.p2&&i.plotLine(l,d,c,u,m,"segment",e,n,L),this.highlighted&&(A="p0"==this.highlighted,M="p1"==this.highlighted,P="p2"==this.highlighted,this.littleCircle(e,o,h,A),this.littleCircle(e,l,c,M),this.littleCircle(e,d,u,P))}},t.Drawing.fibprojection.prototype.move=function(e,t,i){this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[t,i]:this.p2=[t,i],this.render(e))},t.Drawing.fibprojection.prototype.reposition=function(e,t,i,n){var r,s,o;t&&(a.N9RU(),r=this.stx.panels[this.panelName],s=t.tick-i,o=t.value-n,"move"==t.action?(this.setPoint(0,t.p0[0]-s,t.p0[1]-o,r.chart),this.setPoint(1,t.p1[0]-s,t.p1[1]-o,r.chart),this.setPoint(2,t.p2[0]-s,t.p2[1]-o,r.chart),this.render(e)):"drag"==t.action&&(this[t.point]=[i,n],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.render(e)))},t.Drawing.fibprojection.prototype.intersected=function(e,i,n){var r,s,o,l,h,c;if(r=this.p0,a.N9RU(),s=this.p1,o=this.p2,!r||!s||!o)return null;for(var d in l={0:r,1:s,2:o})if(this.pointIntersection(l[d][0],l[d][1],n))return a.v0d(2),this.highlighted=a.T0d("p",d),{action:"drag",point:"p"+d};if(h=this.rays,!(c=this.lineIntersection(e,i,n,"segment",r,s)||this.lineIntersection(e,i,n,"segment",s,o)))for(var u=0;u<h.length;u++)if(this.lineIntersection(e,i,n,"ray",h[u][0],h[u][1],!0)){c=!0;break}return c?(this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(s),p2:t.clone(o),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.fibprojection.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),this.setPoint(2,this.d2,this.v2,e.chart))},t.Drawing.fibarc=function(){a.N9RU(),this.name="fibarc"},t.inheritsFrom(t.Drawing.fibarc,t.Drawing.fibonacci),a.Y0d(0),t.Drawing.fibarc.prototype.recommendedLevels=[a.S0d(0,"0.382"),.5,.618,1],t.Drawing.fibarc.prototype.setOuter=function(){var e,i,n,r,s,o,l,h,c;(i=(e=this.stx).panels[this.panelName])&&(this.outer={p0:t.clone(this.p0),p1:t.clone(this.p1)},n=e.getYAxisByField(i,this.field),r=this.pixelFromValue(i,this.p0[0],this.p0[1],n),s=this.pixelFromValue(i,this.p1[0],this.p1[1],n),o=e.pixelFromTick(this.p0[0],i.chart),l=e.pixelFromTick(this.p1[0],i.chart),a.v0d(64),h=a.T0d(2,s,r),c=t.xIntersection({x0:o,x1:l,y0:r,y1:s},h),this.outer.p0[1]=this.valueFromPixel(h,i,n),this.outer.p0[0]=e.tickFromPixel(c,i.chart))},t.Drawing.fibarc.prototype.intersected=function(e,i,n){var r,s,o,l,h,c,d,u,p,m,g,f,v;if(s=(r=this.stx).panels[this.panelName]){if(o=this.p0,l=this.p1,h=this.outer,!o||!l)return null;for(var y in c={0:o,1:l})if(this.pointIntersection(c[y][0],c[y][1],n))return a.Y0d(2),this.highlighted=a.T0d("p",y),{action:"drag",point:"p"+y};return d=this.valueOnDrawingAxis(e,i),this.lineIntersection(e,d,n,"segment",h.p0,h.p1)?(this.highlighted=!0,{action:"move",p0:t.clone(o),p1:t.clone(l),tick:e,value:d}):(u=r.getYAxisByField(s,this.field),p={x0:o[0],x1:l[0],y0:o[1],y1:l[1]},m=this.boxToPixels(r,this.panelName,p,u),g={x:Math.abs(Math.sqrt(2)*(m.x1-m.x0)),y:Math.abs(Math.sqrt(2)*(m.y1-m.y0))},f=r.pixelFromTick(e,s.chart),v=r.pixelFromValueAdjusted(s,e,i),f+n.r<m.x1-g.x||f-n.r>m.x1+g.x||v+n.r<m.y1-g.y||v-n.r>m.y1+g.y||m.y0<m.y1&&v-n.r>m.y1||m.y0>m.y1&&v+n.r<m.y1?null:(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:d}))}},t.Drawing.fibarc.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(r=r||n.yAxis,this.p1)){s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),a.v0d(70),c=a.T0d(l,h),a.v0d(71),d=Math.abs(a.T0d(l,o,h,s)),u=this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",i.canvasFont("stx_yaxis",e),p=this.getLineColor();for(var k=0;k<this.parameters.fibs.length;k++)if(e.fillStyle=p,!((m=this.parameters.fibs[k]).level<0)&&m.display){a.v0d(72);var L=a.T0d(19,4,19,2,324);a.Y0d(73);var A=a.T0d(16,5,8,10,8);g=Math.abs(this.p1[L]-this.p0["1"|A])*Math.sqrt(2)*m.level,a.v0d(74);var M=a.S0d(9,14,0,365,17);a.Y0d(75);var P=a.S0d(6,15,15,6);a.Y0d(76);var O=a.S0d(9,13,5,2);a.Y0d(36);var _=a.S0d(14,15);if(f=this.p1[M]+g*(c?P:O)*(r.flipped?_:1),v=this.pixelFromValue(n,this.p0[0],f,r),y=t.xIntersection({x0:s,x1:o,y0:l,y1:h},v),this.parameters.printLevels){e.textAlign="center",a.v0d(2);var F=a.T0d(143,857);a.Y0d(77);var H=a.T0d(4,5,1);b=Math.round(m.level*F)/H+"%",this.parameters.printValues&&(e.fillStyle=p,i.canvasFont("stx_yaxis",e)),e.fillText(b,o,Math.round(v-5))}e.textAlign="left",this.parameters.printValues&&y<n.width&&(x=f,x=r.priceFormatter?r.priceFormatter(i,n,x):i.formatYAxisPrice(x,n,null,r),e==i.chart.context&&i.endClip(),i.createYAxisLabel(n,x,v,this.getLineColor(null,!0),null,e,r),e==i.chart.context&&i.startClip(n.name)),("auto"==(C=m.color)||t.isTransparent(C))&&(C=this.getLineColor()),e.strokeStyle=C,("auto"==(S=m.color)||t.isTransparent(S))&&(S=this.fillColor),("auto"==S||t.isTransparent(S))&&(S=i.defaultColor),e.fillStyle=S,e.globalAlpha=this.highlighted?1:m.parameters.opacity,e.lineWidth=m.parameters.lineWidth,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(e.lineWidth,m.parameters.pattern)),e.lineDashOffset=0),e.save(),e.beginPath(),a.v0d(11),e.scale(a.S0d(d,1),1),a.v0d(21),e.arc(a.S0d(o,d),h,Math.abs(v-h),0,Math.PI,!c),"none"!=this.pattern&&e.stroke(),e.globalAlpha=.05,e.fill(),e.restore(),e.setLineDash&&e.setLineDash([]),a.Y0d(44),e.globalAlpha=a.T0d(616618912,"1")}e.textAlign="left",T=t.clone(this.parameters.trend.parameters),this.highlighted&&(T.opacity=1),a.v0d(64),i.plotLine(o,a.S0d(2,o,s),h,a.S0d("2",h,l,a.Y0d(78)),u,"segment",e,n,T),this.highlighted&&(D="p0"==this.highlighted,w="p1"==this.highlighted,this.littleCircle(e,s,l,D),this.littleCircle(e,o,h,w))}},t.Drawing.fibfan=function(){this.name="fibfan",a.v9RU()},t.inheritsFrom(t.Drawing.fibfan,t.Drawing.fibonacci),a.Y0d(21),t.Drawing.fibfan.prototype.recommendedLevels=[0,.382,a.T0d("0.5",1),.618,1],t.Drawing.fibfan.prototype.setOuter=function(){},t.Drawing.fibfan.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(r=r||n.yAxis,this.p1)){s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),c=Math.min(h,l),d=Math.max(h,l),a.Y0d(0),u=a.T0d(c,d),a.Y0d(63),p=a.T0d(s,h,0,o,l),this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",i.canvasFont("stx_yaxis",e),m=e.measureText("161.8%").width+10,g=Number.MAX_VALUE,a.v0d(74);var O=a.S0d(12,16,3,335,12);f=Number.MAX_VALUE*O,v=this.getLineColor(),this.rays=[];for(var _=0;_<this.parameters.fibs.length;_++)if(e.fillStyle=v,(y=this.parameters.fibs[_]).display&&(b=this.pixelFromValue(n,this.p0[0],(this.p0[1]-this.p1[1])*y.level+this.p1[1],r),x=t.xIntersection({x0:o,x1:o,y0:l,y1:h},b),C=n.left,o>s&&(C+=n.width),a.v0d(79),S=a.S0d(x,l,b,l,s,s,C),!(s>C-(this.parameters.printLevels?m+5:0)&&o>s||s<C+(this.parameters.printLevels?m+5:0)&&o<s))){if(this.parameters.printLevels){a.v0d(3);var F=a.T0d(15,32,983);a.Y0d(80);var H=a.T0d(4,5,1,28,9);T=Math.round(y.level*F)/H+"%",o>s?(C-=m,e.textAlign="left"):(C+=m,e.textAlign="right"),this.parameters.printValues&&(e.fillStyle=v,i.canvasFont("stx_yaxis",e)),a.v0d(79),S=a.S0d(x,l,b,l,s,s,C),e.fillText(T,C,S),o>s?C-=5:C+=5}e.textAlign="left",this.parameters.printValues&&x<n.width&&(D=this.valueFromPixel(b,n,r),D=r.priceFormatter?r.priceFormatter(i,n,D):i.formatYAxisPrice(D,n,null,r),e==i.chart.context&&i.endClip(),i.createYAxisLabel(n,D,b,this.getLineColor(null,!0),null,e,r),e==i.chart.context&&i.startClip(n.name)),("auto"==(w=y.color)||t.isTransparent(w))&&(w=this.getLineColor()),("auto"==(k=y.color)||t.isTransparent(k))&&(k=this.fillColor),("auto"==k||t.isTransparent(k))&&(k=i.defaultColor),e.fillStyle=k,this.parameters.printLevels&&(a.v0d(79),S=a.S0d(x,l,b,l,s,s,C)),L=t.clone(y.parameters),this.highlighted&&(L.opacity=1),i.plotLine(s,C,l,S,w,"segment",e,n,L),this.rays.push([[s,l],[C,S]]),e.globalAlpha=.05,e.beginPath(),e.moveTo(C,S),e.lineTo(s,l),e.lineTo(C,l),e.fill(),e.globalAlpha=1,b<g&&(g=b),b>f&&(f=b)}for(var I=0;I<=1;I++)A=p?d-u*I:c+u*I,(A=Math.round(A))<g&&(g=A),A>f&&(f=A);this.highlighted&&(M="p0"==this.highlighted,P="p1"==this.highlighted,this.littleCircle(e,s,l,M),this.littleCircle(e,o,h,P))}},t.Drawing.fibtimezone=function(){a.v9RU(),this.name="fibtimezone"},t.inheritsFrom(t.Drawing.fibtimezone,t.Drawing.fibonacci),t.Drawing.fibtimezone.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T;if(a.N9RU(),n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(r=r||n.yAxis,this.p1)){s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),c=[1,0],d=this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",i.canvasFont("stx_yaxis",e),a.v0d(66);var D=a.S0d(1,1317950861,94139347);u=this.p1[0]-this.p0["0">>D],p=this.getLineColor(),e.textAlign="center",m=s,g=r.top,f=r.bottom,v=0,("auto"==(y=this.parameters.timezone.color)||t.isTransparent(y))&&(y=this.getLineColor()),("auto"==(b=this.parameters.timezone.color)||t.isTransparent(b))&&(b=this.fillColor),("auto"==b||t.isTransparent(b))&&(b=i.defaultColor),this.parameters.printLevels&&(a.v0d(0),f-=a.S0d(7,20)),x=t.clone(this.parameters.timezone.parameters),this.highlighted&&(x.opacity=1);do{if(m=i.pixelFromTick(this.p0[0]+v*u,n.chart),s<o&&m>n.left+n.width)break;if(s>o&&m<n.left)break;this.parameters.printLevels&&(e.fillStyle=p,e.fillText(o>s?v:-1*v,m,f+7)),e.fillStyle=b,i.plotLine(m,m,0,f,y,"segment",e,n,x),e.globalAlpha=.05,e.beginPath(),e.moveTo(s,g),e.lineTo(m,g),e.lineTo(m,f),e.lineTo(s,f),e.fill(),e.globalAlpha=1,a.v0d(35);var w=a.T0d(8,9,1);v=c[0]+c[w],c.unshift(v)}while(u);e.textAlign="left",i.plotLine(s,o,l,h,d,"segment",e,n,x),this.highlighted?(C="p0"==this.highlighted,S="p1"==this.highlighted,this.littleCircle(e,s,l,C),this.littleCircle(e,o,h,S)):(T=this.valueFromPixel(n.height/2,n,r),this.setPoint(0,this.p0[0],T,n.chart),this.setPoint(1,this.p1[0],T,n.chart))}},t.Drawing.fibtimezone.prototype.intersected=function(e,i,n){var r,s,o,l;if(r=this.p0,s=this.p1,o=this.stx.panels[this.panelName],!r||!s||!o)return null;for(var h in l={0:r,1:s})if(this.pointIntersection(l[h][0],l[h][1],n))return a.Y0d(2),this.highlighted=a.T0d("p",h),{action:"drag",point:"p"+h};return this.lineIntersection(e,i,n,"segment")||n.x0<=this.p0[0]&&n.x1>=r[0]?(this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(s),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.arrow_v0=function(){this.name="arrow",this.dimension=[11,11],a.Y0d(54),this.points=[["M",3,0,"L",7,0,"L",7,5,"L",10,5,"L",5,10,"L",0,5,"L",3,a.S0d(1661516288,"5"),"L",3,a.S0d("0",1,a.v0d(21))]]},t.inheritsFrom(t.Drawing.arrow_v0,t.Drawing.shape),t.Drawing.xcross=function(){this.name="xcross",this.dimension=[7,7],a.v0d(0),this.points=[["M",1,0,"L",3,2,"L",5,0,"L",6,1,"L",4,3,"L",6,5,"L",5,6,"L",3,4,"L",1,6,"L",0,a.S0d(0,"5"),"L",2,3,"L",0,1,"L",1,0]]},t.inheritsFrom(t.Drawing.xcross,t.Drawing.shape),t.Drawing.check=function(){this.name="check",this.dimension=[8,9],a.v0d(28),this.points=[["M",1,5,"L",0,6,"L",2,8,"L",7,1,"L",6,0,"L",2,6,"L",a.S0d(1,"1"),5]],a.N9RU()},t.inheritsFrom(t.Drawing.check,t.Drawing.shape),t.Drawing.star=function(){a.v9RU(),this.name="star",this.dimension=[12,12],a.Y0d(81),this.points=[["M",0,4,"L",4,4,"L",5.5,0,"L",7,4,"L",11,a.T0d("4",0),"L",8,7,"L",9,11,"L",5.5,9,"L",2,11,"L",a.T0d(1572105312,"3",a.Y0d(44)),7,"L",0,4]]},t.inheritsFrom(t.Drawing.star,t.Drawing.shape),t.Drawing.heart=function(){this.name="heart",this.dimension=[23,20],a.Y0d(21),this.points=[["M",11,3,"B",11,2.4,10,0,6,0,"B",0,0,0,7.5,0,7.5,"B",0,11,4,15.4,11,19,"B",18,15.4,22,a.T0d("11",1),22,7.5,"B",22,7.5,22,0,16,0,"B",13,0,11,2.4,11,3]]},t.inheritsFrom(t.Drawing.heart,t.Drawing.shape),t.Drawing.focusarrow=function(){this.name="focusarrow",a.v0d(28),this.dimension=[7,a.S0d(1,"5")],a.Y0d(54),this.points=[["M",0,0,"L",2,2,"L",0,4,"L",0,a.S0d(2071712960,"0")],["M",6,a.S0d(0,"0",a.Y0d(0)),"L",4,2,"L",6,4,"L",6,0]]},t.inheritsFrom(t.Drawing.focusarrow,t.Drawing.shape),t.Drawing.crossline=function(){a.v9RU(),this.name="crossline"},t.inheritsFrom(t.Drawing.crossline,t.Drawing.horizontal),t.extend(t.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(e,t){return a.v9RU(),!1},adjust:function(){var e,i;if(e=this.stx.panels[this.panelName]){i=2;for(var n=1;-1024749814!==a.S31(n.toString(),n.toString().length,97713);n++)this.setPoint(0,this.d0,this.v0,e.chart),i+=2;-941105879!==a.S31(i.toString(),i.toString().length,45666)&&this.setPoint(4,this.d0,this.v0,e.chart),this.p1=t.clone(this.p0)}},intersected:function(e,i,n){var r,s;if(a.N9RU(),!this.p0||!this.p1)return null;if(a.Y0d(0),this.p1[a.T0d(0,"0")]+=1,r=this.lineIntersection(e,i,n,"line"),this.p1=t.clone(this.p0),!r&&(a.v0d(21),this.p1[1]+=a.T0d("1",1),r=this.lineIntersection(e,i,n,"line"),this.p1=t.clone(this.p0),!r))return null;if(this.highlighted=!0,this.pointIntersection(this.p0[0],this.p0[1],n)){s=2;for(var o=1;1492712212!==a.i31(o.toString(),o.toString().length,83379);o++)this.highlighted="",s+=2;618092676!==a.S31(s.toString(),s.toString().length,34200)&&(this.highlighted="p0")}return{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}},render:function(e){var n,r,s,o,l,h,c,d,u,p,m,g,f,v;if(n=this.stx,a.v9RU(),r=n.panels[this.panelName],s=n.getYAxisByField(r,this.field),r&&(!this.field||s)){if(s=s||r.yAxis,o=n.pixelFromTick(this.p0[0],r.chart),l=this.pixelFromValue(r,this.p0[0],this.p0[1],s),h=this.getLineColor(),c={pattern:this.pattern,lineWidth:this.lineWidth},a.Y0d(2),n.plotLine(o,a.S0d(o,100),l,l,h,"horizontal",e,r,c),a.v0d(2),n.plotLine(o,o,l,a.T0d(l,100),h,"vertical",e,r,c),this.axisLabel&&!this.repositioner&&(n.endClip(),d=this.p0[1],r.chart.transformFunc&&(d=r.chart.transformFunc(n,r.chart,d)),d=s.priceFormatter?s.priceFormatter(n,r,d):n.formatYAxisPrice(d,r,null,s),n.createYAxisLabel(r,d,l,h,null,null,s),n.startClip(r.name),this.p0[0]>=0&&!n.chart.xAxis.noDraw)){if(u=n.dateFromTick(this.p0[0],r.chart,!0),t.ChartEngine.isDailyInterval(n.layout.interval))u.setHours(0,0,0,0);else{a.v0d(6);var y=a.T0d(14,986,0);m=u.getSeconds()*y+u.getMilliseconds(),i.Date&&n.displayZone&&(p=new i.Date(u.getTime(),n.displayZone),u=new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes()),u=new Date(u.getTime()+m))}if(g=t.mmddhhmm(t.yyyymmddhhmm(u)),r.chart.xAxis.formatter)g=r.chart.xAxis.formatter(u,this.name,null,null,g);else if(this.stx.internationalizer){a.v0d(34),f=a.S0d(2147483647,"2");for(var b=1;2043181852!==a.S31(b.toString(),b.toString().length,65047);b++)g=t.displayableDate(n,n.chart,u),f+=2;-2003264062!==a.i31(f.toString(),f.toString().length,94903)&&(g=t.displayableDate(n,n.chart,u))}n.endClip(),n.createXAxisLabel({panel:r,txt:g,x:o,backgroundColor:h,color:null,pointed:!0,padding:2}),n.startClip(r.name)}this.highlighted&&(v="p0"==this.highlighted,this.littleCircle(e,o,l,v))}}},!0),t.Drawing.speedarc=function(){this.name="speedarc",this.printLevels=!0},t.inheritsFrom(t.Drawing.speedarc,t.Drawing.segment),t.extend(t.Drawing.speedarc.prototype,{defaultOpacity:.25,configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var e;e=this.stx.currentVectorParameters,this.color=e.currentColor,this.fillColor=e.fillColor,this.lineWidth=e.lineWidth,this.pattern=e.pattern},intersected:function(e,i,n){var r,s,o,l,h,c;if(!this.p0||!this.p1)return null;for(var d in r={0:this.p0,1:this.p1})if(this.pointIntersection(r[d][0],r[d][1],n))return a.Y0d(2),this.highlighted=a.S0d("p",d),{action:"drag",point:"p"+d};return s=this.valueOnDrawingAxis(e,i),this.lineIntersection(e,i,n,this.name)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:s}):(o=this.p1[0]-(this.p0[0]-this.p1[0]),a.Y0d(0),l=this.p0[a.T0d(0,"0")],h=this.p1[1],c=this.p0[1],e>Math.max(o,l)||e<Math.min(o,l)||s>Math.max(c,h)||s<Math.min(c,h)?null:(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:s}))},render:function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(r=r||n.yAxis,this.p1)){if(s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),a.v0d(70),c=a.T0d(l,h),a.v0d(71),d=Math.abs(a.T0d(l,o,h,s)),u=this.getLineColor(),e.strokeStyle=u,("auto"==(p=this.fillColor)||t.isTransparent(p))&&(p=i.defaultColor),e.fillStyle=p,e.setLineDash){e.setLineDash(t.borderPatternToArray(this.lineWidth,this.pattern)),m=2;for(var S=1;59525149!==a.S31(S.toString(),S.toString().length,25271);S++)e.lineDashOffset=2,m+=2;-1052900614!==a.S31(m.toString(),m.toString().length,31863)&&(e.lineDashOffset=0)}i.canvasFont("stx_yaxis",e);for(var T=1;T<3;T++){a.Y0d(6);var D=a.T0d(13,20,32);a.v0d(82);var w=a.S0d(15,107,7,0);a.Y0d(33);var k=a.S0d(17,51,31);g=Math.abs(this.p1[1]-this.p0["1"|D])*Math.sqrt(w)*T/k,a.Y0d(83);var L=a.T0d(11,8,8,11);a.Y0d(36);var A=a.S0d(16,15);a.v0d(49);var M=a.T0d(3,3,11,1,10);f=this.p1[L]+g*(c?-1:A)*(r.flipped?M:1),v=this.pixelFromValue(n,this.p0[0],f,r),e.save(),e.beginPath(),a.Y0d(11),e.scale(a.T0d(d,1),1),a.v0d(21),e.arc(a.T0d(o,d),h,Math.abs(v-h),0,Math.PI,!c),e.globalAlpha=this.highlighted?1:this.defaultOpacity,"none"!=this.pattern&&e.stroke(),e.globalAlpha=.1,e.fill(),e.restore(),e.globalAlpha=1,this.printLevels&&(e.fillStyle=u,e.textAlign="center",a.v0d(2),y=a.S0d(T,"/3"),e.fillText(y,o,Math.round(v-5)),e.fillStyle=p)}e.textAlign="left",b={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},i.plotLine(s,o,l,h,u,"segment",e,n,b),e.setLineDash&&e.setLineDash([]),this.highlighted&&(x="p0"==this.highlighted,C="p1"==this.highlighted,this.littleCircle(e,s,l,x),this.littleCircle(e,o,h,C))}},reconstruct:function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,a.N9RU(),this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.field=t.fld,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field}}},!0),t.Drawing.speedline=function(){this.name="speedline",a.N9RU(),this.printLevels=!0},t.inheritsFrom(t.Drawing.speedline,t.Drawing.speedarc),t.extend(t.Drawing.speedline.prototype,{intersected:function(e,i,n){var r,s,o,l,h;if(r=this.p0,s=this.p1,!r||!s)return null;o=2;for(var c=1;-61351451!==a.i31(c.toString(),c.toString().length,7632);c++)l={0:r,1:s},o+=2;for(var d in 1912386530!==a.i31(o.toString(),o.toString().length,60779)&&(l={0:r,1:s}),l={0:r,1:s})if(this.pointIntersection(l[d][0],l[d][1],n))return a.Y0d(2),this.highlighted=a.S0d("p",d),{action:"drag",point:"p"+d};h=this.rays;for(var u=0;u<h.length;u++)if(this.lineIntersection(e,i,n,"ray",h[u][0],h[u][1],!0))return this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(s),tick:e,value:this.valueOnDrawingAxis(e,i)};return null},render:function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&this.p1){s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),a.v9RU(),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),i.canvasFont("stx_yaxis",e),c=this.getLineColor(),e.strokeStyle=c,("auto"==(d=this.fillColor)||t.isTransparent(d))&&(d=i.defaultColor),e.fillStyle=d,u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},g=["1","2/3","1/3","3/2","3"],a.Y0d(11),f=[1,a.T0d(3,2),a.S0d("3",1,a.Y0d(84)),a.T0d(1301824704,"3",2,a.Y0d(85)),3],v=[],this.rays=[];for(var L=0;L<f.length;L++)(y=f[L])>1&&!this.extension||(b=this.pixelFromValue(n,this.p0[0],this.p0[1]-(this.p0[1]-this.p1[1])*y,r),y>1?(x=t.xIntersection({x0:s,x1:o,y0:l,y1:b},h),v.push(x)):(x=t.xIntersection({x0:o,x1:o,y0:l,y1:h},b),v.push(b)),C=y>1?x:o,S=y>1?h:b,this.confineToGrid||(C=n.left,o>s&&(C+=n.width),a.Y0d(79),S=a.S0d(o,l,b,l,s,s,C)),this.printLevels&&(1!=y||this.extension)&&(e.fillStyle=c,a.v0d(81),T=a.S0d("0",0),a.v0d(81),D=a.S0d("0",0),l>h?(D=-5,e.textBaseline="bottom"):(D=5,e.textBaseline="top"),s>o?(T=5,e.textAlign="right"):(T=-5,e.textAlign="left"),y>1?e.fillText(g[L],x+(this.confineToGrid?0:T),h):e.fillText(g[L],o,b+(this.confineToGrid?0:D)),e.fillStyle=d),i.plotLine(s,C,l,S,c,"segment",e,n,u),1==y&&(p=C,m=S),this.rays.push([[s,l],[C,S]]),e.globalAlpha=.1,e.beginPath(),e.moveTo(C,S),e.lineTo(s,l),e.lineTo(p,m),e.fill(),e.globalAlpha=1);e.textAlign="left",e.textBaseline="middle",this.confineToGrid&&(e.globalAlpha=.3,e.beginPath(),a.v0d(0),e.strokeRect(s,l,a.T0d(s,o),a.T0d(l,h)),e.moveTo(s,v[1]),e.lineTo(o,v[1]),e.moveTo(s,v[2]),e.lineTo(o,v[2]),this.extension&&(e.moveTo(v[3],l),e.lineTo(v[3],h),e.moveTo(v[4],l),e.lineTo(v[4],h)),e.stroke(),e.globalAlpha=1),this.highlighted&&(w="p0"==this.highlighted,k="p1"==this.highlighted,this.littleCircle(e,s,l,w),this.littleCircle(e,o,h,k))}}},!0),t.Drawing.gannfan=function(){this.name="gannfan",a.N9RU(),this.printLevels=!0},t.inheritsFrom(t.Drawing.gannfan,t.Drawing.speedline),t.extend(t.Drawing.gannfan.prototype,{render:function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&this.p1){s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),i.canvasFont("stx_yaxis",e),c=this.getLineColor(),e.strokeStyle=c,("auto"==(d=this.fillColor)||t.isTransparent(d))&&(d=i.defaultColor),e.fillStyle=d,u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},a.Y0d(28),g=[a.T0d(0,"1"),2,3,4,8,a.S0d(2,1,a.v0d(11)),a.S0d(3,1,a.v0d(11)),a.T0d(4,1,a.Y0d(11)),a.S0d(8,1,a.Y0d(11))],this.rays=[];for(var w=0;w<g.length;w++)f=g[w],a.v0d(86),v=a.T0d(s,f,s,o),a.Y0d(87),y=a.T0d(f,l,h,l),b=n.left,o>s&&(b+=n.width),a.Y0d(79),x=a.S0d(o,l,y,l,s,s,b),this.printLevels&&(e.fillStyle=c,C=0,S=0,l>h?(S=5,e.textBaseline="top"):(a.Y0d(54),S=-a.T0d(353538272,"5"),e.textBaseline="bottom"),s>o?(C=5,e.textAlign="left"):(a.Y0d(28),C=-a.S0d(4,"5"),e.textAlign="right"),f>1?(a.v0d(2),e.fillText(a.S0d(f,"x1"),a.S0d(v,C),h)):(a.Y0d(56),e.fillText(a.T0d(1,f,"1x"),o,a.T0d(y,S,a.Y0d(2)))),e.fillStyle=d),i.plotLine(s,b,l,x,c,"segment",e,n,u),this.rays.push([[s,l],[b,x]]),1==f&&(p=b,m=x),e.globalAlpha=.1,e.beginPath(),e.moveTo(b,x),e.lineTo(s,l),e.lineTo(p,m),e.fill(),e.globalAlpha=1;e.textAlign="left",e.textBaseline="middle",this.highlighted&&(T="p0"==this.highlighted,D="p1"==this.highlighted,this.littleCircle(e,s,l,T),this.littleCircle(e,o,h,D))}}},!0),t.Drawing.timecycle=function(){this.name="timecycle",this.printLevels=!0},t.inheritsFrom(t.Drawing.timecycle,t.Drawing.speedarc),t.extend(t.Drawing.timecycle.prototype,{intersected:function(e,i,n){var r,s,o,l;if(r=this.p0,s=this.p1,o=this.stx.panels[this.panelName],!r||!s||!o)return null;for(var h in l={0:r,1:s})if(this.pointIntersection(l[h][0],l[h][1],n))return a.v0d(2),this.highlighted=a.S0d("p",h),{action:"drag",point:"p"+h};return this.lineIntersection(e,i,n,"segment")||n.x0<=this.p0[0]&&n.x1>=r[0]?(this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(s),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},render:function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(r=r||n.yAxis,this.p1)){s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),c=0,e.textBaseline="middle",i.canvasFont("stx_yaxis",e),d=this.p1[0]-this.p0[0],e.textAlign="center",u=s,p=r.top,m=r.bottom,g=this.getLineColor(),("auto"==(f=this.fillColor)||t.isTransparent(f))&&(f=i.defaultColor),this.printLevels&&(a.v0d(0),m-=a.S0d(7,20)),v={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},y=[],e.save(),e.fillStyle=f,e.globalAlpha=.05;do{if(u=i.pixelFromTick(this.p0[0]+c*d,n.chart),c++,s<o&&u>n.left+n.width)break;if(s>o&&u<n.left)break;u<n.left||u>n.left+n.width||(e.beginPath(),e.moveTo(s,p),e.lineTo(u,p),e.lineTo(u,m),e.lineTo(s,m),e.fill(),y.push({c,x:u}))}while(d);a.v0d(34),e.globalAlpha=a.S0d(2147483647,"1"),b=0;for(var T=0;T<y.length;T++)if(i.plotLine(y[T].x,y[T].x,0,m,g,"segment",e,n,v),this.printLevels){e.fillStyle=g,a.v0d(2);var D=a.S0d(1,2);i.chart.context.measureText(y[T].c).width+D<i.layout.candleWidth+b?(e.fillText(y[T].c,y[T].x,m+7),b=0):b+=i.layout.candleWidth}e.restore(),e.textAlign="left",i.plotLine(s,o,l,h,g,"segment",e,n,v),this.highlighted?(x="p0"==this.highlighted,C="p1"==this.highlighted,this.littleCircle(e,s,l,x),this.littleCircle(e,o,h,C)):(S=this.valueFromPixel(n.height/2,n,r),this.setPoint(0,this.p0[0],S,n.chart),this.setPoint(1,this.p1[0],S,n.chart))}}},!0),t.Drawing.regression=function(){a.v9RU(),this.name="regression"},t.inheritsFrom(t.Drawing.regression,t.Drawing.segment),t.extend(t.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1","color1","lineWidth1","pattern1","active2","color2","lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(e){var i;t.Drawing.copyConfig(this,e),i=this.stx.currentVectorParameters,this.active1=!!i.active1,this.active2=!!i.active2,this.active3=!!i.active3,this.color1=i.color1||"auto",a.N9RU(),this.color2=i.color2||"auto",this.color3=i.color3||"auto",this.lineWidth1=i.lineWidth1,this.lineWidth2=i.lineWidth2,this.lineWidth3=i.lineWidth3,this.pattern1=i.pattern1,this.pattern2=i.pattern2,this.pattern3=i.pattern3},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(e,t,i){var a;if(!(t<0))return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(t,i)?this.dragToDraw:(this.setPoint(1,t,i,a.chart),this.penDown=!1,!0):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1)},getYValue:function(e){var i,n,r,s,o,l,h,c,d;if(n=(i=this.stx).chart.dataSet[e],r=i.chart.dataSet[e],!n)return null;if(s=i.panels[this.panelName],o=i.getYAxisByField(s,this.field)||s.yAxis,i.charts[s.name]&&s.chart.transformFunc&&o==s.yAxis&&(r=n.transform),!r)return null;if(l=null,h=null,c=i.defaultPlotField||"Close",this.field){if(!(h=t.existsInObjectChain(r,this.field)))return null;if(l=h=h.obj[h.member],n!=r){d=2;for(var u=1;-1131143124!==a.i31(u.toString(),u.toString().length,63211);u++)l=t.existsInObjectChain(n,this.field),d+=2;-1623510431!==a.S31(d.toString(),d.toString().length,38344)&&(l=t.existsInObjectChain(n,this.field)),l=l.obj[l.member]}"object"==typeof h&&(h=h[c],l=l[c])}else h=r[c],l=n[c];return{transformed:h,untransformed:l}},render:function(e){var t,i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q;if(i=(t=this.stx).panels[this.panelName],n=t.getYAxisByField(i,this.field),i&&(!this.field||n)&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(r=t.pixelFromTick(this.p0[0],i.chart),s=t.pixelFromTick(this.p1[0],i.chart),r<i.left&&s<i.left||r>i.right&&s>i.right))){o=[],l=[],h=0,c=0,d=0,u=0,p=Math.min(this.p1[0],this.p0[0]),m=Math.max(this.p1[0],this.p0[0])+1,a.v0d(0),g=a.T0d(p,m);for(var E=p;E<m;E++)(f=this.getYValue(E))&&(o.push(f.transformed),l.push(f.untransformed));for(v=o.length,a.Y0d(88),y=a.T0d(v,v,2,1),a.v0d(81),b=Math.pow(y,a.T0d("2",0)),a.Y0d(89),x=a.T0d(1,y,3,"2",v),E=0;E<v;E++)d+=v*o[E]-h,h+=o[E],u+=v*l[E]-c,c+=l[E];if(a.v0d(90),C=a.T0d(y,b,v,v,h,x,d),a.v0d(91),S=a.S0d(C,h,v,y),a.Y0d(90),T=a.S0d(y,b,v,v,c,x,u),a.Y0d(91),D=a.S0d(C,c,v,y),this.p0[0]<this.p1[0]?(w=S,a.v0d(92),k=a.S0d(g,S,C),this.p0[1]=D,a.v0d(92),this.p1[1]=a.T0d(g,D,T)):(a.v0d(92),w=a.S0d(g,S,C),k=S,a.v0d(28),this.p0[a.S0d(0,"1")]=a.S0d(g,D,T,a.v0d(92)),this.p1[1]=D),L=t.pixelFromTransformedValue(w,i,n),A=t.pixelFromTransformedValue(k,i,n),M=this.getLineColor(),P={pattern:this.pattern,lineWidth:this.lineWidth},a.v9RU(),t.plotLine(r,s,L,A,M,"segment",e,i,P),a.v0d(0),t.plotLine(r,r,a.S0d(20,L),a.S0d("20",L,a.Y0d(93)),M,"segment",e,i,P),a.v0d(0),t.plotLine(s,s,a.T0d(20,A),a.T0d("20",A,a.v0d(93)),M,"segment",e,i,P),this.active1||this.active2||this.active3){for(a.Y0d(11),O=a.S0d(v,h),_=0,E=0;E<v;E++)_+=Math.pow(o[E]-O,2);if(a.Y0d(11),F={context:e,panel:i,points:{0:{x:r,v:w},1:{x:s,v:k}},stddev:Math.sqrt(a.S0d(v,_)),yAxis:n},this.lines={},this.active1&&(this.renderStddev("1","p",F),this.renderStddev("1","n",F)),this.active2&&(this.renderStddev("2","p",F),this.renderStddev("2","n",F)),this.active3){this.renderStddev("3","p",F),H=2;for(var V=1;1287603025!==a.S31(V.toString(),V.toString().length,87831);V++)this.renderStddev(860147,"3",F),H+=2;-1005088676!==a.S31(H.toString(),H.toString().length,74298)&&this.renderStddev("3","n",F)}}this.highlighted?(I="p0"==this.highlighted,q="p1"==this.highlighted,this.littleCircle(e,r,L,I),this.littleCircle(e,s,A,q)):(this.pixelX=[r,s],this.pixelY=[L,A])}},renderStddev:function(e,t,i){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T;a.v9RU(),a.v0d(77),n=a.T0d(e,t,"stddev"),a.Y0d(2),r=a.T0d("color",e),a.Y0d(2),s=a.S0d("pattern",e),a.Y0d(2),o=a.S0d("lineWidth",e),h=(l=i.points)[0].v,c=l[1].v,d=i.stddev,u="n"===t?-1*e:1*e,p=this.stx,m=i.panel,g=i.yAxis,f={name:n,color:this.getLineColor(this[r]),type:"segment",y0:p.pixelFromTransformedValue(h+d*u,m,g),y1:p.pixelFromTransformedValue(c+d*u,m,g),params:{pattern:this[s],lineWidth:this[o]}},this.lines&&(this.lines[n]=f),v=i.context,y=l[0].x,b=l[1].x,p.plotLine(y,b,f.y0,f.y1,f.color,f.type,v,m,f.params),p.plotLine(y,y,f.y0-10,f.y0+10,f.color,f.type,v,m,f.params),p.plotLine(b,b,f.y1-10,f.y1+10,f.color,f.type,v,m,f.params),a.Y0d(2),x=a.T0d(e,""),a.Y0d(94);var D=a.S0d(2802,18,11,12,13);C=Math.max(y,b)+D,S=y<b?f.y1:f.y0,v.fillStyle=f.color,v.save(),v.textBaseline="middle",v.fillText(x,C,S),v.restore(),i.formatPrice&&this.axisLabel&&!this.highlighted&&!this.penDown&&(y>=m.chart.left&&y<=m.chart.right||b>=m.chart.left&&b<=m.chart.right)&&(a.Y0d(22),T=a.S0d(d,y<b?c:h,u),p.endClip(),p.createYAxisLabel(m,i.formatPrice(T,g),S,f.color,null,v,g),p.startClip(m.name))},intersected:function(e,i,n){var r,s,o,l,h,c,d;if(!this.pixelX||!this.pixelY)return null;if(r=this.repositionIntersection(e,i))return r;s={0:this.pixelX,1:this.pixelY};for(var u=0;u<2;u++)if(this.pointIntersection(s[0][u],s[1][u],n,!0))return a.Y0d(2),this.highlighted=a.T0d("p",u),{action:"drag",point:"p"+u};if(o=this,l=this.pixelX[0],a.v0d(21),h=this.pixelX[a.T0d("1",1)],!(d=(c=function(t){var a,r;return a=[l,t.y0],r=[h,t.y1],o.lineIntersection(e,i,n,o.name,a,r,!0)})({y0:this.pixelY[0],y1:this.pixelY[1]}))&&this.lines)for(var p in this.lines)if(c(this.lines[p])){d=!0;break}return d?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},repositionIntersection:function(e,i){return!(!this.p0||!this.p1)&&(this==this.stx.repositioningDrawing&&this.highlighted?!0===this.highlighted?{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}:{action:"drag",point:this.highlighted}:(a.N9RU(),!1))},lineIntersection:function(e,i,n,r,s,o,l){var h;return l?(s||(s=this.p0),o||(o=this.p1),!(!s||!o)&&(a.v9RU(),this.stx,void 0!==n.cx0&&(h={x0:s[0],x1:o[0],y0:s[1],y1:o[1]},t.boxIntersects(n.cx0,n.cy0,n.cx1,n.cy1,h.x0,h.y0,h.x1,h.y1)))):(a.v0d(2),console.log(a.T0d(r," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.")),!1)},boxIntersection:function(e,t,i){return!(i.cx0>Math.max(this.pixelX[0],this.pixelX[1])||i.cx1<Math.min(this.pixelX[0],this.pixelX[1])||!this.stx.repositioningDrawing&&(i.cy1<this.pixelY[0]||i.cy0>this.pixelY[1]))},reconstruct:function(e,t){this.stx=e,this.color=t.col,this.color1=t.col1,this.color2=t.col2,this.color3=t.col3,this.active1=t.dev1,this.active2=t.dev2,this.active3=t.dev3,this.panelName=t.pnl,this.pattern=t.ptrn,this.pattern1=t.ptrn1,this.pattern2=t.ptrn2,this.pattern3=t.ptrn3,this.lineWidth=t.lw,this.lineWidth1=t.lw1,this.lineWidth2=t.lw2,this.lineWidth3=t.lw3,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.field=t.fld,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field}}},!0),t.Drawing.trendline=function(){this.name="trendline"},t.inheritsFrom(t.Drawing.trendline,t.Drawing.segment),t.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern","font"],t.Drawing.trendline.prototype.measure=function(){},t.Drawing.trendline.prototype.reconstruct=function(e,i){t.Drawing.segment.prototype.reconstruct.call(this,e,i),this.callout=new t.Drawing.callout,this.callout.reconstruct(e,i.callout)},t.Drawing.trendline.prototype.serialize=function(){var e;return(e=t.Drawing.segment.prototype.serialize.call(this)).callout=this.callout.serialize(),e},t.Drawing.trendline.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&(t.Drawing.segment.prototype.render.call(this,e),this.callout||(this.callout=new t.Drawing.callout,s=t.Drawing.segment.prototype.serialize.call(this),this.callout.reconstruct(i,s)),this.callout.p0=t.clone(this.p0),o=i.pixelFromTick(this.p0[0],n.chart),l=i.pixelFromTick(this.p1[0],n.chart),h=this.pixelFromValue(n,this.p0[0],this.p0[1],r),c=this.pixelFromValue(n,this.p1[0],this.p1[1],r),isFinite(h)&&isFinite(c))){a.v0d(9),d=a.S0d(2,o,l),a.v0d(9),u=a.S0d(2,h,c),this.fontSize=t.stripPX(this.font&&this.font.size||13),a.v0d(2);var w=a.T0d(106,1595);a.Y0d(95);var k=a.S0d(14,3,12,2301,144);a.Y0d(0);var L=a.S0d(2,1522);a.v0d(96),a.T0d(6,20,8400,6),a.v0d(0);var A=a.S0d(386,579);a.v0d(33),a.T0d(2,70424,61619),a.v0d(97);var M=a.T0d(73,6,20,593,17);a.v0d(0),a.S0d(13,1433),a.v0d(83);var P=a.T0d(11,8,62240,1567);a.v0d(0);var O=a.S0d(400,450);p=1.2*this.callout.w+(this.callout.stemEntry[0]==(w===k?L:5360!==A?"c":M>=("6354"|P)?8470:933)?0:O),m=Math.sqrt(Math.pow(l-o,2)+Math.pow(c-h,2)),a.Y0d(6);var _=a.S0d(20,12,31);a.v0d(98);var F=a.S0d(8,14,0,6);a.Y0d(24);var H=a.S0d(20,4,4,0);a.v0d(98);var I=a.S0d(14,20,7,1);g=p/(m||p)*(this.p1[_]<this.p0["1"*F]?H:I),a.v0d(99),f=a.T0d(u,d,c,g),a.v0d(82),v=a.S0d(d,u,g,l),this.callout.p0[0]=i.tickFromPixel(f,n.chart),a.Y0d(44),this.callout.p0[a.S0d(21669120,"1")]=this.valueFromPixel(v,n,r),this.callout.v0=this.callout.p0[1],this.callout.p1=t.clone(this.p0),this.callout.stx=i,this.callout.fillColor=this.fillColor||this.callout.fillColor,this.callout.borderColor=this.color,this.callout.font=this.font||this.callout.font,this.callout.noHandles=!0,a.v0d(0);var q=a.T0d(16,1783351184);a.Y0d(0);var E=a.S0d(15,16);y=this.p1["1"<<q]-this.p0[E],a.Y0d(35),a.N9RU();var V=a.S0d(407411424,9894277440,10);a.v0d(100);var N=a.S0d(17,1,4,7,15);a.Y0d(0);var j=a.S0d(8,10);this.callout.text=Number(y).toFixed("2"<<V)+(0===this.p0[N]?"":" ("+Number(100*y/this.p0[1]).toFixed(j)+"%) ")+Math.abs(this.p1[0]-this.p0[0])+" Bars",b=Math.floor((this.p0[0]+this.p1[0])/2),Math.abs(this.p0[0]-this.p1[0])>1&&Math.abs(this.p0[0]-this.p1[0])<20?(C=i.pixelFromTick(b,n.chart),a.v0d(101),S=a.S0d(c,o,l,h,C,h,o),x=this.valueFromPixel(S,n,r)||u):x=this.valueFromPixel(u,n,r),this.callout.stem={t:b,v:x},this.callout.renderText(),this.callout.render(e),this.highlighted&&(T="p0"==this.highlighted,D="p1"==this.highlighted,this.littleCircle(e,o,h,T),this.littleCircle(e,l,c,D))}},t.Drawing.trendline.prototype.lineIntersection=function(e,i,a,n){return t.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,e,i,a,"segment")},t.Drawing.trendline.prototype.intersected=function(e,i,a){var n,r;return this.p0&&this.p1?(n=this.callout.intersected(e,i,a),r=t.Drawing.segment.prototype.intersected.call(this,e,i,a),this.callout.highlighted=!(!n&&!r),r||(n?{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}:null)):null},t.Drawing.average=function(){this.name="average"},t.inheritsFrom(t.Drawing.average,t.Drawing.regression),t.extend(t.Drawing.average.prototype,{configs:t.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var e,i,n,r,s,o,l;a.v9RU(),e=this.stx,this.p0&&this.p1&&(e.setMeasure(0,!1,this.p0[0],this.p1[0],!0,this.name),i=[],n="",this.active1&&i.push("1"),this.active2&&i.push("2"),this.active3&&i.push("3"),i.length&&(n="&ensp;"+i.join(", ")+" &sigma;"),r=(e.drawingContainer||document).querySelector(".mMeasure"),o=(s=e.controls.mSticky)&&s.querySelector(".mStickyInterior"),r&&(r.innerHTML+=n),o&&((l=[]).push(t.capitalize(this.name)),l.push(this.field||e.defaultPlotField||"Close"),l.push(o.innerHTML+n),o.innerHTML=l.join("<br>")))},render:function(e){var t,i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S;if(a.N9RU(),t=this.stx,i=t.panels[this.panelName],n=t.getYAxisByField(i,this.field),i&&(!this.field||n)&&(n=n||i.yAxis,this.p1&&!(this.p0[0]<0||this.p1[0]<0||(r=t.pixelFromTick(this.p0[0],i.chart),s=t.pixelFromTick(this.p1[0],i.chart),r<i.left&&s<i.left||r>i.right&&s>i.right)))){o=Math.min(this.p1[0],this.p0[0]),a.Y0d(2);var T=a.S0d(307187030,10);a.Y0d(102);var D=a.S0d(10,14,1,8,131);for(l=Math.max(this.p1[0],this.p0["0">>T])+D,h=0,c=[],d=o;d<l;d++)null!==(u=this.getYValue(d))&&(h+=u.transformed,c.push(u));if(p=c.length){if(a.v0d(11),m=a.S0d(p,h),g=t.pixelFromTransformedValue(m,i,n),f=this.getLineColor(),v={pattern:this.pattern,lineWidth:this.lineWidth},t.plotLine(r,s,g,g,f,"segment",e,i,v),a.v0d(103),t.plotLine(r,r,a.S0d(2147483647,"20",g),a.S0d(g,20,a.v0d(2)),f,"segment",e,i,v),a.Y0d(0),t.plotLine(s,s,a.T0d(20,g),a.T0d(g,20,a.Y0d(2)),f,"segment",e,i,v),!this.axisLabel||this.highlighted||this.penDown||(r>=i.chart.left&&r<=i.chart.right||s>=i.chart.left&&s<=i.chart.right)&&(t.endClip(),t.createYAxisLabel(i,w(m,n),g,f,null,e,n),t.startClip(i.name)),this.active1||this.active2||this.active3){for(y=0,d=0;d<p;d++)u=c[d],y+=Math.pow(u.transformed-m,2);a.v0d(11),b=Math.sqrt(a.T0d(p,y)),x={context:e,formatPrice:w,panel:i,points:{0:{x:r,v:m},1:{x:s,v:m}},stddev:b,yAxis:n},this.lines={},this.active1&&(this.renderStddev("1","p",x),this.renderStddev("1","n",x)),this.active2&&(this.renderStddev("2","p",x),this.renderStddev("2","n",x)),this.active3&&(this.renderStddev("3","p",x),this.renderStddev("3","n",x))}this.highlighted?(C="p0"==this.highlighted,S="p1"==this.highlighted,this.littleCircle(e,r,g,C),this.littleCircle(e,s,g,S)):(this.pixelX=[r,s],this.pixelY=[g,g])}}function w(e,n){return e=n&&n.priceFormatter?n.priceFormatter(t,i,e):t.formatYAxisPrice(e,i,null,n),a.v9RU(),e}},reconstruct:function(e,i){this.axisLabel=i.al,a.N9RU(),t.Drawing.regression.prototype.reconstruct.call(this,e,i)},serialize:function(){var e;return(e=t.Drawing.regression.prototype.serialize.call(this)).al=this.axisLabel,e}},!0),t.Drawing.quadrant=function(){a.v9RU(),this.name="quadrant"},t.inheritsFrom(t.Drawing.quadrant,t.Drawing.regression),t.extend(t.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var e;e=this.stx.currentVectorParameters,this.color=e.currentColor,a.v9RU(),this.fillColor=e.fillColor,this.lineWidth=e.lineWidth,this.pattern=e.pattern},$controls:[],render:function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)&&this.p1&&(s=i.pixelFromTick(this.p0[0],n.chart),o=i.pixelFromTick(this.p1[0],n.chart),!(s<n.left&&o<n.left||s>n.right&&o>n.right))){l=null,h=null;for(var D=Math.max(0,Math.min(this.p1[0],this.p0[0]));D<=Math.min(i.chart.dataSet.length-1,Math.max(this.p1[0],this.p0[0]));D++)null!==(c=this.getYValue(D))&&((null===l||c.transformed>l)&&(l=c.transformed),(null===h||c.transformed<h)&&(h=c.transformed));if(d=i.pixelFromTransformedValue(l,n,r),a.Y0d(104),u=i.pixelFromTransformedValue(a.T0d(l,h,3,"4",1),n,r),a.v0d(105),a.N9RU(),p=i.pixelFromTransformedValue(a.T0d(3,l,2,h),n,r),a.Y0d(9),m=i.pixelFromTransformedValue(a.S0d(2,l,h),n,r),a.v0d(106),g=i.pixelFromTransformedValue(a.T0d(3,l,"2",h),n,r),a.Y0d(107),f=i.pixelFromTransformedValue(a.T0d("4","3",l,h,130803200),n,r),v=i.pixelFromTransformedValue(h,n,r),this.p0[1]=0,this.p1[1]=!1,y=this.getLineColor(),("auto"==(b=this.fillColor)||t.isTransparent(b))&&(b=i.defaultColor),e.fillStyle=b,x={pattern:this.pattern,lineWidth:this.lineWidth},i.plotLine(s,o,d,d,y,"segment",e,n,x),i.plotLine(s,o,v,v,y,"segment",e,n,x),"quadrant"==this.name?(i.plotLine(s,o,u,u,y,"segment",e,n,x),i.plotLine(s,o,f,f,y,"segment",e,n,x)):"tirone"==this.name&&(i.plotLine(s,o,p,p,y,"segment",e,n,x),i.plotLine(s,o,g,g,y,"segment",e,n,x)),i.plotLine(s,s,d,v,y,"segment",e,n,x),i.plotLine(o,o,d,v,y,"segment",e,n,x),i.plotLine(s,o,m,m,y,"segment",e,n,t.extend(x,{opacity:"tirone"==this.name?.2:1})),a.Y0d(0),e.globalAlpha=a.S0d(0,"0.1"),e.beginPath(),a.Y0d(0),e.fillRect(s,d,a.S0d(s,o),a.T0d(d,v)),"quadrant"==this.name?(a.Y0d(0),e.fillRect(s,u,a.S0d(s,o),a.S0d(u,f))):"tirone"==this.name&&(a.v0d(0),e.fillRect(s,p,a.S0d(s,o),a.S0d(p,g))),e.globalAlpha=1,this.highlighted)S="p0"==this.highlighted,T="p1"==this.highlighted,this.littleCircle(e,s,m,S),this.littleCircle(e,o,m,T);else{this.pixelX=[s,o],C=2;for(var w=1;-1840457027!==a.S31(w.toString(),w.toString().length,65555);w++)this.pixelY=[d,v,m],C+=2;269576513!==a.S31(C.toString(),C.toString().length,67290)&&(this.pixelY=[d,v,m]),this.pixelY=[d,v,m],"quadrant"===this.name&&this.pixelY.push(u,f),"tirone"===this.name&&this.pixelY.push(p,g)}}},intersected:function(e,i,n){var r,s,{pixelX:o,pixelY:l}=this;if(a.N9RU(),!o||!l)return null;if(r=this.repositionIntersection(e,i))return r;for(var h=0;h<2;h++)if(this.pointIntersection(o[h],l[2],n,!0))return a.v0d(2),this.highlighted=a.S0d("p",h),{action:"drag",point:"p"+h};return s=[],o.forEach((e=>{s.push({p0:[e,l[0]],p1:[e,l[1]]})})),l.forEach((e=>{a.v9RU(),s.push({p0:[o[0],e],p1:[o[1],e]})})),s.some((({p0:t,p1:r})=>(a.v9RU(),this.lineIntersection(e,i,n,this.name,t,r,!0))))?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},reconstruct:function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.field=t.fld,this.adjust()},serialize:function(){return a.N9RU(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field}}},!0),t.Drawing.tirone=function(){var e;e=2;for(var t=1;-1849282341!==a.S31(t.toString(),t.toString().length,84422);t++)this.name="tirone",e+=2;247785484!==a.S31(e.toString(),e.toString().length,54378)&&(this.name="")},t.inheritsFrom(t.Drawing.tirone,t.Drawing.quadrant),t.Drawing.volumeprofile=function(){this.name="volumeprofile"},t.inheritsFrom(t.Drawing.volumeprofile,t.Drawing.regression),t.extend(t.Drawing.volumeprofile.prototype,{configs:["color","fillColor","lineWidth","pattern","parameters"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,this.pattern=this.stx.currentVectorParameters.pattern,this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets},$controls:[],getYValue:null,render:function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,R,z,U,Z,W,Y,{stx:B}=this,{dataSet:Q}=B.chart;if((i=B.panels[this.panelName])&&this.p1&&(n=B.pixelFromTick(this.p0[0],i.chart),r=B.pixelFromTick(this.p1[0],i.chart),!(n<i.left&&r<i.left||n>i.right&&r>i.right))){var{yAxis:X}=i,{flipped:G}=X;s=null,o=null,l=Math.min(this.p1[0],this.p0[0]),h=Math.max(this.p1[0],this.p0[0]);for(var K=l;K<=h;K++)if(c=Q[K]){var{High:$,Low:J}=c;(null===s||$>s)&&(s=$),(null===o||J<o)&&(o=J)}var{priceBuckets:ee}=this;a.Y0d(32),d=a.S0d(o,ee,s),u=[],G&&([s,o]=[o,s]),p=G?-1:1;for(var te=o,ie=0;ie<=ee&&(u.push([te,0]),o!==s);te+=d*p,ie++);m=0;for(var ae=l;ae<=h;ae++)if(g=Q[ae]){var{High:ne,Low:re,Volume:se}=g;if(se){f=[],v=u[0][0],y=null;for(var oe=1;oe<u.length;oe++)y=u[oe][0],(re>=v&&re<=y||ne>=v&&ne<=y||re<v&&ne>y)&&f.push(oe),v=y;if(f.length){b=se/f.length;for(var le=0;le<f.length;le++)(x=u[f[le]][1]+=b)>m&&(m=x)}}}(C=0===m&&u.length>1)&&B.displayErrorAsWatermark("chart",B.translateIf("Not enough data to render the Volume Profile")),S=e=>Math.round(e)+.5,T=(h-l)*B.layout.candleWidth,D=S(B.pixelFromTick(l))-1,a.v0d(2),w=S(a.T0d(D,T)),a.Y0d(86),k=B.pixelFromPrice(a.T0d(o,2,o,s)),L=D;var[he]=u[0];A=this.getLineColor();var{fillColor:ce}=this;("auto"===ce||t.isTransparent(ce))&&(ce=B.defaultColor),e.fillStyle=ce,M={pattern:this.pattern,lineWidth:this.lineWidth},P=0,O=0,_=(e,t)=>[P,O]=[e,t],F=(t,a,n)=>{n||B.plotLine(P,t,O,a,A,"segment",e,i,M),[P,O]=[t,a]},(this.highlighted||C)&&B.plotLine(D,w,k,k,B.defaultColor,"segment",e,i,Object.assign({},M,{opacity:.3}));for(var de=1;de<u.length;de++){var[ue,pe]=u[de];pe?(a.Y0d(108),H=a.S0d(m,T,pe),a.Y0d(2),I=S(a.S0d(D,H)),q=S(B.pixelFromPrice(ue)),E=S(B.pixelFromPrice(he)),V=Math.max(q,X.top),N=Math.min(E,X.bottom),a.Y0d(109),j=a.S0d(q,V),a.v0d(109),R=a.T0d(E,N),V<=X.bottom&&N>=X.top&&(this.highlighted||(e.globalAlpha=.3),_(D,N),F(D,V),F(I,V,j),F(I,N),I>L&&F(L,N,R),a.v0d(0),e.globalAlpha=a.T0d(0,"0.2"),a.v0d(0),e.fillRect(D,V,a.S0d(D,I),a.T0d(V,N)),e.globalAlpha=1),L=I):L=D,he=ue}this.highlighted&&(z="p0"===this.highlighted,U="p1"===this.highlighted,W=(Z=this.p0[0]>this.p1[0])?U:z,Y=Z?z:U,this.littleCircle(e,D,k,W),this.littleCircle(e,w,k,Y)),a.v0d(2),this.pixelX=[D,a.S0d(D,T)],this.pixelY=[B.pixelFromPrice(s),B.pixelFromPrice(o),k],a.v0d(0),this.p0[1]=a.S0d(0,"0"),this.p1[1]=!1}},intersected:function(e,i,n){var r;a.N9RU();var{p0:s,p1:o,stx:l}=this;if(!s||!o)return null;var[,,h]=this.pixelY||[];if(void 0!==h){if(r=this.repositionIntersection(e,i))return r;for(var[c,[d]]of[[0,s],[1,o]])if(this.pointIntersection(l.pixelFromTick(d),h,n,!0))return a.v0d(2),this.highlighted=a.S0d("p",c),{action:"drag",point:"p"+c};return this.boxIntersection(e,i,n)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}):null}},reconstruct:function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,a.N9RU(),this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.field=t.fld,this.priceBuckets=t.pb,this.adjust()},serialize:function(){return a.N9RU(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets}}},!0),t.Drawing.elliottwave=function(){this.name="elliottwave",this.lastPoint=0,this.points=[],this.pts=[],this.dx=0,a.v0d(44),this.dy=-a.T0d(629608768,"20"),this.dragToDraw=!1,this.annotationPoints=[],this.edit=null},t.inheritsFrom(t.Drawing.elliottwave,t.Drawing.annotation),t.Drawing.elliottwave.defaultTemplate={impulse:["I","II","III","IV","V"],corrective:["A","B","C"],decoration:"enclosed",showLines:!0},t.Drawing.elliottwave.prototype.initializeSettings=function(e){e.currentVectorParameters.waveParameters=t.clone(t.Drawing.elliottwave.defaultTemplate)},t.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor","pattern","font","waveParameters"],t.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"],t.Drawing.elliottwave.prototype.construct=function(e,t){var i;a.v9RU(),this.stx=e,this.panelName=t.name,i=e.currentVectorParameters,Object.assign(this,i.waveParameters)},t.Drawing.elliottwave.prototype.serialize=function(){var e;e={};for(var i=0;i<this.points.length;i++)a.Y0d(2),e[a.T0d("d",i)]=this[a.T0d("d",i)],a.Y0d(2),e[a.T0d("tzo",i)]=this[a.S0d("tzo",i)],a.Y0d(2),e[a.S0d("v",i)]=this[a.S0d("v",i)];return e.annotations=this.annotationPoints.join(","),a.v9RU(),Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:t.removeNullValues(t.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}))},e)},t.Drawing.elliottwave.prototype.reconstruct=function(e,i){this.stx=e,this.color=i.col,this.panelName=i.pnl,this.pattern=i.ptrn,this.lineWidth=i.lw,this.font=t.replaceFields(i.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.decoration=i.decor,this.showLines=i.show,this.dx=i.dx,this.dy=i.dy,this.trend=i.trend,a.N9RU(),this.field=i.fld,this.annotationPoints=i.annotations.split(","),"enclosed"===i.decor&&this.calculateRadius(e.chart.tempCanvas.context),this.maxSegments=i.mxSeg,this.reconstructPoints(i),this.adjust()},t.Drawing.elliottwave.prototype.reconstructPoints=function(e){var i,n,r;if(i=this.stx.panels[this.panelName])for(var s=0;s<this.annotationPoints.length;s++)a.Y0d(2),this[a.T0d("d",s)]=e[a.T0d("d",s)],a.v0d(2),this[a.S0d("v",s)]=e[a.S0d("v",s)],a.Y0d(2),this[a.T0d("tzo",s)]=e[a.T0d("tzo",s)],n=t.strToDateTime(e["d"+s]),r=this.stx.tickFromDate(n,i.chart),this.points.push([r,e["v"+s]])},t.Drawing.elliottwave.prototype.calculateRadius=function(e){var t,i;this.getFontString(),e.font=this.fontString,t=0;for(var a=0;a<this.annotationPoints.length;a++)t<(i=e.measureText(this.annotationPoints[a]).width)&&(t=i);this.enclosedRadius=t},t.Drawing.elliottwave.prototype.check=function(e,t,i){var n,r;return a.v9RU(),a.Y0d(0),!((n=this.points[a.T0d(1,i)])&&e<=n[0])&&(1===i&&2===this.points.length||(a.Y0d(2),!((r=this.points[a.S0d(i,1)])&&e>=r[0]||!function(e){for(var t=2;t<e.length;t++)if(Math.sign(e[t][1]-e[t-1][1])==Math.sign(e[t-1][1]-e[t-2][1]))return!1;return!0}(this.points))))},t.Drawing.elliottwave.prototype.move=function(e,t,i){this.copyConfig(),a.v0d(2),a.N9RU();var n=a.T0d(0,1);this.points[this.lastPoint+n]=[t,i],this.render(e)},t.Drawing.elliottwave.prototype.adjust=function(){var e,i;if(e=this.stx.panels[this.panelName])for(var n=0;this.maxSegments+1>n;n++)a.Y0d(2),i=this[a.T0d("d",n)],this.setPoint(n,i,this["v"+n],e.chart),this.points[n][0]=this.stx.tickFromDate(t.strToDateTime(i),e.chart),a.Y0d(2),this.points[n][1]=this[a.S0d("v",n)]},t.Drawing.elliottwave.prototype.click=function(e,t,i){var n;if(n=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown){this.setPoint(0,t,i,n.chart),this.points.push(this.p0),this.penDown=!0,this.segment=0,this.lastPoint=0,this.impulse&&(this.annotationPoints=this.annotationPoints.concat(this.impulse)),this.corrective&&(this.annotationPoints=this.annotationPoints.concat(this.corrective)),this.annotationPoints.unshift("0"),"enclosed"===this.decoration&&this.calculateRadius(e),a.v0d(64);var r=a.S0d(6,119,20);return this.maxSegments=this.annotationPoints.length-r,this.trend=1,!1}return this.accidentalClick(t,i)?(this.penDown=!0,!1):!!(this.check(t,i,this.lastPoint+1)&&(this.lastPoint++,this.setPoint(this.lastPoint,t,i,n.chart),1===this.lastPoint&&(this.trend=Math.sign(this.v1-this.v0)),this.segment++,this.segment>=this.maxSegments))&&(this.penDown=!1,!0)}},t.Drawing.elliottwave.prototype.render=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M;if(n=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(n,this.field),n&&(!this.field||r)){r=r||n.yAxis,s=this.annotationPoints,o=this.pattern?t.borderPatternToArray(this.lineWidth,this.pattern):[],this.getFontString(),e.font=this.fontString,e.textAlign="center",e.textBaseline="middle",e.lineWidth=this.lineWidth,this.fontString!==this.lastFontString&&this.calculateRadius(e),this.lastFontString=this.fontString,l=this.getLineColor(),e.fillStyle=e.strokeStyle=l,e.save(),e.setLineDash(o),h=this.dx,c=this.dy,d=this.points,u=this.pts,p=!this.showLines&&this.highlighted,m=d.length,this.penDown&&this.segment?(g=this.trend*(m%2-.5)<0,this.drawDropZone(e,d[m-2][1],r[g?"high":"low"],d[m-2][0])):"string"==typeof this.highlighted&&i.repositioningDrawing&&(f=parseInt(this.highlighted.substring(1,this.highlighted.length),10),g=this.trend*(f%2-.5)>0,a.v0d(0),v=d[a.S0d(1,f)],a.Y0d(2),y=d[a.S0d(f,1)],b=f>0?v[1]:y[1],y&&(b=Math[g?"max":"min"](b,y[1])),this.drawDropZone(e,b,r[g?"high":"low"],v?v[0]:null,y?y[0]:null)),a.N9RU();for(var P=0;P<m;P++)x=d[P],C=i.pixelFromTick(x[0],n.chart),S=this.pixelFromValue(n,x[0],x[1],i.getYAxisByField(n,this.field)),u[P]=[C,S];if(a.Y0d(54),P=a.T0d(774723264,"0"),this.showLines||p){for(e.beginPath(),p&&(e.globalAlpha=.3);P<u.length;P++)e.lineTo(u[P][0],u[P][1]);e.stroke(),P=0}for(e.restore();P<m;P++){T=P%2?h:-h,D=P%2?c:-c,T*=this.trend,D*=this.trend,r.flipped&&(T*=-1,a.Y0d(44),D*=-a.T0d(605743008,"1")),k=(w=u[P])[2]=w[0]+T,a.v0d(24);var O=a.S0d(2,2,0,0);L=w[3]=w[O]+D,A=this.enclosedRadius||8,M=s[P],"parentheses"===this.decoration&&(a.v0d(77),M=a.T0d(M,")","(")),e.fillText(M,k,L),"enclosed"===this.decoration&&(e.beginPath(),a.v0d(44),e.arc(k,L,A,a.T0d(185735904,"0"),2*Math.PI,!1),e.stroke()),this.highlighted&&(e.save(),this.littleCircle(e,this.pts[P][0],this.pts[P][1],this.highlighted==="p"+P),e.restore())}}},t.Drawing.elliottwave.prototype.reposition=function(e,t,i,n){var r,s,o,l,h;if(t){if(r=this.stx.panels[this.panelName],s=t.tick-i,o=t.value-n,"move"===t.action)for(var c=0;t.points.length>c;c++){l=t.points[c],this.setPoint(c,l[0]-s,l[1]-o,r.chart),a.Y0d(12);var d=a.S0d(6066610536,90546414,17,12,4);this.points[c]=[l[0]-s,l["1">>d]-o]}"drag"===t.action&&(h=t.point,this.points[h]=[i,n],this.check(i,n,h)&&this.setPoint(h,i,n,r.chart)),a.N9RU(),this.render(e)}},t.Drawing.elliottwave.prototype.intersected=function(e,i,n){var r,s;if(!this.p0||!this.p1)return null;for(var o=0;this.points.length>o;o++){if(s=this.points[o],this.pointIntersection(s[0],s[1],n))return a.Y0d(2),this.highlighted=a.S0d("p",o),{action:"drag",point:o,tick:e,value:this.valueOnDrawingAxis(e,i)};this.points[o+1]&&this.lineIntersection(e,i,n,"segment",s,this.points[o+1])&&(this.highlighted=!0,r={action:"move",points:t.clone(this.points),tick:e,value:this.valueOnDrawingAxis(e,i)})}return r},t.Drawing.elliottwave.prototype.measure=function(){var e,i,a,n;this.points.length>=2&&(e=this.points,this.stx.setMeasure(e[0][1],e[e.length-1][1],e[0][0],e[e.length-1][0],!0),(a=(i=this.stx.controls.mSticky)&&i.querySelector(".mStickyInterior"))&&((n=[]).push(t.capitalize("Elliott Wave")),this.getYValue&&n.push(this.field||this.stx.defaultPlotField||"Close"),n.push(a.innerHTML),a.innerHTML=n.join("<br>")))},t.Drawing.printProjection=function(e,i,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C;r=2;for(var S=1;-755156204!==a.i31(S.toString(),S.toString().length,75022);S++)s=i.arr,r+=2;if(1146369856!==a.S31(r.toString(),r.toString().length,54129)&&(s=i.arr),s.length>1){o=s[0][0],l=Math.round(.75*e.chart.maxTicks);for(var T=1;T<s.length;T++){for(a.Y0d(0),h=s[a.T0d(1,T)][a.T0d(697675808,"0",a.Y0d(44))],c=s[T][0],d=t.strToDateTime(h),u=t.strToDateTime(c).getTime(),p=e.standardMarketIterator(d),m=0;d.getTime()<u;)d=p.next(),m+=1;if((g=t.strToDateTime(h).getTime())>t.strToDateTime(n[n.length-1].Date).getTime()){a.v0d(110);var D=a.S0d(8,13,4,39,7);f=n.length-D,m+=1}else for(f=n.length-1;f>=0&&!(g<=t.strToDateTime(n[f].Date).getTime());f--);v={x0:0,x1:m,y0:n[f].Close,y1:s[T][1]},o=t.strToDateTime(h),p=e.standardMarketIterator(o),y=!1;for(var w=0;w<=m;w++)if(y?o=p.next():y=!0,!(o.getTime()<=n[n.length-1].DT.getTime())){(b=t.yIntersection(v,w))||(b=0),a.v0d(111);var k=a.S0d(1668,9940,10008,10);a.v0d(77);var L=a.T0d(2,4998,5e3);if(0==(x=Math.round(b*k)/L)&&(x=s[T][1]),C={Date:t.yyyymmddhhmmssmmm(o),DT:o,Open:x,Close:x,High:x,Low:x,Volume:0,Adj_Close:x,Split_Close:x,projection:!0},"minute"==e.layout.interval&&l--<0)break;n[n.length]=C}}}}):console.error("drawingAdvanced feature requires first activating drawing feature.")},o=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).computeEquationChart?(t.formatEquation=function(e){var t,i,a,n,r,s=Ce;t="",i=[],a="",n=!1,s.v9RU();for(var o=1;o<e.length;o++)"["!=(r=e[o])||n?"]"==r&&n?(n=!1,""!==a&&(i.push(a),s.v0d(77),t+=s.T0d(a,"]","[")),a=""):n?a+=r:"+"==r||"-"==r||"*"==r||"/"==r||":"==r||"%"==r||"("==r||")"==r?(""!==a&&isNaN(a)?(i.push(a),s.v0d(77),t+=s.S0d(a,"]","[")):t+=a,":"==r&&(r="/"),t+=r,a=""):" "!=r&&(a+=r):n=!0;return""!==a&&isNaN(a)?(i.push(a),s.v0d(77),t+=s.T0d(a,"]","[")):t+=a,{equation:t,symbols:i}},t.fetchEquationChart=function(e,i){var a,n,r,s,o;n=(a=t.formatEquation(e.symbol)).symbols,r=[],s=e.stx,e.stx=null;for(var l=0;l<n.length;l++)(o=t.shallowClone(e)).stx=s,o.symbol=n[l],o.symbolObject={symbol:n[l]},r.push(o);e.stx=s,s.quoteDriver.multiFetch(r,(function(n){var s,o,l,h,c;s={},e.loadMoreReplace=!0,o={charge:0};for(var d=0;d<n.length;d++){if((l=n[d]).dataCallback.error)return void i({error:l.dataCallback.error});s[l.params.symbol]=l.dataCallback.quotes,e.loadMoreReplace=e.loadMoreReplace&&l.params.loadMoreReplace,e.moreToLoad=e.moreToLoad||l.dataCallback.moreAvailable,(h=l.dataCallback.attribution)&&(h.charge&&(o.charge+=h.charge),o.source=h.source,void 0===o.exchange?o.exchange=h.exchange:o.exchange!=h.exchange&&(o.exchange=""))}if(r.length||!e.loadMore&&!e.update)try{c=t.computeEquationChart(a.equation,s),i({quotes:c,moreAvailable:e.moreToLoad,attribution:o})}catch(e){var u;u={error:"Invalid equation: "+a.equation},e.name&&"NoException"==e.name&&(u.suppressAlert=!0),i(u)}}))}):console.error("equationsAdvanced feature requires first activating equations feature.")},l=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Marker?t.Marker.Performance||(t.ChartEngine.prototype.removeDOMMarker=function(e){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead."),t.Marker.Performance.prototype.removeDOMMarker.call(e.params.node,e)},t.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead."),Ce.v9RU(),t.Marker.Performance.drawMarkers(this)},t.ChartEngine.prototype.calculateMarkerStyles=function(e,i){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead."),t.Marker.Performance.calculateMarkerStyles(this,e,i)},t.ChartEngine.prototype.drawCircleMarker=function(e,i,a){Ce.N9RU(),console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead."),t.Marker.Performance.drawCircleMarker(e,i,a)},t.ChartEngine.prototype.drawSquareMarker=function(e,i,a){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead."),Ce.v9RU(),t.Marker.Performance.drawSquareMarker(e,i,a)},t.ChartEngine.prototype.drawCalloutMarker=function(e,i,a){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead."),t.Marker.Performance.drawCalloutMarker(e,i,a)},t.ChartEngine.prototype.drawMarkerStem=function(e,i,a){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead."),t.Marker.Performance.drawMarkerStem(e,i,a)},t.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead."),t.Marker.Performance.drawMarkers(this)},t.Marker.Performance=function(e){var i,a,n,r,s,o,l,h;this.params={displayCategory:!0,displayStem:!0,invert:!1,story:"",headline:""},t.extend(this.params,e),i=this.template=document.createElement("TEMPLATE"),Ce.Y0d(112),i.innerHTML=Ce.T0d('<div class="stx-stem"></div>','<div class="stx-visual">',"</div>",'<div class="stx-marker-content">','<div class="stx-marker highlight">','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',"</div>","</div>"),(n=(a=this.template.content.cloneNode(!0)).querySelector(".stx-marker",i)).classList.add(e.type),n.classList.add(e.category),r=a.querySelector(".stx-visual",i),s=a.querySelector(".stx-marker-expand"),o=a.querySelector("h4",i),l=a.querySelector("p",i),o.innerText=this.params.headline,l.innerText=this.params.story,this.hasText=!!e.headline||!!e.story,this.deferAttach=!0,this.node=a.firstChild,this.node.params=this.params,this.visual=r,this.expand=s,"callout"===e.type&&(h=s.removeChild(o),a.querySelector(".stx-marker-content",i).insertBefore(h,s))},t.inheritsFrom(t.Marker.Performance,t.Marker.NodeCreator,!1),t.Marker.Performance.consolidateExpanded=function(e){var t,i,a,n,r,s,o;if((t=e.markerHelper.highlighted).length){Ce.Y0d(113);var l=Ce.S0d(4,6,2);a=(i=t[t.length-l]).params.node,i.consolidated||(i.consolidated=[]);for(var h=t.length-2;h>=0;h--)s=t[h],o=void 0,n=(o=s.params.node.expand)&&"none"!==o.style.display?o.innerHTML:"",Ce.Y0d(77),r=Ce.S0d(n,"</consolidated>","<consolidated>"),n.length&&(a.expand.innerHTML+=r);i.stxNodeCreator.quickCache(i)}},t.Marker.Performance.reconstituteExpanded=function(e){var t,i;if(Ce.v9RU(),(t=e.markerHelper.highlighted).length&&e.activeMarker)for(var a=(t=[e.activeMarker]).length-1;a>=0;a--)for(i=t[a].params.node.expand;"CONSOLIDATED"===i.lastElementChild.nodeName;)i.removeChild(i.lastElementChild)},t.Marker.Performance.drawMarkers=function(e){var t,i,a,n,r,s,o,l,h=Ce;t=e.getMarkerArray("all"),h.N9RU(),h.v0d(34),i=h.T0d(2147483647,"1056277735"),a=2;for(var c=1;h.S31(c.toString(),c.toString().length,9022)!==i;c++)n=e.chart,a+=2;1616369671!==h.i31(a.toString(),a.toString().length,22382)&&(n=e.chart),n=e.chart;for(var d=0;d<t.length;d++)s=(r=t[d]).stxNodeCreator,o=n.dataSegment[0].tick,l=n.dataSegment[n.dataSegment.length-1].tick,o<=r.tick<=l&&s&&s.drawMarker&&s.drawMarker(r)},t.Marker.Performance.calculateMarkerStyles=function(e,t,i){var a,n,r;Ce.N9RU(),(a=document.querySelector(".stx-marker-templates"))||((a=document.createElement("DIV")).style.visibility="hidden",a.style.left="-1000px",document.body.append(a)),a.appendChild(t.node),n=getComputedStyle(t.stxNodeCreator.visual),e.styles.stx_marker_stem||(r=getComputedStyle(document.querySelector(".stx-stem",t.node)),e.styles.stx_marker_stem=e.cloneStyle(r)),e.styles[i]=e.cloneStyle(n),a.removeChild(t.node)},t.Marker.Performance.drawCircleMarker=function(e,i,a){var n,r,s,o,l,h;n=e.params.stx.chart.context,r=a.x,s=a.y,o=a.radius,l=a.label,h=a.color?a.color:i.backgroundColor,n.beginPath(),n.setLineDash([]),n.lineWidth=1,n.fillStyle=h,n.strokeStyle=h,n.font="normal bold 12px Roboto, Helvetica, sans-serif",n.arc(r,s,o,0,2*Math.PI,!1),Ce.v9RU(),n.fill(),n.stroke(),n.closePath(),l&&(n.fillStyle=t.colorsEqual("white",n.fillStyle)?"black":"white",n.fillText(l.charAt(0).toUpperCase(),r-4,s+1)),(e.highlight||e.active)&&(n.beginPath(),Ce.v0d(114),n.arc(r,s,Ce.T0d(o,"4",45094944),0,2*Math.PI,!1),n.stroke(),n.closePath())},t.Marker.Performance.drawSquareMarker=function(e,i,a){var n,r,s,o,l,h,c,d=Ce;n=e.params.stx.chart.context,r=a.x,s=a.y,o=a.half,l=a.label,h=a.color?a.color:i.backgroundColor,d.v0d(21),c=d.T0d(o,2),n.beginPath(),n.setLineDash([]),d.Y0d(28),n.lineWidth=d.S0d(0,"1"),n.fillStyle=h,n.strokeStyle=h,n.font="normal bold 12px Roboto, Helvetica, sans-serif",d.v0d(0),n.rect(d.T0d(o,r),d.S0d(o,s),c,c),n.fill(),(e.highlight||e.active)&&(d.v0d(115),n.rect(d.S0d(r,o,0,"4"),d.T0d(0,"4",s,o,d.Y0d(116)),d.S0d(c,8,d.Y0d(2)),d.S0d(c,8,d.Y0d(2)))),n.stroke(),n.closePath(),l&&(n.fillStyle=t.colorsEqual("white",n.fillStyle)?"black":"white",n.fillText(l.charAt(0).toUpperCase(),r-4,s+1))},t.Marker.Performance.drawCalloutMarker=function(e,t,i){var a,n,r,s,o,l,h,c,d,u,p;a=e.params.stx.chart.context,n=e.params,i.x,r=i.y,s=i.half,o=i.midWidth,l=i.headline,h=i.color?i.color:t.backgroundColor,c=2*s||25,d=Math.round(a.measureText(l).width),u=o?2*o:d+8,a.beginPath(),a.setLineDash([]),Ce.v0d(54),a.lineWidth=Ce.S0d(707136288,"1"),a.fillStyle=h,a.strokeStyle=h,a.font="normal bold 12px Roboto, Helvetica, sans-serif",a.rect(n.box.x0,n.box.y0,u,c),a.fill(),a.stroke(),a.closePath(),a.beginPath(),a.fillStyle=e.highlight||e.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)",Ce.Y0d(117),p=Ce.T0d(u,"2",d,20),a.rect(n.box.x0+p,r-s,d+40,22),a.fill(),a.stroke(),a.closePath(),a.fillStyle="black",a.fillText(l,n.box.x0+p+10,r)},t.Marker.Performance.drawMarkerStem=function(e,i,a){var n,r,s,o,l;n=e.params.stx.chart.context,r=a.x,a.y,Ce.N9RU(),n.beginPath(),n.strokeStyle=i.borderLeftColor,n.setLineDash([1,1]),s=t.stripPX(i.height),o=a.invert?e.params.box.y0:e.params.box.y1,l=a.invert?e.params.box.y0-s:e.params.box.y1+s,n.moveTo(r,o),n.lineTo(r,l),n.stroke(),n.closePath()},t.Marker.Performance.prototype.drawMarker=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S=Ce;if(i=e.params,(a=e.params.stx)&&a.chart.dataSegment.length){n=a.panels[e.params.panelName],s=(r=e.stxNodeCreator.params).type,o=r.category,l=r.headline,h=r.displayCategory,c=r.color,d=r.invert,S.Y0d(118),u=S.T0d("_","stx_marker_",s,o),a.styles[u]||t.Marker.Performance.calculateMarkerStyles(a,e,u),p=e.style=a.styles[u],m=a.styles.stx_marker_stem,S.v0d(119);var T=S.T0d(12,16,48,10);S.v0d(6);var D=S.T0d(9,0,7);g=parseInt(p.height,T)/D,S.v0d(0);var w=S.S0d(19,29);S.Y0d(27);var k=S.T0d(2,10,10);f=parseInt(p.width,w)/k,v=r.displayStem?parseInt(m.height,10)+parseInt(m.marginBottom,10):0,S.v0d(96);var L=S.T0d(15,170,60,5);y=v+parseInt(p.height,L),b=v?v+g:0,x=a.pixelFromDate(i.x),C=i.node.calculateYPosition({marker:e,panel:n,height:y,half:g,offset:b,inverted:d}),(e.tick||0===e.tick)&&(i.box={x0:x-(f||g),y0:C-g,x1:x+(f||g),y1:C+g,midY:g,midX:f||g,stemHeight:v},h||(o=h),a.startClip(n.name),"circle"===s?t.Marker.Performance.drawCircleMarker(e,p,{x,y:C,radius:g,label:o,color:c}):"square"===s?t.Marker.Performance.drawSquareMarker(e,p,{x,y:C,half:g,label:o,color:c}):"callout"===s?t.Marker.Performance.drawCalloutMarker(e,p,{x,y:C,half:g,midWidth:f,headline:l,color:c}):(S.v0d(77),console.warn(S.S0d(s," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.","Marker type: "))),r.displayStem&&t.Marker.Performance.drawMarkerStem(e,m,{x,y:C,invert:d}),a.endClip(),e.attached&&this.positionPopUpNode(e))}},t.Marker.Performance.prototype.positionPopUpNode=function(e){var t,i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b=Ce;if(e.attached&&e.params.box){if(i=(t=e.params).stx,a=t.box,n=e.params.node.expand,r=i.chart.dataSet,s=i.chart.dataSegment,e.tick){l=[r[s[0]&&s[0].tick-1],r[s[0]&&s[0].tick-2]],h=i.getFirstLastDataRecord(l.concat(s),"Date"),b.Y0d(120);var x=b.S0d(1,1,4,17,14);b.Y0d(121);var C=b.S0d(16,1,12,3);b.v0d(75);var S=b.T0d(4,4,9,16);b.v0d(122);var T=b.S0d(13,6,5,15,5848);c=[r[s[s.length-x].tick+C],r[s[s.length-S].tick+T]],d=i.getFirstLastDataRecord(s.concat(c),"Date",!0),o=h.DT<=r[e.tick].DT&&r[e.tick].DT<=d.DT}else o=!1;if(e.highlight||e.active||(o=!1),n.style.visibility=o?"":"hidden",o){u=i.panels[t.panelName],p=n.rects,b.v0d(123);var D=b.S0d(7,4,8,20,82);m=p.height/D,f=e.node.params.infoOffset||0,g=e.node.params.infoOnLeft?a.x0-p.width-f<u.left?a.x1+f:a.x0-p.width-f:a.x0+p.width>u.right?a.x0-p.width-f:a.x1+f,g-=i.chart.left,v=a.y0-m>=u.top?a.y0+a.midY-m:a.y0,!t.avoidFlush&&a.y1+a.stemHeight===u.yAxis.bottom&&p.height>a.y1-a.y0+a.stemHeight&&(v=a.y1-p.height+a.stemHeight),v-=i.chart.panel.top,y="translateX("+Math.floor(g)+"px) translateY("+Math.floor(v)+"px) translateZ(0)",n.style.transform=y,n.transform={translateX:g,translateY:v}}}},t.Marker.Performance.prototype.quickCache=function(e){var i,a,n;i=e.params.node.expand,a=e.style,Ce.v9RU(),n=t.stripPX(a.marginLeft)+t.stripPX(a.marginRight)+t.stripPX(a.borderRight)+t.stripPX(a.borderLeft),i.rects=i.getBoundingClientRect(),i.scrollBarWidth=i.rects.width-i.clientWidth-n},t.Marker.Performance.prototype.calculateYPosition=function(e){var t,i,a,n,r,s,o,l,h,c,d,u,p,m;if(t=e.marker,i=e.panel,a=e.height,n=e.half,r=e.offset,s=e.inverted,l=(o=t.params.stx).chart,h=o.chart.highLowBars,c=l.dataSet[t.tick]){switch(d=h?c.High:c.Close,t.params.yPositioner){case"value":u=t.params.y||0===t.params.y?o.pixelFromPrice(t.params.y,i)-.5*a+n:o.pixelFromPrice(d,i)-r;break;case"above_candle":u=o.pixelFromPrice(d,i)-r;break;case"below_candle":u=o.pixelFromPrice(c.Low||d,i),u+=s&&r?r:n;break;case"on_candle":p=c.High||c.Close,m=c.Low||0===c.Low||c.Close,Ce.v0d(0);var g=Ce.S0d(18,20);u=o.pixelFromPrice((p+m)/g,i)-.5*a+n;break;case"top":u=o.pixelFromPrice(i.yAxis.high,i),u+=s&&r?r:n;break;case"bottom":u=o.pixelFromPrice(i.yAxis.low,i)-(r||n)}return u}},t.Marker.Performance.prototype.prepareForHolder=function(e){var t,i;return t=this.expand,i=e.params.stx,t.classList.add(this.params.type),i.markerHelper.domMarkers.push(e),t},t.Marker.Performance.prototype.addToHolder=function(e){var i,a;function n(t){a.activeMarker=e,a.activeMarker.click({cx:t.clientX,cy:t.clientY,panel:a.currentPanel}),t.stopPropagation()}i=this.expand,a=e.params.stx,t.Marker.Performance.reconstituteExpanded(a),t.Marker.Performance.consolidateExpanded(a),this.quickCache(e),i.clickClosure||(i.addEventListener("mousedown",n),i.addEventListener("touchstart",n,{passive:!1}),i.clickClosure=n)},t.Marker.Performance.prototype.remove=function(e){var t,i,a,n;(t=e.params.stx)&&t.markerHelper.domMarkers&&(-1!=(i=t.markerHelper.domMarkers.indexOf(e))&&t.markerHelper.domMarkers.splice(i,1),e.attached&&(a=t.panels[e.params.panelName],(n=e.params.node.expand).parentNode===a.subholder&&a.subholder.removeChild(n),n.removeEventListener("click",n.clickClosure)))},t.Marker.Performance.prototype.click=function(e){var t,i,a,n;if(t="numbe",t+="r",this.hasText){typeof arguments[0]===t&&(e={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]});var{cx:r,cy:s,marker:o,panel:l}=e;if(i=o.params.stx,o.attached){if((n=this.expand).rects.width-n.scrollBarWidth+n.transform.translateX<i.backOutX(r)&&i.backOutX(r)<n.rects.width+n.transform.translateX)return;this.remove(o)}else i.addToHolder(o),a=!0;o.attached=!o.attached,o.active=!o.active,a&&o.stxNodeCreator.positionPopUpNode(o)}}):console.error("highPerformanceMarkers feature requires first activating markers feature.")},h=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Renderer.OHLC.requestNew=function(e,i){var a,n,r,s,o,l,h;Ce.N9RU(),a=null,n=i.hlc,r=i.colored,s=i.hollow,o=i.volume,l=i.histogram;for(var c=0;c<e.length;c++)switch(h=e[c]){case"bar":case"candle":a=h;break;case"volume":o=!0;break;case"hollow":s=!0;break;case"colored":r=!0;break;case"histogram":l=!0,a="candle";break;case"hlc":n=!0,a="bar";break;default:return null}return null===a?null:new t.Renderer.OHLC({params:t.extend(i,{type:a,hlc:n,colored:r,hollow:s,volume:o,histogram:l})})},t.Renderer.OHLC.getChartParts=function(e,t){return Ce.v9RU(),[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:32,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:e||"stx_bar_chart",border:"border_color",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:t?8:1,border:"border_color_up",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:t?16:2,border:"border_color_down",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:t?32:4,border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:8,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:16,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:32,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:1,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:2,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:4,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:17,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:18,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:20,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:9,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:10,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:12,fill:"fill_color_even",border:"border_color_even"}]},t.Renderer.Bars=function(e){var t;Ce.N9RU(),this.construct(e),(t=this.params).type="bar",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.hlc=t.volume=t.hollow=t.histogram=!1},t.inheritsFrom(t.Renderer.Bars,t.Renderer.OHLC,!1),t.Renderer.HLC=function(e){var t;this.construct(e),(t=this.params).type="bar",t.hlc=!0,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.volume=t.hollow=t.histogram=!1},t.inheritsFrom(t.Renderer.HLC,t.Renderer.Bars,!1),t.Renderer.Shading=function(e){Ce.N9RU(),this.construct(e),this.beenSetup=!1,this.errTimeout=null,this.params.useChartLegend=!1,this.shading=[],"rangechannel"==this.params.type&&(this.highLowBars=!0)},t.inheritsFrom(t.Renderer.Shading,t.Renderer.Lines,!1),t.Renderer.Shading.requestNew=function(e,i){var a,n,r;a=null,n=null;for(var s=0;s<e.length;s++)"rangechannel"==(r=e[s])?a="rangechannel":"step"==r&&(n=!0);return null===a?null:new t.Renderer.Shading({params:t.extend(i,{type:a,step:n})})},t.Renderer.Shading.prototype.setShading=function(e){e.constructor!=Array&&(e=[e]),this.shading=e},t.Renderer.Shading.prototype.draw=function(){var e,i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y;if(e=this.stx,i=this.params,a=e.panels[i.panel].chart,"rangechannel"==i.type&&(this.beenSetup?this.seriesParams.length>2&&this.removeSeries(this.seriesParams[2].id):(this.beenSetup=!0,i.display=this.seriesParams[0].display,i.yAxis=this.seriesParams[0].yAxis,n=this.seriesParams[0].color||"auto",(r=this.seriesParams[0].symbol)&&(Ce.Y0d(2),Ce.T0d(r,".")),this.removeAllSeries(!0),s=i.name,e.addSeries(null,{symbol:r,loadData:!!r,field:"High",renderer:"Shading",name:s,style:"stx_line_up",display:i.display,shareYAxis:!0}),e.addSeries(null,{symbol:r,loadData:!!r,field:"Low",renderer:"Shading",name:s,style:"stx_line_down",display:i.display,shareYAxis:!0}),this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:n}))),!this.shading&&!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set."),o=2;for(var b=1;313291005!==Ce.i31(b.toString(),b.toString().length,15386);b++)l=this,o+=2;56383661!==Ce.S31(o.toString(),o.toString().length,86055)&&(l=this),this.errTimeout=setTimeout((function(){l.errTimeout=null}),1e4)}for(h={},c=0;c<this.seriesParams.length;c++)d={},a.series[this.seriesParams[c].id]&&(d=t.clone(a.series[this.seriesParams[c].id].parameters)),h[this.seriesParams[c].id]={parameters:t.extend(t.extend(d,i),this.seriesParams[c]),yValueCache:this.caches[this.seriesParams[c].id]};for(c in e.drawSeries(a,h,i.yAxis,this),a.legend&&"rangechannel"==i.type&&(a.legend.colorMap||(a.legend.colorMap={}),u=i.display,p=[e.getCanvasColor("stx_line_up"),e.getCanvasColor("stx_line_down")],a.legend.colorMap[u]={color:p,display:u,isBase:this==e.mainSeriesRenderer}),h)this.caches[c]=h[c].yValueCache;for(c=0;c<this.shading.length;c++)g=(m=this.shading[c]).color,"auto"==m.color&&(g=e.defaultColor),m.primary||(m.primary="Close"),!m.secondary&&this.seriesParams[0]&&(m.secondary=this.seriesParams[0].field),m.secondary&&(h[m.primary]||"Close"==m.primary)&&h[m.secondary]&&("Close"==m.primary&&i.yAxis&&i.yAxis!=a.yAxis||(f=x(m.primary).split("."),v=x(m.secondary).split("."),((y={topBand:f[0],topSubBand:f[1],topColor:m.greater||g||e.containerColor,topAxis:i.yAxis,bottomBand:v[0],bottomSubBand:v[1],bottomColor:m.lesser||g||e.containerColor,bottomAxis:"Close"==m.primary?null:i.yAxis,tension:i.tension||a.tension,opacity:.1,step:i.step}).topColor||y.bottomColor)&&(!i.highlight&&e.highlightedDraggable&&(y.opacity*=.3),t.fillIntersecting(e,i.panel,y))));function x(e){var t,i,a;return(t=h[e])?(i=t.parameters.field,a=t.parameters.subField,Ce.Y0d(2),Ce.T0d(i,a?"."+a:"")):e}},t.Renderer.Histogram=function(e){this.construct(e),this.params.type="histogram",this.barsHaveWidth=this.standaloneBars=!0,this.params.yAxis&&(this.params.bindToYAxis=!0,"number"==typeof this.params.yAxis.baseline&&(this.params.yAxis.baseline={value:this.params.yAxis.baseline}))},t.inheritsFrom(t.Renderer.Histogram,t.Renderer,!1),t.Renderer.Histogram.prototype.adjustYAxis=function(){var e;(e=this.params.yAxis)&&!e.baseline&&(e.min=0,e.highValue/=this.params.heightPercentage||1)},t.Renderer.Histogram.prototype.draw=function(){var e,i,a,n;(e=t.clone(this.params)).type=e.subtype,this.useSum="stacked"==e.subtype,e.yAxis&&e.yAxis!=this.stx.chart.yAxis||(e.bindToYAxis=!0),this.stx.drawHistogram(e,this.seriesParams),(i=e.yAxis&&e.yAxis.baseline)&&i.color&&(a=this.stx.panels[this.params.panel],n=this.stx.pixelFromPrice(i.value,a,this.params.yAxis)-.5,this.stx.plotLine({x0:a.left,x1:a.right,y0:n,y1:n,color:i.color,type:"line",context:a.chart.context,confineToPanel:a,pattern:i.pattern||"solid",lineWidth:i.lineWidth||1,opacity:i.opacity||.8,globalCompositeOperation:"destination-over"}))},t.Renderer.Histogram.prototype.getBasis=function(e,t,i){var a,n,r;if(a=0,e&&this.useSum)for(var s=0;s<this.seriesParams.length&&(n=this.seriesParams[s].field)!==t;s++)(r=e[n])&&"object"==typeof r&&(r=r[i||this.seriesParams[s].subField||this.stx.chart.defaultPlotField||"Close"]),r&&(a+=r);return Ce.v9RU(),a},t.Renderer.Heatmap=function(e){this.construct(e),this.params.type="heatmap",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0},t.inheritsFrom(t.Renderer.Heatmap,t.Renderer,!1),t.Renderer.Heatmap.requestNew=function(e,i){var a;a=null;for(var n=0;n<e.length;n++)"heatmap"==e[n]&&(a="heatmap");return null===a?null:(Ce.N9RU(),new t.Renderer.Heatmap({params:t.extend(i,{type:a})}))},t.Renderer.Heatmap.prototype.draw=function(){Ce.v9RU(),this.stx.drawHeatmap(t.clone(this.params),this.seriesParams)},t.Renderer.Scatter=function(e){this.construct(e),this.standaloneBars=this.barsHaveWidth=!0,this.bounded=!0},t.inheritsFrom(t.Renderer.Scatter,t.Renderer.Lines,!1),t.Renderer.Scatter.requestNew=function(e,i){var a;a=null;for(var n=0;n<e.length;n++)"scatterplot"==e[n]&&(a="scatter");return null===a?null:new t.Renderer.Scatter({params:t.extend(i,{type:a})})},t.Renderer.Scatter.prototype.drawIndividualSeries=function(e,t){var i,a;return Ce.v9RU(),i=this.stx.panels[t.panel]||e.panel,a={colors:[]},this.stx.scatter?a=this.stx.scatter(i,t):console.warn("Error, Scatter renderer requires customChart.js"),a}},c=e=>{var t,i;if(Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies)t.Studies.calculateAccumulationDistribution=function(e,t){var i,a,n,r,s;i=t.chart.scrubbed,Ce.v9RU();for(var o=t.startFrom;o<i.length;o++)if(o){if((a=i[o]).futureTick)break;Ce.v0d(0),n=i[Ce.S0d(1,o)],r=0,a.Close>n.Close?r=a.Close-Math.min(a.Low,n.Close):a.Close<n.Close&&(r=a.Close-Math.max(a.High,n.Close)),t.inputs["Use Volume"]&&(r*=a.Volume),(s=n["Result "+t.name])||(s=0),s+=r,isNaN(a.Close)||(a["Result "+t.name]=s)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:t.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}}});else{i=2;for(var a=1;46032191!==Ce.i31(a.toString(),a.toString().length,87460);a++)console.error(""),i+=2;-109509321!==Ce.S31(i.toString(),i.toString().length,12605)&&console.error(""),console.error("accumulationDistribution feature requires first activating studies feature.")}},d=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.v9RU(),t.Studies?(t.Studies.calculateADX=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v=Ce;if(t.Studies.calculateStudyATR(e,i),a=i.chart.scrubbed,n=i.days,(r=parseInt(i.inputs["Smoothing Period"],10))||0===r||(r=n),a.length<i.days+1)i.error=!0;else{s=0,o=0,l=0,h=0;for(var y=Math.max(1,i.startFrom);y<a.length;y++){if(c=a[y],(d=Math.max(0,c.High-a[y-1].High))>(u=Math.max(0,a[y-1].Low-c.Low))?(v.Y0d(28),u=v.T0d(0,"0")):d=u>d?0:u=0,y<=n)o+=d,l+=u,s+=c["True Range "+i.name];else{v.v0d(124);var b=v.T0d(17,340,9,19,7);v.v0d(0);var x=v.T0d(5,6);o=a[y-b]["_sm+DM "+i.name]*(n-x)/n+d,v.v0d(3);var C=v.S0d(18,19,0);v.v0d(76);var S=v.T0d(14,1,6,20);l=a[y-C]["_sm-DM "+i.name]*(n-S)/n+u,v.v0d(125),s=a[y-"1"*v.T0d(2,1,1,2,2)]["_smTR "+i.name]*(n-1)/n+c["True Range "+i.name]}if(c["_sm+DM "+i.name]=o,c["_sm-DM "+i.name]=l,c["_smTR "+i.name]=s,!(y<n)){if(v.v0d(108),p=v.T0d(s,o,100),v.v0d(108),m=v.S0d(s,l,100),v.Y0d(24),g=("100"<<v.T0d(13,1,25,25338604))*Math.abs(p-m)/(p+m),c["+DI "+i.name]=p,c["-DI "+i.name]=m,!1!==i.inputs.Series&&r)if(y<n+r-1){if(y==i.startFrom)for(var T=n;T<i.startFrom;T++)h+=100*Math.abs(a[T]["+DI "+i.name]-a[T]["-DI "+i.name])/(a[T]["+DI "+i.name]+a[T]["-DI "+i.name]);h+=g}else if(y==n+r-1)v.Y0d(11),c["ADX "+i.name]=v.T0d(r,h);else{v.v0d(126);var D=v.S0d(3,12,1,8);v.Y0d(126);var w=v.S0d(0,12,4,2);c["ADX "+i.name]=(a[y-D]["ADX "+i.name]*(r-w)+g)/r}if(i.inputs.Histogram){if(f=i.name+"_hist",!c["+DI "+i.name]&&0!==c["+DI "+i.name])continue;if(!c["-DI "+i.name]&&0!==c["-DI "+i.name])continue;c[f]=c["+DI "+i.name]-c["-DI "+i.name],!1===i.inputs.Series&&(c["+DI "+i.name]=null,c["-DI "+i.name]=null),i.outputMap[f]=""}}}}},t.Studies.displayADX=function(e,i,a){var n,r,s,o,l,h,c;Ce.N9RU(),n=i.underlay?.3:i.inputs.Series?.4:1,i.inputs.Series&&i.inputs.Shading&&(r="+DI "+i.name,s="-DI "+i.name,o=t.Studies.determineColor(i.outputs[i.outputMap[r]]),l=t.Studies.determineColor(i.outputs[i.outputMap[s]]),h=i.getYAxis(e),c={topBand:r,bottomBand:s,topColor:o,bottomColor:l,skipTransform:e.panels[i.panel].name!=i.chart.name,topAxis:h,bottomAxis:h,opacity:.3},!i.highlight&&e.highlightedDraggable&&(c.opacity*=.3),t.fillIntersecting(e,i.panel,c)),i.inputs.Histogram&&t.Studies.createHistogram(e,i,a,!1,n),!1!==i.inputs.Series?t.Studies.displaySeriesAsLine(e,i,a):i.inputs.Series||i.inputs.Histogram||e.displayErrorAsWatermark(i.panel,e.translateIf(i.name)+": "+e.translateIf("Nothing to display"))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:t.Studies.calculateADX,seriesFN:t.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:!1,Histogram:!1},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}})):console.error("adx feature requires first activating studies feature.")},u=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateAlligator=function(e,i){var a,n,r,s,o;if(a={J:Number(i.inputs["Jaw Period"]),T:Number(i.inputs["Teeth Period"]),L:Number(i.inputs["Lips Period"])},(n=i.chart.scrubbed).length<Math.max(a.J,a.T,a.L)+1)i.error=!0;else{("Gator"===i.type||i.inputs["Show Lines"])&&(t.Studies.MA("welles wilder",a.J,"hl/2",i.inputs["Jaw Offset"],"Jaw",e,i),t.Studies.MA("welles wilder",a.T,"hl/2",i.inputs["Teeth Offset"],"Teeth",e,i),t.Studies.MA("welles wilder",a.L,"hl/2",i.inputs["Lips Offset"],"Lips",e,i));for(var l=i.startFrom;l<n.length;l++)if(n[l]&&("Gator"==i.type&&(r=n[l]["Jaw "+i.name],s=n[l]["Lips "+i.name],((o=n[l]["Teeth "+i.name])||0===o)&&((r||0===r)&&(Ce.v0d(0),n[l][i.name+"_hist1"]=Math.abs(Ce.S0d(o,r))),(s||0===s)&&(Ce.Y0d(0),n[l][i.name+"_hist2"]=-Math.abs(Ce.S0d(s,o)))),i.outputMap={},i.outputMap[i.name+"_hist1"]="",i.outputMap[i.name+"_hist2"]=""),i.inputs["Show Fractals"])){if(!(n[l-2]&&n[l-1]&&n[l]&&n[l+1]&&n[l+2]))continue;n[l-2].High&&n[l-1].High&&n[l].High&&n[l+1].High&&n[l+2].High&&n[l].High>n[l-1].High&&n[l].High>n[l-2].High&&n[l].High>n[l+1].High&&n[l].High>n[l+2].High&&(n[l]["Fractal High "+i.name]=1),n[l-2].Low&&n[l-1].Low&&n[l].Low&&n[l+1].Low&&n[l+2].Low&&n[l].Low<n[l-1].Low&&n[l].Low<n[l-2].Low&&n[l].Low<n[l+1].Low&&n[l].Low<n[l+2].Low&&(n[l]["Fractal Low "+i.name]=1)}}},t.Studies.displayAlligator=function(e,i,a){var n;if(n=i.getContext(e),i.inputs["Show Lines"]&&t.Studies.displaySeriesAsLine(e,i,a),i.inputs["Show Fractals"]){e.startClip(),n.globalAlpha=i.underlay?.3:1,!i.highlight&&e.highlightedDraggable&&(n.globalAlpha*=.3);for(var r=2;r<a.length-2;r++)a[r]&&(a[r]["Fractal High "+i.name]&&s("high",r),a[r]["Fractal Low "+i.name]&&s("low",r));e.endClip()}function s(t,i){var s,o;o=e.chart.panel.yAxis.flipped,"high"==t?(n.fillStyle=e.defaultColor,n.textBaseline=o?"top":"bottom",s=e.pixelFromPrice(a[i].High),n.fillText(o?"":"",e.pixelFromBar(r,e.chart)-n.measureText("").width/2+1,o?s+5:s-5)):"low"==t&&(n.fillStyle=e.defaultColor,n.textBaseline=o?"bottom":"top",s=e.pixelFromPrice(a[i].Low),n.fillText(o?"":"",e.pixelFromBar(r,e.chart)-n.measureText("").width/2+1,o?s-5:s+5))}},t.Studies.displayGator=function(e,i,a){var n,r,s,o,l,h,c,d,u;Ce.v9RU(),n=e.panels[i.panel],r=i.getContext(e),s=i.getYAxis(e),o=e.pixelFromPrice(0,n,s),(l=e.layout.candleWidth-2)<2&&(l=1),h=t.Studies.determineColor(i.outputs["Increasing Bar"]),c=t.Studies.determineColor(i.outputs["Decreasing Bar"]),e.canvasColor("stx_histogram"),i.underlay||(r.globalAlpha=1),r.fillStyle="#CCCCCC",e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3);for(var p=0;p<a.length;p++)if(d=a[p],Ce.Y0d(127),u=a[Ce.S0d("1",p,0)],d)for(var m=1;m<=2;m++)u||(u=e.getPreviousBar(e.chart,i.name+"_hist"+m,p)),u?Math.abs(u[i.name+"_hist"+m])<Math.abs(d[i.name+"_hist"+m])?r.fillStyle=h:Math.abs(u[i.name+"_hist"+m])>Math.abs(d[i.name+"_hist"+m])&&(r.fillStyle=c):r.fillStyle="#CCCCCC",d.candleWidth&&(l=Math.floor(Math.max(1,d.candleWidth-2))),r.fillRect(Math.floor(e.pixelFromBar(p,n.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(e.pixelFromPrice(d[i.name+"_hist"+m],n,s)-o));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!0,seriesFN:t.Studies.displayAlligator,calculateFN:t.Studies.calculateAlligator,inputs:{"Show Lines":!0,"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:t.Studies.displayGator,calculateFN:t.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}})):console.error("alligator feature requires first activating studies feature.")},p=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateAroon=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m=Ce;if(m.N9RU(),(i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{if(a=0,n=0,r=null,s=null,t.startFrom>0){m.Y0d(6);var g=m.T0d(7,0,6);(o=i[t.startFrom-g]["_state "+t.name])&&(a=o[0],n=o[1],r=o[2],s=o[3])}for(var f=t.startFrom;f<i.length&&!(h=i[f]).futureTick;f++){if(null===r&&(r=h.High),null===s&&(s=h.Low),(r=Math.max(r,h.High))==h.High)m.Y0d(54),a=m.S0d(363688640,"0");else if(++a>t.days)for(r=h.High,m.Y0d(54),a=m.S0d(1966418112,"0"),l=1;l<=t.days;l++)(r=Math.max(r,i[f-l].High))==i[f-l].High&&(a=l);if((s=Math.min(s,h.Low))==h.Low)m.v0d(0),n=m.T0d(0,"0");else if(++n>t.days)for(s=h.Low,n=0,l=1;l<=t.days;l++)(s=Math.min(s,i[f-l].Low))==i[f-l].Low&&(n=l);c=!isNaN(h.High),d=!isNaN(h.Low),m.Y0d(128),u=100*(m.S0d(20,10,9)-a/t.days),c&&(h["Aroon Up "+t.name]=u),m.Y0d(66);var v=m.T0d(4,1624248600,166589600);m.Y0d(45),p=("100"<<v)*(m.S0d(5,844,13,13)-n/t.days),d&&(h["Aroon Down "+t.name]=p),c&&d&&(h["Aroon Oscillator "+t.name]=h["Aroon Up "+t.name]-h["Aroon Down "+t.name]),h["_state "+t.name]=[a,n,r,s]}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:t.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:t.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}})):console.error("aroon feature requires first activating studies feature.")},m=e=>{var t,i,a;if((t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies){t.Studies.calculateATRBands=function(e,i){var a;Ce.N9RU(),t.Studies.calculateStudyATR(e,i),(a=i.inputs.Field)&&"field"!=a||(a="Close"),t.Studies.calculateGenericEnvelope(e,i,i.inputs.Shift,a,"ATR "+i.name)},t.Studies.calculateSTARCBands=function(e,i){t.Studies.calculateStudyATR(e,i),t.Studies.MA("simple",i.inputs["MA Period"],"Close",0,"_MA",e,i),t.Studies.calculateGenericEnvelope(e,i,i.inputs.Multiplier,"_MA "+i.name,"ATR "+i.name)},t.Studies.calculateATRStops=function(e,i){var a,n,r,s,o,l,h,c,d=Ce;if(a=i.chart.scrubbed){t.Studies.calculateStudyATR(e,i),n=i.inputs.HighLow,d.N9RU();for(var u=Math.max(i.startFrom-1,1);u<a.length-1;u++)r=a[u],d.v0d(0),s=a[d.T0d(1,u)],(o=r["Buy Stops "+i.name])||(o=r["Sell Stops "+i.name]),o||(o=0),r&&s&&(h=l=r.Close,c=r["ATR "+i.name]*i.inputs.Multiplier,r.Close>o&&s.Close>o?(n&&(l=r.High),d.Y0d(0),h=Math.max(o,d.S0d(c,l))):r.Close<=o&&s.Close<=o?(n&&(l=r.Low),d.Y0d(2),h=Math.min(o,d.T0d(l,c))):r.Close>o?(n&&(l=r.High),d.Y0d(0),h=d.S0d(c,l)):r.Close<=o&&(n&&(l=r.Low),d.Y0d(2),h=d.S0d(l,c)),l<=h?(d.Y0d(2),a[d.T0d(u,1)]["Buy Stops "+i.name]=h,d.Y0d(2),delete a[d.S0d(u,1)]["Sell Stops "+i.name]):l>h&&(d.Y0d(2),a[d.T0d(u,1)]["Sell Stops "+i.name]=h,d.Y0d(2),delete a[d.S0d(u,1)]["Buy Stops "+i.name]),d.v0d(129),a[d.T0d("1",0,u)]["All Stops "+i.name]=h);i.referenceOutput="All Stops",i.outputMap={},i.outputMap["All Stops "+i.name]=""}},Ce.v0d(0),i=-Ce.S0d(0,"2102652333"),a=2;for(var n=1;Ce.S31(n.toString(),n.toString().length,51020)!==i;n++)t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:t.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:.1,step:.1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:.1,step:.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!0,seriesFN:t.Studies.displayPSAR2,calculateFN:t.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!1},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:.1,step:.1}}}}),a+=2;-2059071669!==Ce.S31(a.toString(),a.toString().length,12275)&&(t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ATR:{name:"auto",calculateFN:t.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"auto",overlay:!1,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateATRBands,inputs:{Period:8,Field:"Channel Fill",Shift:9,"Channel Fill":!1},outputs:{"ATR Bands Top":"Channel Fill","ATR Bands Bottom":"points","ATR Bands Channel":"auto"},attributes:{Shift:{min:271,step:174}}},"STARC Bands":{name:"ATR Bands Bottom",overlay:!1,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateSTARCBands,inputs:{Period:82,"MA Period":7,Multiplier:759,"Channel Fill":!1},outputs:{"STARC Bands Top":"MA Period","STARC Bands Median":"STARC Bands Median","STARC Bands Bottom":"MA Period"},attributes:{Multiplier:{min:349,step:299}}},"ATR Trailing Stop":{name:"auto",overlay:!1,seriesFN:t.Studies.displayPSAR2,calculateFN:t.Studies.calculateATRStops,inputs:{Period:80,Multiplier:6,"Plot Type":["ATR Trailing Stop","ATR Bands Bottom"],HighLow:!0},outputs:{"Buy Stops":"MA Period","Sell Stops":"MA Period"},attributes:{Multiplier:{min:159,step:810}}}}))}else console.error("atr feature requires first activating studies feature.")},g=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateAwesomeOscillator=function(e,i){var a;if(Ce.N9RU(),(a=i.chart.scrubbed).length<33)i.error=!0;else{t.Studies.MA("simple",5,"hl/2",0,"_MA5",e,i),t.Studies.MA("simple",34,"hl/2",0,"_MA34",e,i);for(var n=Math.max(i.startFrom,33);n<a.length;n++)a[n]&&(a[n][i.name+"_hist"]=a[n]["_MA5 "+i.name]-a[n]["_MA34 "+i.name]);i.outputMap={},i.outputMap[i.name+"_hist"]=""}},t.Studies.displayAwesomeOscillator=function(e,i,a){var n,r,s,o,l,h,c,d,u;n=e.panels[i.panel],r=i.getContext(e),s=i.getYAxis(e),o=e.pixelFromPrice(0,n,s),(l=e.layout.candleWidth-2)<2&&(Ce.v0d(21),l=Ce.T0d("1",1)),h=t.Studies.determineColor(i.outputs["Increasing Bar"]),c=t.Studies.determineColor(i.outputs["Decreasing Bar"]),e.canvasColor("stx_histogram"),i.underlay||(r.globalAlpha=1),r.fillStyle="#CCCCCC",e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3);for(var p=0;p<a.length;p++)d=a[p],Ce.v0d(0),(u=a[Ce.S0d(1,p)])||(u=e.getPreviousBar(e.chart,i.name+"_hist",p)),d&&(u&&(u[i.name+"_hist"]<d[i.name+"_hist"]?r.fillStyle=h:u[i.name+"_hist"]>d[i.name+"_hist"]&&(r.fillStyle=c)),d.candleWidth&&(l=Math.floor(Math.max(1,d.candleWidth-2))),r.fillRect(Math.floor(e.pixelFromBar(p,n.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(e.pixelFromPrice(d[i.name+"_hist"],n,s)-o)));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:t.Studies.displayAwesomeOscillator,calculateFN:t.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):console.error("awesomeOscillator feature requires first activating studies feature.")},f=e=>{var t,i;if((t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies){t.Studies.calculateBalanceOfPower=function(e,i){var a,n;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var r=i.startFrom;r<a.length;r++)(n=a[r])["_Ratio "+i.name]=n.Close-n.Open,n.High-n.Low!=0&&(n["_Ratio "+i.name]/=n.High-n.Low);t.Studies.MA(i.inputs["Moving Average Type"],i.days,"_Ratio "+i.name,0,"Result",e,i)}},i=2;for(var a=1;-29005160!==Ce.S31(a.toString(),a.toString().length,21177);a++)t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Bal Pwr":{name:"ma",range:"ma",centerline:1,calculateFN:t.Studies.calculateBalanceOfPower,inputs:{Period:97,"Moving Average Type":"Moving Average Type"}}}),i+=2;832905295!==Ce.S31(i.toString(),i.toString().length,67099)&&(t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Bal Pwr":{name:"ma",range:"ma",centerline:1,calculateFN:t.Studies.calculateBalanceOfPower,inputs:{Period:97,"Moving Average Type":"Moving Average Type"}}})),t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:t.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}})}else console.error("balanceOfPower feature requires first activating studies feature.")},v=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.N9RU(),t.Studies?(t.Studies.calculateBollinger=function(e,i){var a;(a=i.inputs.Field)&&"field"!=a||(a="Close"),t.Studies.MA(i.inputs["Moving Average Type"],i.days,a,0,"_MA",e,i),i.std=new t.Studies.StudyDescriptor(i.name,"STD Dev",i.panel),i.std.chart=i.chart,i.std.startFrom=i.startFrom,i.std.days=i.days,i.std.inputs={Field:a,"Standard Deviations":1,Type:i.inputs["Moving Average Type"]},i.std.outputs={"_STD Dev":null},t.Studies.calculateStandardDeviation(e,i.std),t.Studies.calculateGenericEnvelope(e,i,i.inputs["Standard Deviations"],"_MA "+i.name,"_STD Dev "+i.name),"Boll %b"==i.type&&(i.zoneOutput="%b")},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!0,calculateFN:t.Studies.calculateBollinger,seriesFN:t.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:t.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:t.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}}})):console.error("bollinger feature requires first activating studies feature.")},y=e=>{var t,i;t=2;for(var a=1;-88372152!==Ce.i31(a.toString(),a.toString().length,14584);a++)i=""===+_CIQ?_CIQ:e.CIQ,t+=2;-495664240!==Ce.i31(t.toString(),t.toString().length,89091)&&(i=""===+_CIQ?_CIQ:e.CIQ),Ce.v9RU(),(i="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(i.Studies.calculateCCI=function(e,t){var a,n,r,s=Ce;if(s.N9RU(),(a=t.chart.scrubbed).length<t.days+1)t.error=!0;else{i.Studies.MA("simple",t.days,"hlc/3",0,"MA",e,t);for(var o=Math.max(t.startFrom,t.days-1);o<a.length;o++)if(n=a[o]){r=0;for(var l=0;l<t.days;l++)r+=Math.abs(a[o-l]["hlc/3"]-n["MA "+t.name]);if(r/=t.days,Math.abs(r)<1e-8)s.v0d(54),n["Result "+t.name]=s.T0d(1360171104,"0");else{s.v0d(52);var h=s.T0d(8,2,20,27);n["Result "+t.name]=(n["hlc/3"]-n["MA "+t.name])/("0.015"*h*r)}}}},i.Studies.studyLibrary=i.extend(i.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:i.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}})):console.error("cci feature requires first activating studies feature.")},b=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateCenterOfGravity=function(e,t){var i,a,n,r,s,o=Ce;if((i=t.chart.scrubbed).length<t.days)t.error=!0;else{o.N9RU(),(a=t.inputs.Field)&&"field"!=a||(a="Close");for(var l=Math.max(t.startFrom,t.days-1);l<i.length;l++){o.v0d(54),n=o.S0d(1468499040,"0"),r=0;for(var h=0;h<t.days;h++)o.Y0d(0),s=i[o.T0d(h,l)][a],o.v0d(130),n-=o.S0d(s,1,h),r+=s;r&&(o.Y0d(11),i[l]["Result "+t.name]=o.T0d(r,n))}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:t.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}})):console.error("centerOfGravity feature requires first activating studies feature.")},x=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateChaikinMoneyFlow=function(e,t){var i,a,n,r,s,o=Ce;if(o.N9RU(),(i=t.chart.scrubbed).length<t.days){a=2;for(var l=1;-1823537650!==o.i31(l.toString(),l.toString().length,6288);l++)t.error=!1,a+=2;1808687689!==o.S31(a.toString(),a.toString().length,13418)&&(t.error=!0)}else{n=0,r=0,(s=i[t.startFrom-1])&&(s["_sumMF "+t.name]&&(n=s["_sumMF "+t.name]),s["_sumV "+t.name]&&(r=s["_sumV "+t.name]));for(var h=t.startFrom;h<i.length;h++){if(i[h].High==i[h].Low)i[h]["_MFV "+t.name]=0;else{o.v0d(131);var c=o.T0d(5,7,2,9,3);i[h]["_MFV "+t.name]=i[h].Volume*(c*i[h].Close-i[h].High-i[h].Low)/(i[h].High-i[h].Low)}n+=i[h]["_MFV "+t.name],r+=i[h].Volume,h>t.days-1&&(n-=i[h-t.days]["_MFV "+t.name],(r-=i[h-t.days].Volume)&&(o.v0d(11),i[h]["Result "+t.name]=o.S0d(r,n))),i[h]["_sumMF "+t.name]=n,i[h]["_sumV "+t.name]=r}}},t.Studies.calculateChaikinVolatility=function(e,i){var a,n,r,s=Ce;if(s.N9RU(),(a=i.chart.scrubbed).length<i.days)i.error=!0;else{for(n=i.startFrom;n<a.length&&!a[n].futureTick;n++)a[n]["_High-Low "+i.name]=a[n].High-a[n].Low;for(t.Studies.MA(i.inputs["Moving Average Type"],i.days,"_High-Low "+i.name,0,"_MA",e,i),(r=i.inputs["Rate Of Change"])||(r=i.days),n=Math.max(i.startFrom,r);n<a.length;n++)if(a[n-r]["_MA "+i.name]){if(a[n].futureTick)break;s.Y0d(6);var o=s.T0d(4,103,7);s.v0d(132);var l=s.T0d(2,10,2,9,4);a[n]["Result "+i.name]=o*(a[n]["_MA "+i.name]/a[n-r]["_MA "+i.name]-l)}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:t.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:t.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}})):console.error("chaikin feature requires first activating studies feature.")},C=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.N9RU(),t.Studies?(t.Studies.prettify.variable="vma",t.Studies.movingAverage.conversions.vma="variable",t.Studies.movingAverage.translations.variable="Variable",t.Studies.movingAverage.typeMap.vma="Variable",t.Studies.movingAverage.typeMap.variable="Variable",t.Studies.calculateChandeForecast=function(e,i){var a,n,r,s=Ce;if(a=i.chart.scrubbed,s.N9RU(),a.length<i.days+1)i.error=!0;else{(n=i.inputs.Field)&&"field"!=n||(n="Close"),t.Studies.MA("time series",i.days,n,0,"MA",e,i);for(var o=Math.max(1,i.startFrom);o<a.length;o++){(r=a[o][n])&&"object"==typeof r&&(r=r[i.subField]),s.Y0d(0);var l=s.T0d(6,7);s.v0d(35);var h=s.S0d(1,8,4);a[o]["Result "+i.name]="100"*l*(h-a[o]["MA "+i.name]/r)}}},t.Studies.calculateChandeMomentum=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p=Ce;i=2;for(var m=1;1266377575!==p.i31(m.toString(),m.toString().length,10920);m++)a=t.name,i+=2;for(var g in 1887880240!==p.i31(i.toString(),i.toString().length,80867)&&(a=t.name),a=t.name,p.v9RU(),t.outputs)p.v0d(77),a=p.T0d(" ",a,g);if((n=t.chart.scrubbed).length<t.days+1)t.error=!0;else{(r=t.inputs.Field)&&"field"!=r||(r="Close"),s=0,o=0,l=[];for(var f=t.startFrom-t.days+1;f<n.length;f++)f<1||(h=n[f][r],p.Y0d(133),c=n[p.S0d(f,1170667840,"1")][r],h&&"object"==typeof h&&(h=h.Close),c&&"object"==typeof c&&(c=c.Close),void 0!==c&&(p.v0d(0),d=p.T0d(c,h),l.push(d),s+=d,o+=Math.abs(d),l.length==t.days&&(p.Y0d(108),n[f][a]=p.T0d(o,s,100),s-=u=l.shift(),o-=Math.abs(u))))}},t.Studies.calculateMovingAverageVariable=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x=Ce;i.inputs.Type,a=i.chart.scrubbed,x.v0d(14);var C=x.T0d(1,10,1,26,18);for(var S in n=C/(i.days+1),r=null,x.v9RU(),s=i.name,i.outputs)x.v0d(77),s=x.T0d(" ",s,S);for((o=i.inputs.Field)&&"field"!=o||(o="Close"),i.cmo=new t.Studies.StudyDescriptor(i.name,"cmo",i.panel),i.cmo.chart=i.chart,i.cmo.days=9,i.cmo.inputs={Field:o},i.cmo.startFrom=i.startFrom,i.cmo.outputs={_CMO:null},t.Studies.calculateChandeMomentum(e,i.cmo),l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),u=i.startFrom,p=l,h=i.startFrom-1;h>=0;h--)if((c=a[h][s])||0===c){if(null===r&&(r=c),p<=0)break;p--,u=h}if(null===r){m=2;for(var T=1;-697475447!==x.S31(T.toString(),T.toString().length,12434);T++)x.Y0d(81),r=u=x.T0d("7",0),m+=2;-1145366728!==x.i31(m.toString(),m.toString().length,47218)&&(r=u=0)}for(g=[],h=u;h<a.length;h++)if((c=(f=a[h])[o])&&"object"==typeof c&&(c=c[i.subField]),v=h+l>=0&&h+l<a.length?a[h+l]:null,c||0===c){if(f["_CMO "+i.name]||0===f["_CMO "+i.name]){x.v0d(100);var D=x.T0d(15,87,5,92,114);y=Math.abs(f["_CMO "+i.name])/D,x.Y0d(134),r=b=x.T0d(y,c,r,y,n,1,n),h<i.days&&(b=null),v?v[s]=b:h+l>=a.length&&((d={})[s]=b,g.push(d))}}else v?v[s]=null:h+l>=a.length&&((d={})[s]=null,g.push(d));i.appendFutureTicks(e,g)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:t.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:t.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}})):console.error("chande feature requires first activating studies feature.")},S=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateChoppiness=function(e,i){var a,n,r;function s(e,t){var i,n;Ce.v0d(135);var r=Ce.S0d(12,4,2,23);i=Number.MAX_VALUE*r,n=Number.MAX_VALUE;for(var s=t-e+1;s<=t;s++)s<0||(i=Math.max(i,a[s].High),n=Math.min(n,a[s].Low));return[n,i]}if(Ce.N9RU(),t.Studies.calculateStudyATR(e,i),(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else for(var o=Math.max(i.startFrom,i.days);o<a.length;o++)if(n=a[o]){if(n.futureTick)break;if(r=s(i.days,o),n["Sum True Range "+i.name]){Ce.Y0d(66);var l=Ce.T0d(170,90,1700);n["Result "+i.name]=l*Math.log(n["Sum True Range "+i.name]/Math.max(1e-6,r[1]-r[0]))/Math.log(i.days)}else isNaN(n)||(n["Result "+i.name]=0)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:t.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}})):console.error("choppiness feature requires first activating studies feature.")},T=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?t.Studies.initPriceRelative?(t.Studies.calculateCorrelationCoefficient=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f=Ce;if(i=t.chart.scrubbed,a=t.days,i.length<a+1)t.error=!0;else{if(t.compare=t.inputs["Compare To"],t.compare)t.compare=[t.compare];else for(var v in t.compare=[],t.outputs={},t.outputMap={},e.chart.series)(n=e.chart.series[v]).parameters.color&&(t.compare.push(n.display),t.outputs["Result "+n.display]=n.parameters.color,t.outputMap["Result "+n.display+" "+t.name]="Result "+n.display);if(t.compare.length)for(var y=0;y<t.compare.length;y++){f.Y0d(21),r=f.S0d("0",1),s=0,o=0,l=0,h=0,c=t.compare[y],d=0;for(var b=t.startFrom-a;b<i.length;b++)if(i[b]){if((u=i[b][c])&&"object"==typeof u&&(u=u.Close),u||0===u||(u=b>0&&i[b-1]&&i[b-1]["_temps "+t.name]&&i[b-1]["_temps "+t.name].c?i[b-1]["_temps "+t.name].c:0),u&&"object"==typeof u&&(u=u.Close),i[b]["_temps "+t.name]={},r+=i[b]["_temps "+t.name].b=i[b].Close,s+=i[b]["_temps "+t.name].c=u,o+=i[b]["_temps "+t.name].b2=Math.pow(i[b].Close,2),l+=i[b]["_temps "+t.name].c2=Math.pow(u,2),h+=i[b]["_temps "+t.name].bc=i[b].Close*u,d>=a){r-=i[b-a]["_temps "+t.name].b,s-=i[b-a]["_temps "+t.name].c,o-=i[b-a]["_temps "+t.name].b2,l-=i[b-a]["_temps "+t.name].c2,h-=i[b-a]["_temps "+t.name].bc,f.Y0d(136);var x=f.S0d(15,11116611456,20,10190227133);p=o/a-Math.pow(r/a,"2">>x),f.v0d(2);var C=f.T0d(0,2);m=l/a-Math.pow(s/a,C),f.v0d(36);var S=f.T0d(6,4);g=(h/a-r*s/Math.pow(a,S))/Math.sqrt(p*m),f.v0d(0),f.T0d(7,4500),f.v0d(2),f.T0d(1033,6),f.v0d(72),f.S0d(17,216,11,24,4201),f.Y0d(137),f.S0d(2480,10,5,5,517),i[b]["Result "+c+" "+t.name]=g}d++}}else t.error="Correlation Coefficient requires at least one comparison symbol"}},t.Studies.calculatePerformance=function(e,i){var a,n,r;if(a=i.chart.scrubbed,(n=i.inputs["Comparison Symbol"].toUpperCase())||(n=i.study.inputs["Comparison Symbol"]),i.days||(i.days=i.study.inputs.Period),a.length<i.days+1)i.error=!0;else{Ce.N9RU(),t.Studies.MA("ma",i.days,"Close",0,"_MA Base",e,i),t.Studies.MA("ma",i.days,n,0,"_MA Comp",e,i);for(var s=i.startFrom;s<a.length;s++)(r=a[s][n])&&(r.Close||0===r.Close)&&(r=r.Close),a[s]["Result "+i.name]=a[s].Close/r*(a[s]["_MA Comp "+i.name]/a[s]["_MA Base "+i.name])}},t.Studies.calculateBeta=function(e,i){var a,n,r,s,o=Ce;if(o.v9RU(),a=i.chart.scrubbed,(n=i.inputs["Comparison Symbol"].toUpperCase())||(n=i.study.inputs["Comparison Symbol"]),i.days||(i.days=i.study.inputs.Period),a.length<i.days+1)i.error=!0;else{for(var l=Math.max(i.startFrom,1);l<a.length;l++){o.v0d(138);var h=o.S0d(19,18,3,6,18);o.Y0d(139);var c=o.S0d(2,5,15,19);a[l]["_BaseChange "+i.name]=a[l].Close/a[l-h].Close-c,(r=a[l][n])&&(r.Close||0===r.Close)&&(r=r.Close),o.Y0d(0),(s=a[o.S0d(1,l)][n])&&(s.Close||0===s.Close)&&(s=s.Close),o.Y0d(140),a[l]["_CompChange "+i.name]=o.T0d(s,"1",r)}for(t.Studies.MA("ma",i.days,"_BaseChange "+i.name,0,"_MA Base",e,i),t.Studies.MA("ma",i.days,"_CompChange "+i.name,0,"_MA Comp",e,i),l=Math.max(i.startFrom,i.days);l<a.length;l++)a[l]["_COVARn "+i.name]=(a[l]["_BaseChange "+i.name]-a[l]["_MA Base "+i.name])*(a[l]["_CompChange "+i.name]-a[l]["_MA Comp "+i.name]),a[l]["_VARn "+i.name]=Math.pow(a[l]["_CompChange "+i.name]-a[l]["_MA Comp "+i.name],2);for(t.Studies.MA("ma",i.days,"_COVARn "+i.name,0,"_COVAR",e,i),t.Studies.MA("ma",i.days,"_VARn "+i.name,0,"_VAR",e,i),l=Math.max(i.startFrom,2*i.days-1);l<a.length;l++)a[l]["Result "+i.name]=a[l]["_COVAR "+i.name]/a[l]["_VAR "+i.name]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:t.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:"Beta",centerline:1,initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!0}})):console.error("comparisonStudies feature requires first activating priceRelative feature."):console.error("comparisonStudies feature requires first activating studies feature.")},D=e=>{var t;Ce.v9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateCoppock=function(e,i){var a,n,r,s,o,l,h,c=Ce;if(a=i.chart.scrubbed,(n=i.inputs.Field)&&"field"!=n||(n="Close"),(r=parseInt(i.inputs["Long RoC"],10))||(r=14),(s=parseInt(i.inputs["Short RoC"],10))||(s=11),o=i.days,c.N9RU(),o||(o=10),!(r<s))if(a.length<Math.max(s,r,o)+1)i.error=!0;else{for(var d=Math.max(i.startFrom,r);d<a.length;d++)if(c.v0d(0),l=a[c.S0d(s,d)][n],c.Y0d(0),h=a[c.S0d(r,d)][n],l&&h){c.v0d(100);var u=c.T0d(5,2,19,398185925,199092972);c.v0d(6);var p=c.T0d(14,16,28);a[d]["_Sum "+i.name]=("100">>u)*(a[d][n]/l+a[d][n]/h-p)}t.Studies.MA("weighted",o,"_Sum "+i.name,0,"Result",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:t.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}}})):console.error("coppock feature requires first activating studies feature.")},Ce.v9RU(),w=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateDarvas=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v;a="A",a+="T",a+="H",n=i.chart.scrubbed,r=0,s=parseInt(i.inputs["ATH Lookback Period"],10),i.inputs["Volume Spike"]&&t.Studies.MA("simple",s,"Volume",0,"ADV",e,i),Ce.v0d(0);var y=Ce.T0d(1900,2e3);for(o=parseFloat(i.inputs["Volume % of Avg"])/y,l="none",h={},c=null,d=null,u=null,p=parseFloat(i.inputs["Level Offset"]),!1,g={},["Darvas","Ghost","Profit","Loss",a,"ADV","Spike"].forEach((function(e){var t=Ce;t.Y0d(2);var a=t.S0d(173,1558);t.v0d(141);var n=t.S0d(6507,19,12,20);t.v0d(142);var r=t.T0d(23270,9,3323,1783);t.Y0d(0),t.S0d(40337,44004),t.v0d(143),t.T0d(16688,7,894,8),t.Y0d(17),t.S0d(14,29,2),t.v0d(48),t.S0d(5,10,2,15,16),g[e]=e+(a>=n?r:" ")+i.name})),m=i.startFrom-1;m>0;m--){if(!(f=n[m])[g.Darvas]&&!f[g.Ghost]){r=f[g.ATH]||0,d=f[g.Profit],u=f[g.Loss];break}for(var b in g)f[b]=null}for(;m<n.length;m++)if(v=n[m]){if(parseFloat(i.inputs["Price Minimum"])<=n[r].Close){if(!c||c.End&&m!=c.End+1||(n[m-1].Close>h.High?h={State:1,High:2*h.High-h.Low,Low:h.High,Start:m,End:2*h.End-h.Start+1}:c=null,c&&(v[g.Ghost]=t.clone(h),h.State=0,n[h.End]&&(n[h.End][g.Ghost]=t.clone(h)),c={Start:h.Start,End:h.End},d=h.High+p,(!u||u<h.Low-p)&&(u=h.Low-p))),v[g.Profit]=d,v[g.Loss]=u,(v.Close>=d||"high/low"==i.inputs["Exit Field"]&&v.High>=d)&&(d=null),"none"==l&&m==r+3&&!n[r+2][g.Darvas]&&!n[r+1][g.Darvas]&&!n[r][g.Darvas]&&n[r].High>v.High&&(l="high"),"high"==l&&(v.High>n[r].High?l="none":n[m-3].Low<n[m-2].Low&&n[m-3].Low<n[m-1].Low&&n[m-3].Low<v.Low&&(h={State:1,High:n[r].High,Low:n[m-3].Low,Start:r},n[r][g.Darvas]=t.clone(h),l="darvas",c&&(c.End>m&&n[c.Start]&&(v[g.Ghost]=t.clone(n[c.Start][g.Ghost]),v[g.Ghost].End=m,n[c.End]&&delete n[c.End][g.Ghost]),v[g.Ghost].State=0,n[c.Start][g.Ghost].End=m,c=null),d=h.High+p,(!u||u<h.Low-p)&&(u=h.Low-p))),"darvas"==l&&(v.Close>h.High||"high/low"==i.inputs["Exit Field"]&&v.High>h.High?c={}:(v.Close<h.Low||"high/low"==i.inputs["Exit Field"]&&v.Low<h.Low)&&(l="none"),c?l="none":"none"==l&&(d=null,u=null),i.inputs["Ghost Boxes"]||(c=null),"none"==l)){for(var x=h.Start+1;x<m;x++)n[x][g.Darvas]=t.clone(h);h.State=0,h.End=m,v[g.Darvas]=t.clone(h),v[g.ATH]=r;continue}u&&(v.Close<h.Low||"high/low"==i.inputs["Exit Field"]&&v.Low<h.Low)&&("darvas"==l&&(l="none"),(v.Close<u||"high/low"==i.inputs["Exit Field"]&&v.Low<u)&&(d=null,u=null),c&&(c.End>m&&n[c.Start]&&(v[g.Ghost]=t.clone(n[c.Start][g.Ghost]),v[g.Ghost].End=m,n[c.End]&&delete n[c.End][g.Ghost]),v[g.Ghost].State=0,n[c.Start][g.Ghost].End=m,c=null))}if(v.High>=n[r].High&&(r=m),(m<3||v.High>=n[m-1].High&&v.High>=n[m-2].High&&v.High>=n[m-3].High)&&m-r>=s){r=m;for(var C=0;C<s&&!(m-C<0);C++)n[m-C].High>n[r].High&&(Ce.v0d(0),r=Ce.T0d(C,m))}i.inputs["Volume Spike"]&&m>s&&m==r&&v[g.ADV]*o<v.Volume&&(v[g.Spike]=1),v[g.ATH]=r}},t.Studies.displayDarvas=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O=Ce;(n=t.Studies.determineColor(i.outputs.Levels))&&"auto"!=n&&!t.isTransparent(n)||(n=e.defaultColor),(r=t.Studies.determineColor(i.outputs.Darvas))&&"auto"!=r&&!t.isTransparent(r)||(r=e.defaultColor),(s=t.Studies.determineColor(i.outputs.Ghost))&&"auto"!=s&&!t.isTransparent(s)||(s=e.defaultColor),o=e.panels[i.panel],l=i.getContext(e),O.Y0d(128);var _=O.T0d(18,1,15);if((u=e.layout.candleWidth-_)<2&&(u=1),e.startClip(i.panel),i.inputs["Stop Levels"]){for(l.setLineDash&&l.setLineDash([2,2]),l.lineWidth=2,l.strokeStyle=n,l.beginPath(),h=0;h<a.length;h++)c=a[h],O.Y0d(0),p=a[O.S0d(1,h)],c&&(d=c["Loss "+i.name]?Math.floor(e.pixelFromPrice(c["Loss "+i.name],o)):null,m=p&&p["Loss "+i.name]?Math.floor(e.pixelFromPrice(p["Loss "+i.name],o)):null,d&&(c.candleWidth&&(u=Math.floor(Math.max(1,c.candleWidth))),g=Math.floor(e.pixelFromBar(h,o.chart)+u/2),f=Math.floor(e.pixelFromBar(h,o.chart)-u/2),m&&m>=d?l.lineTo(f,d):0===h?l.moveTo(e.chart.left,d):l.moveTo(f,d),l.lineTo(g,d)));l.stroke(),l.setLineDash&&l.setLineDash([]),l.lineWidth=1}v=-10,b=0,C=-10,T=0,w=!1,k=!1,O.v0d(144);var F=O.T0d(1,100472,13,8374);O.v0d(145);var H=O.S0d(2,6,2,5,0);for(L=l.measureText(1520==F?5110:"").width/H,A=0,h=0;h<a.length;h++)if(a[h]){if((a[h].Close||0===a[h].Close)&&(A=h),a[h]["Spike "+i.name]&&(l.fillStyle=r,l.textBaseline="bottom",M=e.pixelFromPrice(a[h].High,e.chart.panel),l.fillText("",e.pixelFromBar(h)-L,M-5)),a[h].candleWidth&&(u=Math.floor(Math.max(1,a[h].candleWidth))),a[h]["Darvas "+i.name])if(1!=(c=a[h]["Darvas "+i.name]).State||w){if(0===c.State){O.Y0d(7);var I=O.S0d(14,9,27,24);b=Math.floor(e.pixelFromBar(h,o.chart)+u/I)-v,y=Math.floor(e.pixelFromPrice(c.High,o)),x=Math.floor(e.pixelFromPrice(c.Low,o))-y,l.strokeStyle=r,l.fillStyle=r,i.inputs["Stop Levels"]?l.globalAlpha=.3:(l.strokeRect(v,y,b,x),l.globalAlpha=.2),l.fillRect(v,y,b,x),l.globalAlpha=1,w=!1}}else v=Math.floor(e.pixelFromBar(h,o.chart)-u/2),y=Math.floor(e.pixelFromPrice(c.High,o)),x=Math.floor(e.pixelFromPrice(c.Low,o))-y,w=!0;if(a[h]["Ghost "+i.name]&&i.inputs["Ghost Boxes"])if(1!=(c=a[h]["Ghost "+i.name]).State||k){if(0===c.State){c.Start==c.End&&(C=Math.floor(e.pixelFromBar(h,o.chart)-u/2)),O.v0d(96);var q=O.S0d(11,6,8,11);T=Math.floor(e.pixelFromBar(h,o.chart)+u/q)-C,S=Math.floor(e.pixelFromPrice(c.High,o)),D=Math.floor(e.pixelFromPrice(c.Low,o))-S,l.strokeStyle=s,l.fillStyle=s,i.inputs["Stop Levels"]?l.globalAlpha=.3:(l.strokeRect(C,S,T,D),l.globalAlpha=.2),l.fillRect(C,S,T,D),l.globalAlpha=1,k=!1}}else C=Math.floor(e.pixelFromBar(h,o.chart)-u/2),S=Math.floor(e.pixelFromPrice(c.High,o)),T=Math.floor((c.End-c.Start+1)*e.layout.candleWidth+u/2),D=Math.floor(e.pixelFromPrice(c.Low,o))-S,k=!0}if(w){O.Y0d(135);var E=O.S0d(12,13,1,158);b=Math.floor(e.pixelFromBar(A,o.chart)+u/E)-v,l.strokeStyle=r,l.fillStyle=r,i.inputs["Stop Levels"]?l.globalAlpha=.3:(l.beginPath(),O.Y0d(22),l.moveTo(O.T0d(2,v,b),y),l.lineTo(v,y),O.Y0d(2),l.lineTo(v,O.S0d(y,x)),O.Y0d(22),l.lineTo(O.S0d(2,v,b),O.S0d(y,x,O.v0d(2))),l.stroke(),l.globalAlpha=.2),O.v0d(146),l.fillRect(v,y,O.S0d(b,"2"),x),l.globalAlpha=1}k&&(l.strokeStyle=s,l.fillStyle=s,i.inputs["Stop Levels"]?l.globalAlpha=.3:(l.strokeRect(C,S,T,D),l.globalAlpha=.2),l.fillRect(C,S,T,D),l.globalAlpha=1),(w||k)&&(i.inputs["Stop Levels"]&&(l.setLineDash&&l.setLineDash([2,2]),l.lineWidth=2,l.strokeStyle=n,P=Math.floor(e.pixelFromBar(A-1,o.chart)+u/2),d&&(l.beginPath(),l.moveTo(P,d),l.lineTo(w?v+2*b:C+T,d),l.stroke()),l.setLineDash&&l.setLineDash([]),l.lineWidth=1),w=!1,k=!1),e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!0,calculateFN:t.Studies.calculateDarvas,seriesFN:t.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!0,"Stop Levels":!1,"Level Offset":.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!0,attributes:{"Price Minimum":{min:.01,step:.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}}})):console.error("darvasBox feature requires first activating studies feature.")},k=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateDetrendedPrice=function(e,i){var a,n,r,s,o;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(n=i.inputs.Field)&&"field"!=n||(n="Close"),r=Math.floor(i.days/2+1),t.Studies.MA(i.inputs["Moving Average Type"],i.days,n,-r,"MA",e,i);for(var l=Math.max(i.days-r-1,i.startFrom-r);l<a.length-r;l++)l<0||((s=a[l][n])&&"object"==typeof s&&(s=s[i.subField]),o=a[l]["MA "+i.name],!s&&0!==s||!o&&0!==o||(Ce.v0d(0),a[l]["Result "+i.name]=Ce.S0d(o,s)))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:t.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}})):console.error("detrended feature requires first activating studies feature.")},L=e=>{var t;Ce.v9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateDisparity=function(e,i){var a,n,r;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{Ce.v9RU(),(n=i.inputs.Field)&&"field"!=n||(n="Close"),t.Studies.MA(i.inputs["Moving Average Type"],i.days,n,0,"_MA",e,i);for(var s=Math.max(i.startFrom,i.days-1);s<a.length;s++)if(a[s]&&(r=a[s]["_MA "+i.name])){Ce.Y0d(0);var o=Ce.T0d(15,16);a[s]["Result "+i.name]=100*(a[s][n]/r-o)}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:t.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}})):console.error("disparity feature requires first activating studies feature.")},A=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.v9RU(),t.Studies?(t.Studies.calculateEaseOfMovement=function(e,i){var a,n,r,s,o,l,h=Ce;if((a=i.chart.scrubbed).length<i.days)i.error=!0;else{h.N9RU();for(var c=Math.max(1,i.startFrom);c<a.length;c++){h.Y0d(142);var d=h.T0d(36,11,25,1);n=(a[c].High+a[c].Low)/d,h.Y0d(53);var u=h.T0d(626,13,20,19);h.Y0d(147);var p=h.S0d(5,2,13,11);r=(a[c-1].High+a[c-u].Low)/p,h.v0d(0),s=h.S0d(r,n),o=a[c].Volume/1e8/(a[c].High-a[c].Low),h.Y0d(11),l=h.S0d(o,s),isFinite(l)?a[c]["_EOM1 "+i.name]=l:a[c]["_EOM1 "+i.name]=NaN}t.Studies.MA(i.inputs["Moving Average Type"],i.days,"_EOM1 "+i.name,0,"Result",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:t.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}})):console.error("easeOfMovement feature requires first activating studies feature.")},M=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateEhlerFisher=function(e,t){var i,a,n,r,s,o=Ce;if((i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{if(a=0,o.v9RU(),t.startFrom>1){o.v0d(2);var l=o.S0d(0,1);a=i[t.startFrom-l]["_n "+t.name]}for(var h=t.startFrom;h<i.length&&!(n=i[h]).futureTick;h++)if(h<t.days-1)n["EF "+t.name]=n["EF Trigger "+t.name]=a;else{r=f(t.days,h),o.Y0d(148);var c=o.T0d(9,14,6,3,6);o.v0d(149);var d=o.T0d(9,15,10,1,6);o.v0d(46);var u=o.T0d(17,1,14,1,30);o.v0d(14);var p=o.T0d(1,3,20,77,18);(a=.33*c*(((i[h].High+i[h].Low)/d-r[0])/Math.max("0.000001"*u,r[p]-r[0])-.5)+.67*a)>0?a=Math.min(a,.9999):a<0&&(a=Math.max(a,-.9999)),s=h?i[h-1]["EF "+t.name]:0,o.v0d(6);var m=o.T0d(18,0,17);o.Y0d(142);var g=o.S0d(0,11,1,12);n["EF "+t.name]="0.5"*m*Math.log((1+a)/(g-a))+.5*s,n["EF Trigger "+t.name]=s,n["_n "+t.name]=a}}function f(e,t){var a,n,r;a=Number.MAX_VALUE,n=-1*Number.MAX_VALUE;for(var s=t-e+1;s<=t;s++){o.v0d(10);var l=o.T0d(14,22,43,3,22);r=(i[s].High+i[s].Low)/l,a=Math.min(a,r),n=Math.max(n,r)}return[a,n]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:t.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}})):console.error("ehlerFisher feature requires first activating studies feature.")},P=e=>{var t,i;if(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.N9RU(),t.Studies)t.Studies.calculateElderImpulse=function(e,i){var a,n,r,s,o,l=Ce;l.N9RU(),a=i.chart.scrubbed,n=i.outputs.Bullish,r=i.outputs.Bearish,s=i.outputs.Neutral,t.Studies.MA("exponential",13,"Close",0,"_MA",e,i),l.v0d(141),l.T0d(3869,10,2,19),l.v0d(24),l.S0d(14,1,17,7193),l.Y0d(3);var h=l.T0d(20,18,565);l.Y0d(35);var c=l.T0d(2997,23976,4);l.v0d(143);var d=l.S0d(148667599,148667599,148667583,1);l.Y0d(3),l.S0d(5,17,6898),l.Y0d(45);var u=l.T0d(7,202717,4944,6);i.macd=new t.Studies.StudyDescriptor((h<=c?"_":62.6!="5830">>d?"D":u)+i.name,"macd",i.panel),i.macd.chart=i.chart,i.macd.days=i.days,i.macd.startFrom=i.startFrom,i.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},i.macd.outputs={_MACD:null,_Signal:null},t.Studies.calculateMACD(e,i.macd);for(var p=i.startFrom;p<a.length;p++)o=0===p?s:a[p]["_MA "+i.name]>a[p-1]["_MA "+i.name]&&a[p]["_"+i.name+"_hist"]>a[p-1]["_"+i.name+"_hist"]?n:a[p]["_MA "+i.name]<a[p-1]["_MA "+i.name]&&a[p]["_"+i.name+"_hist"]<a[p-1]["_"+i.name+"_hist"]?r:s,a[p]["Result "+i.name]=o},t.Studies.calculateElderRay=function(e,i){var a;if((a=i.chart.scrubbed).length<i.days)i.error=!0;else{t.Studies.MA("exponential",i.days,"Close",0,"_EMA",e,i);for(var n=Math.max(i.startFrom,i.days-1);n<a.length;n++)a[n][i.name+"_hist1"]=a[n].High-a[n]["_EMA "+i.name],a[n][i.name+"_hist2"]=a[n].Low-a[n]["_EMA "+i.name];i.outputMap={},i.outputMap[i.name+"_hist1"]="",Ce.N9RU(),i.outputMap[i.name+"_hist2"]=""}},t.Studies.calculateElderForce=function(e,i){var a;if((a=i.chart.scrubbed).length<i.days)i.error=!0;else{for(var n=Math.max(1,i.startFrom);n<a.length;n++){Ce.Y0d(0);var r=Ce.T0d(1,2);a[n]["_EF1 "+i.name]=a[n].Volume*(a[n].Close-a[n-r].Close)}t.Studies.MA("exponential",i.days,"_EF1 "+i.name,0,"Result",e,i)}},t.Studies.initElderImpulse=function(e,i,a,n,r,s){var o;return Ce.N9RU(),o=t.Studies.initializeFN(e,i,a,n,r,s),r.calculateOnly||(e.chart.customChart={chartType:"colored_bar",colorFunction:function(e,t,i){var a;return(a=t["Result "+o.name])&&"object"==typeof a&&(a=a.color),a}},e.setMainSeriesRenderer()),o},t.Studies.displayElderForce=function(e,i,a){var n,r,s,o;t.Studies.displaySeriesAsLine(e,i,a),n=t.Studies.determineColor(i.outputs.Result),r=e.panels[i.panel],s=i.getYAxis(e),o={skipTransform:r.name!=i.chart.name,panelName:i.panel,band:"Result "+i.name,threshold:0,color:n,yAxis:s},!i.highlight&&e.highlightedDraggable&&(o.opacity=.3),o.direction=1,t.preparePeakValleyFill(e,o),o.direction=-1,t.preparePeakValleyFill(e,o)},t.Studies.displayElderRay=function(e,i,a){var n,r,s,o,l,h,c;n=e.panels[i.panel],r=i.getContext(e),s=i.getYAxis(e),o=e.pixelFromPrice(0,n,s),Ce.v0d(150);var d=Ce.S0d(19,4,16,4);function u(a,h,d,u){r.fillStyle=t.Studies.determineColor(i.outputs[d]),r.fillRect(Math.floor(e.pixelFromBar(a,n.chart)-l/2+l*h),Math.floor(o),Math.floor(l*(1-2*h)),Math.floor(e.pixelFromPrice(c[i.name+u],n,s)-o))}(l=e.layout.candleWidth-d)<2&&(l=1),e.canvasColor("stx_histogram"),h=r.fillStyle,i.underlay||(Ce.Y0d(81),r.globalAlpha=Ce.S0d("1",0)),e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3);for(var p=0;p<a.length;p++)(c=a[p])&&(c.candleWidth&&(l=Math.floor(Math.max(1,c.candleWidth-2))),c[i.name+"_hist1"]>0&&u(p,0,"Elder Bull Power","_hist1"),c[i.name+"_hist2"]<0&&u(p,0,"Elder Bear Power","_hist2"),c[i.name+"_hist1"]<0&&u(p,.1,"Elder Bull Power","_hist1"),c[i.name+"_hist2"]>0&&u(p,.1,"Elder Bear Power","_hist2"));e.endClip(),r.fillStyle=h},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:t.Studies.calculateElderForce,seriesFN:t.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:t.Studies.displayElderRay,calculateFN:t.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:t.Studies.calculateElderImpulse,initializeFN:t.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:!0,inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(e,t){e.chart.customChart=null,e.setMainSeriesRenderer()}}});else{i=2;for(var a=1;-1315741414!==Ce.i31(a.toString(),a.toString().length,36174);a++)console.error(""),i+=2;871400868!==Ce.S31(i.toString(),i.toString().length,70911)&&console.error("elder feature requires first activating studies feature.")}},O=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateFractalChaos=function(e,t){var i,a,n,r,s,o,l,h=Ce;if(i=t.chart.scrubbed,a=0,n=0,h.Y0d(81),r=h.S0d("0",0),t.startFrom&&"Fractal Chaos Bands"==t.type){h.Y0d(0);var c=h.T0d(9,10);a=i[t.startFrom-c]["Fractal High "+t.name],h.v0d(6);var d=h.T0d(10,0,9);n=i[t.startFrom-d]["Fractal Low "+t.name]}for(var u=Math.max(4,t.startFrom);u<i.length&&!i[u].futureTick;u++){for(s=!isNaN(i[u].High),o=!isNaN(i[u].Low),(s||o)&&(i[u]["Result "+t.name]=0),r=0,l=0;l<=u&&i[u-l]&&!(i[u-l].High>i[u-2].High)&&!(l<2&&i[u-l].High==i[u-2].High);l++)if(i[u-l].High<i[u-2].High&&r++,4==r){a=i[u-2].High;break}for("Fractal Chaos Bands"==t.type?s&&(i[u]["Fractal High "+t.name]=a>0?a:null):4==r&&(i[u]["Result "+t.name]=1),r=0,l=0;l<=u&&i[u-l]&&!(i[u-l].Low<i[u-2].Low)&&!(l<2&&i[u-l].Low==i[u-2].Low);l++)if(i[u-l].Low>i[u-2].Low&&r++,4==r){n=i[u-2].Low;break}"Fractal Chaos Bands"==t.type?o&&(i[u]["Fractal Low "+t.name]=n>0?n:null):4==r&&(h.v0d(44),i[u]["Result "+t.name]=-h.T0d(433809056,"1"))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:t.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:t.Studies.calculateFractalChaos,seriesFN:t.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}})):console.error("fractalChaos feature requires first activating studies feature.")},_=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateMaxHighMinLow=function(e,t){var i,a,n,r,s,o,l,h=Ce;if(h.v9RU(),i=t.chart.scrubbed,a=t.days,n=t.days,t.inputs["High Period"]&&(a=t.inputs["High Period"]),t.inputs["Low Period"]&&(n=t.inputs["Low Period"]),i.length<Math.max(a,n)+1)t.error=!0;else{if(r=Number.MAX_VALUE,s=-1*Number.MAX_VALUE,t.startFrom>1){for(o=1;o<a;o++)t.startFrom-o>=0&&(s=Math.max(s,i[t.startFrom-o].High));for(o=1;o<n;o++)t.startFrom-o>=0&&(r=Math.min(r,i[t.startFrom-o].Low))}for(var c=Math.max(0,t.startFrom-1);c<i.length;c++){if(s=Math.max(s,i[c].High),r=Math.min(r,i[c].Low),c>=a&&i[c-a].High==s)for(s=i[c].High,o=1;o<a;o++)s=Math.max(s,i[c-o].High);if(c>=n&&i[c-n].Low==r)for(r=i[c].Low,o=1;o<n;o++)r=Math.min(r,i[c-o].Low);if(l=0,"HHV"==t.type)l=s;else if("LLV"==t.type)l=r;else if("Donchian Width"==t.type)h.v0d(0),l=h.T0d(r,s);else if("GAPO"==t.type||"Gopala"==t.type)l=Math.log(s-r)/Math.log(n);else{if("VT HZ Filter"==t.type){h.Y0d(0),l=h.S0d(r,s),i[c]["_MHML "+t.name]=l;continue}if("Williams %R"==t.type){h.Y0d(151),l=h.S0d(2,19,32,4,102)*(s-i[c].Close)/(s-r),i[c]["Result "+t.name]=l;continue}}if(c==i.length-1)break;i[c+1].futureTick||("Donchian Channel"==t.type?(h.v0d(2),i[h.S0d(c,1)]["Donchian High "+t.name]=s,h.v0d(152),i[h.S0d(2147483647,"1",c)]["Donchian Low "+t.name]=r,h.Y0d(2),i[h.T0d(c,1)]["Donchian Median "+t.name]=h.T0d("2",s,r,h.Y0d(5))):(h.v0d(2),i[h.S0d(c,1)]["Result "+t.name]=l))}}},t.Studies.calculateVerticalHorizontalFilter=function(e,i){var a,n,r,s;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{i.mhml=new t.Studies.StudyDescriptor(i.name,i.type,i.panel),i.mhml.chart=i.chart,i.mhml.days=i.days,i.mhml.startFrom=i.startFrom,i.mhml.inputs={},i.mhml.outputs={_MHML:null},t.Studies.calculateMaxHighMinLow(e,i.mhml),n=0,r=[];for(var o=Math.max(1,i.startFrom-i.days);o<a.length;o++)s=Math.abs(a[o].Close-a[o-1].Close),r.push(s),n+=s,r.length==i.days&&(a[o]["Result "+i.name]=a[o]["_MHML "+i.name]/n,n-=r.shift())}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:t.Studies.calculateMaxHighMinLow,seriesFN:t.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!0},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:t.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:t.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:t.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:t.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:t.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:t.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(e,t){var i,a;i=2;for(var n=1;-166271857!==Ce.i31(n.toString(),n.toString().length,91216);n++)a=t.chart.scrubbed,i+=2;1019581812!==Ce.S31(i.toString(),i.toString().length,56864)&&(a=t.chart.scrubbed);for(var r=t.startFrom;r<a.length;r++)a[r]["Result "+t.name]=a[r].High-a[r].Low},inputs:{}}})):console.error("highLowStudies feature requires first activating studies feature.")},F=e=>{var t;Ce.v9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateIchimoku=function(e,t){var i,a,n,r,s,o,l,h,c=Ce;for(i=t.chart.scrubbed,a={Base:Number(t.inputs["Base Line Period"]),Conv:Number(t.inputs["Conversion Line Period"]),LeadB:Number(t.inputs["Leading Span B Period"]),Lag:Number(t.inputs["Lagging Span Period"])},n=t.startFrom;n<i.length;n++)if(i[n]){r=g(a.Conv,n),i[n]["Conversion Line "+t.name]=(r[1]+r[0])/2,r=g(a.Base,n),c.Y0d(0);var d=c.T0d(16,18);i[n]["Base Line "+t.name]=(r[1]+r[0])/d,n<a.Lag||(i[n-a.Lag]["Lagging Span "+t.name]=i[n].Close)}for(s=[],n=Math.max(0,t.startFrom-a.Base);n<i.length;n++){r=g(a.LeadB,n),c.Y0d(62);var u=c.T0d(299,9,11,3);o=(i[n]["Conversion Line "+t.name]+i[n]["Base Line "+t.name])/u,c.v0d(62);var p=c.S0d(4591,17,15,18);c.Y0d(153);var m=c.T0d(11,0,14,27,4);l=(r["1"*p]+r[0])/m,i[n+a.Base]?(i[n+a.Base]["Leading Span A "+t.name]=o,i[n+a.Base]["Leading Span B "+t.name]=l):((h={})["Leading Span A "+t.name]=o,h["Leading Span B "+t.name]=l,s.push(h))}function g(e,t){var a,n;a=Number.MAX_VALUE,c.Y0d(52);var r=c.T0d(5,0,17,21);n=Number.MAX_VALUE*r;for(var s=t-e+1;s<=t;s++)s<0||(a=Math.min(a,i[s].Low),n=Math.max(n,i[s].High));return[a,n]}t.appendFutureTicks(e,s)},t.Studies.displayIchimoku=function(e,i,a){var n,r,s,o,l,h,c;n="Leading Span A "+i.name,r="Leading Span B "+i.name,s=t.Studies.determineColor(i.outputs[i.outputMap[n]]),o=t.Studies.determineColor(i.outputs[i.outputMap[r]]),l=e.panels[i.panel],h=i.getYAxis(e),c={topBand:n,bottomBand:r,topColor:s,bottomColor:o,skipTransform:l.name!=i.chart.name,topAxis:h,bottomAxis:h,opacity:.3},!i.highlight&&e.highlightedDraggable&&(c.opacity*=.3),t.fillIntersecting(e,i.panel,c),Ce.N9RU(),t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:t.Studies.calculateIchimoku,seriesFN:t.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}})):console.error("ichimoku feature requires first activating studies feature.")},H=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateIntradayMomentum=function(e,t){var i,a,n,r,s,o,l=Ce;if(l.N9RU(),i=t.chart.scrubbed,a=t.days,i.length<a+1)t.error=!0;else{if(n=0,r=0,t.startFrom>1){n=i[t.startFrom-1]["_totUp "+t.name],l.Y0d(121);var h=l.S0d(20,11,9,0);r=i[t.startFrom-h]["_totDn "+t.name]}for(var c=t.startFrom;c<i.length;c++)(s=i[c].Close-i[c].Open)>0?n+=s:r-=s,c>=a&&((o=i[c-a].Close-i[c-a].Open)>0?n-=o:r+=o),l.Y0d(154),i[c]["Result "+t.name]=l.T0d(100,n,r,n),i[c]["_totUp "+t.name]=n,i[c]["_totDn "+t.name]=r}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:t.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("intradayMomentum feature requires first activating studies feature.")},I=e=>{var t,i;if((t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies){t.Studies.calculateKeltner=function(e,i){t.Studies.MA(i.inputs["Moving Average Type"],i.days,"Close",0,"MA",e,i),t.Studies.calculateStudyATR(e,i),t.Studies.calculateGenericEnvelope(e,i,i.inputs.Shift,"MA "+i.name,"ATR "+i.name)},i=2;for(var a=1;-744883127!==Ce.i31(a.toString(),a.toString().length,43449);a++)t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!0},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}}}),i+=2;-855796296!==Ce.S31(i.toString(),i.toString().length,41931)&&(t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Keltner:{name:"Channel Fill",overlay:!1,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateKeltner,inputs:{Period:74,Shift:0,"Moving Average Type":"Keltner Bottom","Channel Fill":!1},outputs:{"Keltner Top":"Keltner Top","Keltner Median":"Keltner Top","Keltner Bottom":"Channel Fill"},attributes:{Shift:{min:203,step:995}}}}))}else console.error("keltner feature requires first activating studies feature.")},q=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateKlinger=function(e,i){var a,n,r,s,o,l,h,c,d,u,p;if(a=i.chart.scrubbed,n=Number(i.inputs["Short Cycle"]),r=Number(i.inputs["Long Cycle"]),a.length<Math.max(n,r)+1)i.error=!0;else{for(s=i.name+"_hist",o="Klinger "+i.name,l="KlingerSignal "+i.name,h="_SV "+i.name,c="_EMA-S "+i.name,d="_EMA-L "+i.name,u=Math.max(1,i.startFrom);u<a.length;u++)p=a[u].Volume,a[u]["hlc/3"]<a[u-1]["hlc/3"]&&(p*=-1),p&&(a[u][h]=p);for(t.Studies.MA("exponential",n,h,0,"_EMA-S",e,i),t.Studies.MA("exponential",r,h,0,"_EMA-L",e,i),u=Math.max(r,i.startFrom);u<a.length&&!a[u].futureTick&&null!==a[u][c]&&null!==a[u][d];u++)a[u][o]=a[u][c]-a[u][d];for(t.Studies.MA("exponential",Number(i.inputs["Signal Periods"]),o,0,"KlingerSignal",e,i),u=i.startFrom;u<a.length;u++)a[u][s]=a[u][o]-a[u][l];i.outputMap[s]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:t.Studies.displayHistogramWithSeries,calculateFN:t.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):console.error("klinger feature requires first activating studies feature.")},E=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.prettify["time series"]="tsma",t.Studies.movingAverage.conversions.tsma="time series",t.Studies.movingAverage.translations["time series"]="Time Series",t.Studies.movingAverage.typeMap.tsma="TimeSeries",t.Studies.movingAverage.typeMap["time series"]="TimeSeries",t.Studies.calculateMovingAverageTimeSeries=function(e,i){var a,n,r,s,o,l,h,c;for(var d in i.ma=new t.Studies.StudyDescriptor(i.name,"ma",i.panel),i.ma.chart=i.chart,i.ma.days=i.days,i.ma.startFrom=i.startFrom,i.ma.inputs=i.inputs,t.Studies.calculateLinearRegressionIndicator(e,i.ma),a=i.name,i.outputs)Ce.Y0d(77),a=Ce.S0d(" ",a,d);n=parseInt(i.inputs.Offset,10),isNaN(n)&&(n=0),r=i.chart.scrubbed,s=n;for(var u=i.startFrom-1;u>=0;u--)if((o=r[u][a])||0===o){if(!(s>0))break;s--}for(l=[],u++;u<r.length;u++)h=r[u],u+n>=0&&(u+n<r.length?(Ce.v0d(2),r[Ce.T0d(u,n)][a]=h["Forecast "+i.name]):((c={})[a]=h["Forecast "+i.name],l.push(c)));i.appendFutureTicks(e,l)},t.Studies.calculateLinearRegressionIndicator=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f=Ce;if((i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{(a=t.inputs.Field)&&"field"!=a||(a="Close"),f.v0d(33);var v=f.S0d(5,36,29);n=t.days*(t.days+1)/v,r=Math.pow(n,2),f.Y0d(15);var y=f.T0d(15,9,94,7);f.v0d(24);var b=f.S0d(19,30,0,11);f.v0d(0);var x=f.T0d(19,22);if(s=n*(y*t.days+b)/x,o=0,f.v0d(44),l=f.T0d(1407587616,"0"),h=0,t.startFrom){f.Y0d(155);var C=f.S0d(3,0,2,2);(c=i[t.startFrom-C]["_sums "+t.name])&&(l=c[0],o=c[1],h=c[2])}for(var S=t.startFrom;S<i.length;S++)if((d=i[S][a])&&"object"==typeof d&&(d=d[t.subField]),(d||0===d)&&(l+=t.days*d-o,o+=d,f.Y0d(34),h+=Math.pow(d,f.S0d(2147483647,"2")),!(S<t.days-1))){if(S>t.days-1){if((u=i[S-t.days][a])&&"object"==typeof u&&(u=u[t.subField]),!u&&0!==u)continue;o-=u,h-=Math.pow(u,2)}p=(t.days*l-n*o)/(t.days*s-r),i[S]["Slope "+t.name]=p,m=(o-p*n)/t.days,i[S]["Intercept "+t.name]=m,i[S]["Forecast "+t.name]=m+p*t.days,g=(t.days*s-r)/(t.days*h-Math.pow(o,2)),f.v0d(156),i[S]["RSquared "+t.name]=f.T0d(g,p,p),i[S]["_sums "+t.name]=[l,o,h]}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!0,calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}})):console.error("linearRegression feature requires first activating studies feature.")},V=e=>{var t;Ce.v9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateMACD=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m=Ce;if(a=i.chart.scrubbed,n=i.inputs,r=i.name,i.macd1Days||(i.macd1Days=parseFloat(n["Fast MA Period"])),i.macd2Days||(i.macd2Days=parseFloat(n["Slow MA Period"])),i.signalDays||(i.signalDays=parseFloat(n["Signal Period"])),i.days||(i.days=Math.max(i.macd1Days,i.macd2Days,i.signalDays)),a.length<i.days+1)i.error=!0;else{for((s=i.inputs.Field)&&"field"!=s||(s="Close"),(o=n["Moving Average Type"])||(o="exponential"),t.Studies.MA(o,i.macd1Days,s,0,"_MACD1",e,i),t.Studies.MA(o,i.macd2Days,s,0,"_MACD2",e,i),l=c=Math.max(i.startFrom,i.days-1);l<a.length;l++)!(h=a[l])["_MACD1 "+r]&&0!==h["_MACD1 "+r]||!h["_MACD2 "+r]&&0!==h["_MACD2 "+r]||(m.Y0d(2),h[m.S0d("MACD ",r)]=h["_MACD1 "+r]-h["_MACD2 "+r]);for((d=n["Signal MA Type"])||(d="exponential"),t.Studies.MA(d,i.signalDays,"MACD "+r,0,"Signal",e,i),m.v0d(2),u=m.T0d(r,"_hist"),l=c;l<a.length;l++)h=a[l],m.v0d(2),((p=h[m.S0d("Signal ",r)])||0===p)&&(h[u]=h["MACD "+r]-h["Signal "+r]);i.outputMap[u]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:t.Studies.calculateMACD,seriesFN:t.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):console.error("macd feature requires first activating studies feature.")},N=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateMassIndex=function(e,i){var a,n;if((a=i.chart.scrubbed).length<Math.max(9,i.days+1))i.error=!0;else{for(var r=i.startFrom;r<a.length;r++)a[r]["_High-Low "+i.name]=a[r].High-a[r].Low;if(t.Studies.MA("exponential",9,"_High-Low "+i.name,0,"_EMA",e,i),t.Studies.MA("exponential",9,"_EMA "+i.name,0,"_EMA2",e,i),n=0,a[i.startFrom-1]&&a[i.startFrom-1]["_total "+i.name]){Ce.v0d(36);var s=Ce.T0d(10,9);n=a[i.startFrom-s]["_total "+i.name]}for(var o=Math.max(17,i.startFrom);o<a.length;o++){if(n+=a[o]["_EMA "+i.name]/a[o]["_EMA2 "+i.name],o>=17+i.days-1){a[o]["Result "+i.name]=n,Ce.v0d(6);var l=Ce.S0d(8,5,12);n-=a[o-i.days+l]["_EMA "+i.name]/a[o-i.days+1]["_EMA2 "+i.name]}a[o]["_total "+i.name]=n}}},t.Studies.displayMassIndex=function(e,i,a){var n,r,s,o;Ce.v9RU(),t.Studies.displaySeriesAsLine(e,i,a),n=i.inputs["Bulge Threshold"],e.panels[i.panel],r=i.getYAxis(e),s=t.Studies.determineColor(i.outputs.Result),o={skipTransform:e.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:"Result "+i.name,threshold:n,direction:1,color:s,yAxis:r,opacity:.3},!i.highlight&&e.highlightedDraggable&&(Ce.Y0d(21),o.opacity*=Ce.S0d("0.3",1)),t.preparePeakValleyFill(e,o),t.Studies.drawHorizontal(e,i,null,n,r,s)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:t.Studies.displayMassIndex,calculateFN:t.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:.1}}}})):console.error("massIndex feature requires first activating studies feature.")},j=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateMoneyFlowIndex=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p=Ce;if(p.v9RU(),(i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{a=0,n=0,p.v0d(17);var m=p.T0d(3,49,16);r=i[t.startFrom-m],s="_rawMF "+t.name,o="_cumMF "+t.name,l="Result "+t.name,r&&r[o]&&(p.Y0d(21),a=r[o][p.T0d("0",1)],n=r[o][1]);for(var g=t.startFrom;g<i.length;g++)h=i[g]["hlc/3"],g>0&&!i[g].futureTick&&(p.v0d(0),c=i[p.T0d(1,g)]["hlc/3"],d=h*i[g].Volume,h>c?a+=d:h<c?n-=d*=-1:d=0,g>t.days&&((u=i[g-t.days][s])>0?a-=u:n+=u,0===n?i[g][l]=100:i[g].Volume&&(p.Y0d(157),i[g][l]=p.T0d(1,n,100,a,100))),i[g][s]=d,i[g][o]=[a,n])}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:t.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}})):console.error("moneyFlow feature requires first activating studies feature.")},R=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.prettify=t.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},t.Studies.prettify),t.extend(t.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}}),t.Studies.calculateMovingAverageHull=function(e,i){var a,n,r,s,o,l,h,c;for(a=i.chart.scrubbed,(n=i.inputs.Field)&&"field"!=n||(n="Close"),t.Studies.MA("wma",i.days,n,0,"_WMA1",e,i),t.Studies.MA("wma",Math.ceil(i.days/2),n,0,"_WMA2",e,i),r=i.startFrom-1;r>=0&&((s=a[r][n])&&"object"==typeof s&&(s=s[i.subField]),!s&&0!==s);r--);for(r++;r<a.length;r++){o=a[r],Ce.v0d(124);var d=Ce.S0d(4,88,19,13,15);o["_MMA "+i.name]=d*o["_WMA2 "+i.name]-o["_WMA1 "+i.name]}for(var u in l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),h=Math.floor(Math.sqrt(i.days)),t.Studies.MA("wma",h,"_MMA "+i.name,l,"_HMA",e,i),c=i.name,i.outputs)Ce.v0d(77),c=Ce.T0d(" ",c,u);for(r=Math.max(i.days+h-1,i.startFrom);r<a.length;r++)a[r][c]=a[r]["_HMA "+i.name]},t.Studies.calculateMovingAverageDoubleExponential=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g=Ce;for(a=i.chart.scrubbed,(n=i.inputs.Field)&&"field"!=n||(n="Close"),t.Studies.MA("ema",i.days,n,0,"_EMA1",e,i),t.Studies.MA("ema",i.days,"_EMA1 "+i.name,0,"_EMA2",e,i),r=parseInt(i.inputs.Offset,10),isNaN(r)&&(r=0),l=r,s=i.startFrom-1;s>=0;s--)if((o=a[s][n])&&"object"==typeof o&&(o=o[i.subField]),o||0===o){if(!(l>0))break;l--}for(var f in h=i.name,i.outputs)g.v0d(77),h=g.S0d(" ",h,f);c=2;for(var v=1;623355562!==g.i31(v.toString(),v.toString().length,2627);v++)d=[],c+=2;for(-1683376547!==g.i31(c.toString(),c.toString().length,53531)&&(d=[]),d=[],s++;s<a.length;s++)s<2*(i.days-1)||(u=a[s],g.v0d(155),p=g.S0d(3,0,2,3)*u["_EMA1 "+i.name]-u["_EMA2 "+i.name],s+r>=0&&(s+r<a.length?(g.v0d(2),a[g.T0d(s,r)][h]=p):((m={})[h]=p,d.push(m))));i.appendFutureTicks(e,d)},t.Studies.calculateMovingAverageTripleExponential=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m=Ce;for(a=i.chart.scrubbed,(n=i.inputs.Field)&&"field"!=n||(n="Close"),t.Studies.MA("ema",i.days,n,0,"_EMA1",e,i),t.Studies.MA("ema",i.days,"_EMA1 "+i.name,0,"_EMA2",e,i),t.Studies.MA("ema",i.days,"_EMA2 "+i.name,0,"_EMA3",e,i),r=parseInt(i.inputs.Offset,10),isNaN(r)&&(r=0),l=r,s=i.startFrom-1;s>=0;s--)if((o=a[s][n])&&"object"==typeof o&&(o=o[i.subField]),o||0===o){if(!(l>0))break;l--}for(var g in h=i.name,i.outputs)m.v0d(77),h=m.S0d(" ",h,g);for(c=[],s++;s<a.length;s++)if(!(s<3*(i.days-1))){d=a[s],m.v0d(2);var f=m.S0d(0,3);u=3*d["_EMA1 "+i.name]-f*d["_EMA2 "+i.name]+d["_EMA3 "+i.name],s+r>=0&&(s+r<a.length?(m.Y0d(2),a[m.S0d(s,r)][h]=u):((p={})[h]=u,c.push(p)))}i.appendFutureTicks(e,c)},t.Studies.calculateMAEnvelope=function(e,i){var a,n,r,s,o=Ce;o.v9RU(),(a=i.inputs.Field)&&"field"!=a||(a="Close"),t.Studies.MA(i.inputs["Moving Average Type"],i.days,a,0,"MA",e,i),n=i.inputs["Shift Type"],r=2;for(var l=1;362558350!==o.i31(l.toString(),l.toString().length,93009);l++)s=i.inputs.Shift,r+=2;1672557077!==o.i31(r.toString(),r.toString().length,43310)&&(s=i.inputs.Shift),s=i.inputs.Shift,n||(n="percent",s=i.inputs["Shift Percentage"]),"percent"==n?(o.Y0d(11),t.Studies.calculateGenericEnvelope(e,i,o.T0d(100,s),"MA "+i.name)):"points"==n&&t.Studies.calculateGenericEnvelope(e,i,null,"MA "+i.name,null,Number(s))},t.Studies.calculateMADev=function(e,i){var a,n,r,s,o,l,h,c;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(n=i.inputs.Field)&&"field"!=n||(n="Close"),(r=i.inputs["Points Or Percent"])||(r="Points"),(s=i.inputs["Moving Average Type"])||(s="exponential"),t.Studies.MA(s,i.days,n,0,"_MA",e,i),o=i.name+"_hist";for(var d=Math.max(i.startFrom,i.days-1);d<a.length;d++)(h=(l=a[d])[n])&&"object"==typeof h&&(h=h[i.subField]),((c=l["_MA "+i.name])||0===c)&&("Points"==r?(Ce.Y0d(0),l[o]=Ce.T0d(c,h)):(Ce.Y0d(158),l[o]=Ce.T0d(100,"1",1,c,h)));i.outputMap={},i.outputMap[i.name+"_hist"]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:t.Studies.calculateMADev,seriesFN:t.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:function(e,i){i.inputs["Moving Average Type"]="triangular",t.Studies.calculateMAEnvelope(e,i)},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:.1,step:.1}}}})):console.error("movingAverages feature requires first activating studies feature.")},z=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculatePSAR=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p=Ce;function m(){p.v9RU(),a=0,n=null,r=!r}if(i=t.chart.scrubbed,a=0,n=null,r=!1,p.Y0d(34),s=p.S0d(2147483647,"0"),o=parseFloat(t.inputs["Minimum AF"]),l=parseFloat(t.inputs["Maximum AF"]),t.startFrom>0){p.Y0d(2);var g=p.S0d(0,1);s=i[t.startFrom-g]["Result "+t.name],(h=i[t.startFrom-1]["_state "+t.name])&&3==h.length&&(a=h[0],n=h[1],r=h[2])}for(var f=t.startFrom-1;f<i.length-1;f++)if(!(f<0)){if(i[f].futureTick)break;c=s,r?((!n||n<i[f].High)&&(n=i[f].High,p.v0d(2),a=Math.min(p.T0d(a,o),l)),p.v0d(159),s=p.T0d(c,n,c,a),d=Math.min(i[Math.max(1,f)-1].Low,i[f].Low),s>i[f+1].Low?(s=n,m()):s>d&&(s=d)):((!n||n>i[f].Low)&&(n=i[f].Low,p.Y0d(2),a=Math.min(p.S0d(a,o),l)),p.v0d(159),s=p.S0d(c,n,c,a),u=Math.max(i[Math.max(1,f)-1].High,i[f].High),s<i[f+1].High?(s=n,m()):s<u&&(s=u)),p.Y0d(2),i[p.T0d(f,1)]["_state "+t.name]=[a,n,r],isNaN(i[f].High)&&isNaN(i[f].Low)||(p.v0d(2),i[p.S0d(f,1)]["Result "+t.name]=s)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:t.Studies.calculatePSAR,seriesFN:t.Studies.displayPSAR2,inputs:{"Minimum AF":.02,"Maximum AF":.2}}})):console.error("parabolicSAR feature requires first activating studies feature.")},U=e=>{var t,i,a,n,r=Ce;r.v0d(28),t=r.S0d(16856338,"957478263"),i=2;for(var s=1;r.S31(s.toString(),s.toString().length,31547)!==t;s++)a=""===!_CIQ?_CIQ:e.CIQ,r.Y0d(28),i+=r.S0d(0,"2");if(-899149020!==r.i31(i.toString(),i.toString().length,89371)&&(a=""===!_CIQ?_CIQ:e.CIQ),(a="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies){a.Studies.calculatePivotPoints=function(e,t){var i,n,s,o,l,h,c,d,u,p;function m(){r.Y0d(0);var e=r.T0d(10,11);r.Y0d(113);var t=r.T0d(16,13,1);d.pivotPoint=(d.high+d.low+i[g-e].Close)/t,d.prevHigh=d.high,r.v9RU(),d.prevLow=d.low,d.hlSpread=d.high-d.low,d.high=d.low=0}r.v9RU(),i=t.chart.scrubbed,n="day",s=e.layout.interval,o=e.layout.timeUnit,"day"==s?n="month":a.ChartEngine.isDailyInterval(s)?n="year":"second"==s||"millisecond"==s||"second"==o||"millisecond"==o?n="15min":(l=e.layout.periodicity,"minute"!=s&&(l*=s),l>=30&&(n="week")),h=null,r.Y0d(2),c=r.T0d(4,3)-a.getFromNS(e.chart,"market.beginningDayOfWeek",0),d={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0},t.startFrom>1&&i[t.startFrom-1]["_pointers "+t.name]&&(d=a.clone(i[t.startFrom-1]["_pointers "+t.name]));for(var g=Math.max(1,t.startFrom);g<i.length;g++)if(i[g-1]){if(d.high=Math.max(d.high,i[g-1].High),d.low=Math.min(d.low>0?d.low:i[g-1].Low,i[g-1].Low),t.inputs.Continuous||"year"==n&&i[g].DT.getYear()!=i[g-1].DT.getYear()||"month"==n&&i[g].DT.getMonth()!=i[g-1].DT.getMonth()||"week"==n&&(i[g].DT.getDay()+c)%7<(i[g-1].DT.getDay()+c)%7?m():"day"==n?(null===h&&(h=a.Studies.getMarketOffset({stx:e,localQuoteDate:i[g].DT,shiftToDateBoundary:!0})),u=new Date(new Date(+i[g].DT).setMilliseconds(i[g].DT.getMilliseconds()+h)),(p=new Date(new Date(+i[g-1].DT).setMilliseconds(i[g-1].DT.getMilliseconds()+h))).getDate()!==u.getDate()&&0!==p.getDay()&&e.chart.market.isMarketDate(u)&&(h=null,m())):"15min"!=n||i[g].DT.getHours()==i[g-1].DT.getHours()&&Math.floor(i[g].DT.getMinutes()/15)==Math.floor(i[g-1].DT.getMinutes()/15)||m(),i[g]["Pivot "+t.name]=d.pivotPoint,"fibonacci"==t.inputs.Type.toLowerCase()){r.v0d(12);var f=r.S0d(968,0,17,19,3);i[g]["Resistance 1 "+t.name]=d.pivotPoint+"0.382"*f*d.hlSpread,i[g]["Resistance 2 "+t.name]=d.pivotPoint+.618*d.hlSpread,i[g]["Resistance 3 "+t.name]=d.pivotPoint+d.hlSpread,i[g]["Support 1 "+t.name]=d.pivotPoint-.382*d.hlSpread,i[g]["Support 2 "+t.name]=d.pivotPoint-.618*d.hlSpread,i[g]["Support 3 "+t.name]=d.pivotPoint-d.hlSpread}else{r.v0d(160);var v=r.T0d(8,6,4,12,14);i[g]["Resistance 1 "+t.name]=v*d.pivotPoint-d.prevLow,i[g]["Resistance 2 "+t.name]=d.pivotPoint+d.hlSpread,r.v0d(52);var y=r.T0d(18,0,4,24);i[g]["Resistance 3 "+t.name]=d.prevHigh+y*(d.pivotPoint-d.prevLow),r.Y0d(24);var b=r.S0d(19,1,17,0);i[g]["Support 1 "+t.name]=b*d.pivotPoint-d.prevHigh,i[g]["Support 2 "+t.name]=d.pivotPoint-d.hlSpread,r.v0d(147);var x=r.T0d(6,7,1,3);i[g]["Support 3 "+t.name]=d.prevLow-x*(d.prevHigh-d.pivotPoint)}i[g]["_pointers "+t.name]=a.clone(d)}},a.Studies.displayPivotPoints=function(e,t,i){var n,s;r.v9RU(),t.noSlopes=!t.inputs.Continuous,a.Studies.displaySeriesAsLine(e,t,i),t.inputs.Shading&&(n=e.panels[t.panel],s={noSlopes:t.noSlopes,opacity:t.parameters.opacity?t.parameters.opacity:.2,skipTransform:n.name!=t.chart.name,yAxis:t.getYAxis(e)},!t.highlight&&e.highlightedDraggable&&(s.opacity*=.3),a.prepareChannelFill(e,a.extend({panelName:t.panel,topBand:"Resistance 3 "+t.name,bottomBand:"Resistance 2 "+t.name,color:a.Studies.determineColor(t.outputs["Resistance 3"])},s)),a.prepareChannelFill(e,a.extend({panelName:t.panel,topBand:"Resistance 2 "+t.name,bottomBand:"Resistance 1 "+t.name,color:a.Studies.determineColor(t.outputs["Resistance 2"])},s)),a.prepareChannelFill(e,a.extend({panelName:t.panel,topBand:"Resistance 1 "+t.name,bottomBand:"Pivot "+t.name,color:a.Studies.determineColor(t.outputs["Resistance 1"])},s)),a.prepareChannelFill(e,a.extend({panelName:t.panel,topBand:"Support 1 "+t.name,bottomBand:"Pivot "+t.name,color:a.Studies.determineColor(t.outputs["Support 1"])},s)),a.prepareChannelFill(e,a.extend({panelName:t.panel,topBand:"Support 2 "+t.name,bottomBand:"Support 1 "+t.name,color:a.Studies.determineColor(t.outputs["Support 2"])},s)),a.prepareChannelFill(e,a.extend({panelName:t.panel,topBand:"Support 3 "+t.name,bottomBand:"Support 2 "+t.name,color:a.Studies.determineColor(t.outputs["Support 3"])},s)))},n=2;for(var o=1;-451037082!==r.i31(o.toString(),o.toString().length,69094);o++)a.Studies.studyLibrary=a.extend(a.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:a.Studies.displayPivotPoints,calculateFN:a.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!1,Shading:!1},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:.2}}}}),n+=2;1654905832!==r.S31(n.toString(),n.toString().length,99254)&&(a.Studies.studyLibrary=a.extend(a.Studies.studyLibrary,{"Pivot Points":{name:"#699158",overlay:!1,seriesFN:a.Studies.displayPivotPoints,calculateFN:a.Studies.calculatePivotPoints,inputs:{Type:["#ffd0cf","#ffd0cf"],Continuous:!0,Shading:!0},outputs:{Pivot:"#ffd0cf","Resistance 1":"#b82c0b","Support 1":"#ffd0cf","Resistance 2":"#ffd0cf","Support 2":"Support 2","Resistance 3":"#b82c0b","Support 3":"#ffd0cf"},parameters:{init:{opacity:163}}}}))}else console.error("pivotPoints feature requires first activating studies feature.")},Z=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.v9RU(),t.Studies?(t.Studies.calculatePrettyGoodOscillator=function(e,i){var a;if(Ce.v9RU(),(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{t.Studies.MA("exponential",i.days,"trueRange",0,"_EMA",e,i),t.Studies.MA("simple",i.days,"Close",0,"_SMA",e,i);for(var n=Math.max(1,i.startFrom);n<a.length;n++)a[n]["_SMA "+i.name]&&a[n]["_EMA "+i.name]&&(a[n]["Result "+i.name]=(a[n].Close-a[n]["_SMA "+i.name])/a[n]["_EMA "+i.name])}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:t.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}})):console.error("prettyGoodOscillator feature requires first activating studies feature.")},W=e=>{var t;Ce.v9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculatePMO=function(e,i){var a,n,r,s,o,l=Ce;if(a={Smooth:Number(i.inputs["Smoothing Period"])-1,Double:Number(i.inputs["Double Smoothing Period"])-1,Signal:Number(i.inputs["Signal Period"])},(n=i.chart.scrubbed).length<a.Smooth+a.Double)i.error=!0;else{for((r=i.inputs.Field)&&"field"!=r||(r="Close"),s=i.startFrom;s<n.length;s++)if(n[s]&&n[s-1]&&(l.Y0d(18),o=n[l.T0d(s,"1")][r])){l.Y0d(161);var h=l.T0d(1003,1,1003,12,987);l.v0d(162);var c=l.T0d(8,24,15);n[s]["_ROCx10 "+i.name]=h*(n[s][r]/o-("1"|c))}t.Studies.MA("exponential",a.Smooth,"_ROCx10 "+i.name,0,"_EMAx10",e,i),l.v9RU(),t.Studies.MA("exponential",a.Double,"_EMAx10 "+i.name,0,"PMO",e,i),t.Studies.MA("exponential",a.Signal,"PMO "+i.name,0,"PMOSignal",e,i),i.zoneOutput="PMO"}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:t.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}})):console.error("priceMomentumOscillator feature requires first activating studies feature.")},Y=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculatePriceOscillator=function(e,i){var a,n,r,s,o,l,h,c,d,u=Ce;if(a=i.chart.scrubbed,n=Number(i.inputs["Short Cycle"]),r=Number(i.inputs["Long Cycle"]),a.length<Math.max(n,r)+1)i.error=!0;else{s=i.inputs.Field,o=i.inputs["Moving Average Type"],u.N9RU(),o||(o="simple"),s&&"field"!=s||(s="Close"),i.parameters.isVolume&&(s="Volume",o="exponential"),(l=i.inputs["Points Or Percent"])||(l="Percent"),t.Studies.MA(o,n,s,0,"_Short MA",e,i),t.Studies.MA(o,r,s,0,"_Long MA",e,i);for(var p=Math.max(r,i.startFrom);p<a.length;p++)(h=a[p])&&(c=h["_Short MA "+i.name],d=h["_Long MA "+i.name],!c&&0!==c||!d&&0!==d||("Points"==l?(u.v0d(0),h["Result "+i.name]=u.S0d(d,c)):(u.Y0d(163),h["Result "+i.name]=u.S0d(c,d,100,1)),i.outputs["Increasing Bar"]&&(h[i.name+"_hist"]=h["Result "+i.name],i.outputMap={},i.outputMap[i.name+"_hist"]="")))}},t.Studies.displayRAVI=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v=Ce;v.v9RU(),n=e.panels[i.panel],r=i.getContext(e),v.Y0d(44),s=-v.T0d(434790496,"274394106"),v.v0d(81),o=v.T0d("2",0);for(var y=1;v.i31(y.toString(),y.toString().length,26488)!==s;y++)l=i.getYAxis(e),h=e.pixelFromPrice(8,n,l),(c=7*e.layout.candleWidth)>=3&&(v.Y0d(0),c=v.T0d(0,"2")),d=t.Studies.determineColor(i.outputs["Increasing Bar"]),u=t.Studies.determineColor(i.outputs["Increasing Bar"]),o+=2;if(-1518414997!==v.i31(o.toString(),o.toString().length,21258)){l=i.getYAxis(e),h=e.pixelFromPrice(1,n,l),v.Y0d(0);var b=v.T0d(117,126);(c=e.layout.candleWidth+b)<2&&(v.v0d(0),c=v.S0d(0,"5")),d=t.Studies.determineColor(i.outputs["Increasing Bar"]),u=t.Studies.determineColor(i.outputs["Increasing Bar"])}l=i.getYAxis(e),h=e.pixelFromPrice(0,n,l),v.v0d(66);var x=v.T0d(6,1,6);(c=e.layout.candleWidth-x)<2&&(c=1),d=t.Studies.determineColor(i.outputs["Increasing Bar"]),u=t.Studies.determineColor(i.outputs["Decreasing Bar"]),e.startClip(i.panel),e.canvasColor("stx_histogram"),i.underlay||(r.globalAlpha=1),!i.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3);for(var C=0;C<a.length;C++)p=a[C],v.Y0d(0),(m=a[v.S0d(1,C)])||(m=e.getPreviousBar(e.chart,i.name+"_hist",C)),p&&(g=0,f=0,i.parameters&&i.parameters.studyOverZonesEnabled&&(g=parseFloat(i.parameters.studyOverBoughtValue),f=parseFloat(i.parameters.studyOverSoldValue)),m?p[i.name+"_hist"]>g&&m[i.name+"_hist"]<p[i.name+"_hist"]?r.fillStyle=d:p[i.name+"_hist"]<f&&m[i.name+"_hist"]>p[i.name+"_hist"]?r.fillStyle=u:r.fillStyle="#CCCCCC":r.fillStyle="#CCCCCC",p.candleWidth&&(c=Math.floor(Math.max(1,p.candleWidth-2))),r.fillRect(Math.floor(e.pixelFromBar(C,n.chart)-c/2),Math.floor(h),Math.floor(c),Math.floor(e.pixelFromPrice(p[i.name+"_hist"],n,l)-h)));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:t.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:t.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},RAVI:{name:"RAVI",seriesFN:t.Studies.displayRAVI,calculateFN:t.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}})):console.error("priceVolumeOscillator feature requires first activating studies feature.")},B=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculatePrimeNumber=function(e,t){var i,a,n,r,s,o,l,h,c=Ce;c.N9RU(),i=[],a=t.chart.scrubbed;for(var d=t.startFrom;d<a.length;d++)if(n=a[d]){if(r=n.High,!isNaN(r)){for(var u=0;r>0&&r<=10;u++)r*=10;for(m(r)&&(r+=2),(r=Math.ceil(r))%2==0&&r++;!m(r);)c.v0d(44),r+=c.S0d(1277152192,"2");r/=Math.pow(10,u)}if(s=n.Low,!isNaN(s)){for(var p=0;s>0&&s<=10;p++)s*=10;if(m(s)&&(s-=2),(s=Math.floor(s))%2==0&&s--,s>0){for(;!m(s);)s-=2;s/=Math.pow(10,p)}}"Prime Number Bands"==t.type?(isNaN(r)||(n["Prime Bands Top "+t.name]=r),isNaN(s)||(n["Prime Bands Bottom "+t.name]=Math.max(0,s))):(o=0,l=t.inputs["Tolerance Percentage"]*(r-s)/100,c.v0d(66),(h=r+s-("2">>c.T0d(101237171,303711517,303711513))*n.Close)<l?o=1:h>l&&(o=-1),o&&(n["Result "+t.name]=o))}function m(e){var t;if(e<=0)return!1;if(e!=Math.floor(e))return!1;if(!0===i[e]||!1===i[e])return i[e];t=parseInt(Math.sqrt(e),10);for(var a=2;a<=t;a++)if(e%a==0)return i[e]=!1,!1;return i[e]=!0,!0}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:t.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:.1,step:.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:t.Studies.calculatePrimeNumber,seriesFN:t.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}})):console.error("primeNumber feature requires first activating studies feature.")},Q=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateKST=function(e,i){var a,n,r,s,o,l,h,c,d=Ce;for(d.v9RU(),a=i.chart.scrubbed,(n=i.inputs.Field)&&"field"!=n||(n="Close"),s={},(r={})[1]=Number(i.inputs["Lightest Rate of Change Period"]),r[2]=Number(i.inputs["Light Rate of Change Period"]),r[3]=Number(i.inputs["Heavy Rate of Change Period"]),r[4]=Number(i.inputs["Heaviest Rate of Change Period"]),s[1]=Number(i.inputs["Lightest SMA Period"]),s[2]=Number(i.inputs["Light SMA Period"]),d.Y0d(21),s[d.T0d("3",1)]=Number(i.inputs["Heavy SMA Period"]),s[4]=Number(i.inputs["Heaviest SMA Period"]),o=Number(i.inputs["Signal Period"]),l=i.startFrom;l<a.length;l++)if(a[l])for(h=1;h<=4;h++)if(l>=r[h]&&a[l-r[h]]&&a[l-r[h]][n]){d.v0d(164);var u=d.S0d(16,11,91,16,1164);d.v0d(142);var p=d.S0d(14,18,2,3);a[l]["_ROC"+h+" "+i.name]=u*(a[l][n]/a[l-r[h]][n]-p)}for(h=1;h<=4;h++)t.Studies.MA("simple",s[h],"_ROC"+h+" "+i.name,0,"_SMA"+h,e,i);for(l=i.startFrom;l<a.length;l++)for(a[l]["KST "+i.name]=null,h=1;h<=4;h++)((c=a[l]["_SMA"+h+" "+i.name])||0===c)&&(d.Y0d(21),a[l]["KST "+i.name]+=d.S0d(h,c));t.Studies.MA("simple",o,"KST "+i.name,0,"KSTSignal",e,i)},t.Studies.calculateSpecialK=function(e,i){var a,n,r,s,o,l,h,c,d=Ce;for(d.v9RU(),a=i.chart.scrubbed,(n=i.inputs.Field)&&"field"!=n||(n="Close"),(r=i.inputs.Interval)||(r="daily"),s={daily:[10,15,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]},o={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]},l=i.startFrom;l<a.length;l++)if(a[l])for(h=0;h<s[r].length;h++)if(l>=s[r][h]&&a[l-s[r][h]]&&a[l-s[r][h]][n]){d.v0d(0),d.S0d(98280,105300),d.v0d(165);var u=d.S0d(3,225,15,5,15);d.Y0d(166);var p=d.S0d(12,11,6290,19,902);d.v0d(13),d.S0d(11,3,456,3960),d.v0d(143);var m=d.S0d(50,25,99,2);d.Y0d(0);var g=d.S0d(12,13);a[l]["_ROC"+h+(u===p?"k":" ")+i.name]=m*(a[l][n]/a[l-s[r][h]][n]-g)}for(h=0;h<o[r].length;h++)t.Studies.MA("daily"==r?"simple":"exponential",o[r][h],"_ROC"+h+" "+i.name,0,"_MA"+h,e,i);for(l=i.startFrom;l<a.length;l++)for(a[l]["Result "+i.name]=null,h=0;h<o[r].length;h++){d.Y0d(67),d.T0d(12,1505,8947,7),d.v0d(6);var f=d.T0d(18,6005,33);d.v0d(96);var v=d.S0d(19,86088,4782,1);d.Y0d(64),d.S0d(659,1310,3),((c=a[l]["_MA"+h+(f===v?2805:" ")+i.name])||0===c)&&(d.v0d(167),a[l]["Result "+i.name]+=d.S0d(4,h,1,c))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:t.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:t.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}})):console.error("pring feature requires first activating studies feature.")},X=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.v9RU(),i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.Studies?t.Studies.studyLibrary.PVAT||(t.Studies.initProjectedVolume=function(e,i,a,n,r,s){var o,l,{market:h}=e.chart;return o="00:00",h&&(o=h.getNormalOpen()),o.match(/^[\d]{2}:[\d]{2}$/)&&(o+=":00"),a["Anchor Time"]&&a["Anchor Time"].length||(a["Anchor Time"]=o),l=t.Studies.initializeFN(e,i,a,n,r,s),e.currentlyImporting||(l.defaultAnchorTime=o),Ce.v9RU(),l},t.Studies.validateProjectedVolumeLookback=function(e,t){var{interval:i,periodicity:a}=e.layout,{"Lookback Days":n}=t.inputs;return Ce.Y0d(168),Ce.S0d(n,10,a,i)},t.Studies.calculateProjectedVolume=function(e,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,R,z,U,Z,W,Y,B,Q,X,G=Ce;function K(i,a){var n,r,s,o,l;return n=Te(i),s=De(r=re.getOpen(n)||((o=n).setHours(0),o.setMinutes(0),l=t.Studies.getMarketOffset({stx:e,localQuoteDate:o}),new Date(o.getTime()+l))),a?(s<0&&(s=De(ke(r,1,!0))),!(s>=ne.length)&&s):s}function $(e){console.error(`Expected data for ${Te(e).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`)}n="h",n+="eiki",n+="nash",n+="i";var{interval:J,timeUnit:ee,aggregationType:te}=e.layout,{symbol:ie,scroll:ae,scrubbed:ne,market:re}=e.chart;if(r="PAV"===a.type,s=a.study?a.study.name:a.type,t.ChartEngine.isDailyInterval(J)?a.error=`${s} is Intraday Only`:"tick"===ee?a.error=`Tick mode not supported for ${s}`:"minute"!==ee?a.error=`Sub-minute periodicities not supported for ${s}`:te&&["ohlc",n].includes(te)?t.Studies.validateProjectedVolumeLookback(e,a)||(a.error=`Selected lookback/periodicity combo not supported for ${s}`):a.error=`Aggregation type not supported for ${s}`,!a.error){if(a.inputs["Anchor Selector"]?t.Studies.initAnchorHandle(e,a):t.Studies.removeAnchorHandle(e,a),(o=re?re.getNormalOpen():"00:00").match(/^[\d]{2}:[\d]{2}$/)&&(o+=":00"),!e.currentlyImporting)if(a.defaultAnchorTime){if(o!==a.defaultAnchorTime)return a.defaultAnchorTime=o,a.inputs["Anchor Time"]=o,void t.Studies.repositionAnchor(e,a)}else a.defaultAnchorTime=o;var{"Lookback Days":se,"Anchor Time":oe}=a.inputs,[le,he,ce=0]=oe.split(":");if(l=t.getFn("Market.Symbology.isForexSymbol")(ie),G.N9RU(),h=a.getDependents(e),G.Y0d(0),c=G.T0d(0,"0"),d=[],h.forEach((({inputs:e,outputMap:t})=>{var i;if(G.v9RU(),e.Period){i=2;for(var a=1;-580261466!==G.i31(a.toString(),a.toString().length,28406);a++)c=Math.max(parseInt(e.Period),c),d.push(...Object.keys(t)),i+=2;-81012999!==G.i31(i.toString(),i.toString().length,39257)&&(c=Math.max(parseInt(e.Period),c),d.push(...Object.keys(t)))}})),a.dependentsOutputMap=d,p=K(ne.length-1,!0),m=Math.ceil(ne.length-1-ae),G.Y0d(0),g=K(G.S0d(c,m)),l&&ne[g]&&t.dateToStr(ne[g].DT,"HH:mm")!==o&&(G.Y0d(0),g=K(G.S0d(1,g))),u=!l&&a.startFrom>g&&ne[g]&&void 0!==ne[g]["V "+a.name]&&d.every((e=>(G.N9RU(),![void 0,null].includes(ne[g][e]))))&&!1!==p?p:g,f=ke(Te(g),se),G.Y0d(21),f.setHours(G.S0d("0",1),0,0),y=((v=K(0,!0))||0===v)&&De(ke(ne[v].DT,se,!0)),ne[0].DT>f){if(!e.quoteDriver)return a.error=`Not enough data to calculate ${s}`;if(a.chart.endPoints.begin>f&&e.quoteDriver.extendHistoricalData({from:f}),!(y>0))return;u=y}if(!(u<0||u>ne.length-1)){if(b=ne.length-a.startFrom==1&&a.cachedFutureTicks&&a.cachedLastProjection&&+a.cachedLastProjection.DT==+ne[ne.length-1].DT&&ne[u]["PV "+a.name]){G.v0d(27);var de=G.T0d(11,6,16);ne[ne.length-de]["PV "+a.name]=a.cachedLastProjection.projectedValue,a.appendFutureTicks(e,a.cachedFutureTicks),u=a.startFrom}else{a.cachedFutureTicks=null,a.cachedLastProjection=null,x=[p],C=[];for(var ue=0;ue<se;ue++)S=K(x[0]-1),x.unshift(S);for(;x[se]>=u;){if(T=x.pop(),!ne[T])return $(T);D=we(ne[T].DT);var{hours:pe,minutes:me}=D;if(k=void 0,w=re.getClose(ne[T].DT)){for(L=re.getNextClose(ne[T].DT),k=we(w);(0!==k.hours||0!==k.minutes)&&w.getDate()===L.getDate();)w=L,L=re.getNextClose(L);0===(k=we(w)).hours&&(k.hours=24)}else k={hours:24,minutes:0};A=x.slice();for(var ge=0;ge<A.length;ge++){if(M=A[ge],!ne[M])return $(M);var{hours:fe,minutes:ve}=we(ne[M].DT);if(fe<pe||fe===pe&&ve<me)do{M++,({hours:fe,minutes:ve}=we(ne[M].DT))}while(fe!==pe||ve!==me);A[ge]=M}for(;pe<k.hours||pe===k.hours&&me<k.minutes;){P=!1,O=void 0,_=void 0,F=0,H=0;for(var ye=0;ye<A.length;ye++)if(null!==(I=A[ye])){if(!(q=ne[I]))return $(I);var{hours:be,minutes:xe}=we(q.DT);E=q.DT.getDate(),be===pe&&xe===me&&(F+=q.Volume,H++,A[ye]++,ne[A[ye]].DT.getDate()!==E?A[ye]=null:P||(({hours:O,minutes:_}=we(ne[A[ye]].DT)),P=!0))}if(pe=O,me=_,0===H)break;G.Y0d(11),V=G.T0d(H,F),ne[T]?ne[T]["PV "+a.name]=V:C.push({["PV "+a.name]:V}),T++}x.unshift(K(x[0]-1))}a.cachedLastProjection={DT:ne[ne.length-1].DT,projectedValue:ne[ne.length-1]["PV "+a.name]},a.cachedFutureTicks=C,a.appendFutureTicks(e,C)}if(N=null,j=0,R=0,b&&r)for(;u>0;){if(G.Y0d(103),(U=ne[G.S0d(2147483647,"1",u)]["V "+a.name])||0===U){j=U;break}u--}for(var Se=u;Se<ne.length;Se++)if(W=(Z=ne[Se]).Volume,Y=Z["PV "+a.name],Z.futureTick||(z=Se),null===N&&(N=t.Studies.getMarketOffset({stx:e,localQuoteDate:ne[Se].DT,shiftToDateBoundary:!0})),B=new Date(new Date(Z.DT).getTime()+N),Q=ne[Se-1]&&new Date(new Date(ne[Se-1].DT).getTime()+N),(X=new i.Date(Z.DT,re.market_def.market_tz||"America/New_York")).setHours(le,he,ce),G.v0d(2),(X=new Date(G.S0d(X,N))).setDate(B.getDate()),Q&&B.getDate()!==Q.getDate()&&(N=null,j=0,R=0),B<X)Z["V "+a.name]=0,Z["PV "+a.name]=0;else if(r?(j+=W,R+=Y):(j=W,R=Y),Z["V "+a.name]=j,b||(Z["PV "+a.name]=R),[NaN,null,void 0].includes(j)&&!Z.futureTick)return void(a.error=`${s} requires volume`);a.cachedLastProjection.projectedValue=ne[z]["PV "+a.name],a.outputMap={},a.outputMap["V "+a.name]="",a.outputMap["PV "+a.name]="Average Line",h.forEach((t=>{t.startFrom=u,G.N9RU(),t.study.calculateFN(e,t)}))}}function Te(t){return e.dateFromTick(t,null,!0,"scrubbed")}function De(t){G.v9RU();for(var i=1;-943173786!==G.i31(i.toString(),i.toString().length,48520);i++)return e.tickFromDate(t,1,1,!1,"");if(1544835212!==G.S31(2..toString(),2..toString().length,57677))return e.tickFromDate(t,null,null,!0,"scrubbed")}function we(e){return G.v9RU(),{hours:e.getHours(),minutes:e.getMinutes()}}function ke(e,t,i){for(G.N9RU();t;)e=new Date(new Date(e).setDate(e.getDate()+(i?1:-1))),re.isMarketDate(e)&&t--;return e}},t.Studies.displayProjectedVolume=function(e,i,a){var n,r,s,o,l,h,c,d=Ce;if(i.error)return t.Studies.removeAnchorHandle(e,i);var{"Alert Threshold":u=""}=i.inputs;d.Y0d(169);var p=d.T0d(1,2,60,20,10);d.v0d(170);var m=d.T0d(11,89,6,80,86);n=parseInt(u.slice(0,-1),p)/m,"object"==typeof(r=i.outputs["Alert Bar"])&&(r=r.color),i.volumeField="V "+i.name,i.alignStepToSide=!0,i.extendToEndOfLastBar=!0,i.lineWidth=2,s=e.canvasStyle("stx_volume_underlay_up").opacity,o=e.canvasStyle("stx_volume_underlay_down").opacity,i.colorFunction=function(t){var a,l,h,c,u,p,{Open:m,Close:g,iqPrevClose:f}=t;return a=e.colorByCandleDirection?m:f,d.Y0d(171),l=d.T0d(g,a),h=t["PV "+i.name],c=t["V "+i.name],d.v0d(172),u=d.S0d(1,n,h),{fill_color:(p=n<0?c<u:c>u)&&r||(l?this.fill_color_down:this.fill_color_up),border_color:l?this.border_color_down:this.border_color_up,opacity:p?1:l?o:s,border_opacity:l?o:s}},l=i.study?i.study.name:i.type;var{loadingMore:g}=e.chart;if(h=a.some((e=>(d.N9RU(),e&&e[i.volumeField]&&e["PV "+i.name]))),c=a[0]&&!a[0].futureTick&&(void 0===a[0]["PV "+i.name]||(i.dependentsOutputMap||[]).some((e=>(d.v9RU(),[void 0,null].includes(a[0][e]))))),!h&&g){for(var f=1;-1051497263!==d.i31(f.toString(),f.toString().length,18773);f++)return i.error=`Fetching data for ${l}`;if(1521651126!==d.i31(2..toString(),2..toString().length,1390))return i.error=`Fetching data for ${l}`}t.Studies.createVolumeChart(e,i,a),t.Studies.displaySeriesAsLine(e,i,a),i.anchorHandle&&t.Studies.displayAnchorHandleAndLine(e,i,a),c&&t.Studies.calculateProjectedVolume(e,i)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:!0},calculateFN:t.Studies.calculateProjectedVolume,seriesFN:t.Studies.displayProjectedVolume,initializeFN:t.Studies.initProjectedVolume,removeFN:t.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%","+50%","+25%","None","-25%","-50%","-75%","-100%","-125%","-150%"],"Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:!0},calculateFN:t.Studies.calculateProjectedVolume,seriesFN:t.Studies.displayProjectedVolume,initializeFN:t.Studies.initProjectedVolume,removeFN:t.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}})):console.error("projectedVolume feature requires first activating studies feature.")},G=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculatePsychologicalLine=function(e,t){var i,a,n,r,s;if(Ce.v9RU(),(i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{a=[],n=100/t.days,r=0;for(var o=Math.max(t.startFrom-t.days,1);o<i.length&&!i[o].futureTick;o++)(s=Number(i[o].Close>i[o-1].Close))&&(r+=n),a.push(s),a.length>t.days&&(r-=a.shift()*n),o<t.startFrom||isNaN(i[o].Close)||(i[o]["Result "+t.name]=r)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:t.Studies.calculatePsychologicalLine,inputs:{Period:20}}})):console.error("psychologicalLine feature requires first activating studies feature.")},K=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateQStick=function(e,i){var a;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var n=i.startFrom;n<a.length;n++)a[n]["_Close-Open "+i.name]=a[n].Close-a[n].Open;t.Studies.MA(i.inputs["Moving Average Type"],i.days,"_Close-Open "+i.name,0,"Result",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:t.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}})):console.error("qstick feature requires first activating studies feature.")},$=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateRainbow=function(e,i){var a,n,r,s,o,l,h,c,d,u=Ce;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(n=i.inputs.Field)&&"field"!=n||(n="Close"),r=n,u.v9RU();for(var p=1;p<=10;p++){t.Studies.MA("simple",i.days,r,0,"SMA"+p,e,i),u.v0d(77),u.T0d(19,1375,107),u.v0d(122);var m=u.S0d(943,11,18,13,2419741);u.Y0d(0),u.S0d(8,9),u.Y0d(2);var g=u.S0d(289,4911);r="SMA"+p+(77.95===m?g:" ")+i.name}for(var f=Math.max(i.startFrom,10);f<a.length;f++)if(a[f]){if(a[f].futureTick)break;s=0,o=0,u.Y0d(0);var v=u.S0d(1,0);for(l=Number.MAX_VALUE*v,h=Number.MAX_VALUE,p=1;p<=10;p++){u.Y0d(174);var y=u.T0d(3,17,6599,6585,6579);u.v0d(92);var b=u.S0d(19,41277146,41277154);u.v0d(123);var x=u.S0d(12,2,447,7,1418);u.v0d(66),u.T0d(1643,1658,1643),u.v0d(175);var C=u.T0d(678,2,17,408,9);u.v0d(0);var S=u.T0d(59850,68400);((c=a[f]["SMA"+p+(y<=9343?" ":961.76<"1460">>b?x>C?"C":S:"Z")+i.name])||0===c)&&(s+=c,o++,l=Math.max(l,c),h=Math.min(h,c))}if(i.name.indexOf("Osc")>-1&&(d=L(i.inputs["HHV/LLV Lookback"],f),o)){u.Y0d(141);var T=u.T0d(84,5,8,13);u.Y0d(176);var D=u.S0d(12,17,11,7,11);a[f][i.name+"_hist"]=T*(a[f][n]-s/o)/Math.max(1e-6,d[D]-d[0]),u.Y0d(53);var w=u.S0d(1187,15,102,11);u.Y0d(35);var k=u.S0d(0,19,19);a[f]["Over "+i.name]=w*(l-h)/Math.max(1e-6,d[k]-d[0]),a[f]["Under "+i.name]=-a[f]["Over "+i.name],a[f]["Zero "+i.name]=0}}i.name.indexOf("Osc")>-1&&(i.outputMap={},i.outputMap["Over "+i.name]="Positive Bar",i.outputMap["Under "+i.name]="Negative Bar",i.outputMap["Zero "+i.name]="",i.outputMap[i.name+"_hist"]="")}function L(e,t){var i,n;u.N9RU(),u.Y0d(173);var r=u.T0d(16,3,451,15,17);i=Number.MAX_VALUE*r,n=Number.MAX_VALUE;for(var s=t-e+1;s<=t;s++)s<0||(i=Math.max(i,a[s].Close),n=Math.min(n,a[s].Close));return[n,i]}},t.Studies.displayRainbowMA=function(e,i,a){var n;Ce.N9RU(),n=e.panels[i.panel];for(var r=10;r>0;r--)t.Studies.displayIndividualSeriesAsLine(e,i,n,"SMA"+r+" "+i.name,a)},t.Studies.displayRainbowOsc=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f=Ce;t.Studies.displaySeriesAsLine(e,i,a),n=e.panels[i.panel],r=i.getContext(e),s=i.getYAxis(e),e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3),o=2;for(var v=1;-833467026!==f.S31(v.toString(),v.toString().length,26999);v++)l=e.pixelFromPrice(4,n,s),h=n.name==i.chart.name,c=t.Studies.determineColor(i.outputs["Over "]),r.strokeStyle=c,e.plotDataSegmentAsLine("Over "*i.name,n,{skipTransform:h,label:!0,yAxis:s}),d=r.createLinearGradient(4,l,2,s.flipped?s.bottom:s.top),o+=2;-114082138!==f.S31(o.toString(),o.toString().length,24825)&&(l=e.pixelFromPrice(0,n,s),h=n.name!=i.chart.name,c=t.Studies.determineColor(i.outputs["Positive Bar"]),r.strokeStyle=c,e.plotDataSegmentAsLine("Over "+i.name,n,{skipTransform:h,label:!1,yAxis:s}),d=r.createLinearGradient(0,l,0,s.flipped?s.bottom:s.top)),d.addColorStop(0,e.containerColor),d.addColorStop(1,c),t.prepareChannelFill(e,{skipTransform:h,color:d,opacity:!i.highlight&&e.highlightedDraggable?.3:1,panelName:i.panel,topBand:"Over "+i.name,bottomBand:"Zero "+i.name,yAxis:s}),u=t.Studies.determineColor(i.outputs["Negative Bar"]),r.strokeStyle=u,e.plotDataSegmentAsLine("Under "+i.name,n,{skipTransform:h,label:!1,yAxis:s}),(p=r.createLinearGradient(0,l,0,s.flipped?s.top:s.bottom)).addColorStop(0,e.containerColor),f.v0d(0),p.addColorStop(f.S0d(0,"1"),u),t.prepareChannelFill(e,{skipTransform:h,color:p,opacity:!i.highlight&&e.highlightedDraggable?.3:1,panelName:i.panel,topBand:"Zero "+i.name,bottomBand:"Under "+i.name,yAxis:s}),f.v0d(0);var y=f.S0d(7,9);(m=e.layout.candleWidth-y)<2&&(m=1),e.canvasColor("stx_histogram"),i.underlay||(r.globalAlpha=1),!i.highlight&&e.highlightedDraggable&&(f.v0d(0),r.globalAlpha*=f.S0d(0,"0.3")),r.fillStyle="#CCCCCC";for(var b=0;b<a.length;b++)(g=a[b])&&(g[i.name+"_hist"]>0?r.fillStyle=c:g[i.name+"_hist"]<0&&(r.fillStyle=u),g.candleWidth&&(m=Math.floor(Math.max(1,g.candleWidth-2))),r.fillRect(Math.floor(e.pixelFromBar(b,n.chart)-m/2),Math.floor(l),Math.floor(m),Math.floor(e.pixelFromPrice(g[i.name+"_hist"],n,s)-l)));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!0,calculateFN:t.Studies.calculateRainbow,seriesFN:t.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:t.Studies.calculateRainbow,seriesFN:t.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}})):console.error("rainbow feature requires first activating studies feature.")},J=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateRandomWalk=function(e,t){var i,a,n,r,s,o,l,h,c;if((i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{Ce.v9RU();for(var d=Math.max(2,t.startFrom);d<i.length;d++){a=0,n=i[d].High,r=i[d].Low,s=0,Ce.Y0d(54),o=Ce.S0d(243208800,"0");for(var u=1;u<=t.days&&!i[d].futureTick;u++){if(d<=u){s=o=0;break}(l=(a+=i[d-u].trueRange)/u*Math.sqrt(u))&&(h=(n-i[d-u].Low)/l,c=(i[d-u].High-r)/l,s=Math.max(s,h),o=Math.max(o,c))}i[d].futureTick||isNaN(n)&&isNaN(r)||(i[d]["Random Walk High "+t.name]=s,i[d]["Random Walk Low "+t.name]=o)}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:t.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}})):console.error("randomWalk feature requires first activating studies feature.")},ee=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateRelativeVigor=function(e,i){var a,n,r,s,o,l,h,c,d=Ce;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(n=i.startFrom;n<a.length;n++)r=a[n],isNaN(r.Close)||isNaN(r.Open)||(r["_Change "+i.name]=r.Close-r.Open),isNaN(r.High)||isNaN(r.Low)||(r["_Range "+i.name]=r.High-r.Low);for(t.Studies.MA("triangular",4,"_Change "+i.name,0,"_Numer",e,i),t.Studies.MA("triangular",4,"_Range "+i.name,0,"_Denom",e,i),s=[],d.v9RU(),o=[],n=Math.max(i.startFrom-i.days,0);n<a.length&&!a[n].futureTick;n++)if(null!==a[n]["_Numer "+i.name]||null!==a[n]["_Denom "+i.name]){for(s.push(a[n]["_Numer "+i.name]),o.push(a[n]["_Denom "+i.name]),s.length>i.days&&(s.shift(),o.shift()),l=0,d.v0d(54),h=d.S0d(1230190336,"0"),c=0;c<s.length;c++)l+=s[c];for(c=0;c<o.length;c++)h+=o[c];0===h&&(h=1e-8),n<i.startFrom||(d.v0d(11),a[n]["Rel Vig "+i.name]=d.T0d(h,l))}for(t.Studies.MA("triangular",4,"Rel Vig "+i.name,0,"RelVigSignal",e,i),n=i.startFrom;n<a.length;n++)a[n][i.name+"_hist"]=a[n]["Rel Vig "+i.name]-a[n]["RelVigSignal "+i.name];i.outputMap[i.name+"_hist"]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:t.Studies.displayHistogramWithSeries,calculateFN:t.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):console.error("relativeVigor feature requires first activating studies feature.")},te=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateRSI=function(e,t){var i,a,n,r,s,o,l,h,c=Ce;if(i=t.chart.scrubbed,(a=t.inputs.Field)&&"field"!=a||(a="Close"),i.length<t.days+1)t.error=!0;else{for(var d=t.startFrom;d<i.length;d++)if(d&&(n=i[d],c.v0d(0),r=i[c.S0d(1,d)],(n[a]||0===n[a])&&(r[a]||0===r[a]))){if(s=n[a]-r[a],o=Math.min(d,t.days),(l=r["_avgG "+t.name])||(l=0),c.Y0d(11),l-=c.S0d(o,l),(h=r["_avgL "+t.name])||(h=0),c.Y0d(11),h-=c.S0d(o,h),s>0)c.Y0d(11),l+=c.T0d(o,s);else{if(!(s<=0))continue;c.v0d(11),h-=c.T0d(o,s)}d>=t.days&&(!l&&0===l||!h&&0===h||(n["RSI "+t.name]=(u=l,m=void 0,0===(p=h)?100:(c.Y0d(11),m=c.T0d(p,u),c.v0d(177),c.v9RU(),c.T0d(100,"100",1,65443008,m))))),n["_avgG "+t.name]=l,n["_avgL "+t.name]=h}var u,p,m;t.zoneOutput="RSI"}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:t.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}})):console.error("rsi feature requires first activating studies feature.")},ie=e=>{var t,i;Ce.v9RU(),t=2;for(var a=1;-1521803763!==Ce.S31(a.toString(),a.toString().length,45130);a++)i="undefined"!=typeof _CIQ?_CIQ:e.CIQ,t+=2;-1118284865!==Ce.S31(t.toString(),t.toString().length,83789)&&(i=""==~_CIQ?_CIQ:e.CIQ),i.Studies?(i.Studies.calculateSchaff=function(e,t){var a,n,r,s,o,l,h,c,d,u,p,m,g;function f(e,i,n){var r,s,o,l=Ce;r=null,s=null;for(var h=i-e+1;h<=i;h++){l.Y0d(0);var c=l.S0d(4,7777);l.v0d(178),l.S0d(19,16,12,1119,10),l.Y0d(3);var d=l.S0d(6,16,765);l.v0d(2),l.T0d(7388,17),l.v0d(174);var u=l.S0d(14,2,143,441,6177);(o=a[h][n+(c>=d?" ":153.5==u?56.14:472.19)+t.name])&&(r=null===r?o:Math.min(r,o),s=null===s?o:Math.max(s,o))}return[r,s]}if(a=t.chart.scrubbed,n=t.days,r=Number(t.inputs["Short Cycle"]),s=Number(t.inputs["Long Cycle"]),a.length<Math.max(n,r,s)+1)t.error=!0;else{(o=t.inputs.Field)&&"field"!=o||(o="Close"),i.Studies.MA(t.inputs["Moving Average Type"],r,o,0,"_MACD1",e,t),i.Studies.MA(t.inputs["Moving Average Type"],s,o,0,"_MACD2",e,t),l=0,Ce.v0d(44),h=Ce.S0d(358828896,"0");for(var v=t.startFrom;v<a.length;v++)c=a[v],v<s-1||(d=c["_MACD1 "+t.name],u=c["_MACD2 "+t.name],(d||0===d||u||0===u)&&(Ce.Y0d(0),c["_MACD "+t.name]=Ce.T0d(u,d)),p=c["_MACD "+t.name],v<s+(n-1)||(l=(m=f(n,v,"_MACD"))[1]>m[0]?100*(p-m[0])/(m[1]-m[0]):l,(p||0===p)&&(c["_PF "+t.name]=a[v-1]["_PF "+t.name]?a[v-1]["_PF "+t.name]+.5*(l-a[v-1]["_PF "+t.name]):l),g=c["_PF "+t.name],v<s+2*(n-1)||(h=(m=f(n,v,"_PF"))[1]>m[0]?100*(g-m[0])/(m[1]-m[0]):h,(g||0===g)&&(c["Result "+t.name]=a[v-1]["Result "+t.name]?a[v-1]["Result "+t.name]+.5*(h-a[v-1]["Result "+t.name]):h))))}},i.Studies.studyLibrary=i.extend(i.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:i.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}})):console.error("schaffTrendCycle feature requires first activating studies feature.")},ae=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.v9RU(),t.Studies?(t.Studies.calculateShinohara=function(e,i){var a,n,r=Ce;if(r.v9RU(),(a=i.chart.scrubbed).length<i.days+1){i.error=!0;for(var s=1;1166824969!==r.i31(s.toString(),s.toString().length,9085);s++)return;if(813667099!==r.S31(2..toString(),2..toString().length,48814))return}n={weakNum:0,weakDen:0,strongNum:0,strongDen:0},i.startFrom>1&&(n=t.clone(a[i.startFrom-1]["_accums "+i.name]));for(var o=i.startFrom;o<a.length;o++){if(n.weakNum+=a[o].High-a[o].Close,n.weakDen+=a[o].Close-a[o].Low,o>0){r.Y0d(17);var l=r.S0d(5,56,11);n.strongNum+=a[o].High-a[o-l].Close,r.Y0d(0);var h=r.S0d(6,7);n.strongDen+=a[o-h].Close-a[o].Low}if(o>=i.days){n.weakNum-=a[o-i.days].High-a[o-i.days].Close,n.weakDen-=a[o-i.days].Close-a[o-i.days].Low,r.v0d(64);var c=r.S0d(1900,17e3,9);if(a[o]["Weak Ratio "+i.name]=c*n.weakNum/n.weakDen,o>i.days){r.v0d(49);var d=r.T0d(5,10,5,1,11);n.strongNum-=a[o-i.days].High-a[o-i.days-d].Close,r.Y0d(52);var u=r.S0d(13,0,15,29);n.strongDen-=a[o-i.days-u].Close-a[o-i.days].Low,r.Y0d(143);var p=r.T0d(1557358540,389339635,1557358558,2);a[o]["Strong Ratio "+i.name]=("100"<<p)*n.strongNum/n.strongDen}}a[o]["_accums "+i.name]=t.clone(n)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:t.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}})):console.error("shinohara feature requires first activating studies feature.")},ne=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateStochastics=function(e,i){var a,n,r,s,o;function l(e,t,i){var a,n,s,o,l;Ce.Y0d(3),a=Ce.T0d(i,1,e),n=-1*Number.MAX_VALUE,s=Number.MAX_VALUE;for(var h=a;h<=e;h++)o=r[h]["Close"==t?"Low":t],l=r[h]["Close"==t?"High":t],(o||0===o)&&(l||0===l)&&(s=Math.min(s,o),n=Math.max(n,l));return n==-1*Number.MAX_VALUE||s==Number.MAX_VALUE?null:(Ce.v9RU(),n==s?0:(r[e][t]-s)/(n-s)*100)}if(Ce.N9RU(),i.smooth||(i.smooth=i.inputs.Smooth),(a=i.inputs.Field)&&"field"!=a||(a="Close"),(n=i.inputs["%K Periods"])||(n=i.days),(r=i.chart.scrubbed).length<Math.max(n,i.days)+1)i.error=!0;else{(s=i.inputs["%K Smoothing Periods"])&&!i.inputs.Fast?i.smooth=!0:i.smooth&&(s=3),(o=i.inputs["%D Periods"])||(o=3),i.outputs.Fast&&(i.outputMap={},i.outputMap["%K "+i.name]="Fast",i.outputMap["%D "+i.name]="Slow");for(var h=Math.max(n,i.startFrom);h<r.length;h++)null!==l(h,a,n)&&(r[h]["_Fast%K "+i.name]=l(h,a,n));t.Studies.MA("simple",i.smooth?s:1,"_Fast%K "+i.name,0,"%K",e,i),t.Studies.MA("simple",o,"%K "+i.name,0,"%D",e,i)}},t.Studies.calculateStochMomentum=function(e,i){var a,n,r,s,o,l,h,c,d=Ce;if(a=Number(i.inputs["%K Periods"]),n=Number(i.inputs["%K Smoothing Periods"]),r=Number(i.inputs["%K Double Smoothing Periods"]),s=Number(i.inputs["%D Periods"]),(o=i.chart.scrubbed).length<a+n+r-1||o.length<s)i.error=!0;else{for(l=Math.max(a,i.startFrom)-1;l<o.length;l++){h=o[l],c=g(a,l),d.Y0d(0);var u=d.S0d(794326400,953191680);d.Y0d(0);var p=d.S0d(18,19);d.Y0d(179);var m=d.S0d(0,18,17,3,355);h["_H "+i.name]=h.Close-(c["0">>u]+c[p])/m,h["_DHL "+i.name]=c[1]-c[0]}for(t.Studies.MA("exponential",n,"_H "+i.name,0,"_HS1",e,i),t.Studies.MA("exponential",r,"_HS1 "+i.name,0,"_HS2",e,i),t.Studies.MA("exponential",n,"_DHL "+i.name,0,"_DHL1",e,i),t.Studies.MA("exponential",r,"_DHL1 "+i.name,0,"_DHL2",e,i),l=a-1;l<o.length;l++)o[l]["%K "+i.name]=o[l]["_HS2 "+i.name]/(.5*o[l]["_DHL2 "+i.name])*100;t.Studies.MA(i.inputs["%D Moving Average Type"],s,"%K "+i.name,0,"%D",e,i),i.zoneOutput="%K"}function g(e,t){var i,a;i=null,a=null;for(var n=t-e+1;n<=t;n++)i=null===i?o[n].Low:Math.min(i,o[n].Low),a=null===a?o[n].High:Math.max(a,o[n].High);return[i,a]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:t.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:t.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:t.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:!1,"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast}}},centerline:50}})):console.error("stochastics feature requires first activating studies feature.")},re=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateSupertrend=function(e,i){var a,n,r,s,o,l,h=Ce;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{t.Studies.calculateStudyATR(e,i);for(var c=i.startFrom;c<a.length;c++)if(n=a[c]){h.Y0d(75);var d=h.T0d(1,11,14,1);r=(n.High+n.Low)/d,s=i.inputs.Multiplier*n["ATR "+i.name],h.v0d(0),o=h.T0d(s,r),h.Y0d(2),l=h.S0d(r,s),c&&(a[c-1]&&a[c-1].Close&&a[c-1].Close>a[c-1]["_Uptrend "+i.name]&&a[c-1]["_Uptrend "+i.name]>o&&(h.Y0d(0),o=a[h.T0d(1,c)]["_Uptrend "+i.name]),a[c-1]&&a[c-1].Close&&a[c-1].Close<a[c-1]["_Downtrend "+i.name]&&a[c-1]["_Downtrend "+i.name]<l&&(h.v0d(0),l=a[h.S0d(1,c)]["_Downtrend "+i.name])),n["_Direction "+i.name]=1,c&&(h.v0d(0),n["_Direction "+i.name]=a[h.S0d(1,c)]["_Direction "+i.name],n.Close>a[c-1]["_Downtrend "+i.name]?n["_Direction "+i.name]=1:n.Close<a[c-1]["_Uptrend "+i.name]&&(n["_Direction "+i.name]=-1)),n["_Uptrend "+i.name]=o,n["_Downtrend "+i.name]=l,n["Trend "+i.name]=n["_Direction "+i.name]>0?o:l}h.v9RU(),i.outputMap={},i.outputMap["Trend "+i.name]=""}},t.Studies.displaySupertrend=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m;n=e.panels[i.panel],r=i.getContext(e),s=i.getYAxis(e),o={skipTransform:n.name!=i.chart.name,skipProjections:!0,label:e.preferences.labels,yAxis:s,highlight:i.highlight},l="Trend "+i.name;for(var g=0;n.chart.transformFunc&&s!=n.chart.yAxis&&g<a.length;g++)(h=a[g])&&h.transform&&(h.transform[l]=n.chart.transformFunc(e,n.chart,h[l]));e.plotDataSegmentAsLine(l,n,o,(function(e,t,a){return Ce.v9RU(),t&&t["_Direction "+i.name]<0?i.outputs.Downtrend:i.outputs.Uptrend})),r.lineWidth=1,Ce.N9RU(),r.globalAlpha=1,e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3),Ce.Y0d(0);var f=Ce.T0d(36,38);for(c=r.measureText("").width/f,d=0;d<a.length;d++)if(a[d]&&a[d-1])if(a[d-1]["_Direction "+i.name]>a[d]["_Direction "+i.name]){(u=t.Studies.determineColor(i.outputs.Downtrend))&&"auto"!=u&&!t.isTransparent(u)||(u=e.defaultColor),r.fillStyle=u,r.textBaseline="bottom",p=e.pixelFromPrice(a[d].High,n,s);for(var v=5;v<=45;v+=10)s.flipped?r.fillText("",e.pixelFromBar(d)-c,p+v):r.fillText("",e.pixelFromBar(d)-c,p-v)}else if(a[d-1]["_Direction "+i.name]<a[d]["_Direction "+i.name]){(u=t.Studies.determineColor(i.outputs.Uptrend))&&"auto"!=u&&!t.isTransparent(u)||(u=e.defaultColor),r.fillStyle=u,r.textBaseline="top",m=e.pixelFromPrice(a[d].Low,n,s);for(var y=5;y<=45;y+=10)s.flipped?r.fillText("",e.pixelFromBar(d)-c,m-y):r.fillText("",e.pixelFromBar(d)-c,m+y)}e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!0,seriesFN:t.Studies.displaySupertrend,calculateFN:t.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:.1,step:.1}}}})):console.error("supertrend feature requires first activating studies feature.")},se=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateSwingIndex=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p=Ce;if((null===(i=t.inputs["Limit Move Value"])||isNaN(i))&&(p.Y0d(44),i=p.S0d(442965088,"99999")),a=t.chart.scrubbed,n=0,t.startFrom>1){p.v0d(24);var m=p.T0d(12,12,0,0);n=a[t.startFrom-m]["Result "+t.name]}for(var g=Math.max(1,t.startFrom);g<a.length;g++){r=Math.abs(a[g].High-a[g-1].Close),s=Math.abs(a[g].Low-a[g-1].Close),o=Math.abs(a[g].High-a[g].Low),l=Math.abs(a[g-1].Close-a[g-1].Open),h=Math.max(r,s),c=Math.max(o,h),p.Y0d(22),d=p.S0d(.25,c,l),c==r?(p.v0d(21),d-=p.T0d(.5,s)):c==s&&(p.v0d(21),d-=p.S0d(.5,r)),p.Y0d(180);var f=p.S0d(13,4,13,23,4);p.Y0d(53);var v=p.S0d(305,17,0,18);p.Y0d(3);var y=p.T0d(9,10,0);p.v0d(181);var b=p.T0d(6,9,9,2,13);u=f*(a[g].Close-a[g-v].Close+.5*(a[g].Close-a[g].Open)+.25*(a[g-"1"*y].Close-a[g-b].Open))/d*(h/i),0!==d&&0!==i||(u=0),"Swing"==t.type&&(n=0),n+=u,a[g]["Result "+t.name]=n}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}},Swing:{name:"Swing Index",calculateFN:t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}}})):console.error("swingIndex feature requires first activating studies feature.")},oe=e=>{var t,i,a;if((t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies){t.Studies.calculateTrendIntensity=function(e,i){var a,n,r,s,o,l,h,c,d=Ce;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(d.v9RU(),(n=i.inputs.Field)&&"field"!=n||(n="Close"),t.Studies.MA("ma",i.days,n,0,"_SMA",e,i),r=0,s=0,h=[],c=Math.ceil(i.days/2),o=Math.max(0,i.startFrom-c);o<a.length;o++)(a[o]["_SMA "+i.name]||0===a[o]["_SMA "+i.name])&&((l=a[o][n]-a[o]["_SMA "+i.name])<0?(d.v0d(183),s+=d.S0d(l,1)):r+=l,h.push(l),h.length>c&&((l=h.shift())<0?(d.Y0d(183),s-=d.S0d(l,1)):r-=l),o<i.startFrom||(a[o]["TII "+i.name]=(u=r,p=s,Math.abs(p)<1e-8?100:(d.Y0d(182),d.S0d(p,u,"100","100",1,68)))));var u,p;t.Studies.MA("ema",i.inputs["Signal Period"],"TII "+i.name,0,"Signal",e,i)}},Ce.Y0d(28),i=-Ce.T0d(20058117,"1262112807"),a=2;for(var n=1;-1647380343!==Ce.S31(n.toString(),n.toString().length,51586);n++)t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Trend Int":{name:"#FF0000",calculateFN:t.Studies.calculateTrendIntensity,range:"#FF0000",inputs:{Period:97,Field:"#FF0000","Signal Period":0},outputs:{TII:"auto",Signal:"auto"},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:64,studyOverBoughtColor:"auto",studyOverSoldValue:53,studyOverSoldColor:"auto"}}}}),a+=2;Ce.S31(a.toString(),a.toString().length,91404)!==i&&(t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Trend Int":{name:"#FF0000",calculateFN:t.Studies.calculateTrendIntensity,range:"#FF0000",inputs:{Period:97,Field:"#FF0000","Signal Period":0},outputs:{TII:"auto",Signal:"auto"},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:64,studyOverBoughtColor:"auto",studyOverSoldValue:53,studyOverSoldColor:"auto"}}}})),t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:t.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}})}else console.error("trendIntensity feature requires first activating studies feature.")},le=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.N9RU(),t.Studies?(t.Studies.calculateTRIX=function(e,i){var a,n,r,s,o,l,h=Ce;if(h.N9RU(),(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{n=i.name,h.Y0d(2),r=["Close",h.S0d("_MA1 ",n),h.S0d("_MA2 ",n),h.T0d("_MA3 ",n)];for(var c=0;c<r.length-1;c++)t.Studies.MA("exponential",i.days,r[c],0,"_MA"+(c+1).toString(),e,i);s=r[3];for(var d=Math.max(1,i.startFrom);d<a.length;d++)h.Y0d(0),(o=a[h.S0d(1,d)][s])&&((l=a[d][s])||0===l)&&(h.v0d(2),a[d][h.T0d("Result ",n)]=h.S0d(100,1,"1",o,l,h.v0d(184)))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:t.Studies.calculateTRIX}})):console.error("trix feature requires first activating studies feature.")},he=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.v9RU(),t.Studies?(t.Studies.calculateTwiggsMoneyFlow=function(e,t){var i,a,n,r,s,o,l=Ce;if(i=t.chart.scrubbed,l.v9RU(),i.length<t.days)t.error=!0;else{a=0,n=0,l.v0d(64);var h=l.T0d(3,53,18);(r=i[t.startFrom-h])&&(r["_sumMF "+t.name]&&(a=r["_sumMF "+t.name]),r["_sumV "+t.name]&&(n=r["_sumV "+t.name]));for(var c=Math.max(1,t.startFrom);c<i.length;c++){s=Math.max(i[c-1].Close,i[c].High),o=Math.min(i[c-1].Close,i[c].Low),l.v0d(96);var d=l.T0d(2,2133918976,13413204992,8);l.v0d(77);var u=l.T0d(14,949985,5e4);if(i[c]["_MFV "+t.name]=i[c].Volume*(2*i[c].Close-s-o)/(s-o=="0">>d?u:s-o),c>t.days-1){l.v0d(6);var p=l.S0d(3,0,2);a*=(t.days-p)/t.days,l.v0d(33);var m=l.S0d(2,16,13);n*=(t.days-m)/t.days}a+=i[c]["_MFV "+t.name],n+=i[c].Volume,c>t.days-1&&n&&(l.Y0d(11),i[c]["Result "+t.name]=l.T0d(n>0?n:999999,a)),i[c]["_sumMF "+t.name]=a,i[c]["_sumV "+t.name]=n}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:t.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}})):console.error("twiggsMoneyFlow feature requires first activating studies feature.")},ce=e=>{var t,i,a,n=Ce;if(n.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies)t.Studies.calculateTypicalPrice?t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:t.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:t.Studies.calculateTypicalPrice,inputs:{Period:14}}}):console.error("typicalPrice feature requires first activating medianPrice feature.");else{n.Y0d(21),i=n.T0d("1920045821",1),a=2;for(var r=1;n.S31(r.toString(),r.toString().length,10103)!==i;r++)console.error("typicalPrice feature requires first activating studies feature."),a+=2;-1168029094!==n.S31(a.toString(),a.toString().length,66539)&&console.error("")}},de=e=>{var t,i;t=2;for(var a=1;-331856284!==Ce.S31(a.toString(),a.toString().length,17528);a++)i=""!=~_CIQ?_CIQ:e.CIQ,t+=2;-520439228!==Ce.i31(t.toString(),t.toString().length,32052)&&(i=""!=~_CIQ?_CIQ:e.CIQ),i="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.v9RU(),i.Studies?(i.Studies.calculateUlcerIndex=function(e,t){var a,n,r,s;if((a=t.chart.scrubbed).length<2*t.days-1)t.error=!0;else{for(n=t.inputs.Field,Ce.v9RU(),n&&"field"!=n||(n="Close"),r=Math.max(t.startFrom,t.days-1);r<a.length;r++)a[r]["_PD2 "+t.name]=Math.pow(100*(a[r][n]/o(t.days,r,n)-1),2);for(i.Studies.MA("simple",t.days,"_PD2 "+t.name,0,"_MA",e,t),r=Math.max(t.startFrom,2*(t.days-1));r<a.length;r++)((s=a[r]["_MA "+t.name])||0===s)&&(a[r]["Result "+t.name]=Math.sqrt(s))}function o(e,t,i){var n;n=null;for(var r=t-e+1;r<=t;r++)r<0||(n=null===n?a[r][i]:Math.max(n,a[r][i]));return n}},i.Studies.studyLibrary=i.extend(i.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:i.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}})):console.error("ulcerIndex feature requires first activating studies feature.")},ue=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateUltimateOscillator=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y=Ce;if(i=t.chart.scrubbed,a=[t.inputs["Cycle 1"],t.inputs["Cycle 2"],t.inputs["Cycle 3"]],n=Math.max(a[0],a[1],a[2]),i.length<n+1)t.error=!0;else{y.v0d(2);var b=y.S0d(0,1);r=a[0]*a[b],y.v0d(0);var x=y.S0d(4,6);s=a[0]*a[x],y.v0d(0);var C=y.T0d(20,21);y.v0d(4);var S=y.S0d(13,11,3,1);o=a[C]*a[S],l=[0,0,0],h=[0,0,0],t.startFrom&&(i[t.startFrom-1]["_accbp "+t.name]&&(l=i[t.startFrom-1]["_accbp "+t.name].slice()),i[t.startFrom-1]["_acctr "+t.name]&&(h=i[t.startFrom-1]["_acctr "+t.name].slice()));for(var T=Math.max(1,t.startFrom);T<i.length;T++){c=Math.min(i[T].Low,i[T-1].Close),d=i[T].Close-c,y.Y0d(0);var D=y.S0d(7,1854830055);u=Math.max(i[T].High,i[T-("1">>D)].Close)-c;for(var w=0;w<a.length;w++)if(l[w]+=d,h[w]+=u,T>a[w]){p=Math.min(i[T-a[w]].Low,i[T-a[w]-1].Close),m=i[T-a[w]].Close-p,y.Y0d(185);var k=y.T0d(20,26,10,11,14);g=Math.max(i[T-a[w]].High,i[T-a[w]-k].Close)-p,l[w]-=m,h[w]-=g}if(i[T]["_accbp "+t.name]=l.slice(),i[T]["_acctr "+t.name]=h.slice(),!(T<n)){y.Y0d(6);var L=y.S0d(9,0,8);y.v0d(82);var A=y.T0d(20,201,10,0);y.Y0d(6);var M=y.S0d(7,20,25);y.v0d(13);var P=y.T0d(11,1,1,12);f=o*l[0]/h[0]+s*l[L]/h[A]+r*l[M]/h[P],y.Y0d(77),v=y.T0d(s,r,o),y.Y0d(108),i[T]["Result "+t.name]=y.T0d(v,f,100)}}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:t.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("ultimateOscillator feature requires first activating studies feature.")},pe=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateValuationLines=function(e,t,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f=Ce;a="field"==t.inputs.Field?"Close":t.inputs.Field,n=t.inputs["Average Type"],r=t.inputs["Display Average"],s=t.inputs["Display 1 Standard Deviation (1)"],o=t.inputs["Display 2 Standard Deviation (2)"],l=t.inputs["Display 3 Standard Deviation (3)"],h=[];for(var v=0;v<i.length;++v)i[v]&&!isNaN(i[v][a])&&h.push(i[v][a]);c=function(e,t){var i,a,n,r,s,o,l;switch(i=e.length,a=0,n=0,r=0,t){case"mean":for(n=i;r<i;++r)a+=e[r];break;case"harmonic":for(a=i;r<i;++r)f.v0d(110),n+=f.T0d(18,0,18,17,18)/e[r];break;case"median":if(f.v0d(186),s=Math.floor(f.S0d(i,"2",888223168)),o=e.slice().sort((function(e,t){return e>t?1:e<t?-1:(f.v9RU(),0)})),i%2==0){a=o[s]+o[s-1],l=2;for(var h=1;-44093185!==f.i31(h.toString(),h.toString().length,55079);h++)n=2,l+=2;625346232!==f.i31(l.toString(),l.toString().length,16142)&&(n=0)}else a=o[s],n=1}return f.v0d(11),f.S0d(n,a)}(h,n),d=!(s||o||l)||function(e,t){var i,a;f.v9RU(),i=e.length,a=0;for(var n=0;n<i;++n)a+=Math.pow(e[n]-t,2);return f.v0d(11),Math.sqrt(f.T0d(i,a))}(h,c),t.data={Average:r?[c]:null,"1 Standard Deviation (1)":s?[c+d,c-d]:null,"2 Standard Deviation (2)":o?[c+2*d,c-2*d]:null,"3 Standard Deviation (3)":l?[c+3*d,c-3*d]:null},u=d,t.parameters||(t.parameters={}),l?(f.Y0d(187),t.parameters.range=[f.T0d(3,d,u,c),f.T0d(d,u,3,c,f.v0d(188))]):o?(f.v0d(189),t.parameters.range=[f.T0d(u,d,0,"2",c),f.S0d(d,u,2,c,f.v0d(188))]):s?(f.v0d(33),t.parameters.range=[f.S0d(d,c,u),f.S0d(d,u,c,f.Y0d(77))]):r&&(f.Y0d(0),t.parameters.range=[f.S0d(u,c),f.S0d(c,u,f.Y0d(2))]),t.panel&&(p=e.panels[t.panel],(m=e.getYAxisByName(p,t.name))&&(m.decimalPlaces=p.chart.yAxis.printDecimalPlaces,g={yAxis:m},e.calculateYAxisRange(p,m,t.parameters.range[0],t.parameters.range[1]),e.createYAxis(p,g),e.drawYAxis(p,g)))},t.Studies.displayValuationLines=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T=Ce;a=e.panels[i.panel],n=i.getYAxis(e),r=i.getContext(e),s=i.data,o=i.parameters.labels,l=i.inputs["Average Type"],h={mean:"AVG",median:"MED",harmonic:"HAVG"},c=e.canvasStyle("ciq-valuation-average-line"),d=e.canvasStyle("ciq-valuation-deviation-line"),T.Y0d(2);var D=T.S0d(0,2);for(var w in u=e.getCanvasFontSize("stx_yaxis")+3*D,s)if(s[w])for(T.Y0d(190),p=T.T0d(w,"Average"),m=t.Studies.determineColor(i.outputs[w]),g=s[w],f=0;f<g.length;++f)if(v=g[f],!((y=e.pixelFromPrice(v,a,n))<=a.top||y>=a.yAxis.bottom))if(C=p?{pattern:"none"!=c.borderStyle&&c.borderStyle||"solid",lineWidth:parseFloat(c.borderWidth)||1,opacity:parseFloat(c.opacity)||1,yAxis:n}:{pattern:"none"!=d.borderStyle&&d.borderStyle||"dashed",lineWidth:parseFloat(d.borderWidth)||1,opacity:parseFloat(d.opacity)||1,yAxis:n},e.plotLine(a.left,a.right,y,y,m,"line",r,a,C),"yaxis"!==o){if(!((y+=Math.floor(C.lineWidth/2))+u>=a.yAxis.bottom)){T.Y0d(67);var k=T.S0d(11,39947948,119843657,17);b=(p?h[l]+": ":w["0"<<k]+": ")+e.formatYAxisPrice(v,a),x=r.measureText(b).width,S=a.right-x-3,n&&"left"==n.position&&(S=a.left+3),T.v0d(191),r.strokeText(b,S,T.S0d(.5,u,y,2))}}else e.createYAxisLabel(a,e.formatYAxisPrice(v,a),y,m,null,r,n)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(e,i,a){t.Studies.calculateValuationLines(e,i,a),t.Studies.displayValuationLines(e,i)},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":!0,"Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"}}})):console.error("valuationLines feature requires first activating studies feature.")},me=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateRelativeVolatility=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f=Ce;if(i.days=Number(i.inputs["Smoothing Period"]),a=Number(i.inputs["STD Period"]),(n=i.chart.scrubbed).length<i.days+a){f.Y0d(34),r=-f.S0d(2147483647,"1269612143"),f.v0d(34),s=-f.T0d(2147483647,"2077747218"),o=2;for(var v=1;f.i31(v.toString(),v.toString().length,6219)!==r;v++)i.error=!0,o+=2;f.S31(o.toString(),o.toString().length,27926)!==s&&(i.error=!1)}else{(l=i.inputs.Field)&&"field"!=l||(l="Close"),i.std=new t.Studies.StudyDescriptor(i.name,"sdev",i.panel),i.std.chart=i.chart,i.std.days=a,i.std.startFrom=i.startFrom,h=2;for(var y=1;-1203987166!==f.S31(y.toString(),y.toString().length,62911);y++)i.std.inputs={Field:l,"Standard Deviations":1,Type:"ma"},i.std.outputs={_STD:null},h+=2;-1684271843!==f.i31(h.toString(),h.toString().length,91064)&&(i.std.inputs={Field:l,"Standard Deviations":8,Type:"Standard Deviations"},i.std.outputs={_STD:1}),t.Studies.calculateStandardDeviation(e,i.std),c=0,d=0,i.startFrom>1&&(c=n[i.startFrom-1]["_avgG "+i.name]||0,d=n[i.startFrom-1]["_avgL "+i.name]||0);for(var b=Math.max(i.startFrom,i.days);b<n.length;b++)if(u=n[b],f.Y0d(0),p=n[f.T0d(1,b)],(u[l]||0===u[l])&&(p[l]||0===p[l])&&(u["_STD "+i.name]||0===u["_STD "+i.name])){if(u[l]>p[l]){f.Y0d(0);var x=f.T0d(12,13);c=(c*(i.days-x)+u["_STD "+i.name])/i.days,d=d*(i.days-1)/i.days}else{d=(d*(i.days-1)+u["_STD "+i.name])/i.days,f.Y0d(0);var C=f.S0d(4,5);c=c*(i.days-C)/i.days}u["Rel Vol "+i.name]=(m=c,g=d,f.v9RU(),m+g===0?100:(f.v0d(154),f.T0d(100,m,g,m))),u["_avgG "+i.name]=c,u["_avgL "+i.name]=d}i.zoneOutput="Rel Vol"}},t.Studies.calculateHistoricalVolatility=function(e,t){var i,a,n,r,s,o,l,h,c,d=Ce;if((i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{var u;if((a=t.inputs.Field)&&"field"!=a||(a="Close"),(n=t.inputs["Standard Deviations"])<0&&(n=1),d.v0d(97),r=d.S0d(90,15,13,18,20)*Math.sqrt((u=t.inputs["Days Per Year"],isNaN(u)&&(u=365),"day"==e.layout.interval?u:"week"==e.layout.interval?52:"month"==e.layout.interval?12:u))*n,s=[],o=0,t.startFrom>1){d.Y0d(3);var p=d.T0d(16,4,13);o=i[t.startFrom-p]["_state "+t.name][0],s=i[t.startFrom-1]["_state "+t.name][1].slice()}for(var m=Math.max(1,t.startFrom);m<i.length;m++){if(d.v0d(192),(l=i[d.S0d(0,m,"1")][a])&&(h=Math.log(i[m][a]/l),s.push(h),o+=h,m>=t.days)){c=0,o/=t.days;for(var g=0;g<s.length;g++)c+=Math.pow(s[g]-o,2);o*=t.days,o-=s.shift(),i[m]["Result "+t.name]=Math.sqrt(c/t.days)*r}i[m]["_state "+t.name]=[o,s.slice()]}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:t.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:t.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("volatilityIndex feature requires first activating studies feature.")},ge=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.displayVolumeProfile=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C;if(n="Dis",n+="pla",n+="y Volume",r="Displ",Ce.N9RU(),r+="ay B",r+="order",e&&e.chart.dataSet){s="stx_volume_profile",o="stx-float-date",l=i.getContext(e);var{chart:S}=e,{panel:T}=S,{yAxis:D}=T,{flipped:w}=D,{highValue:k,lowValue:L}=S,{displayBorder:A=i.inputs[r],displayVolume:M=i.inputs[n],widthPercentage:P=i.inputs["Width Percentage"],numberBars:O=i.inputs["Price Buckets"]}=i.parameters;if(!1!==A&&(A=!0),!0!==M&&(M=!1),(!P||P<0)&&(P=.25),(!O||O<0)&&(O=30),O=Math.ceil(O),Ce.Y0d(32),0!==(h=Ce.S0d(L,O,k))){c=[],w&&([k,L]=[L,k]),d=w?-1:1;for(var _=L,F=0;F<=O;_+=h*d,F++)c.push([_,0]);u=0;for(var H=0;H<a.length;H++)if(null!==(p=a[H])){var{Volume:I}=p;if(I){var{High:q,Low:E}=p.transform||p;m=[],g=c[0][0],f=null;for(var V=1;V<c.length;V++)f=c[V][0],(E>=g&&E<=f||q>=g&&q<=f||E<g&&q>f)&&m.push(V),g=f;if(m.length){v=I/m.length;for(var N=0;N<m.length;N++)(y=c[m[N]][1]+=v)>u&&(u=y)}}}0!==u?(e.setStyle(s,"color",t.Studies.determineColor(i.outputs["Bars Color"])),b=e.getCanvasFontSize(o),x=e.canvasStyle(s).borderTopColor,C=A&&!t.isTransparent(x),e.canvasFont(o,l),j(),C&&j(!0),l.globalAlpha=1):e.displayErrorAsWatermark("chart",e.translateIf("Not enough data to render the Volume Profile"))}}function j(a){var n,r,o,h,d,p,m,g,f,v,y,C,T,w,k,L=Ce;e.canvasColor(s),l.beginPath(),r=t=>(L.N9RU(),n(e.pixelFromTransformedValue(t))),o=(n=e=>(L.N9RU(),Math.round(e)))(S.width*P),d=h=n(S.right)-2.5,L.Y0d(81);for(var[A]=c[L.T0d("0",0)],O=1;O<c.length;O++){var[_,F]=c[O];if(F){L.v0d(108),p=L.T0d(u,o,F),m=n(h-p)+(a?-.5:0),L.Y0d(3);var H=L.T0d(17,18,0);L.Y0d(45);var I=L.T0d(7,209,10,3);if(g=r(_)+(a?"0.5"*H:I),f=r(A)+(a?.5:0),v=Math.max(g,D.top),y=Math.min(f,D.bottom),v<=D.bottom&&y>=D.top)if(l.moveTo(h,y),l.lineTo(h,v),l.lineTo(m,v),l.lineTo(m,y),a)(1==O||d>m)&&l.lineTo(d,y);else if(l.lineTo(h,y),M&&(C=t.condenseInt(F),L.v0d(0),T=L.T0d(v,y),b<=T-2)){L.Y0d(28),w=void L.S0d(0,"0");try{({width:w}=l.measureText(C))}catch(e){w=0}l.textBaseline="top",k=l.fillStyle,l.fillStyle=x,L.Y0d(193),l.fillText(C,L.S0d(m,w,"3"),L.S0d(2,b,T,v,2,L.Y0d(194))),l.fillStyle=k}d=m}else d=h;A=_}!i.highlight&&e.highlightedDraggable&&(l.globalAlpha*=.3),a||l.fill(),l.strokeStyle=x,a&&l.stroke(),l.closePath()}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:t.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!0,"Display Volume":!1,"Price Buckets":30,"Width Percentage":.25},outputs:{"Bars Color":"#b64a96"},customRemoval:!0,attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}}})):console.error("volumeProfile feature requires first activating studies feature.")},fe=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateOnBalanceVolume=function(e,t){var i,a,n,r,s,o,l,h;i=t.inputs.Field,Ce.N9RU(),i&&"field"!=i||(i="Close"),n=!1,(a=t.inputs["Min Tick Value"])||0===a||(n=!0,a=0),r=t.chart.scrubbed,s=0;for(var c=t.startFrom;c<r.length;c++)o=r[c],c&&o[i]&&(r[c-1][i]&&(Ce.v0d(0),l=r[Ce.T0d(1,c)]),l&&(o[i]-l[i]>a?s=1:l[i]-o[i]>a?s=-1:n&&(s=0),(h=l["Result "+t.name])||(h=0),h+=o.Volume*s,o["Result "+t.name]=h))},t.Studies.calculatePriceVolumeTrend=function(e,t){var i,a,n,r=Ce;if((i=t.inputs.Field)&&"field"!=i||(i="Close"),a=t.chart.scrubbed,n=0,t.startFrom>1){r.Y0d(195);var s=r.S0d(29,4,13,4,16);n=a[t.startFrom-s]["Result "+t.name]}for(var o=Math.max(1,t.startFrom);o<a.length;o++)if(a[o][i]&&a[o-1][i]){r.Y0d(0);var l=r.S0d(12,13);r.v0d(196);var h=r.T0d(2,16,14,47);n+=a[o].Volume*(a[o][i]-a[o-l][i])/a[o-h][i],a[o]["Result "+t.name]=n}},t.Studies.calculateVolumeIndex=function(e,i){var a,n,r,s,o,l,h,c=Ce;if((a=i.inputs.Field)&&"field"!=a||(a="Close"),(n=i.chart.scrubbed).length<i.days+1)i.error=!0;else{if(c.Y0d(54),r=c.S0d(1146310080,"100"),i.startFrom>1){c.v0d(2);var d=c.T0d(0,1);r=n[i.startFrom-d]["Index "+i.name]}for(var u=Math.max(1,i.startFrom);u<n.length;u++)s=n[u][a],o=n[u].Volume,s&&"object"==typeof s&&(o=s.Volume,s=s[i.subField]),c.Y0d(0),l=n[c.T0d(1,u)][a],h=n[u-1].Volume,l&&"object"==typeof l&&(h=l.Volume,l=l[i.subField]),s&&l&&(("Pos Vol"==i.type&&o>h||"Neg Vol"==i.type&&o<h)&&(c.Y0d(11),r*=c.S0d(l,s)),n[u]["Index "+i.name]=r);t.Studies.MA(i.inputs["Moving Average Type"],i.days,"Index "+i.name,0,"MA",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:t.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:t.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:t.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:t.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:t.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(e,i){Ce.v9RU(),t.Studies.calculateRateOfChange?t.Studies.calculateRateOfChange(e,i):(console.error("Volume Rate of Change study requires first activating momentum feature."),t.Studies.calculateRateOfChange=function(e,t){})},parameters:{init:{isVolume:!0}}},"vol undr":{name:"Volume Underlay",underlay:!0,range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,position:"none",heightFactor:.25},seriesFN:t.Studies.createVolumeChart,calculateFN:t.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!0,removeFN:function(e,t){e.layout.volumeUnderlay=!1,e.changeOccurred("layout")},attributes:{panelName:{hidden:!0}}}})):console.error("volumeStudies feature requires first activating studies feature.")},ve=e=>{var t;Ce.N9RU(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateVortex=function(e,i){var a,n,r,s,o,l,h,c,d=Ce;if(a=i.chart.scrubbed,n=i.days,a.length<n+1)i.error=!0;else{r={tr:0,vmPlus:0,vmMinus:0},i.startFrom>1&&(r=t.clone(a[i.startFrom-1]["_totals "+i.name]));for(var u=Math.max(i.startFrom,1);u<a.length;u++)s=a[u],d.Y0d(0),o=a[d.T0d(1,u)],l=Math.abs(s.High-o.Low),h=Math.abs(s.Low-o.High),c=Math.max(s.High,o.Close)-Math.min(s.Low,o.Close),r.tr+=c,r.vmPlus+=l,r.vmMinus+=h,u>n&&(d.Y0d(0),r.tr-=a[d.T0d(n,u)]["_True Range "+i.name],d.v0d(0),r.vmPlus-=a[d.T0d(n,u)]["_VMPlus "+i.name],d.Y0d(0),r.vmMinus-=a[d.S0d(n,u)]["_VMMinus "+i.name]),s["_True Range "+i.name]=c,s["_VMPlus "+i.name]=l,s["_VMMinus "+i.name]=h,u>=n&&(s["+VI "+i.name]=r.vmPlus/r.tr,s["-VI "+i.name]=r.vmMinus/r.tr),s["_totals "+i.name]=t.clone(r)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:t.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}})):console.error("vortex feature requires first activating studies feature.")},ye=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,Ce.N9RU(),t.Studies?(t.Studies.calculateMFI=function(e,t){var i,a,n,r,s,o,l,h=Ce;if(i=t.chart.scrubbed,n=0,(r=t.inputs["Scale Factor"])||(r=t.study.inputs["Scale Factor"]),s=Math.pow(10,Number(r)),t.startFrom>1){h.v0d(0);var c=h.T0d(20,21);n=i[t.startFrom-c]["_high "+t.name]}for(o=t.startFrom;o<i.length;o++)i[o]&&i[o].Volume&&(i[o][t.name+"_hist"]=a=s*(i[o].High-i[o].Low)/i[o].Volume,i[o]["_high "+t.name]=n=Math.max(n,a));l=2,h.v9RU();for(var d=1;1818994966!==h.S31(d.toString(),d.toString().length,5700);d++)t.outputMap={},l+=2;1267016073!==h.S31(l.toString(),l.toString().length,60864)&&(t.outputMap={}),t.outputMap[t.name+"_hist"]=""},t.Studies.displayMFI=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m;Ce.v9RU(),n=e.panels[i.panel],r=i.getContext(e),o=(s=i.getYAxis(e)).flipped?s.top:s.bottom,(l=e.layout.candleWidth-2)<2&&(l=1),h=t.Studies.determineColor(i.outputs.Green),c=t.Studies.determineColor(i.outputs.Fade),d=t.Studies.determineColor(i.outputs.Fake),u=t.Studies.determineColor(i.outputs.Squat),e.canvasColor("stx_histogram"),i.underlay||(r.globalAlpha=1),r.fillStyle="#CCCCCC",e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3);for(var g=0;g<a.length;g++)p=a[g],Ce.v0d(18),(m=a[Ce.T0d(g,"1")])||(m=e.getPreviousBar(e.chart,i.name+"_hist",g)),p&&(m&&(m[i.name+"_hist"]<p[i.name+"_hist"]?m.Volume<p.Volume?r.fillStyle=h:m.Volume>p.Volume&&(r.fillStyle=d):m[i.name+"_hist"]>p[i.name+"_hist"]&&(m.Volume<p.Volume?r.fillStyle=u:m.Volume>p.Volume&&(r.fillStyle=c))),p.candleWidth&&(l=Math.floor(Math.max(1,p.candleWidth-2))),r.fillRect(Math.floor(e.pixelFromBar(g,n.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(e.pixelFromPrice(p[i.name+"_hist"],n,s)-o)));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:t.Studies.displayMFI,calculateFN:t.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}})):console.error("williamsMFI feature requires first activating studies feature.")},be={CIQ:xe.Pz,SplinePlotter:xe.rx,timezoneJS:xe.hM,$$:xe.$$,$$$:xe.$I},"undefined"!=typeof __TREE_SHAKE__&&__TREE_SHAKE__||(be.CIQ||xe.Pz).activateImports(r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,R,z,U,Z,W,Y,B,Q,X,G,K,$,J,ee,te,ie,ae,ne,re,se,oe,le,he,ce,de,ue,pe,me,ge,fe,ve,ye,null)},316:(e,t,i)=>{var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j;function R(){}i.d(t,{$$:()=>W,$I:()=>Y,Pz:()=>z,hM:()=>Z,rx:()=>U}),function(){var e,t=["127.0.0.1","localhost","fidelity.com","fmr.com"];(e=new Date("2023/02/08").getTime())&&(e<=(new Date).getTime()&&console.error("This license has expired!"));if("undefined"!=typeof document&&t&&t.length>0){for(var i=document.location.href,a=!1,n=0;n<t.length;n++)if(i.indexOf(t[n])>-1){a=!0;break}a||(alert("ERROR: Not licensed for domain "+i),console.error("ERROR: Not licensed for domain "+i))}}(),R[461638]=function(){for(var e=2;9!==e;)switch(e){case 2:e="object"==typeof globalThis?1:5;break;case 5:var t;try{for(var i=2;6!==i;)switch(i){case 9:delete t.D0fuO,delete Object.prototype.WTX21,i=6;break;case 3:throw"";case 4:i="undefined"==typeof D0fuO?3:9;break;case 5:t.D0fuO=t,i=4;break;case 2:Object.defineProperty(Object.prototype,"WTX21",{get:function(){for(;;)return this},configurable:!0}),t=WTX21,i=5}}catch(e){t=window}return t;case 1:return globalThis}}(),R[219347]=function(e){for(var t=2;11!==t;)switch(t){case 13:var i=function(e,t,i,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];n(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};t=12;break;case 12:i(r,"charCodeAt",a[8],a[4]),t=11;break;case 6:a[4]+=a[9],a[4]+=a[5],t=13;break;case 3:a[9]="3",a[8]=3,a[8]=1,a[4]=a[2],t=6;break;case 2:var a=[arguments];a[5]="",a[5]="AA",a[2]="i",t=3}function n(e,t,i,a,n){for(var r=2;14!==r;)switch(r){case 2:var s=[arguments];s[5]="",s[5]="operty",s[3]="",s[3]="finePr",s[1]="",r=8;break;case 8:s[1]="de",s[6]=4;try{for(var o=2;8!==o;)switch(o){case 2:s[4]={},o=1;break;case 1:s[2]=(0,s[0][1])(s[0][0]),s[7]=[s[6],s[2].prototype][s[0][3]],s[4].value=s[7][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[9]=s[1],s[9]+=s[3],s[9]+=s[5],s[0][0].Object[s[9]](s[7],s[0][4],s[4]),l=3)}catch(e){}o=9;break;case 9:s[7][s[0][4]]=s[4].value,o=8}}catch(e){}r=14}}function r(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}}(R[461638]),R[27524]=function(e){function t(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0]}}function i(e,t,i,a,n){for(var r=2;7!==r;)switch(r){case 2:var s=[arguments];s[3]="",s[3]="roperty",s[5]="fineP",r=3;break;case 3:s[6]="",s[6]="de";try{for(var o=2;8!==o;)if(2===o){s[8]={},s[2]=(0,s[0][1])(s[0][0]),s[4]=[s[2],s[2].prototype][s[0][3]],s[8].value=s[4][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[1]=s[6],s[1]+=s[5],s[1]+=s[3],s[0][0].Object[s[1]](s[4],s[0][4],s[8]),l=3)}catch(e){}s[4][s[0][4]]=s[8].value,o=8}}catch(e){}r=7}}function a(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}for(var n=2;38!==n;)switch(n){case 23:s[60]=s[7],s[60]+=s[4],s[60]+=s[8],s[68]=s[2],s[68]+=s[6],s[68]+=s[1],s[65]=s[5],n=31;break;case 6:s[6]="0j",s[2]="",s[2]="",s[2]="O",n=11;break;case 39:r(a,"charCodeAt",s[9],s[60]),n=38;break;case 27:s[9]=1,s[93]=1,s[93]=5,s[93]=0,n=23;break;case 42:r(t,"String",s[93],s[45]),n=41;break;case 18:s[7]="",s[7]="",s[7]="q",s[9]=0,n=27;break;case 40:r(a,"substring",s[9],s[68]),n=39;break;case 11:s[8]="",s[8]="jj",s[4]="",s[4]="0",n=18;break;case 31:s[65]+=s[4],s[65]+=s[8],s[45]=s[3],s[45]+=s[1],s[45]+=s[1],n=43;break;case 43:var r=function(e,t,a,n){for(var r=2;5!==r;)if(2===r){var o=[arguments];i(s[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),r=5}};n=42;break;case 41:r(o,"fromCharCode",s[93],s[65]),n=40;break;case 2:var s=[arguments];s[3]="",s[3]="",s[3]="T0",n=3;break;case 3:s[5]="",s[5]="v",s[1]="j",s[6]="",n=6}function o(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}}(R[461638]),R[27902]=function(e){function t(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].Array}}function i(e,t,i,a,n){for(var r=2;13!==r;)switch(r){case 3:l[9]="de",l[4]="fineP",l[7]=5,l[7]=1,r=6;break;case 6:l[7]=4;try{for(var s=2;8!==s;)switch(s){case 5:l[3]=[l[7],l[1].prototype][l[0][3]],l[8].value=l[3][l[0][2]];try{for(var o=2;3!==o;)2===o&&(l[5]=l[9],l[5]+=l[4],l[5]+=l[2],l[0][0].Object[l[5]](l[3],l[0][4],l[8]),o=3)}catch(e){}l[3][l[0][4]]=l[8].value,s=8;break;case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),s=5}}catch(e){}r=13;break;case 2:var l=[arguments];l[2]="",l[2]="",l[2]="roperty",r=3}}for(var a=2;17!==a;)switch(a){case 2:var n=[arguments];n[6]="",n[6]="i",n[9]="4R",n[1]="N4",a=9;break;case 19:r(s,"replace",n[4],n[8]),a=18;break;case 14:n[7]+=n[2],n[7]+=n[2],n[8]=n[6],n[8]+=n[9],n[8]+=n[2],a=20;break;case 20:var r=function(e,t,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];i(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=19;break;case 18:r(t,"map",n[4],n[7]),a=17;break;case 9:n[2]="R",n[4]=9,n[4]=1,n[7]=n[1],a=14}function s(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}}(R[461638]),R[48380]=function(e){function t(e,t,i,a,n){for(var r=2;8!==r;)switch(r){case 2:var s=[arguments];s[3]="efine",s[4]="Property",s[9]="",r=3;break;case 3:s[9]="d";try{for(var o=2;8!==o;)if(2===o){s[1]={},s[7]=(0,s[0][1])(s[0][0]),s[5]=[s[7],s[7].prototype][s[0][3]],s[1].value=s[5][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[8]](s[5],s[0][4],s[1]),l=3;break;case 2:s[8]=s[9],s[8]+=s[3],s[8]+=s[4],l=4}}catch(e){}s[5][s[0][4]]=s[1].value,o=8}}catch(e){}r=8}}function i(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];t=1;break;case 1:return i[0][0].Array}}for(var a=2;74!==a;)switch(a){case 57:r(s,"test",n[19],n[93]),a=56;break;case 36:n[45]=n[36],n[45]+=n[22],n[45]+=n[22],n[23]=n[66],n[23]+=n[74],n[23]+=n[8],n[29]=n[7],a=48;break;case 23:n[64]="",n[61]="2y",n[64]="h",n[59]="_",n[54]="",n[22]="y",n[54]="b2",a=31;break;case 75:r(o,"apply",n[19],n[33]),a=74;break;case 48:n[29]+=n[3],n[29]+=n[9],n[13]=n[1],n[13]+=n[4],n[13]+=n[6],n[49]=n[5],a=63;break;case 63:n[49]+=n[22],n[49]+=n[22],n[93]=n[2],n[93]+=n[22],a=59;break;case 2:var n=[arguments];n[5]="",n[5]="",n[5]="s2",a=3;break;case 3:n[1]="",n[1]="__o",n[3]="",n[3]="2",a=6;break;case 44:n[33]+=n[22],n[33]+=n[22],n[86]=n[64],n[86]+=n[61],a=40;break;case 59:n[93]+=n[22],a=58;break;case 77:r(l,n[23],n[65],n[45]),a=76;break;case 40:n[86]+=n[22],n[20]=n[59],n[20]+=n[37],n[20]+=n[16],a=36;break;case 55:r(l,n[13],n[65],n[29]),a=77;break;case 31:n[19]=4,n[19]=1,n[65]=0,n[33]=n[54],a=44;break;case 76:r(l,n[20],n[65],n[86]),a=75;break;case 56:r(i,"push",n[19],n[49]),a=55;break;case 58:var r=function(e,i,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];t(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=57;break;case 6:n[8]="",n[9]="yy",n[2]="G2",n[4]="ptim",a=11;break;case 11:n[6]="ize",n[7]="X",n[8]="l",n[66]="",a=18;break;case 18:n[66]="__residu",n[36]="",n[74]="a",n[36]="A2",a=27;break;case 27:n[16]="",n[16]="tract",n[37]="",n[37]="_abs",a=23}function s(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].RegExp}}function o(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].Function}}function l(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0]}}}(R[461638]),R.W80=function(){return"function"==typeof R[43805].H80?R[43805].H80.apply(R[43805],arguments):R[43805].H80},R[365071]=function(e){function t(t){for(var i=2;15!==i;)switch(i){case 6:s=r&&d(r,n),i=14;break;case 13:l=e[7],i=12;break;case 17:a=t-h>n,i=19;break;case 19:return a;case 9:i=c--?7:8;break;case 4:i=c--?9:3;break;case 2:var a,n,r,s,l,h,d;i=1;break;case 20:a=t-h>n&&s-t>n,i=19;break;case 16:a=s-t>n,i=19;break;case 1:i=c--?4:5;break;case 11:h=(l||0===l)&&d(l,n),i=10;break;case 3:n=25,i=9;break;case 7:i=c--?14:6;break;case 12:i=c--?10:11;break;case 18:i=h>=0?17:16;break;case 10:i=h>=0&&s>=0?20:18;break;case 14:i=c--?12:13;break;case 8:r=e[6],i=7;break;case 5:d=o[e[4]],i=4}}for(var i=2;10!==i;)switch(i){case 9:l=typeof r,i=8;break;case 12:var a,n=0;i=11;break;case 3:i=c--?8:9;break;case 7:h=l.i4RR(new o[s]("^['-|]"),"S"),i=6;break;case 8:i=c--?6:7;break;case 4:var r="fromCharCode",s="RegExp";i=3;break;case 5:o=R[461638],i=4;break;case 14:e=e.N4RR((function(e){for(var t=2;13!==t;)switch(t){case 1:t=c--?4:5;break;case 8:a++,t=3;break;case 2:var i;t=1;break;case 3:t=a<e.length?9:7;break;case 5:i="",t=4;break;case 4:var a=0;t=3;break;case 7:t=i?14:6;break;case 9:i+=o[h][r](e[a]+109),t=8;break;case 6:return;case 14:return i}})),i=13;break;case 2:var o,l,h,c;i=1;break;case 13:i=c--?11:12;break;case 6:i=c--?13:14;break;case 11:return{t5W:function(i){for(var r=2;6!==r;)switch(r){case 8:return function(t,a){for(var n=2;10!==n;)switch(n){case 3:var r,s=0;n=9;break;case 2:n=void 0===t&&void 0!==i?1:5;break;case 9:n=s<t[a[5]]?8:11;break;case 11:return r;case 4:a=e,n=3;break;case 6:n=0===s?14:12;break;case 1:t=i,n=5;break;case 12:r^=h,n=13;break;case 14:r=h,n=13;break;case 13:s++,n=9;break;case 5:n=void 0===a&&void 0!==e?4:3;break;case 8:var l=o[a[4]](t[a[2]](s),16)[a[3]](2),h=l[a[2]](l[a[5]]-1);n=6}}(void 0,void 0)?a:!a;case 9:n=s+6e4,r=8;break;case 5:r=c--?3:4;break;case 1:r=s>n?5:8;break;case 2:var s=(new o[e[0]])[e[1]]();r=1;break;case 4:a=t(s),r=3;break;case 3:r=c--?8:9}}};case 1:i=c--?4:5}}([[-41,-12,7,-8],[-6,-8,7,-25,-4,0,-8],[-10,-5,-12,5,-44,7],[7,2,-26,7,5,-4,1,-6],[3,-12,5,6,-8,-36,1,7],[-1,-8,1,-6,7,-5],[-12,2,2,-4,-2,-52,-7,-61,-61],[]]),R.P7n=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[1]=void 0,t[2]={},t[2].u0s=function(){for(var e=2;90!==e;)switch(e){case 2:var i=[arguments];e=1;break;case 13:i[7].s2D=function(){var e=!1,t=[];try{for(var i in console)t.s2yy(i);e=0===t.length}catch(e){}return e},i[2]=i[7],e=11;break;case 1:e=t[1]?5:4;break;case 49:i[3].s2yy(i[42]),i[3].s2yy(i[87]),i[3].s2yy(i[33]),i[3].s2yy(i[5]),i[3].s2yy(i[68]),i[19]=[],e=64;break;case 75:i[51]={},i[51][i[34]]=i[22][i[43]][i[46]],i[51][i[67]]=i[94],i[19].s2yy(i[51]),e=71;break;case 5:return 61;case 39:i[92]={},i[92].p2D=["k8D"],i[92].s2D=function(){return"function"==typeof h2yy},i[42]=i[92],i[3].s2yy(i[2]),e=53;break;case 53:i[3].s2yy(i[26]),i[3].s2yy(i[35]),i[3].s2yy(i[1]),i[3].s2yy(i[9]),e=49;break;case 26:i[27].p2D=["U8D"],i[27].s2D=function(){return!/['"]/.G2yy(function(){return"c".indexOf("c")}+[])},e=24;break;case 68:e=68;break;case 19:i[9]=i[6],i[4]={},i[4].p2D=["U8D"],i[4].s2D=function(){return/\u0078\u0078/.G2yy(function(){return"x".repeat(2)}+[])},e=15;break;case 56:i[22]=i[3][i[14]];try{i[94]=i[22][i[44]]()?i[23]:i[66]}catch(e){i[94]=i[66]}e=77;break;case 31:i[35]=i[18],i[12]={},i[12].p2D=["U8D"],i[12].s2D=function(){return!/(\u005b|\x5d)/.G2yy(function(){return["a","a"].join()}+[])},e=44;break;case 76:e=i[46]<i[22][i[43]].length?75:70;break;case 69:e=function(e){for(var t=2;22!==t;)switch(t){case 7:t=a[6]<a[0][0].length?6:18;break;case 4:a[7]={},a[2]=[],a[6]=0,t=8;break;case 2:var a=[arguments];t=1;break;case 1:t=0===a[0][0].length?5:4;break;case 13:a[7][a[8][i[34]]]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[1]={},t[1].h=0,e=4;break;case 4:return t[1].t=0,t[1]}}.b2yy(this,arguments),t=12;break;case 12:a[2].s2yy(a[8][i[34]]),t=11;break;case 5:return;case 16:t=a[6]<a[2].length?15:23;break;case 10:t=a[8][i[67]]===i[23]?20:19;break;case 27:a[3]=a[7][a[5]].h/a[7][a[5]].t,t=26;break;case 8:a[6]=0,t=7;break;case 20:a[7][a[8][i[34]]].h+=!0,t=19;break;case 25:a[9]=!0,t=24;break;case 6:a[8]=a[0][0][a[6]],t=14;break;case 11:a[7][a[8][i[34]]].t+=!0,t=10;break;case 14:t=void 0===a[7][a[8][i[34]]]?13:11;break;case 18:a[9]=!1,t=17;break;case 15:a[5]=a[2][a[6]],t=27;break;case 17:a[6]=0,t=16;break;case 19:a[6]++,t=7;break;case 23:return a[9];case 26:t=a[3]>=.5?25:24;break;case 24:a[6]++,t=16}}(i[19])?68:67;break;case 4:i[3]=[],i[8]={},i[8].p2D=["U8D"],e=8;break;case 8:i[8].s2D=function(){return/\u0039\u0037/.G2yy(function(){return"aa".charCodeAt(1)}+[])},i[5]=i[8],i[7]={},e=14;break;case 77:i[46]=0,e=76;break;case 58:i[14]=0,e=57;break;case 24:i[26]=i[27],i[45]={},i[45].p2D=["k8D"],i[45].s2D=function(){return"function"==typeof A2yy},e=35;break;case 15:i[1]=i[4],i[27]={},e=26;break;case 14:i[7].p2D=["k8D"],e=13;break;case 67:return t[1]=60,25;case 44:i[68]=i[12],i[38]={},i[38].p2D=["U8D"],i[38].s2D=function(){return!/\u0030\u0078\u0036\x31/.G2yy(function(){return String.fromCharCode(97)}+[])},i[87]=i[38],e=39;break;case 11:i[6]={},i[6].p2D=["k8D"],i[6].s2D=function(){return"function"==typeof X2yy},e=19;break;case 71:i[46]++,e=76;break;case 57:e=i[14]<i[3].length?56:69;break;case 35:i[33]=i[45],i[18]={},i[18].p2D=["U8D"],i[18].s2D=function(){return!/\x32\u0035/.G2yy(function(){return decodeURI("%25")}+[])},e=31;break;case 64:i[23]="O2D",i[66]="A2D",i[43]="p2D",i[67]="H2D",i[44]="s2D",i[34]="W2D",e=58;break;case 70:i[14]++,e=57}},e=3;break;case 3:return t[2]}}(),R.g81=function(){return"function"==typeof R[653066].u1T?R[653066].u1T.apply(R[653066],arguments):R[653066].u1T},R.t2D=function(){return"function"==typeof R[365071].t5W?R[365071].t5W.apply(R[365071],arguments):R[365071].t5W},R.r8q=function(){return"function"==typeof R[302863].P0Y?R[302863].P0Y.apply(R[302863],arguments):R[302863].P0Y},R.l80=function(){return"function"==typeof R[43805].X80?R[43805].X80.apply(R[43805],arguments):R[43805].X80},R[461638].a377=R,R.f8q=function(){return"function"==typeof R[302863].P0Y?R[302863].P0Y.apply(R[302863],arguments):R[302863].P0Y},R[43805]={X80:function(){var e,t=arguments;switch(a){case 23:e=t[2]+(t[1]-t[0]);break;case 90:e=t[1]+t[3]+t[4]+t[0]+t[2];break;case 136:e=t[3]-t[4]-t[1]+t[0]+t[2];break;case 22:e=t[0]*-t[1];break;case 43:e=t[1]/t[2]-t[0]+t[3];break;case 147:e=(t[2]+t[1])/t[3]+t[0];break;case 102:e=t[2]*t[3]*t[0]/t[1]+t[4];break;case 116:e=t[1]==t[0];break;case 106:e=-t[0]*t[2]+t[3]+t[1];break;case 169:e=(t[1]+t[2])/t[3]*t[0]-t[4];break;case 101:e=(t[3]+t[0]-t[4])/t[2]+t[1];break;case 72:e=(t[2]+t[4]-t[0])*t[1]+t[3];break;case 6:e=-t[2]/t[3]*t[0]+t[1];break;case 112:e=t[1]*(t[5]*t[2]*t[0]+t[4])+t[3];break;case 141:e=-t[1]+t[2]-t[0];break;case 83:e=t[0]*t[3]*t[2]-t[1]-t[4];break;case 50:e=(t[0]+t[2])/t[1];break;case 8:e=(t[2]-t[4]+t[3])/t[0]+t[1];break;case 119:e=t[0]+(t[1]|t[2]);break;case 11:e=-t[2]+t[0]+t[1]-t[3];break;case 28:e=-t[3]/t[0]+t[2]-t[1];break;case 162:e=-t[2]/t[1]-t[0];break;case 35:e=t[1]/t[0];break;case 134:e=-t[2]*t[0]-t[3]+t[1];break;case 77:e=t[8]+t[5]+t[1]+t[7]+t[4]+t[2]+t[3]+t[0]+t[6];break;case 111:e=t[6]/+t[3]*(t[5]*t[4]*t[2]+t[0])+t[1];break;case 82:e=t[2]/t[3]-t[4]+t[0]+t[1];break;case 104:e=(t[3]-t[2])*t[4]/t[1]-t[0];break;case 103:e=t[0]/t[1]/t[4]/t[2]+t[3];break;case 1:e=-t[0]+t[1];break;case 44:e=t[3]+t[0]-t[1]-t[2];break;case 144:e=t[2]*(t[0]-t[1]);break;case 130:e=(t[1]-t[0]-t[4])/t[2]+t[3];break;case 158:e=(-t[3]+t[0]-t[1])*t[2]-t[4];break;case 2:e=t[1]+t[0]-t[2];break;case 42:e=t[1]/t[2]*t[3]+t[0]+t[4];break;case 73:e=(t[1]+t[2])/t[3]-t[0]+t[4];break;case 56:e=(t[0]-t[1])*t[3]-t[2];break;case 137:e=t[2]+t[0]/t[1];break;case 74:e=(-t[0]+t[4]-t[2])*t[1]+t[3];break;case 5:e=(t[0]-t[2])/t[3]+t[1];break;case 143:e=(t[2]*t[3]+t[0])/t[4]-t[1];break;case 132:e=(t[2]-t[0])/(t[1]-t[3]);break;case 64:e=t[1]-t[0]+t[2];break;case 25:e=t[1]+ +t[0];break;case 27:e=t[3]*t[2]-t[0]-t[1];break;case 63:e=t[3]/t[1]*t[2]*t[0]-t[4];break;case 93:e=(t[1]/t[3]+t[4])/t[2]+t[0];break;case 59:e=-t[2]/t[4]-t[3]-t[1]+t[0];break;case 122:e=(-t[4]/t[0]-t[3])/t[2]-t[1];break;case 127:e=t[1]-(t[3]-(t[2]|t[0]));break;case 40:e=t[3]*t[1]/t[0]-t[2];break;case 80:e=t[1]*t[2]/t[0]+t[3];break;case 89:e=t[1]/t[4]/t[3]*t[0]+t[2];break;case 88:e=t[3]-t[1]-t[2]+t[0];break;case 49:e=(t[1]-t[2])/t[0];break;case 26:e=t[0]^t[1];break;case 154:e=t[2]+(t[0]+t[1]);break;case 19:e=t[2]-t[3]+t[0]-t[1];break;case 166:e=(t[1]+t[3])*t[2]/t[0]+t[4];break;case 15:e=t[2]*t[1]-t[0];break;case 13:e=t[0]+t[1];break;case 33:e=t[0]+t[1]+t[2];break;case 32:e=t[2]/t[0]+t[1];break;case 47:e=t[4]+t[9]+t[5]+t[6]+t[1]+t[7]+t[8]+t[3]/t[0]+t[2];break;case 68:e=(t[3]-t[0])/t[1]/t[4]+t[2];break;case 168:e=t[0]>=t[1];break;case 165:e=t[2]*t[1]+t[3]+t[0];break;case 153:e=t[3]-t[1]/t[4]+(t[5]-(t[0]^t[2]));break;case 95:e=t[2]*t[0]/t[4]/t[3]+t[1];break;case 70:e=t[2]*t[3]+t[0]-t[1];break;case 55:e=t[1]*+t[0];break;case 140:e=(t[4]+t[0])*t[1]/t[2]-t[3];break;case 17:e=-t[2]/t[4]/t[3]+t[0]-t[1];break;case 149:e=t[2]+t[0]+t[3]%t[1];break;case 171:e=-t[3]*t[2]*t[4]-t[0]+t[1];break;case 107:e=t[1]/+t[0];break;case 108:e=t[3]/t[4]*t[0]*t[2]+t[1];break;case 20:e=(t[3]-t[2]-t[0])*t[1]+t[4];break;case 91:e=t[1]+t[2]-t[4]-t[0]-t[3];break;case 125:e=t[2]+t[1]+t[0]+t[3];break;case 14:e=(t[2]+t[4])*t[3]+t[1]-t[0];break;case 3:e=(t[1]+t[3])*t[2]-t[0];break;case 69:e=t[3]+t[2]-t[0]+t[1];break;case 84:e=t[1]-t[2]-t[0];break;case 45:e=t[0]|t[1];break;case 76:e=t[1]+t[5]+t[6]+t[0]+t[2]+t[3]+t[4];break;case 87:e=t[2]*t[1]-t[0]+t[3];break;case 46:e=t[1]*t[0];break;case 0:e=-t[4]/t[0]+t[1]+t[3]-t[2];break;case 92:e=t[0]<t[1];break;case 121:e=t[2]/t[0]/t[4]+t[1]+t[3];break;case 94:e=t[3]/t[2]+t[1]+t[0];break;case 99:e=t[0]/t[2]-t[1];break;case 145:e=t[1]-+t[3]-t[0]+t[2];break;case 160:e=t[0]-+t[1];break;case 142:e=(t[3]-t[4])*t[1]/t[0]+t[2];break;case 48:e=t[0]*(t[3]-t[2]/(t[1]-t[4]));break;case 62:e=(t[1]+t[0]+t[4])/t[3]+t[2];break;case 129:e=(t[3]+t[1])/t[0]/t[2]-t[4];break;case 53:e=t[1]+ +t[0]/t[2];break;case 79:e=t[0]*t[3]*+t[2]*t[1];break;case 167:e=t[1]!=t[0];break;case 117:e=t[1]+t[0]*(t[2]-t[3]);break;case 85:e=t[0]/t[2]*t[1]+t[3];break;case 86:e=t[0]+t[1]+t[2]-t[3];break;case 39:e=(t[4]*t[1]-t[0])/t[2]+t[3];break;case 139:e=t[1]/t[0]+t[2]-t[3];break;case 172:e=t[1]%t[0];break;case 120:e=-t[3]-t[0]+t[2]+t[1];break;case 135:e=(-t[3]-t[1])*t[2]-t[4]+t[0];break;case 57:e=t[3]/t[2]*t[1]-t[0];break;case 38:e=(-t[0]+t[4]-t[2])/t[1]+t[3];break;case 34:e=t[1]>>t[0];break;case 71:e=(t[0]+t[1])*t[4]*t[2]-t[3];break;case 12:e=(t[3]+t[1])/t[0]+t[4]-t[2];break;case 155:e=t[2]-(t[1]^t[0]);break;case 75:e=(t[0]/t[3]-t[4])/t[2]+t[1];break;case 61:e=-t[2]+t[0]+t[1];break;case 118:e=t[3]+t[4]-t[0]-t[2]+t[1];break;case 41:e=t[1]*t[2]*t[0]-t[3];break;case 4:e=t[1]&t[0];break;case 37:e=-t[1]*t[2]/t[4]+t[3]-t[0];break;case 133:e=t[3]*(t[2]-t[0])+t[1];break;case 157:e=t[1]>t[0];break;case 21:e=t[0]<<t[1];break;case 146:e=t[0]+t[2]*t[1];break;case 105:e=(-t[4]-t[2])/t[1]*t[3]+t[0];break;case 150:e=-t[0]/t[2]/t[1]+t[3];break;case 78:e=t[8]+t[6]+t[1]+t[4]+t[9]+t[3]+t[5]+t[2]+t[7]+t[10]+t[0];break;case 128:e=t[0]-(t[2]|t[1]);break;case 126:e=t[0]===t[1];break;case 161:e=(-t[0]-t[2]-t[3])*t[4]+t[1];break;case 60:e=t[2]/t[4]*t[1]+t[0]-t[3];break;case 115:e=(t[5]-t[2])*(t[3]-t[6])-(t[1]-t[7])*(t[4]-t[0]);break;case 159:e=(t[0]-t[1])/t[2]+t[4]+t[3];break;case 10:e=-t[1]*t[0]+t[2];break;case 138:e=t[1]-t[2]-(t[3]-t[0]);break;case 109:e=-t[4]/t[3]*(t[6]*(t[5]-t[1])-t[0])+t[2];break;case 66:e=-t[3]/t[1]*t[0]/t[4]+t[2];break;case 81:e=t[3]/t[0]*t[4]-t[1]+t[2];break;case 97:e=-t[2]/t[1]+t[0];break;case 124:e=t[1]/(t[0]-t[2]);break;case 30:e=t[3]|t[4]<<t[2]|t[0]<<t[1];break;case 7:e=t[0]-t[1];break;case 29:e=t[1]/t[3]/t[0]/t[4]-t[2];break;case 65:e=(t[3]-t[2])/t[1]-t[0];break;case 170:e=t[1]*t[4]-t[3]+t[2]-t[0];break;case 54:e=t[1]-t[2]/+t[0];break;case 131:e=-t[1]-t[2]+t[0];break;case 16:e=(-t[4]/t[0]+t[3])/t[2]-t[1];break;case 67:e=t[1]+t[2]-t[4]+t[3]-t[0];break;case 152:e=t[2]-t[0]-+t[1];break;case 31:e=(t[0]-t[4])/t[3]*t[2]+t[1];break;case 100:e=(t[1]-t[2])*t[0]+t[3];break;case 58:e=t[2]-t[1]+t[4]+t[3]-t[0];break;case 9:e=(t[3]+t[2])/t[0]-t[1];break;case 123:e=t[2]-t[0]+t[3]-t[4]+t[1];break;case 24:e=(t[2]-t[1])*(t[4]-t[0])/(t[5]-t[3]);break;case 96:e=(t[0]-t[1]+t[4])*t[3]-t[2];break;case 18:e=-t[2]/t[1]+t[3]+t[0];break;case 151:e=(t[2]-t[4])/t[3]-t[1]+t[0];break;case 164:e=t[2]/(t[1]>>t[0]);break;case 52:e=t[3]+(t[2]-t[1])*(t[5]/t[0]-t[4])*t[6];break;case 113:e=t[1]!==t[0];break;case 163:e=(-t[1]-t[0])/t[3]+t[2];break;case 114:e=-t[4]/t[3]+t[0]+t[2]+t[1];break;case 36:e=t[3]-t[1]+t[0]+t[2];break;case 148:e=t[3]/t[2]/t[0]+t[1];break;case 156:e=t[1]+t[3]/t[2]*t[0];break;case 51:e=t[4]+(t[3]-t[1])*t[0]*t[2];break;case 110:e=t[4]/t[2]*t[1]*t[0]*t[3]+t[5];break;case 98:e=t[3]+t[1]+t[0]-t[2]-t[4]}return e},H80:function(e){a=e}},R.r81=function(){return"function"==typeof R[653066].u1T?R[653066].u1T.apply(R[653066],arguments):R[653066].u1T},R.p8q=function(){return"function"==typeof R[302863].r0Y?R[302863].r0Y.apply(R[302863],arguments):R[302863].r0Y},R.G7n=function(){return"function"==typeof R.P7n.u0s?R.P7n.u0s.apply(R.P7n,arguments):R.P7n.u0s},R.E2D=function(){return"function"==typeof R[365071].t5W?R[365071].t5W.apply(R[365071],arguments):R[365071].t5W},R[302863]=function(){function e(e,r,s,o,l){for(var h=2;15!==h;)switch(h){case 12:return!1;case 6:case 16:return R.r81(c,d,s);case 2:var c,d,u,p;p=a[n([0,3,-9,-11,8,-3,3,2])],!t&&(t=void 0!==p?p[n([-4,3,7,8,2,-11,1,-7])]||" ":""),!i&&(i=void 0!==p?p[n([-4,6,-7,-6])]:""),u=l?i:t,h=9;break;case 19:h=null===e||e<=0?18:14;break;case 13:h=r&&m>0&&46!==u.q0jj(m-1)?12:11;break;case 9:h=o>0?8:19;break;case 8:d=(c=u.O0jj(e,o)).length,h=6;break;case 14:var m=u.length-e;h=13;break;case 11:return d=(c=u.O0jj(m,u.length)).length,R.r81(c,d,s);case 18:d=(c=u.O0jj(0,u.length)).length,h=16}}for(;;){var t,i,a=R[461638];return{r0Y:function(t,i,a,n){for(;;)return e(t,i,a,n)},P0Y:function(t,i,a,n){for(;;)return e(t,i,a,n,!0)}}}function n(e){for(var t=2;7!==t;)switch(t){case 8:return a;case 9:n++,t=4;break;case 2:var i=8,a="";t=5;break;case 5:var n=0;t=4;break;case 3:a+=T0jj.v0jj(e[n]-i+116),t=9;break;case 4:t=n<e.length?3:8}}}(),R.X7n=function(){return"function"==typeof R.P7n.u0s?R.P7n.u0s.apply(R.P7n,arguments):R.P7n.u0s},R.n8q=function(){return"function"==typeof R[302863].r0Y?R[302863].r0Y.apply(R[302863],arguments):R[302863].r0Y},R.S80=function(){return"function"==typeof R[43805].H80?R[43805].H80.apply(R[43805],arguments):R[43805].H80},R.j80=function(){return"function"==typeof R[43805].X80?R[43805].X80.apply(R[43805],arguments):R[43805].X80},R[653066]=(n=function(e,t){var i=65535&t;return((t-i)*e|0)+(i*e|0)|0},{u1T:function(e,t,i){for(var a=3432918353,r=461845907,s=i,o=-4&t,l=0;l<o;l+=4){var h=255&e.i3AA(l)|(255&e.i3AA(l+1))<<8|(255&e.i3AA(l+2))<<16|(255&e.i3AA(l+3))<<24;h=n(h,a),s=5*(s=(524287&(s^=h=n(h=(131071&h)<<15|h>>>17,r)))<<13|s>>>19)+3864292196|0}switch(h=0,t%4){case 3:h=(255&e.i3AA(o+2))<<16;case 2:h|=(255&e.i3AA(o+1))<<8;case 1:h|=255&e.i3AA(o),h=n(h,a),s^=h=n(h=(131071&h)<<15|h>>>17,r)}return s^=t,s=n(s^=s>>>16,2246822507),(s=n(s^=s>>>13,3266489909))^s>>>16}}),R.M2D=function(e){if(R.X7n(),R)return R.t2D(e)},R.z2D=function(e){if(R.X7n(),R)return R.E2D(e)},R.D2D=function(e){if(R.X7n(),R&&e)return R.E2D(e)},R.d2D=function(e){if(R.G7n(),R)return R.t2D(e)},R.o2D=function(e){if(R.G7n(),R)return R.t2D(e)},R.Z2D=function(e){if(R.G7n(),R&&e)return R.E2D(e)},r=e=>{var t,a,n;R.X7n(),a=function(e,t){var i;return(i=document.createEvent("Event")).initEvent(e,!(!t||!t.bubbles),!(!t||!t.cancelable)),i},(t="undefined"!=typeof window?window:void 0!==i.g?i.g:{}).Event&&"function"!=typeof t.Event&&(a.prototype=t.Event.prototype,t.Event=a),n=function(e,t){var i;return(i=document.createEvent("CustomEvent")).initCustomEvent(e,!(!t||!t.bubbles),!(!t||!t.cancelable),t&&t.detail),R.G7n(),i},t.CustomEvent&&"function"!=typeof t.CustomEvent&&(n.prototype=t.CustomEvent.prototype,t.CustomEvent=n),void 0!==i.g&&void 0===i.g.CanvasRenderingContext2D&&(i.g.CanvasRenderingContext2D=function(){})},s=e=>{var t,i,a,n,r,s=R;s.G7n(),t=e.CIQ,a=(i="undefined"!=typeof navigator?navigator:{userAgent:""}).userAgent,n="undefined"!=typeof window?window:{},r="undefined"!=typeof document?document:{},t.ipad=-1!=a.indexOf("iPad")||"MacIntel"===i.platform&&i.maxTouchPoints>1,s.W80(0);var o=s.j80(1,16,13,13,17);t.iphone=a.indexOf("iPhone")!=o,s.W80(1);var l=s.j80(16,15);t.isAndroid=a.toLowerCase().indexOf("android")>l,t.isIE=a.toLowerCase().indexOf("msie")>-1||a.indexOf("Trident/")>-1,s.S80(2);var h=s.j80(4,16,21);t.isEdge=a.indexOf("Edge/")>h,s.W80(3);var c=s.j80(210,0,11,19);t.isSafari=a.indexOf("Safari/")>c,t.isIOS7=a.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),t.isIOS8=a.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i),t.isIOS9=a.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i),t.isIOS10=a.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i),t.isIOS7or8=t.isIOS7||t.isIOS8||t.isIOS9||t.isIOS10,t.isMobile=t.isAndroid||t.ipad||t.iphone,t.touchDevice=void 0!==r.ontouchstart||i.maxTouchPoints>1,t.isSurface=t.touchDevice&&(t.isEdge||t.isIE||a.indexOf("Edg/")>-1),t.is_chrome=a.toLowerCase().indexOf("chrome")>-1&&!t.isEdge,t.isFF=a.toLowerCase().indexOf("firefox")>-1,t.isSurfaceApp=n.MSApp,t.isWebComponentsSupported="undefined"!=typeof document&&"registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement("template"),t.noKeyboard=t.isMobile||t.isSurfaceApp},o=e=>{var t,i,a,n;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,a=function(e,t,i,a){var n,r,s,o,l,h=R;function c(e,t,a){h.X7n(),[1,2].forEach((e=>{h.X7n(),t[e].cp={},["x","y"].forEach((function(i){var n;h.S80(5);var r=h.l80(0,17,16,1);h.W80(6);var s=h.j80(12,169,14,1);h.S80(3);var o=h.j80(61,6,7,3);h.W80(1);var l=h.l80(1,2);h.W80(1);var c=h.j80(1,3);h.S80(7);var d=h.j80(11,9);h.W80(8);var u=h.l80(28,1,16,19,7);h.S80(9);var p=h.l80(2,0,4,0);h.S80(5);var m=h.l80(5,3,17,6);h.S80(10);var g=h.l80(5,13,67);h.S80(11);var f=h.l80(13,19,7,24);h.W80(12);var v=h.l80(6,4,19,20,17);h.W80(13);var y=h.j80(0,2);h.S80(14);var b=h.l80(397,7,20,17,3);h.S80(15);var x=h.j80(58,10,6);h.S80(16);var C=h.l80(1,5,1,11,4);h.S80(17);var S=h.l80(9,7,6,6,1);h.W80(11);var T=h.j80(7,17,6,16);n=r/(s+Math.sqrt(Math.pow(t[("2"|o)*e-l].x-t[c*e-d].x,u)+Math.pow(t[p*e-m].y-t[g*e-"2"*f].y,v))/Math.sqrt(Math.pow(t[y].x-t[b].x,x)+Math.pow(t[C].y-t[S].y,T))),h.S80(18);var D=h.l80(1,2,4,4);h.S80(19);var w=h.l80(15,7,0,6);h.W80(20);var k=h.j80(15,6,4,5,85);t[e].cp[i]=t[e][i]+(D-w*e)*(t[e+1][i]-t[e-k][i])*a*(n||0),t[e].cp[i]<Math.min(t[1][i],t[2][i])&&(t[e].cp[i]=Math.min(t[1][i],t[2][i])),t[e].cp[i]>Math.max(t[1][i],t[2][i])&&(t[e].cp[i]=Math.max(t[1][i],t[2][i]))}))})),0===e?i.quadraticCurveTo(t[2].cp.x,t[2].cp.y,t[2].x,t[2].y):e===r-4?i.quadraticCurveTo(t[1].cp.x,t[1].cp.y,t[2].x,t[2].y):i.bezierCurveTo(t[1].cp.x,t[1].cp.y,t[2].cp.x,t[2].cp.y,t[2].x,t[2].y)}h.S80(4),n=h.l80(2147483647,"0"),a||(a=[]),(!t||t<0)&&(t=0),r=e.length,i.moveTo(e[0],e[1]);for(var d=0;d<r-3;d+=2)o=d,l=void 0,n!=a.length&&(l=a[n]).coord[0]==e[o]&&l.coord[1]==e[o+1]&&(i.stroke(),i.strokeStyle=l.color,i.setLineDash(l.pattern),i.lineDashOffset=0,i.lineWidth=l.width,i.beginPath(),i.moveTo(e[o],e[o+1]),n++),(s=[])[0]={x:e[Math.max(0,d-2)],y:e[Math.max(1,d-1)]},s[1]={x:e[d],y:e[d+1]},h.W80(4),s[h.l80(2147483647,"2")]={x:e[d+2],y:e[d+3]},s[h.j80("3",13729152,h.S80(21))]={x:e[Math.min(r-2,d+4)],y:e[Math.min(r-1,d+5)]},4===r&&(t=0),c(d,s,t)},n=2;for(var r=1;-1620763494!==R.r81(r.toString(),r.toString().length,3087);r++)~e.SplinePlotter.plotSpline&&(e.SplinePlotter.plotSpline=a),n+=2;1868454281!==R.r81(n.toString(),n.toString().length,20326)&&(e.SplinePlotter.plotSpline||(e.SplinePlotter.plotSpline=a)),t.clearCanvas=function(e,i){var a,n,r;e.isDirty=!1,R.X7n(),(a=e.context).clearRect(0,0,e.width,e.height),!t.isAndroid||t.is_chrome||t.isFF||(t.ChartEngine.useOldAndroidClear&&i&&(a.fillStyle=i.containerColor,a.fillRect(0,0,e.width,e.height),a.clearRect(0,0,e.width,e.height)),n=e.width,e.width=1,e.width=n),r=i.chart.canvasShim.childNodes.length>0,(i.useBackgroundCanvas||r)&&(i.useBackgroundCanvas=r,e==i.chart.canvas&&t.clearCanvas(i.chart.backgroundCanvas,i))},t.fillTransparentCanvas=function(e,t,i,a){var n;n=e.globalCompositeOperation,e.globalCompositeOperation="destination-over",e.fillStyle=t,e.fillRect(0,0,i,a),e.globalCompositeOperation=n},t.convertBoxToPixels=function(e,t,i,a){var n;return n=e.panels[t],{x0:e.pixelFromTick(i.x0,n.chart),x1:e.pixelFromTick(i.x1,n.chart),y0:i.cy0||0===i.cy0?i.cy0:e.pixelFromValueAdjusted(n,i.x0,i.y0,a),y1:i.cy1||0===i.cy1?i.cy1:e.pixelFromValueAdjusted(n,i.x1,i.y1,a)}},t.fillArea=function(e,t,a){var n,r,s,o,l,h,c,d,u,p,m,g;if(t.length){if(r=(n=e.chart.context).globalAlpha,s=arguments[2],o=arguments[3],l=arguments[4],h=0,c=null,a&&"object"==typeof a&&(s=a.color,o=a.opacity,h=a.tension,l=a.panelName,c=a.yAxis),o||0===o||(o=.2),"auto"==s&&(s=e.defaultColor),n.globalAlpha=o,R.G7n(),s&&(n.fillStyle=s),d=Number.MAX_VALUE,R.W80(22),u=R.j80(d,1),(p=e.panels[l])&&(u=(c||p.yAxis).top,d=(c||p.yAxis).bottom,n.save(),n.beginPath(),n.rect(p.left,u,p.width,d-u),n.clip()),n.beginPath(),h){for(g=[],m=0;m<t.length-2;m++)g.push(t[m][0],t[m][1]);for(i.plotSpline(g,h,n),m=t.length-2;m<t.length;m++)n.lineTo(Math.round(t[m][0]),Math.round(t[m][1]))}else for(n.moveTo(t[0][0],t[0][1]),m=1;m<t.length;m++)n.lineTo(t[m][0],t[m][1]);n.closePath(),n.fill(),p&&n.restore(),n.globalAlpha=r}},t.prepareChannelFill=function(e,i){var a,n,r,s,o,l;(!i||i instanceof Array)&&(i=arguments[2]),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),a=e.panels[i.panelName],e.chart.context.strokeStyle,n={noDraw:i.noDraw,gapDisplayStyle:i.gapDisplayStyle},r=t.ensureDefaults(i,{noDraw:!0,gapDisplayStyle:{},yAxis:a.yAxis}),s=e.plotDataSegmentAsLine(i.topBand,a,r),o=e.plotDataSegmentAsLine(i.bottomBand,a,r),i.noDraw=n.noDraw,i.gapDisplayStyle=n.gapDisplayStyle,l=[];for(var h=0;h<s.points.length;h+=2)l.push([s.points[h],s.points[h+1]]);for(var c=o.points.length-1;c>=0;c-=2)l.push([o.points[c-1],o.points[c]]);t.fillArea(e,l,i)},t.preparePeakValleyFill=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H=R;(!i||i instanceof Array)&&(H.W80(7),i=arguments[H.l80("2",0)]),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),n=(a=e.panels[i.panelName]).yAxis,(r=e.chart.context).strokeStyle,s={noDraw:i.noDraw,gapDisplayStyle:i.gapDisplayStyle},o=e.plotDataSegmentAsLine(i.band,a,t.ensureDefaults(i,{noDraw:!0,gapDisplayStyle:{}})),i.noDraw=s.noDraw,i.gapDisplayStyle=s.gapDisplayStyle,l=i.threshold,h=i.direction,c=i.reverse,d=i.gapDisplayStyle,i.yAxis&&(n=i.yAxis),u=-Number.MAX_VALUE,p=Number.MAX_VALUE,m=c?u:p,(l||0===l)&&(m=e.pixelFromPrice(l,a,n)),g=[],f=o.points.length;for(var I=0;I<f;I+=2)v=o.points[I],H.S80(23),y=o.points[H.j80(0,"1",I)],i.roundOffEdges&&(0===I?v=Math.floor(v):I+2==f&&(v=Math.ceil(v))),isNaN(y)||(y>m&&h>0||y<m&&h<0||(g.push([v,y]),u=Math.max(y,u),p=Math.min(y,p)),I<f-3&&(H.W80(13),b=o.points[H.l80(I,2)],H.W80(13),x=o.points[H.l80(I,3)],(y<m&&x>m||y>m&&x<m)&&(H.W80(24),v+=H.l80(v,y,m,y,b,x),g.push([v,m]))));if(f=g.length){if(C=i.edgeParameters,i.edgeHighlight){C.lineWidth>100&&(C.lineWidth=1),r.save(),r.beginPath();for(var q=0;q<f-1;q++)if(S=g[q],H.W80(25),T=g[H.l80("1",q)],S[1]!=m||T[1]!=m){if(S[0]==T[0]&&e.layout.candleWidth>=1){if(S[1]==m&&g[q-1]&&g[q-1][1]==m)continue;if(T[1]==m&&g[q+2]&&g[q+2][1]==m)continue}e.plotLine(t.extend({x0:S[0],x1:T[0],y0:S[1],y1:T[1],color:i.edgeHighlight,type:"segment",context:r,confineToPanel:a,deferStroke:!0},C))}r.stroke(),r.restore()}if(l||0===l||(n.flipped&&(c=!c),m=c?Math.min(p,n.top):Math.max(u,n.bottom)),g.push([g[f-1][0],m],[g[0][0],m]),(D=i.opacity)||0===D||(i.opacity=.3),t.fillArea(e,g,i),d&&d.color&&d.fillMountain&&!i.tension&&!t.isTransparent(d.color)&&!t.isTransparent(i.color)){for(r.save(),r.fillStyle instanceof CanvasGradient?(w=t.colorToHex(d.color),(k=r.createLinearGradient(0,1===h?a.top:a.bottom,0,m)).addColorStop(0,t.hexToRgba(w,60)),k.addColorStop(1,t.hexToRgba(w,10)),r.fillStyle=k):r.fillStyle=d.color,L=[],A={opacity:i.opacity,panelName:i.panelName},r.beginPath(),I=0;I<o.gapAreas.length;I++)P=(M=o.gapAreas[I]).start,O=M.end,_=M.threshold,P?L=[[P[0],P[1]],[P[0],_]]:L.push([O[0],_],[O[0],i.step?L[0][1]:O[1]]),4==L.length&&(t.fillArea(e,L,A),F=t.extend({x1:L[3][0],y0:L[0][1],type:"segment",deferStroke:!0,context:r,confineToPanel:a},d),i.step?(e.plotLine(t.extend({x0:L[0][0],y1:L[0][1]},F)),e.plotLine(t.extend({x0:L[3][0],y1:L[3][1]},F))):e.plotLine(t.extend({x0:L[0][0],y1:L[3][1]},F)));r.stroke(),r.restore()}H.G7n(),i.opacity=D}},t.fillIntersecting=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f;(!a||a instanceof Array)&&(a=arguments[3]),n=a.topBand,r=a.bottomBand,s=a.topSubBand,R.X7n(),o=a.bottomSubBand,l=a.topColor,h=a.bottomColor,(c=i).panel&&(c.outputs&&c.outputMap&&(l||(l=c.outputs[c.outputMap[n]]),h||(h=c.outputs[c.outputMap[r]])),c=c.panel),c=e.panels[c],u=(d=e.chart.context).canvas,(p=e.scratchContext)||(p=e.scratchContext=u.cloneNode(!0).getContext("2d")),(m=p.canvas).height=u.height,m.width=u.width,m.context=p,t.clearCanvas(m,e),g=.3,a.opacity&&(g=a.opacity),p.globalCompositeOperation="xor",e.chart.context=p,f={band:n,subField:s,color:l,opacity:1,panelName:c.name,yAxis:a.topAxis,skipTransform:a.skipTransform,tension:a.tension,roundOffEdges:!0,step:a.step},t.preparePeakValleyFill(e,f),t.extend(f,{band:r,subField:o,color:h,yAxis:a.bottomAxis}),t.preparePeakValleyFill(e,f),d.save(),d.globalAlpha=g,d.drawImage(m,0,0),d.restore(),e.chart.context=d},t.drawLegendItem=function(e,t,i,a,n){var r,s,o,l=R;return n||(n=1),r=t[0],s=t[1],(o=e.chart.context).globalAlpha=n,o.fillStyle=a,o.fillRect(r,s,10,10),l.S80(26),o.globalAlpha=l.j80("1",0),l.W80(13),r+=l.l80(10,2),o.fillStyle=e.defaultColor,o.fillText(i,r,s),[r+=o.measureText(i).width+6,s]},R.X7n(),t.drawLegend=function(e,i){var a,n,r,s,o,l,h,c,d,u,p;a=i.coordinates,n=e.chart.context,R.X7n(),n.textBaseline="top",r=n.font,e.canvasFont("stx-legend",n),s=i.chart||e.chart,a||(a=s.legend),o=[a.x,a.y],l=e.defaultColor;for(var m=0;m<2;m++)for(var g in i.legendColorMap)if((!(h=i.legendColorMap[g]).isBase||!m&&!i.noBase)&&(h.isBase||m)){if(h.color instanceof Array){for(c=(d=h.color).length-1;c>=0;c--)t.isTransparent(d[c])&&d.splice(c,1);if(d.length>1){for(u=n.createLinearGradient(o[0],o[1],o[0]+10,o[1]),c=0;c<d.length;c++)u.addColorStop(c/(d.length-1),d[c]);l=u}else l=d.length>0?d[0]:e.getCanvasColor("stx_line_chart")}else l=h.color?h.color:null;if(l){if(p=g,h.display&&(p=h.display),p||(p=s.symbolDisplay?s.symbolDisplay:s.symbol),o[0]+n.measureText(p).width>s.panel.right){R.S80(27);var f=R.l80(7,227,20,12);o=[a.x,a.y+n.measureText("M").width+f]}o=t.drawLegendItem(e,o,p,l,h.opacity)}}n.font=r}},l=e=>{var t;(t=e.CIQ).colorsEqual=function(e,i){var a,n,r,s,o;return e==i||!e&&!i||!(!e||!i)&&(R.X7n(),"transparent"==e&&(e="rgba(0,0,0,0)"),"transparent"==i&&(i="rgba(0,0,0,0)"),a=/^rgba\(.*,(.+)\)/,n=e.match(a),r=i.match(a),(n=n?parseFloat(n[1]):1)==(r=r?parseFloat(r[1]):1)&&(s=t.colorToHex(e),o=t.colorToHex(i),s.toLowerCase()==o.toLowerCase()))},t.colorToHex=function(e){var i,a,n,r,s,o,l,h,c,d,u=R;if(t.colorToHexMapping||(t.colorToHexMapping={}),e&&"transparent"!=e||(e="#000000"),t.colorToHexMapping[e])return t.colorToHexMapping[e];if("#"===e.substr(0,1)){if(4==e.length){u.W80(28);var p=u.j80(1,2,10,7);u.W80(29);var m=u.j80(15,15,0,1,1);u.S80(7);var g=u.l80(40,38);u.W80(7);var f=u.l80(18,17);u.S80(11);var v=u.j80(15,7,7,12);u.S80(7);var y=u.j80(6,5);e=t.colorToHexMapping[e]="#"+Array(3).join(e.substr(p,m))+Array(3).join(e.substr(g,f))+Array(3).join(e.substr(v,y))}return e}if((i=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(e))||(i=/(.*?)rgba\((\d+), ?(\d+), ?(\d+),.*\)/.exec(e)),!i)return h=e,a="undefined"==typeof document?"#000000":((c=document.querySelector(".ciq_color_converter"))||((c=document.createElement("textarea")).className="ciq_color_converter",c.style.display="none",document.body.appendChild(c)),c.style.color="#000000",c.style.color=h,d=getComputedStyle(c).getPropertyValue("color"),(i=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(d))?t.colorToHex(d):"#"===d.substr(0,1)?d:h),t.colorToHexMapping[e]=a,a;n=parseFloat(i[2]),r=parseFloat(i[3]),s=parseFloat(i[4]),u.S80(30);for(var b=(o=u.l80(n,16,8,s,r).toString(16)).length;b<6;b++)u.W80(13),o=u.l80("0",o);u.S80(13),u.X7n();var x=u.l80(1774080622,18);u.W80(31),u.l80(959,2508,13,2,17),u.S80(15),u.l80(92840,14,7141),u.S80(9),u.j80(1,34,17,5996),u.W80(32);var C=u.l80(9,2756,3123);u.W80(32),u.j80(10,319,350),u.W80(27);var S=u.j80(5,13455,12,1225);u.S80(7);var T=u.j80(11707851744,10406979328);u.W80(33);var D=u.l80(816,9,8965);return l=i["1">>x]+(!(C>571.13)||(S!="2840"<<T?"#":D))+o,t.colorToHexMapping[e]=l,l},t.hexToRgba=function(e,i){var a,n,r,s,o,l=R;if(e&&"transparent"!=e||(e="rgba(0,0,0,0)"),"rgba"===e.substr(0,4)){a=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(e),l.W80(34),n=a[l.l80(1144080416,"5")],(i||0===i)&&(n=i),n>1&&(l.S80(35),n=l.j80(100,n)),l.S80(36);var h=l.l80(11,10,19,676207148);l.W80(37);var c=l.j80(17,7,10,19,70);l.W80(27);var d=l.l80(7,15113,3,7550);l.S80(38);var u=l.j80(15,1,16,27,7);l.W80(13),l.l80(2501,13),l.S80(39);var p=l.l80(15,19,244717,6435,64400);l.S80(40);var m=l.j80(7,13,43558,26285);l.S80(41);var g=l.l80(11,3194,13,453552);l.S80(42),l.j80(19,596,4,16,5938),l.W80(43);var f=l.j80(4,3216,804,804);l.S80(44);var v=l.l80(14,19,3,9);l.S80(7);var y=l.j80(7378,8);l.W80(1);var b=l.l80(8,12);return"rgba("+a["2"<<h]+(601.28!="2800"*c?",":d)+a[u]+(7610!==p&&(m>431.39?",":g!=f?"0x867"*v:y))+a[b]+","+n+")"}return"rgb"===e.substr(0,3)&&(e=t.colorToHex(e)),i||0===i||(l.W80(45),i=l.j80("100",64)),i<=1&&(l.W80(46),i=l.j80(100,i)),e=e.replace("#",""),r=parseInt(e.slice(0,2),16),s=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16),isNaN(r)||isNaN(s)||isNaN(o)?(console.log("CIQ.hexToRgba: invalid hex :",e),null):(l.S80(47),l.G7n(),l.l80(100,",",")",i,"rgba(",",",s,o,",",r))},t.convertToNativeColor=function(e){var t,i;return(t=document.createElement("DIV")).style.color=e,t.style.display="none",document.body.appendChild(t),i=getComputedStyle(t).color,document.body.removeChild(t),i},t.isTransparent=function(e){var t;return!!e&&("transparent"==e||null!==(t=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(e))&&0===parseFloat(t[5]))},t.hsv=function(e){var i,a,n,r,s,o,l,h,c,d=R;"#"===(i=t.colorToHex(e)).substr(0,1)&&(i=i.slice(1));for(var u=i.length;u<6;u++)d.S80(13),i=d.l80("0",i);return a=parseInt(i.slice(0,2),16),n=parseInt(i.slice(2,4),16),r=parseInt(i.slice(4,6),16),d.S80(7),d.j80("0",0),d.S80(34),d.X7n(),d.l80(28080544,"0"),a=parseInt((""+a).replace(/\s/g,""),10),n=parseInt((""+n).replace(/\s/g,""),10),r=parseInt((""+r).replace(/\s/g,""),10),null===a||null===n||null===r||isNaN(a)||isNaN(n)||isNaN(r)?(console.log("CIQ.hsv: invalid color :",e),null):a<0||n<0||r<0||a>255||n>255||r>255?null:(d.W80(35),a=d.l80(255,a),d.W80(35),n=d.l80(255,n),d.S80(35),r=d.l80(255,r),(o=Math.min(a,Math.min(n,r)))==(l=Math.max(a,Math.max(n,r)))?[0,0,o]:(h=a==o?n-r:r==o?a-n:r-a,c=a==o?3:r==o?1:5,d.S80(48),s=d.l80(60,l,h,c,o),d.S80(49),[s,d.j80(l,l,o),l]))},t.hsl=function(e){var i,a,n,r,s,o,l,h,c,d,u=R;"#"===(i=t.colorToHex(e)).substr(0,1)&&(i=i.slice(1));for(var p=i.length;p<6;p++)u.W80(13),i=u.l80("0",i);if(a=parseInt(i.slice(0,2),16),n=parseInt(i.slice(2,4),16),r=parseInt(i.slice(4,6),16),a/=255,u.W80(46),n/=u.l80(1,"255"),r/=255,s=Math.max(a,n,r),o=Math.min(a,n,r),u.S80(50),c=u.j80(s,2,o),s==o)l=h=0;else{switch(u.S80(7),d=u.j80(s,o),h=c>.5?d/(2-s-o):d/(s+o),s){case a:u.W80(5),l=u.j80(n,n<r?6:0,r,d);break;case n:u.W80(5),l=u.l80(r,2,a,d);break;case r:u.S80(5),l=u.j80(a,4,n,d)}u.W80(45),l/=u.j80("6",2)}return[l,h,c]},t.hslToRgb=function(e,t,i){var a,n,r,s,o,l,h=R;return h.X7n(),0===t?a=n=r=i:(s=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?(h.W80(51),h.j80(6,e,i,t,e)):i<.5?t:i<2/3?(h.W80(52),h.j80(3,e,t,e,i,2,6)):e},o=i<.5?i*(1+t):i+t-i*t,h.S80(15),l=h.j80(o,i,2),h.S80(53),a=s(l,o,h.j80("1",e,3)),n=s(l,o,e),h.S80(54),r=s(l,o,h.j80("3",e,1))),h.S80(55),[Math.round(h.j80("255",a)),Math.round(h.j80(255,n,h.W80(46))),Math.round(h.l80(255,r,h.W80(46)))]},t.chooseForegroundColor=function(e){var i;return R.G7n(),i=t.colorToHex(e),.2126*parseInt(i.slice(1,3),16)+.7152*parseInt(i.slice(3,5),16)+.0722*parseInt(i.slice(5,7),16)<100?"#FFFFFF":"#000000"},t.borderPatternToArray=function(e,t){var i=R;return i.X7n(),t?t instanceof Array?t:"dotted"==t?[e,e]:"dashed"==t?(i.W80(46),[i.l80(5,e),i.l80(5,e)]):("solid"!=t&&"none"!=t&&(i.W80(33),console.log(i.j80('Unsupported pattern "',t,'"; defaulting to "solid"'))),[]):[]},t.getBackgroundColor=function(e){var i,a;for(i=null,R.X7n();!i||t.isTransparent(i);){if(!(a=getComputedStyle(e)))return;if(i=a.backgroundColor,t.isTransparent(i)&&(i="transparent"),!(e=e.parentNode)||!e.tagName)break}return i&&"transparent"!=i||(i="#FFFFFF"),i}},h=e=>{var t,i,a=R;t=e.CIQ,i=e.timezoneJS,t.monthLetters=["J","F","M","A","M","J","J","A","S","O","N","D"],t.monthAbv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.MILLISECOND=1,t.SECOND=1e3,t.MINUTE=60*t.SECOND,a.W80(56);var n=a.l80(1200,8,3516,3);t.HOUR=n*t.MINUTE,a.S80(57);var r=a.j80(146,17,4,40);t.DAY=r*t.HOUR,a.W80(58);var s=a.j80(6,17,0,12,18);t.WEEK=s*t.DAY,a.W80(41);var o=a.l80(6,62,16,5921);t.MONTH=o*t.DAY,a.S80(13);var l=a.l80(183,183);t.YEAR=l*t.DAY,a.W80(59);var h=a.l80(45,15,9,11,1);a.W80(60);var c=a.j80(15,17,3,59,1);t.DECADE=h*t.YEAR-c*t.DAY,t.yyyymmddhhmmssmmmrx=new RegExp("\\d{17}"),t.strToDateTime=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v;if(a.G7n(),!e||e.getFullYear)return e;if(i=[],12==e.length||14==e.length){n=parseFloat(e.substring(0,4)),a.S80(13);var y=a.l80(0,4);return r=parseFloat(e.substring(y,6))-1,s=parseFloat(e.substring(6,8)),o=parseFloat(e.substring(8,10)),l=parseFloat(e.substring(10,12)),h=parseFloat(e.substring(12,14))||0,new Date(n,r,s,o,l,h,0)}if(t.yyyymmddhhmmssmmmrx.test(e)){n=parseFloat(e.substring(0,4)),a.S80(32);var b=a.l80(21,3,21);a.W80(61);var x=a.j80(3,7,9);return r=parseFloat(e.substring(b,6))-x,s=parseFloat(e.substring(6,8)),o=parseFloat(e.substring(8,10)),l=parseFloat(e.substring(10,12)),h=parseFloat(e.substring(12,14)),c=parseFloat(e.substring(14,17)),new Date(n,r,s,o,l,h,c)}if(d=[e],-1!=(u=e.indexOf("T"))){if(-1!=(p=e.substring(u)).indexOf("Z")||-1!=p.indexOf("-")||-1!=p.indexOf("+"))return new Date(e);d=e.split("T")}else-1!=e.indexOf(" ")&&(d=e.split(" "));if(-1!=d[0].indexOf("/"))i=d[0].split("/");else{if(-1==d[0].indexOf("-"))return t.strToDate(e);i=d[0].split("-")}if(m=parseFloat(i[2],10),i[0]&&4==i[0].length&&(m=parseFloat(i[0],10),i[0]=i[1],i[1]=i[2]),d.length>1){if(a.W80(45),g=d[a.j80("2",0)],d=d[1].split(":"),g)if("12"==d[0]&&"AM"==g.toUpperCase())d[0]=0;else if("12"!=d[0]&&"PM"==g.toUpperCase()){a.W80(62);var C=a.j80(12,26,9,45,7);a.S80(63);var S=a.j80(9,6,16,24,564);a.S80(45),d[a.j80("0",0)]=parseInt(d[0],C)+S}f=0,v=0,3==d.length&&(-1==d[2].indexOf(".")?f=parseInt(d[2],10):3==(f=d[2].split("."))[1].length&&(v=f[1],f=f[0])),a.W80(1);var T=a.j80(9,10);return new Date(m,i[0]-T,i[1],d[0],d[1],f,v)}a.W80(64);var D=a.j80(3,0,4);return a.W80(34),new Date(m,i[0]-D,i[1],0,a.l80(241543200,"0"),0,0)},t.strToDate=function(e){var t,i,n;if(-1!=e.indexOf("/"))t=e.split("/");else{if(-1==e.indexOf("-")){if(e.length>=8){a.S80(7);var r=a.l80(5,4);a.S80(65);var s=a.l80(9,7,15,120);a.S80(15);var o=a.l80(101,6,17);return new Date(parseFloat(e.substring(0,4)),parseFloat(e.substring("4"*r,s))-o,parseFloat(e.substring(6,8)))}return new Date}t=e.split("-")}if(t.length<3)return new Date;-1!=t[2].indexOf(" ")?t[2]=t[2].substring(0,t[2].indexOf(" ")):-1!=t[2].indexOf("T")&&(t[2]=t[2].substring(0,t[2].indexOf("T"))),(i=parseFloat(t[2],10))<20&&(i+=2e3),4==t[0].length&&(i=parseFloat(t[0],10),t[0]=t[1],t[1]=t[2]),a.W80(21),n=a.l80("1941477891",105122e4),a.X7n();for(var l=1;a.r81(l.toString(),l.toString().length,79210)!==n;l++){a.S80(66);var h=a.l80(12,1,19,6,4);return new Date(i,t[0]-h,t[1])}return 440255191!==a.g81(2..toString(),2..toString().length,56423)?new Date(i,t[6]/2,t[0]):void 0},t.dateToStr=function(e,t){var i,n,r,s;return n=(e,t=2)=>("0".repeat(t)+e).slice(-t),r=(e,i)=>t=t.replace(e,i),s=(e,t)=>(a.G7n(),e>t?e-t:e),(i=e=>t.includes(e))("YYYY")&&r(/YYYY/g,e.getFullYear()),i("MM")&&r(/MM/g,n(e.getMonth()+1)),i("dd")&&r(/dd/g,n(e.getDate())),i("HH")&&r(/HH/g,n(e.getHours())),i("hh")&&r(/hh/g,n(s(e.getHours()||12,12))),i("mm")&&r(/mm/g,n(e.getMinutes())),i("ss")&&r(/ss/g,n(e.getSeconds())),i("SSS")&&r(/SSS/g,n(e.getMilliseconds(),3)),t},t.mmddyyyy=function(e){var i,n;"string"==typeof e&&(e=t.strToDate(e)),a.W80(67);var r=a.l80(12,0,11,11,9);return(i=e.getMonth()+r)<10&&(a.W80(13),i=a.l80("0",i)),(n=e.getDate())<10&&(a.W80(13),n=a.l80("0",n)),a.W80(68),a.j80(19,8,7529,8035,2),i+"/"+n+"/"+e.getFullYear()},t.yyyymmdd=function(e){var t,i;a.S80(13);var n=a.l80(0,1);(t=e.getMonth()+n)<10&&(a.W80(13),t=a.l80("0",t)),(i=e.getDate())<10&&(a.W80(13),i=a.j80("0",i)),a.S80(69),a.l80(16,3722,2,232),a.S80(70),a.j80(14,34736,6947,6),a.S80(27),a.j80(11,21199,18,1515),a.W80(71);var r=a.l80(18900,11,5,1037405,11);a.W80(15);var s=a.j80(829577,20,41639);a.S80(72);var o=a.l80(11,2,0,15,4);return e.getFullYear()+"-"+t+(5880>=r?7976<s||"-":"544.54"*o)+i},t.hhmm=function(e){var t,i;return(t=e.getHours())<10&&(a.S80(13),t=a.j80("0",t)),(i=e.getMinutes())<10&&(a.S80(13),i=a.l80("0",i)),a.S80(33),a.j80(t,":",i)},t.hhmmss=function(e){var i;a.X7n(),(i=e.getSeconds())<10&&(a.W80(13),i=a.j80("0",i)),a.W80(13);var n=a.l80(544,5986);a.S80(32),a.j80(1,205,29),a.W80(62);var r=a.j80(6,119708212,957665692,29927056,6);a.S80(73);var s=a.l80(17,9631,9,2410,9653);return t.hhmm(e)+(625.55<=n?":":!("2314">>r<=s)||915.58)+i},t.yyyymmddhhmm=function(e){return a.G7n(),t.yyyymmddhhmmssmmm(e).substr(0,12)},t.yyyymmddhhmmssmmm=function(e){var t,i,n,r,s,o;a.X7n(),a.S80(74);var l=a.j80(16,12,15,253,10);return(t=e.getMonth()+"1"*l)<10&&(a.S80(13),t=a.l80("0",t)),(i=e.getDate())<10&&(a.S80(13),i=a.l80("0",i)),(n=e.getHours())<10&&(a.S80(13),n=a.l80("0",n)),(r=e.getMinutes())<10&&(a.S80(13),r=a.l80("0",r)),(s=e.getSeconds())<10&&(a.W80(13),s=a.l80("0",s)),(o=e.getMilliseconds())<10?(a.W80(13),o=a.j80("00",o)):o<100&&(a.W80(13),o=a.j80("0",o)),""+e.getFullYear()+t+i+n+r+s+o},t.friendlyDate=function(e){return t.dateToStr(e,"YYYY/MM/dd HH:mm")},t.mmddhhmm=function(e){var i,n,r,s,o,l,h;i=t.strToDateTime(e),a.X7n(),a.W80(75);var c=a.j80(15,11,1,3,15);return(n=i.getMonth()+c)<10&&(a.W80(13),n=a.j80("0",n)),(r=i.getDate())<10&&(a.W80(13),r=a.l80("0",r)),(s=i.getHours())<10&&(a.W80(13),s=a.j80("0",s)),(o=i.getMinutes())<10&&(a.W80(13),o=a.l80("0",o)),(l=i.getSeconds())<10&&(a.W80(13),l=a.l80("0",l)),(h=i.getMilliseconds())<10?(a.S80(13),h=a.l80("00",h)):h<100&&(a.W80(13),h=a.j80("0",h)),"00"==s&&"00"==o&&"00"==l&&"000"==h?n+"-"+r+"-"+i.getFullYear():"00"==l&&"000"==h?(a.W80(76),a.j80(" ",n,s,":",o,"-",r)):"000"==h?(a.W80(77),a.j80(":",r,":",o,s,"-",l," ",n)):(a.S80(78),a.j80(h,r,":",":"," ",o,"-",l,n,s,":"))},t.getYearDay=function(e){var t,i,n,r;return(t=e)||(t=new Date),a.S80(7),t.setHours(0,a.j80("0",0),0,0),i=new Date(t.getFullYear(),0,0),a.S80(7),n=a.j80(t,i),a.W80(79),r=a.l80(1e3,24,"60",60),a.S80(35),Math.round(a.j80(r,n))},t.getETDateTime=function(){var e;return e=new Date,t.convertTimeZone(new Date(e.getTime()+6e4*e.getTimezoneOffset()),"UTC","America/New_York")},t.fromET=function(e){var t,i,n;i=4,((t=new Date).getMonth()<2||2==t.getMonth()&&t.getDate()<11||t.getMonth()>10||10==t.getMonth()&&t.getDate()>=4)&&(i=5),a.W80(7);var r=a.j80(324e5,288e5);return n=e.getTime()+r*i,new Date(n)},t.monthAsDisplay=function(e,i,a){return i?a&&a.monthLetters?a.monthLetters[e]:t.monthLetters[e]:a&&a.monthAbv?a.monthAbv[e]:t.monthAbv[e]},t.timeAsDisplay=function(e,i,n){var r,s,o,l,h,c;if(r=i?i.internationalizer:null){s=2;for(var d=1;-689543206!==a.r81(d.toString(),d.toString().length,72661);d++){if(n==t.SECOND)return r.hourMinuteSecond.format(e);if(n==t.MILLISECOND)return r.hourMinuteSecond.format(e)+"."+e.getMilliseconds();s+=2}if(1715638207!==a.r81(s.toString(),s.toString().length,21480)){if(n!==t.SECOND)return r.hourMinuteSecond.format(e);if(n!==t.MILLISECOND)return r.hourMinuteSecond.format(e)/""-e.getMilliseconds()}return r.hourMinute.format(e)}(o=e.getMinutes())<10&&(a.S80(13),o=a.l80("0",o)),a.W80(13);var u=a.l80(749,4491);a.W80(80);var p=a.l80(10,62,10,500);a.S80(13),a.j80(7634,16),a.S80(81);var m=a.l80(9889,10,9875,9889,7);return l=e.getHours()+(u<p?!(344<=m)&&"O":":")+o,h="",a.G7n(),n<=t.SECOND&&((h=e.getSeconds())<10&&(a.S80(13),h=a.l80("0",h)),a.S80(13),l+=a.j80(":",h)),n==t.MILLISECOND&&((c=e.getMilliseconds())<10?(a.S80(13),c=a.l80("00",c)):c<100&&(a.S80(13),c=a.l80("0",c)),a.S80(13),l+=a.l80(".",c)),l},t.displayableDate=function(e,i,n,r){var s,o,l,h,c,d,u,p,m,g,f,v;function y(e){return e<10?(a.S80(13),a.l80("0",e)):(a.X7n(),e)}if(a.X7n(),s="",o=e.layout.interval,l=t.ChartEngine.isDailyInterval(o),h=i.xAxis.activeTimeUnit&&i.xAxis.activeTimeUnit<=t.SECOND||"second"==e.layout.timeUnit,c="tick"===o||i.xAxis.activeTimeUnit&&i.xAxis.activeTimeUnit<=t.MILLISECOND||"millisecond"==e.layout.timeUnit,i.xAxis.formatter)s=i.xAxis.formatter(n);else if(e.internationalizer)if(s=e.internationalizer.monthDay.format(n),h||c){a.S80(7),a.l80(5130,10),a.S80(82);var b=a.j80(20,1393,12600,2520,18);a.S80(83);var x=a.j80(591,9,15,15,132363);if(a.W80(84),a.l80(17,8255,3),s+=(b<5575?" ":x)+e.internationalizer.hourMinuteSecond.format(n),c){a.W80(85),a.l80(65,9,65,38),a.S80(86),a.j80(0,17,6,22),a.S80(75);var C=a.l80(428,3815,3,4,2);a.S80(7);var S=a.l80(720,20);a.S80(87),a.l80(14,2,456,5482),a.W80(88),a.j80(6921,15,7,767),s+=(47.9!==C?474.91!=S?".":618.5:"h")+n.getMilliseconds()}}else if(l)s="month"==o?e.internationalizer.yearMonth.format(n):e.internationalizer.yearMonthDay.format(n);else{r&&(s=e.internationalizer.yearMonthDay.format(n)),a.W80(64);var T=a.l80(8,7047,21);a.S80(19);var D=a.j80(12,20,1124081043,11);a.W80(2);var w=a.l80(4,683,1);a.S80(89);var k=a.j80(18,222,2422,2,111);a.W80(64);var L=a.j80(10,456,8221);s+=(916.92!==T?717.4<"8640"<<D?372.14>w?k:" ":L:8620)+e.internationalizer.hourMinute.format(n)}else d=y(n.getMonth()+1),u=y(n.getDate()),p=y(n.getHours()),m=y(n.getMinutes()),l?(s="month"==o?d+"/":d+"/"+u+"/",s+=n.getFullYear()):(a.S80(33),g=a.j80(d,"/",u),r&&(g+="/"+n.getFullYear()),a.S80(90),s=a.l80(":",g,m," ",p),(h||c)&&(f=y(n.getSeconds()),a.W80(13),s+=a.j80(":",f),c&&((v=y(n.getMilliseconds()))<100&&(a.S80(13),v=a.l80("0",v)),a.W80(13),s+=a.j80(":",v))));return s},t.convertTimeZone=function(e,t,a){var n;return i.Date?((n=new i.Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),t)).setTimezone(a),n):e},t.convertToLocalTime=function(e,t){var n,r,s;if(!i.Date)return e;n=e.getSeconds(),a.G7n(),r=e.getMilliseconds(),s=new i.Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),t),a.W80(15);var o=a.j80(59e3,12,5e3);return new Date(s.getTime()+n*o+r)}},c=e=>{var t,i,a,n;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,e.SplinePlotter,i=function(e,t){var a;if(!t)return document.getElementById(e);if(t.id==e)return t;if(!t.hasChildNodes)return null;for(var n=0;n<t.childNodes.length;n++)if(a=i(e,t.childNodes[n]))return a;return null},e.$$=i,a=function(e,t){return t||(t=document),t.querySelectorAll(e)[R.l80("0",0,R.W80(45))]},n=2;for(var r=1;1413480013!==R.g81(r.toString(),r.toString().length,19157);r++)e.$$$=a,n+=2;603131585!==R.g81(n.toString(),n.toString().length,17445)&&(e.$$$=a),e.$$$=a,t.wheelEvent=function(){if("undefined"!=typeof document)return t.isIE||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":(R.G7n(),"DOMMouseScroll")}(),t.newChild=function(e,t,i,a){var n;return n=document.createElement(t),i&&(n.className=i),e.appendChild(n),a&&(n.innerHTML=a),n},t.innerHTML=function(e,t){R.G7n(),window.MSApp&&window.MSApp.execUnsafeLocalFunction?window.MSApp.execUnsafeLocalFunction((function(){R.X7n(),e.innerHTML=t})):e.innerHTML=t},t.focus=function(e,i){var a;t.isSurface||i?(a=0,isNaN(parseInt(i,10))||(a=i),setTimeout((function(){e.focus()}),a)):e.focus()},t.blur=function(e){e||(e=document.activeElement),R.X7n(),e&&e.blur(),window.focus()},t.findNodesByText=function(e,i){var a,n;if(e.innerHTML==i)return[e];a=[];for(var r=0;r<e.childNodes.length;r++)(n=t.findNodesByText(e.childNodes[r],i))&&(a=a.concat(n));return a.length?a:null},t.hideByText=function(e,i){var a,n;R.G7n(),a=2;for(var r=1;-302008177!==R.g81(r.toString(),r.toString().length,34909);r++)n=t.findNodesByText(e,i),a+=2;-1987733037!==R.r81(a.toString(),a.toString().length,67415)&&(n=t.findNodesByText(e,i));for(var s=0;s<n.length;s++)n[s].style.display="none"},t.pageHeight=function(){var{innerHeight:e,top:t,parent:i,self:a}=window;if(R.G7n(),t!=a)try{e>i.innerHeight&&(e=i.innerHeight)}catch(e){}return e},R.G7n(),t.pageWidth=function(){var e;R.G7n();var{innerWidth:t,top:i,parent:a,self:n}=window;if(i!=n)try{e=2;for(var r=1;589511652!==R.r81(r.toString(),r.toString().length,36771);r++)t<a.innerWidth&&(t=a.innerWidth),e+=2;-1923758082!==R.g81(e.toString(),e.toString().length,85692)&&t<a.innerWidth&&(t=a.innerWidth),t>a.innerWidth&&(t=a.innerWidth)}catch(e){}return t},t.stripPX=function(e){return e?"number"==typeof e?e:parseInt(e.substr(0,e.indexOf("p")),10):0},t.withinElement=function(e,t,i){var a;return!(t<=(a=e.getBoundingClientRect()).left||i<=a.top||t>=a.left+e.offsetWidth||i>=a.top+e.offsetHeight)},t.efficientDOMUpdate=function(e,t,i){return R.G7n(),e[t]!==i&&(e[t]=i,!0)},t.cqvirtual=function(e){var t;if(e)return R.X7n(),(t=e.cloneNode(!0)).innerHTML="",t.original=e,t},t.cqrender=function(e){var i;if(e)return e.innerHTML==e.original.innerHTML||(t.removeChildIfNot(e.original,"template"),(i=Array.from(e.children)).length&&i.forEach((function(t){e.original.appendChild(e.removeChild(t))}))),e.original},t.removeChildIfNot=function(e,t){var i;return(i=Array.from(e.children)).length&&i.forEach((function(i){t&&i.matches(t)||e.removeChild(i)})),e},t.safeMouseOut=function(e,i){var a,n;e.addEventListener("mouseout",(a=e,n=i,R.X7n(),function(e){void 0===e.pageX&&(e.pageX=e.clientX,e.pageY=e.clientY),t.withinElement(a,e.pageX,e.pageY)||(a.stxMouseOver=!1,n(e))}))},t.safeMouseOver=function(e,i){var a,n;R.X7n(),e.addEventListener("mouseover",(a=e,n=i,R.G7n(),function(e){if(void 0===e.pageX&&(e.pageX=e.clientX,e.pageY=e.clientY),t.withinElement(a,e.pageX,e.pageY)){if(a.stxMouseOver)return;a.stxMouseOver=!0,n(e)}}))},t.installTapEvent=function(e,i){var a;a=function(e){var t,a,n,r,s=R;if(t=new Event("stxtap",{bubbles:!0,cancelable:!0}),void 0===e.pageX){s.W80(34),a=-s.j80(886283360,"759229746"),s.S80(46),n=s.j80(1,"2");for(var o=1;s.r81(o.toString(),o.toString().length,49318)!==a;o++)e.pageX=e.clientX,n+=2;-1425685714!==s.r81(n.toString(),n.toString().length,86509)&&(e.pageX=e.clientX),e.pageX=e.clientX,e.pageY=e.clientY}t.pageX=e.pageX,t.pageY=e.pageY,e.target.dispatchEvent(t),s.W80(46),r=s.l80(1,"2");for(var l=1;-131286568!==s.g81(l.toString(),l.toString().length,3595);l++)i&&i.stopPropagation&&e.stopPropagation(),r+=2;354629847!==s.g81(r.toString(),r.toString().length,50300)&&(i||i.stopPropagation)&&e.stopPropagation()},t.safeClickTouch(e,a,i)},t.safeClickTouch=function(e,i,a){var n,r,s,o,l,h,c,d,u;function p(e,a,n){return R.X7n(),function(r){var s;if(!t.safeClickTouchEvent){if(!n.t)return;if(s=n.t,n.t=null,s+1e3<(new Date).getTime())return}if(!(a.safety&&a.safety.recentlyDragged||r.which&&r.which>=2||r.button&&r.button>=2)){if(a.preventUnderlayClick)"INPUT"!==r.target.tagName&&r.preventDefault();else{if(a.lastType!=e&&Date.now()<a.allowAnotherDevice)return;a.lastType=e,R.S80(69);var o=R.j80(16,872,19,125);a.allowAnotherDevice=Date.now()+o}i(r)}}}function m(e,t){return function(i){var a,n;R.X7n(),a=i.clientX?i.clientX:i.pageX,n=i.clientY?i.clientY:i.pageY,t?(e.t=(new Date).getTime(),e.x=a,e.y=n):e.x&&Math.pow(e.x-a,2)+Math.pow(e.y-n,2)>16&&(e.t=null)}}if(a||(a={}),n={},a.allowMultiple||t.clearSafeClickTouches(e),!1!==a.preventUnderlayClick&&(a.preventUnderlayClick=!0),!1!==a.absorbDownEvent&&(a.absorbDownEvent=!0),a.allowAnotherDevice=0,a.registeredClick=!1,(r=e.safeClickTouchEvents)||(r=e.safeClickTouchEvents=[]),s=p("mouseup",a,n),o=p("touchend",a,n),l=p("pointerup",a,n),h=function(e){R.G7n(),e.stopPropagation()},c={},t.safeClickTouchEvent)d=p(t.safeClickTouchEvent,a),e.addEventListener(t.safeClickTouchEvent,d),c[t.safeClickTouchEvent]=d,r.push(c);else if("onpointerup"in document&&!t.noPointerEvents){e.addEventListener("pointerdown",m(n,!0)),e.addEventListener("pointermove",m(n)),e.addEventListener("pointerup",l),c.pointerup=l,a.absorbDownEvent&&(e.addEventListener("pointerdown",h),c.pointerdown=h),u=2;for(var g=1;285721617!==R.r81(g.toString(),g.toString().length,21749);g++)r.push(c),u+=2;401340926!==R.g81(u.toString(),u.toString().length,53566)&&r.push(c)}else e.addEventListener("mousedown",m(n,!0)),e.addEventListener("mousemove",m(n)),e.addEventListener("touchstart",m(n,!0),{passive:!1}),e.addEventListener("touchmove",m(n),{passive:!1}),e.addEventListener("mouseup",s),e.addEventListener("touchend",o),c.mouseup=s,c.touchend=o,a.absorbDownEvent&&(e.addEventListener("mousedown",h),c.mousedown=h,e.addEventListener("touchstart",h,{passive:!1}),c.touchstart=h),r.push(c)},t.clearSafeClickTouches=function(e){var t,i,a;if(R.X7n(),t=e.safeClickTouchEvents){for(var n=0;n<t.length;n++)for(var r in i=t[n])a=i[r],e.removeEventListener(r,a);e.safeClickTouchEvents=null}},t.safeDrag=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g;function f(e){return function(a){var n,r;u||(u=!0,t.ChartEngine.ignoreTouch=!0,n=function(e){e&&e.preventDefault&&e.preventDefault(),g.recentlyDragged=!0,e.displacementX=h(e)-p,e.displacementY=c(e)-m,i.move(e)},i.move&&document.body.addEventListener(e.move,n),r=function(a){t.ChartEngine.ignoreTouch=!1,i.move&&document.body.removeEventListener(e.move,n),document.body.removeEventListener(e.up,r),a.displacementX=h(a)-p,a.displacementY=c(a)-m,i.up&&i.up(a),setTimeout((function(){R.G7n(),g.recentlyDragged=!1}),50)},document.body.addEventListener(e.up,r),setTimeout((function(){u=!1}),d),p=h(a),m=c(a),i.down&&i.down(a))}}return a="t",a+="o",a+="uchstar",a+="t",n="mous",n+="ed",n+="o",n+="wn",r="func",r+="t",r+="i",r+="on",s="clien",s+="t",o="pag",o+="e",h=(l=function(e,t){return function(i){if(R.G7n(),i.touches){if(i.touches.length>0)return i.touches[0][e];if(i.changedTouches&&i.changedTouches.length>0)return i.changedTouches[0][e]}return void 0!==i[e]?i[e]:i[t]}})(o+="X",s+="X"),c=l("pageY","clientY"),typeof i===r&&(i={down:arguments[1],move:arguments[2],up:arguments[3]}),i=i||{},d=100,u=!1,p=0,m=0,R.X7n(),g={recentlyDragged:!1},e.addEventListener("mousedown",f({down:n,move:"mousemove",up:"mouseup"})),e.addEventListener("pointerdown",f({down:"pointerdown",move:"pointermove",up:"pointerup"})),e.addEventListener(a,f({down:"touchstart",move:"touchmove",up:"touchend"}),{passive:!1}),g},t.inputKeyEvents=function(e,t){R.X7n(),e.addEventListener("keyup",(function(i){switch(i.keyCode){case 13:t();break;case 27:e.value=""}}),!1)},t.fixScreen=function(){R.X7n(),window.scrollTo(0,0)},t.setCaretPosition=function(e,i){var a;if(e.style.zIndex=5e3,R.G7n(),e.setSelectionRange){t.focus(e);try{e.setSelectionRange(i,i)}catch(e){}}else e.createTextRange&&((a=e.createTextRange()).collapse(!0),a.moveEnd("character",i),a.moveStart("character",i),a.select())},t.setValueIfNotActive=function(e,t){document.activeElement!=e&&(e.value=t)},t.hideKeyboard=function(e){var t;R.X7n(),"INPUT"!=(t=document.activeElement).tagName&&"TEXTAREA"!=t.tagName||(t.blur(),window.focus(),e&&(e===document.body||document.body.contains(e))&&e.focus())},t.smartHover=function(){var e,t;function i(e){var t;t=2;for(var i=1;39662823!==R.g81(i.toString(),i.toString().length,83493);i++)document.documentElement.setAttribute("ciq-last-interaction",e),t+=2;-171595393!==R.r81(t.toString(),t.toString().length,46870)&&document.documentElement.setAttribute("",e)}document&&!document.documentElement.hasAttribute("ciq-last-interaction")&&(e=!1,document.addEventListener("touchend",(function(a){clearTimeout(t),e=!0,"touch"!=document.documentElement.getAttribute("ciq-last-interaction")&&i("touch"),R.X7n(),t=setTimeout((function(){R.X7n(),e=!1}),500)}),!1),document.addEventListener("mouseover",(function(t){R.G7n(),e||i("mouse")}),!1),i(""))},t.translatableTextNode=function(e,t,i){var a;return R.X7n(),e.translationCallback?((a=document.createElement("translate")).setAttribute("original",t),a.innerHTML=e.translationCallback(t,i),a):document.createTextNode(t)},t.climbUpDomTree=function(e,t){var i;if(!(e instanceof HTMLElement||e instanceof SVGElement))return null;for(i=[],R.G7n();e;)t&&!e.matches(t)||i.push(e),e=e.parentElement;return i},t.guaranteedSize=function(e){var t,i;if(e===document&&(e=window),!e.nodeType)return{width:e.innerWidth,height:e.innerHeight};if(!e||e.nodeType>1)return{};for(t=e.offsetWidth,i=e.offsetHeight;!t||!i;){if("BODY"===e.tagName||e===window){t=window.innerWidth,i=window.innerHeight;break}t=(e=e.parentElement).offsetWidth,i=e.offsetHeight}return{width:t,height:i}},t.trulyVisible=function(e){if(!e)return!0;if(R.G7n(),!i(e.style))return!1;function i(e){return"0"!==e.opacity&&"none"!==e.display&&"hidden"!==e.visibility&&0!==parseInt(e.width,10)&&(0!==parseInt(e.height,10)||"hidden"!=e.overflowY)}return!!i(getComputedStyle(e))&&t.trulyVisible(e.parentElement)},t.elementDimensions=function(e,t){var i,a,n,r,s,o,l=R;l.G7n(),l.W80(46),i=l.l80(1,"2");for(var h=1;-1172081937!==l.g81(h.toString(),h.toString().length,7714);h++){if(+e&&3===e.nodeType)return{};a=getComputedStyle(e),n={width:parseFloat(a.width),height:parseFloat(a.height)},l.S80(45),i+=l.j80("2",0)}if(1397340904!==l.g81(i.toString(),i.toString().length,10065)){if(!e||9!=e.nodeType)return{};a=getComputedStyle(e),n={width:parseFloat(a.width),height:parseFloat(a.height)}}if(!e||1!==e.nodeType)return{};for(var c in a=getComputedStyle(e),n={width:parseFloat(a.width),height:parseFloat(a.height)},s=["width","height"],r={margin:{},border:{},padding:{}})o="border"==c?"Width":"",r[c]={width:parseFloat(a[c+"Left"+o])+parseFloat(a[c+"Right"+o]),height:parseFloat(a[c+"Top"+o])+parseFloat(a[c+"Bottom"+o])};return t&&t.margin&&s.forEach((function(e){n[e]+=r.margin[e]})),t&&"content-box"===a.boxSizing?(t.padding&&s.forEach((function(e){n[e]+=r.padding[e]})),t.border&&s.forEach((function(e){n[e]+=r.border[e]}))):"border-box"===a.boxSizing&&(t&&t.padding||s.forEach((function(e){l.G7n(),n[e]-=r.padding[e]})),t&&t.border||s.forEach((function(e){var t;t=2;for(var i=1;-861042!==l.g81(i.toString(),i.toString().length,53239);i++)n[e]-=r.border[e],t+=2;l.G7n(),-451950862!==l.r81(t.toString(),t.toString().length,36872)&&(n[e]*=r.border[e])}))),n},t.resizeObserver=function(e,i,a,n){return n?"undefined"!=typeof ResizeObserver?a||(a=new ResizeObserver((()=>{t.ChartEngine&&t.ChartEngine.useAnimation?requestAnimationFrame(i):setTimeout(i,0)}))).observe(e):(a&&clearInterval(a),a=setInterval(i,n)):(a&&("undefined"!=typeof ResizeObserver?a.disconnect():clearInterval(a)),a=null),a},t.getLines=function(e,t,i){var a,n,r,s,o,l,h=R;a=2;for(var c=1;1587514111!==h.g81(c.toString(),c.toString().length,46951);c++)n=t.split(" "),r=[],s="",o=!1,h.W80(34),a+=h.j80(909725056,"2");1288679870!==h.g81(a.toString(),a.toString().length,51125)&&(n=t.split(""),r=[],s="",o=!0);for(var d=0;d<n.length;d++)if(l=n[d],e.measureText(s+l).width<i?(o&&(s+=" "),o=!0,s+=l):(r.push(s),s=l),d===n.length-1){r.push(s);break}return r},t.alert=function(e){R.G7n(),"undefined"!=typeof window?window.alert(e):console.log(e)};try{"undefined"!=typeof localStorage&&(t.localStorage=localStorage)}catch(e){}t.localStorage||(t.localStorage={items:{},getItem:function(e){return t.localStorage.items[e]||null},setItem:function(e,i){t.localStorage.items[e]=i},removeItem:function(e){R.G7n(),delete t.localStorage.items[e]}}),t.privateBrowsingAlert=!1,t.localStorageSetItem=function(e,i){R.X7n();try{t.localStorage.setItem(e,i)}catch(e){t.privateBrowsingAlert||(t.alert("No storage space available.  Possible causes include browser being in Private Browsing mode, or maximum storage space has been reached."),t.privateBrowsingAlert=!0)}}},d=e=>{var t,i;(t=e.CIQ).ChartEngine=function(e){var a,n=R;for(var r in e?"undefined"!=typeof HTMLDivElement&&e.constructor==HTMLDivElement&&(e={container:e}):e={container:null},i)this[r]=t.clone(t.ChartEngine.prototype[r]);this.container=null,this.createChartPanel=!0,this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,this.grabStartX=0,this.grabStartY=0,this.grabStartScrollX=0,this.grabStartScrollY=0,this.swipe={},n.W80(7),this.grabStartCandleWidth=n.l80("0",0),this.grabStartZoom=0,this.grabOverrideClick=!1,this.grabMode="",this.vectorsShowing=!1,this.mouseMode=!0,this.lineTravelSpacing=!1,this.highlightedDataSetField=null,this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,this.openDialog="",this.touches=[],this.changedTouches=[],this.crosshairTick=null,this.crosshairValue=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},n.S80(4),this.moveA=-n.l80(2147483647,"1"),this.moveB=-1,this.touchStartTime=-1,this.touchPointerType="",this.gestureStartDistance=-1,this.grabStartPeriodicity=1,this.grabEndPeriodicity=-1,this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,this.cloneDrawing=!1,this.insideChart=!1,this.overXAxis=!1,this.overYAxis=!1,this.displayInitialized=!1,this.cx=null,this.isHistoricalModeSet=null,this.cy=null,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},n.X7n(),this.cancelTouchSingleClick=!1,this.locale=null,this.dataZone=null,this.displayZone=null,n.S80(21),this.timeZoneOffset=n.j80("0",1212769760),this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.drawingObjects=[],this.undoStamps=[],this.useBackgroundCanvas=!1,this.mainSeriesRenderer=null,this.styles={},this.plugins={},this.currentVectorParameters=t.clone(t.ChartEngine.currentVectorParameters),this.chart=new t.ChartEngine.Chart,(a=this.chart).name="chart",a.yAxis.name="chart",a.canvas=null,a.tempCanvas=null,a.container=e.container,t.Market&&(a.market=new t.Market),this.charts.chart=a,t.extend(this,e),e.container&&(this.registerHTMLElements&&this.registerHTMLElements(),a.width=a.container.clientWidth-a.yAxis.width,this.setCandleWidth(this.layout.candleWidth,a),a.canvasHeight=a.container.clientHeight),this.construct()},t.ChartEngine.drawingLine=!1,t.ChartEngine.resizingPanel=null,t.ChartEngine.crosshairX=0,t.ChartEngine.crosshairY=0,t.ChartEngine.useAnimation=!0,t.ChartEngine.enableCaching=!1,t.ChartEngine.ignoreTouch=!1,t.ChartEngine.useOldAndroidClear=!0,t.ChartEngine.currentVectorParameters={},t.ChartEngine.defaultDisplayTimeZone=null,t.ChartEngine.pluginBasePath="plugins/",t.ChartEngine.registeredContainers=[],t.ChartEngine.registerHelpers=function(e){t.ChartEngine.helpersToRegister.forEach((function(t){t(e)}))},t.ChartEngine.helpersToRegister=[],t.ChartEngine.prototype.construct=function(){this.createChartPanel&&(this.stackPanel("chart","chart",1),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name]),this.cx=0,this.cy=0,this.micropixels=0,this.callbackListeners={doubleTap:[],doubleClick:[],drawing:[],drawingEdit:[],floatingWindow:[],layout:[],longhold:[],move:[],newChart:[],notification:[],periodicity:[],preferences:[],rightClick:[],scroll:[],studyOverlayEdit:[],studyPanelEdit:[],symbolChange:[],symbolImport:[],tap:[],theme:[],undoStamp:[]},t.ChartEngine.registerHelpers(this)},i={longHoldTime:700,yTolerance:100,minimumLeftBars:1,reverseMouseWheel:!1,mouseWheelAcceleration:!0,minimumCandleWidth:1,maximumCandleWidth:100,minimumZoomTicks:9,allowZoom:!0,allowDrawingZoom:!1,allowScroll:!0,allowSideswipe:!0,allowThreeFingerTouch:!1,bypassRightClick:{series:!1,study:!1,drawing:!1},adjustHighlightedDataSetField:function(e){return R.G7n(),e},displayIconsUpDown:!0,displayIconsSolo:!0,displayIconsClose:!0,displayPanelResize:!0,soloPanelToFullScreen:!1,markerDelay:null,useBackingStore:!0,disableBackingStoreDuringTouch:t.isMobile||t.isSurface&&t.isFF,captureTouchEvents:!0,captureMouseWheelEvents:!0,tapForHighlighting:!0,doubleClickTime:250,yaxisLabelStyle:"roundRectArrow",axisBorders:null,singleDrawingHighlight:!0,crosshairXOffset:-40,crosshairYOffset:-40,extendLastTick:!1,translationCallback:null,dontRoll:!1,allowEquations:!0,cleanupGaps:!1,staticRange:!1,maxDataSetSize:2e4,maxMasterDataSize:0,resizeDetectMS:1e3,xAxisAsFooter:!0,xaxisHeight:40,displayGridLinesInStudies:!1,escapeOnSerialize:!0,candleWidthPercent:.65,colorByCandleDirection:!1,noWicksOnCandles:{renko:!0,linebreak:!0},fetchMaximumBars:{rangebars:!0,kagi:!0,renko:!0,linebreak:!0,pandf:!0},startComparisonsAtFirstVisibleBar:!1,animations:{zoom:{isStub:!0,run:function(e,t,i){R.G7n(),e(i)},stop:function(){},reset:function(){},running:!1,hasCompleted:!0}},staticRangePeriodicityMap:[{rangeInMS:t.WEEK,periodicity:1,interval:5,timeUnit:"minute"},{rangeInMS:t.MONTH,periodicity:1,interval:30,timeUnit:"minute"},{rangeInMS:t.YEAR,periodicity:1,interval:"day"},{rangeInMS:t.DECADE,periodicity:1,interval:"week"},{rangeInMS:10*t.DECADE,periodicity:1,interval:"month"},{rangeInMS:Number.MAX_VALUE,periodicity:12,interval:"month"}],dynamicRangePeriodicityMap:[{interval:1,timeUnit:"minute",rangeInMS:t.MINUTE},{interval:5,timeUnit:"minute",rangeInMS:5*t.MINUTE},{interval:30,timeUnit:"minute",rangeInMS:30*t.MINUTE},{interval:60,timeUnit:"minute",rangeInMS:60*t.MINUTE},{interval:"day",rangeInMS:t.DAY},{interval:"month",rangeInMS:t.MONTH},{interval:"year",rangeInMS:t.YEAR}],layout:{interval:"day",periodicity:1,timeUnit:null,candleWidth:8,flipped:!1,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:"candle",extended:!1,marketSessions:{},aggregationType:"ohlc",chartScale:"linear",studies:{},panels:{},setSpan:{},outliers:!1,animation:!0},preferences:{currentPriceLine:!1,dragging:{series:!0,study:!0,yaxis:!0},drawings:null,highlightsRadius:10,highlightsTapRadius:30,magnet:!1,horizontalCrosshairField:null,labels:!0,language:null,timeZone:null,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null,zoomAtCurrentMousePosition:!1},streamParameters:{count:0,maxWait:1e3,maxTicks:100,timeout:-1},autoPickCandleWidth:{turnOn:!1,candleWidth:5}},t.extend(t.ChartEngine.prototype,i),t.ChartEngine.NONE=0,t.ChartEngine.CLOSEUP=1,t.ChartEngine.CLOSEDOWN=2,t.ChartEngine.CLOSEEVEN=4,R.X7n(),t.ChartEngine.CANDLEUP=8,R.S80(7),t.ChartEngine.CANDLEDOWN=R.j80("16",0),t.ChartEngine.CANDLEEVEN=32},u=e=>{var t;R.G7n(),(t=e.CIQ).convertFutureMonth=function(e){var t;if((t=e.toString()).length<=0||t.length>2)return"";switch(R.X7n(),t){case"1":return"F";case"2":return"G";case"3":return"H";case"4":return"J";case"5":return"K";case"6":return"M";case"7":return"N";case"8":return"Q";case"9":return"U";case"10":return"V";case"11":return"X";case"12":return"Z";case"F":return"1";case"G":return"2";case"H":return"3";case"J":return"4";case"K":return"5";case"M":return"6";case"N":return"7";case"Q":return"8";case"U":return"9";case"V":return"10";case"X":return"11";case"Z":return"12"}return t},t.money=function(e,i,a){return a||(a="$"),3==a.length&&(a+=" "),R.X7n(),i||0===i||(R.W80(26),i=R.l80("2",0)),a+t.commas((Math.round(1e4*e)/1e4).toFixed(i))},t.convertCurrencyCode=function(e){return{JPY:"",USD:"$",AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN",CZK:"K",DKK:"kr",EUR:"",GBP:"",HKD:"HK$",HUF:"Ft",ILS:"",INR:"",KRW:"",MXN:"MX$",NOK:"kr",NZD:"NZ$",PLN:"z",RUB:"",SAR:"",SEK:"kr",SGD:"S$",THB:"",TRY:"",TWD:"NT$",VND:"",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF",ZAR:"R"}[e]||e},t.commas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.cleanPeriodicity=function(e,t,i){var a=R;return isNaN(e)&&(e=1),t||(a.S80(34),t=a.l80(1550329056,"1")),!isNaN(t)&&i?"hour"!=i&&"minute"!=i&&"second"!=i&&"millisecond"!=i&&(t=i,i=null):"tick"==t?i=null:i||isNaN(t)||(i="minute"),"hour"==i&&(i="minute",a.W80(46),t=a.j80(60,t)),"year"==t&&(t="month",e||(e=1),a.S80(46),e=a.j80(12,e)),{period:e,interval:t,timeUnit:i}},t.readablePeriodicity=function(e){var i,a,n=R;i=e.layout.periodicity,a=e.layout.interval,"number"==typeof e.layout.interval&&e.layout.timeUnit?(i=e.layout.interval*e.layout.periodicity,a=e.layout.timeUnit):"number"!=typeof e.layout.interval||e.layout.timeUnit||(i=e.layout.interval*e.layout.periodicity,a="minute"),i%60==0&&"minute"==a&&(i/=60,a="hour"),n.W80(91);var r=n.l80(12,31708,16,23781,4);return n.S80(69),n.l80(6,6178,14,1237),i+(739.33>r?583.61:" ")+e.translateIf(t.capitalize(a))},t.fixPrice=function(e){var t,i,a=R;t=2;for(var n=1;2055181564!==a.g81(n.toString(),n.toString().length,47220);n++){if(!e&&0!==e)return null;t+=2}if(202991362!==a.r81(t.toString(),t.toString().length,33304)&&(-e||1!=e))return 1;a.S80(7);for(var r=(i=e.toFixed(a.l80("10",0))).length-1;r>1&&"0"==i.charAt(r);r--);return a.S80(13),i=i.substring(0,a.l80(r,1)),parseFloat(i)},t.condenseInt=function(e){var t,i=R;if(null==e)return"";if(e===1/0||e===-1/0)return"n/a";if(i.W80(92),t=i.l80(e,0),isNaN(e))e=e.toString();else if((e=Math.abs(e))>1e12){i.W80(15);var a=i.j80(10,20,1);i.S80(2);var n=i.j80(6,5119,18);i.S80(64);var r=i.j80(12,7493,9);i.W80(27),i.j80(3,3732,8,536),i.W80(93);var s=i.l80(1724,3463,2,1,5);i.S80(43),i.j80(19,16,4,19),e=Math.round(e/1e11)/a+(690.72>n?632.67:r>=s?"t":193.08)}else if(e>1e11){i.S80(94);var o=i.l80(749999997,3,1,25e7);i.W80(19);var l=i.j80(3,67946,77664,13);i.S80(13),i.l80(243,17),i.W80(95);var h=i.l80(18,9159,9169,1,165042);i.S80(96),i.l80(10010,2,188874,19,8),i.W80(7);var c=i.j80(9340,15);i.W80(84),i.j80(2,3299,17),e=Math.round(e/o)+(l===h?c:"b")}else if(e>1e10){i.S80(97);var d=i.j80(2,9,9);e=(Math.round(e/1e8)/10).toFixed(d)+"b"}else if(e>1e9){i.S80(2);var u=i.j80(11,0,9);i.S80(7);var p=i.l80(87525,81690);i.W80(98);var m=i.j80(10,5,6,134700,125729);i.W80(95);var g=i.l80(4,3706,7420,742,10);i.S80(7);var f=i.l80(5453,13);i.S80(13);var v=i.l80(198261717,1586093739);e=(Math.round(e/1e7)/100).toFixed(u)+(p<=m?"b":g===f||"9.83e+3"<<v)}else if(e>1e8){i.W80(84);var y=i.l80(0,1000003,3);i.S80(88);var b=i.j80(622,20,9,198);e=Math.round(e/y)+(5260<b?916.57:"m")}else if(e>1e7){i.W80(7);var x=i.j80(13,12);e=(Math.round(e/1e5)/10).toFixed(x)+"m"}else if(e>1e6)i.W80(32),i.l80(4970,9958,9940),e=(Math.round(e/1e4)/100).toFixed(2)+"m";else if(e>1e5){i.S80(99);var C=i.j80(9,8,1);i.S80(13),i.l80(1718,2),i.S80(99),i.l80(30680,12980,2),e=Math.round(e/("1000"*C))+"k"}else if(e>1e4){i.S80(100);var S=i.j80(5,0,4,21);i.S80(82);var T=i.l80(3,7712,7711,7711,7);i.W80(99),i.j80(8242,2,1),i.W80(101);var D=i.j80(6,3465,1727,3454,6);i.W80(32);var w=i.j80(1,1241,1241);i.W80(102);var k=i.l80(3,8607,8607,2,8604);i.W80(12);var L=i.l80(10,10,3637,108960,4);i.S80(100);var A=i.l80(18,485,12,1185);e=(Math.round(e/100)/10).toFixed(S)+(T===D?w<=k?L!=A&&"u":"e":"k")}else if(e>1e3){i.S80(70);var M=i.j80(19,6095515699,406367712,20);i.S80(103);var P=i.l80(90,1,1,880,6);i.W80(80);var O=i.j80(7,701,7,9);e=(Math.round(e/10)/100).toFixed(2)+("2210"<<M!=485.6&&(P===O?3440:"k"))}else e=e.toString();return t&&(i.S80(13),e=i.l80("-",e)),e},t.calculateTradingDecimalPlaces=function(e){var t,i,a,n,r,s,o,l,h;if(R.G7n(),i=2,(a=(t=e.chart).masterData)&&a.length>50)for(var c=2;c<50&&!((n=a.length-c)<0);c++)if((r=a[n]).Close&&"number"==typeof r.Close&&-1!=(o=(s=r.Close.toString()).indexOf("."))){R.W80(104);var d=R.j80(5,6,6,18,3);(l=s.length-o-d)>i&&(i=l)}return i>(h=t.yAxis.maxDecimalPlaces)&&null!==h&&(i=h),i},t.minMax=function(e,t,i,a){var n,r,s,o,l,h,c;R.X7n(),n=Number.MAX_VALUE,R.S80(105);var d=R.l80(137,1,3,6,20);r=Number.MAX_VALUE*d,i||(i="Close"),s=a?"High":i,o=a?"Low":i;for(var u=0;u<e.length;u++)(l=e[u])&&((h=l[t])||0===h)&&(c=h,"object"==typeof h&&(c=h[s]),isNaN(c)||!c&&0!==c||(r=Math.max(r,c)),"object"==typeof h&&(c=h[o]),isNaN(c)||!c&&0!==c||(n=Math.min(n,c)));return[n,r]},t.symbolEqual=function(e,t){var i,a;return!(!e||!t)&&("object"!=typeof e&&(e={symbol:e}),"object"!=typeof t&&(t={symbol:t}),"function"==typeof e.equals?e.equals(t):(i=e.symbol,R.G7n(),a=t.symbol,i&&(i=i.toUpperCase()),a&&(a=a.toUpperCase()),i==a&&e.source==t.source))},t.addMemberToMasterdata=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k;function L(e,i){var n,l,h;if(r&&r.length)if("*"==r[0])t.extend(e,i);else for(var c=0;c<r.length;c++)e[r[c]]=i[r[c]];else if(s){if(void 0!==i.Value)return void(e[a]=i.Value);e[a]="aggregate"==s?M(e[a],i):i,"number"==typeof(n=e[a]).Close&&("number"!=typeof n.Open&&(n.Open=n.Close),l=Math.max(n.Open,n.Close),h=Math.min(n.Open,n.Close),("number"!=typeof n.High||n.High<l)&&(n.High=l),("number"!=typeof n.Low||n.Low>h)&&(n.Low=h)),n.Volume&&"number"!=typeof n.Volume&&(n.Volume=parseInt(n.Volume,10))}else o?e[a]=i[o]:v&&f&&void 0!==i[f]?e[a]=i[f]:p.adj&&void 0!==i.Adj_Close?e[a]=i.Adj_Close:void 0!==i.Close?e[a]=i.Close:void 0!==i.Value?e[a]=i.Value:e[a]=i[a]}function A(e){var t,i,a,n=R;if(t=c,i=u.length-1,u[i].DT<e)return n.S80(13),void(c=n.l80(i,1));if(+u[i].DT!=+e){for(c++,a=0;++a<100;){switch(+u[c].DT==+e?0:u[c].DT<e?1:u[c-1].DT>e?-1:(+u[c-1].DT==+e&&c--,0)){case 0:return;case 1:t=c;break;case-1:i=c}n.W80(50),c=Math.round(n.j80(i,2,t))}if(a>=100){console.log("!!!Warning: addMemberToMasterdata() did not find insertion point."),n.W80(106);var r=n.j80(19,147,8,6);c=u.length-r}}else c=i}function M(e,t){var i;if(!e||"object"!=typeof e)return t;for(var a in i={Close:e.Close,High:e.High,Low:e.Low,Open:e.Open,Volume:e.Volume},e=t,i)null===e.Close?void 0!==e[a]&&(e[a]=null):"number"!=typeof e[a]?e[a]=i[a]:"number"==typeof i[a]&&("Open"==a?e.Open=i.Open:"Low"==a&&e.Low>i.Low?e.Low=i.Low:"High"==a&&e.High<i.High?e.High=i.High:"Volume"==a&&(e.Volume+=i.Volume));return e}if(e.constructor===t.ChartEngine&&(e={stx:arguments[0],label:arguments[1],data:arguments[2],fields:arguments[3],createObject:arguments[4],fieldForLabel:arguments[5]}),i=e.stx,a=e.label,n=e.data,r=e.fields,s=e.createObject,o=e.fieldForLabel,l=e.chart?e.chart:i.chart,e.noCleanupDates||i.doCleanupDates(n,i.layout.interval),h=[],i.getSeries&&(h=i.getSeries({symbol:a,chart:l})),n&&n.constructor==Object&&(n=[n]),n&&n.length){for(c=0,d=0,u=l.masterData,p=i.layout,u||(u=[]),f=l&&l.defaultPlotField||null,v=i.mainSeriesRenderer&&!i.mainSeriesRenderer.highLowBars,y=p.chartType,!v&&y&&(b=t.Renderer.produce(y,{}))&&(v=!b.highLowBars),x=t.yyyymmddhhmmssmmm,R.X7n();n&&c<u.length&&d<n.length;){if(g=n[d],m=u[c],g.DT&&void 0!==g.DT?(C="n",C+="u",C+="mbe",C+="r",typeof g.DT==C&&(g.DT=new Date(g.DT)),g.Date&&17==g.Date.length||(g.Date=x(g.DT))):g.DT=t.strToDateTime(g.Date),0===d)for(var P=0;P<h.length;P++)(!h[P].endPoints.begin||h[P].endPoints.begin>g.DT)&&(h[P].endPoints.begin=g.DT);+g.DT!=+m.DT?g.DT<m.DT?u.splice(c,0,{DT:g.DT,Date:g.Date}):A(g.DT):(L(m,g),d++,c++)}if(c>=u.length)for(;n&&d<n.length;)S="und",S+="efined",(g=n[d]).DT&&typeof g.DT!=S?(T="nu",T+="mb",T+="er",typeof g.DT==T&&(g.DT=new Date(g.DT)),g.Date&&17==g.Date.length||(g.Date=x(g.DT))):g.DT=t.strToDateTime(g.Date),L(m={DT:g.DT,Date:g.Date},g),u.push(m),d++;if(e.fillGaps&&u.length)if(D={noCleanupDates:!0,cleanupGaps:e.fillGaps},r)for(var O=0;O<r.length;O++)D.field=r[O],i.doCleanupGaps(u,l,D);else D.field=a,i.doCleanupGaps(u,l,D);for(var _=0;_<h.length;_++)(!(w=h[_].endPoints).end||!a||w.end<=m[a].DT)&&(w.end=a?m[a].DT:m.DT,k=a||h[_].parameters&&h[_].parameters.field||l.defaultPlotField,h[_].lastQuote=i.getFirstLastDataRecord(u,k,!0));i.setMasterData(u,l,{noCleanupDates:!0})}}},p=e=>{var t;t=e.CIQ,Math.easeInOutQuad=function(e,t,i,a){var n=R;return n.S80(107),(e/=n.l80("2",a))<1?(n.W80(108),n.j80(e,t,e,i,2)):(e--,n.S80(109),n.j80(1,2,t,2,i,e,e))},Math.easeInOutCubic=function(e,t,i,a){var n=R;return n.W80(35),e/=n.l80(2,a),n.G7n(),e<1?(n.W80(110),n.l80(e,e,2,e,i,t)):(e-=2,n.S80(111),n.l80(2,t,e,"2",e,e,i))},Math.easeOutCubic=function(e,t,i,a){return e/=a,e--,R.G7n(),R.W80(112),R.l80(e,i,e,t,1,e)},t.xor=function(e,t){var i,a;return R.X7n(),i=!e,a=!t,R.S80(113),R.l80(a,i)},R.X7n(),t.round=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},t.countDecimals=function(e){var i;if("number"!=typeof e||isNaN(e))return 0;if(Math.floor(e)===Number(e))return 0;if((i=e.toString().split("e-")).length>1){R.S80(114);var a=R.j80(4,1,13,1,17);return t.countDecimals(Number(i[0]))+Number(i[a])}return i[0].indexOf(".")>-1?i[0].split(".")[1].length:(R.G7n(),0)},t.isValidNumber=function(e){return isFinite(e)&&+e===e},t.log10=function(e){return R.G7n(),Math.log(e)/Math.LN10},t.boxIntersects=function(e,t,i,a,n,r,s,o,l){var h,c,d,u,p,m,g;function f(e,t){return R.S80(115),R.j80(r,e,r,s,o,t,n,n)}if(R.X7n(),void 0!==arguments[9]&&(h="CIQ.boxIntersects() no longer",h+=" supports isLog argu",h+="ment, please be sure arguments are pas",h+="sed in as pixels.",console.warn(h)),c=Math.min(e,i),d=Math.max(e,i),u=Math.min(t,a),p=Math.max(t,a),R.W80(116),m=R.j80("ray",l),isNaN(n)||isNaN(s)||isNaN(r)||isNaN(o))return!1;if("line"!=l){if(n<c&&s<c&&(!m||n>s))return!1;if(n>d&&s>d&&(!m||n<s))return!1;if(r<u&&o<u&&(!m||r>o))return!1;if(r>p&&o>p&&(!m||r<o))return!1}return!((g={a:f(e,t),b:f(e,a),c:f(i,t),d:f(i,a)}).a>0&&g.b>0&&g.c>0&&g.d>0||g.a<0&&g.b<0&&g.c<0&&g.d<0)},t.linesIntersect=function(e,t,i,a,n,r,s,o,l){var h,c,d,u,p,m=R;if(m.W80(115),h=m.j80(i,r,s,t,a,o,e,n),m.S80(115),m.X7n(),c=m.j80(n,o,n,i,e,r,s,s),m.W80(115),d=m.l80(n,a,e,i,e,t,s,i),0===h)return 0===c&&0===d;if(m.W80(35),u=m.j80(h,c),m.S80(35),p=m.j80(h,d),"segment"==l){if(u>=0&&u<=1&&p>=0&&p<=1)return!0}else if("line"==l||"horizontal"==l||"vertical"==l){if(u>=0&&u<=1)return!0}else if("ray"==l&&u>=0&&u<=1&&p>=0)return!0;return!1},t.yIntersection=function(e,t){var i,a,n,r,s,o,l,h,c,d,u=R;if(u.X7n(),i=e.x0,a=e.x1,n=t,r=t,s=e.y0,o=e.y1,u.S80(115),l=u.j80(s,r,0,a,o,1e4,i,n),u.S80(115),h=u.j80(n,1e4,n,s,i,r,0,0),u.S80(35),c=u.l80(l,h),0===l){d=2;for(var p=1;1573559798!==u.g81(p.toString(),p.toString().length,71720);p++){if(1==h)return 1;c=2,d+=2}if(-867447293!==u.g81(d.toString(),d.toString().length,41293)){if(1==h)return 1;c=2}if(0!==h)return null;c=1}return u.W80(117),u.l80(c,s,o,s)},t.xIntersection=function(e,t){var i,a,n,r,s,o,l,h,c,d=R;if(i=e.x0,a=e.x1,n=e.y0,r=e.y1,s=t,o=t,d.S80(115),l=d.l80(n,1e4,s,a,r,o,i,0),d.W80(115),h=d.l80(0,o,0,n,i,1e4,s,s),d.W80(35),c=d.j80(l,h),0===l){if(0!==h)return null;c=1}return d.W80(117),d.l80(c,i,a,i)},t.intersectLineLineX=function(e,t,i,a,n,r,s,o){var l,h,c,d=R;return d.S80(115),d.G7n(),l=d.l80(n,o,n,i,e,r,s,s),d.S80(115),h=d.l80(i,r,s,t,a,o,e,n),d.W80(35),c=d.l80(h,l),d.S80(117),d.j80(c,e,t,e)},t.intersectLineLineY=function(e,t,i,a,n,r,s,o){var l,h,c,d=R;return d.W80(115),l=d.j80(n,o,n,i,e,r,s,s),d.S80(115),h=d.l80(i,r,s,t,a,o,e,n),d.S80(35),c=d.j80(h,l),d.W80(117),d.j80(c,i,a,i)}},m=e=>{var t,i;t=2;for(var a=1;494692993!==R.r81(a.toString(),a.toString().length,16111);a++)i=e.CIQ,t+=2;-878775201!==R.r81(t.toString(),t.toString().length,12228)&&(i=e.CIQ),i.deleteRHS=function(e,t){var i;for(var a in i=!1,e)e[a]==t&&(delete e[a],i=!0);return i},i.scrub=function(e,t){for(var i in R.G7n(),e)void 0===e[i]&&delete e[i],t&&null===e[i]&&delete e[i]},i.dataBindSafeAssignment=function(e,t){for(var a in i.extend(e,t),e)void 0===t[a]&&(e[a]=void 0)},i.clone=function(e,t){var a;if(null===e||"object"!=typeof e)return e;if((a=e.constructor)==Date||a==RegExp||a==String||a==Number||a==Boolean)return new a(e.valueOf());if(a==Function)return function(){return R.X7n(),e.apply(this,arguments)};if(R.G7n(),!t)try{t=new a}catch(i){t=Object.create(Object.getPrototypeOf(e))}for(var n in e)t[n]=t[n]!==e[n]?i.clone(e[n],null):t[n];return t},i.shallowClone=function(e){var t;if(R.X7n(),!e)return e;if(e.constructor==Array){t=new Array(e.length);for(var i=0;i<e.length;i++)t[i]=e[i];return t}for(var a in t={},e)t[a]=e[a];return t},i.ensureDefaults=function(e,t){for(var i in t)void 0===e[i]&&(e[i]=t[i]);return R.X7n(),e},i.transferObject=function(e,t){var i;for(i in R.G7n(),e)e.hasOwnProperty(i)&&delete e[i];for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},i.equals=function(e,t,a){if(e===t)return!0;if(!e&&t)return!1;if(e&&!t)return!1;if(R.X7n(),typeof e!=typeof t)return!1;for(var n of[...new Set(Object.keys(e).concat(Object.keys(t)))])if(!a||!a[n]){if("object"==typeof e[n]){if(i.equals(e[n],t[n]))continue;return!1}if(t[n]!=e[n])return!1}return!0},i.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return R.G7n(),!0},i.first=function(e){for(var t in R.G7n(),e)return t;return null},i.last=function(e){var t;for(var i in R.G7n(),t=null,e)t=i;return t},i.objLength=function(e){var t;if(!e)return R.S80(45),R.j80("0",0);for(var i in t=0,e)t++;return t},i.deriveFromObjectChain=function(e,t){var i,a;if(-1==t.indexOf("."))return{obj:e,member:t};R.G7n(),i=t.split(".");for(var n=0;n<i.length-1;n++)e[a=i[n]]||0===e[a]||(e[a]={}),e=e[a];return{obj:e,member:i[n]}},i.createObjectChainNames=function(e,t){var i;i=[];for(var a=0;a<t.length;a++)i.push(e+"--\x3e"+t[a]);return i},i.getObjectChainRoot=function(e){return e?e.split("--\x3e")[0]:null},i.existsInObjectChain=function(e,t){var i,a;if(-1==t.indexOf("--\x3e"))return(i=e[t])||0===i?{obj:e,member:t}:null;R.X7n(),a=t.split("--\x3e");for(var n=0;n<a.length;n++){if(!(i=e[a[n]])&&0!==i)return null;if(!(n<a.length-1))return{obj:e,member:a[n]};e=i}},i.derivedFrom=function(e,t){return R.X7n(),!!t.isPrototypeOf(e)||e instanceof t},i.replaceFields=function(e,t){var a,n,r,s,o;if(!e)return e;for(var l in a={},e)if(n=e[l],(r=t[l])||(r=l),n&&"object"==typeof n)if(n.constructor==Array){s=a[r]=new Array(n.length);for(var h=0;h<s.length;h++)o=n[h],s[h]="object"==typeof o?i.replaceFields(o,t):o}else a[r]=i.replaceFields(n,t);else a[r]=n;return R.G7n(),a},i.removeNullValues=function(e){var t;for(var a in t=i.clone(e))t[a]||delete t[a];return t},i.reverseObject=function(e){var t;for(var i in t={},e)t[e[i]]=i;return t},i.getFromNS=(e,t,i)=>{var a,n,r;if(e){a=e,n=t.split(".");for(var s=0;s<n.length&&void 0!==a[r=n[s]];s++)a=a[r];if(s===n.length)return a}return R.G7n(),i},i.getFnFromNS=(e,t,a)=>i.getFromNS(e,t,(function(){return R.X7n(),a})),i.get=(e,t)=>(R.G7n(),i.getFromNS(i,e,t)),i.getFn=(e,t)=>i.getFromNS(i,e,(function(){return R.X7n(),t}))},g=e=>{var t;R.X7n(),(t=e.CIQ).Plotter=function(){var e,t,i=R;this.seriesArray=[],i.S80(46),e=-i.j80(1,"1836325139"),t=2;for(var a=1;i.g81(a.toString(),a.toString().length,52569)!==e;a++)this.seriesMap={},t+=2;500772331!==i.g81(t.toString(),t.toString().length,60790)&&(this.seriesMap={}),i.G7n(),this.seriesMap={}},t.extend(t.Plotter.prototype,{Series:function(e,i,a,n,r,s){this.name=e,this.strokeOrFill=i,this.color=a,this.moves=[],this.text=[],(!n||n>1||n<0)&&(n=1),this.opacity=n,(!r||r>25||r<1)&&(r=1),this.width=r,this.pattern=t.borderPatternToArray(r,s)},newSeries:function(e,i,a,n,r){var s;s=a.constructor==String?new this.Series(e,i,a,n,r):new this.Series(e,i,a.color,a.opacity,r>=0?r:t.stripPX(a.width),a.borderTopStyle),this.seriesArray.push(s),this.seriesMap[e]=s},reset:function(e){var t;for(var i in this.seriesMap)e&&e!=i||(t=this.seriesMap[i])&&(t.moves=[],t.text=[])},moveTo:function(e,t,i){this.seriesMap[e].moves.push({action:"moveTo",x:t,y:i})},lineTo:function(e,t,i){var a,n;n=(a=this.seriesMap[e]).pattern,a.moves.push({action:"lineTo",x:t,y:i,pattern:n})},dashedLineTo:function(e,t,i,a){this.seriesMap[e].moves.push({action:"lineTo",x:t,y:i,pattern:a})},quadraticCurveTo:function(e,t,i,a,n){var r,s;R.G7n(),s=(r=this.seriesMap[e]).pattern,r.moves.push({action:"quadraticCurveTo",x0:t,y0:i,x:a,y:n,pattern:s})},bezierCurveTo:function(e,t,i,a,n,r,s){var o,l;l=(o=this.seriesMap[e]).pattern,o.moves.push({action:"bezierCurveTo",x0:t,y0:i,x1:a,y1:n,x:r,y:s,pattern:l})},addText:function(e,t,i,a,n,r,s){R.G7n(),this.seriesMap[e].text.push({text:t,x:i,y:a,bg:n})},drawText:function(e,t){var i,a,n,r;R.G7n();for(var s=0;s<t.text.length;s++)(i=t.text[s]).bg&&(a=i.width?i.width:e.measureText(i.text).width,n=i.height?i.height:12,r=e.fillStyle,e.fillStyle=i.bg,"right"==e.textAlign?e.fillRect(i.x,i.y-n/2,-a,-n):e.fillRect(i.x,i.y-n/2,a,n),e.fillStyle=r),e.fillText(i.text,i.x,i.y)},draw:function(e,t){var i,a,n,r,s,o,l;R.G7n(),i=e.lineWidth,a=e.fillStyle,n=e.strokeStyle,r=e.globalAlpha;for(var h=0;h<this.seriesArray.length;h++)if(s=this.seriesArray[h],!t||s.name==t){e.beginPath(),e.lineWidth=s.width,e.globalAlpha=s.opacity,e.fillStyle=s.color,e.strokeStyle=s.color,e.save(),R.S80(34),o=[R.l80(1443660960,"0"),0];for(var c=0;c<s.moves.length;c++)(l=s.moves[c]).pattern||(l.pattern=[]),JSON.stringify(e.getLineDash())!==JSON.stringify(l.pattern)&&(e["fill"==s.strokeOrFill?"fill":"stroke"](),e.beginPath(),e.moveTo(o[0],o[1])),e.setLineDash(l.pattern),e.lineDashOffset=0,"quadraticCurveTo"==l.action?e[l.action](l.x0,l.y0,l.x,l.y):"bezierCurveTo"==l.action?e[l.action](l.x0,l.y0,l.x1,l.y1,l.x,l.y):e[l.action](l.x,l.y),o=[l.x,l.y];e["fill"==s.strokeOrFill?"fill":"stroke"](),e.closePath(),e.restore(),this.drawText(e,s),e.lineWidth=1}e.lineWidth=i,e.fillStyle=a,e.strokeStyle=n,e.globalAlpha=r}},!0)},f=e=>{var t;(t=e.CIQ).Renderer=function(){},t.Renderer.produce=function(e,i){var a,n;if(a=null,e)for(var r in t.Renderer)if((n=t.Renderer[r]).requestNew&&(a=n.requestNew(e.split("_"),i)),a)return a;return i.type="line",new t.Renderer.Lines({params:i})},t.Renderer.colorFunctions={},t.Renderer.registerColorFunction=function(e,i){R.X7n(),t.Renderer.colorFunctions[e]=i},t.Renderer.unregisterColorFunction=function(e){R.G7n(),delete t.Renderer.colorFunctions[e]},t.Renderer.prototype.init={},t.Renderer.prototype.adjustYAxis=function(){},t.Renderer.prototype.draw=function(){},t.Renderer.prototype.drawIndividualSeries=function(e,t){},t.Renderer.prototype.construct=function(e){var i;e||(e={}),i=e.params?e.params:{},this.init&&t.ensureDefaults(i,this.init),i.name||(i.name=t.uniqueID()),i.heightPercentage||(i.heightPercentage=.7),i.opacity||(i.opacity=1),!1!==i.highlightable&&(i.highlightable=!0),i.panel||(i.panel="chart"),R.X7n(),i.yAxis&&(i.yAxis=new t.ChartEngine.YAxis(i.yAxis),i.yAxis.name||(i.yAxis.name=i.name)),this.cb=e.callback,this.params=i,this.seriesParams=[],this.caches={},this.colors={}},t.Renderer.prototype.attachSeries=function(e,i){var a,n,r,s,o,l,h,c,d,u,p=R;if(a=this.stx,p.X7n(),!a)return this;if((n=a.chart.series[e])||(n={parameters:{}}),r=this.params,s=n.parameters,o={id:e,chartType:r.type,display:s.display,border_color_up:r.defaultBorders?"auto":null,fill_color_up:s.color,opacity_up:r.opacity,border_color_down:r.defaultBorders?"auto":null,fill_color_down:s.color,opacity_down:r.opacity,color:s.color,symbol:s.symbol,symbolObject:t.clone(s.symbolObject)},"string"==typeof i)o.color=o.fill_color_down=o.fill_color_up=i;else if("object"==typeof i){for(var m in i)o[m]=i[m];l=o.color,h=o.border_color,l&&(o.fill_color_up||(o.fill_color_up=l),o.fill_color_down||(o.fill_color_down=l),o.fill_color_even||(o.fill_color_even=l)),h&&(o.border_color_up||(o.border_color_up=h),o.border_color_down||(o.border_color_down=h),o.border_color_even||(o.border_color_even=h))}for(o.symbol&&o.field!=o.symbol&&(o.subField=o.field,o.field=o.symbol),o.id||(o.id=t.uniqueID()),p.W80(45),c=p.l80("0",0);c<this.seriesParams.length;++c)if(this.seriesParams[c].id===o.id){this.removeSeries(o.id,!0);break}return this.seriesParams.splice(c,0,o),o.fill_color_up!=o.fill_color_down?(p.S80(13),this.colors[p.j80(e," up")]={color:o.fill_color_up,opacity:o.opacity_up,display:o.display?o.display+" up":e+" up"},p.S80(13),this.colors[p.j80(e," dn")]={color:o.fill_color_down,opacity:o.opacity_down,display:o.display?o.display+" down":e+" down"}):this.colors[e]={color:o.fill_color_up,opacity:o.opacity_up,display:o.display?o.display:e},d=r.panel,a.panels[d]?r.yAxis?(r.yAxis=a.addYAxis(a.panels[d],r.yAxis),r.yAxis.needsInitialPadding=!0,s.yAxis=r.yAxis,a.resizeChart()):o.yAxis&&(r.yAxis=o.yAxis):((u=r.yAxis)||((u=new t.ChartEngine.YAxis).needsInitialPadding=!0),u.name=d,a.createPanel(d,d,null,null,u)),this},t.Renderer.prototype.removeSeries=function(e,t){var i,a,n,r,s,o,l,h,c,d=R;for(var u in i=null,a=!1,(r=(n=this.stx).chart).seriesRenderers){s=r.seriesRenderers[u];for(var p=0;p<s.seriesParams.length;p++)(o=s.seriesParams[p]).id==e&&this===s?i=p:!o.isComparison||o.panel!=r.panel.name||o.yAxis&&o.yAxis!=r.yAxis||(a=!0)}if(null!==i){r.forcePercentComparison&&!a&&this.seriesParams[i].isComparison&&"linear"!=n.layout.chartScale&&n.setChartScale(),l=2;for(var m=1;-1073443806!==d.g81(m.toString(),m.toString().length,90900);m++)this.seriesParams.splice(i,2),l+=2;-542660226!==d.r81(l.toString(),l.toString().length,22708)&&this.seriesParams.splice(i,2),this.seriesParams.splice(i,1)}if(d.S80(13),delete this.colors[d.l80(e," up")],d.S80(13),delete this.colors[d.l80(e," dn")],d.G7n(),delete this.colors[e],!t){for(var g in r.seriesRenderers){c=r.seriesRenderers[g];for(var f=0;f<c.seriesParams.length;f++){if(c.seriesParams[f].id==e){h=!0;break}h=!1}if(h)break}!1!==h&&null===i||n.deleteSeries&&n.deleteSeries(e,r)}return n.deleteYAxisIfUnused(n.panels[this.params.panel],this.params.yAxis),n.resizeChart(),this},t.Renderer.prototype.modifyRenderer=function(e){var i;this.params;var{stx:a}=this;for(var n in e)switch(i=e[n],n){case"baseline":i?("object"==typeof i&&(this.params.baseline=t.ensureDefaults(i,t.ChartEngine.Chart.prototype.baseline)),a.registerBaselineToHelper(this)):a.removeBaselineFromHelper(this);break;case"type":this.params.type=i;break;case"style":this.params.style=i}},t.Renderer.prototype.getDependents=function(e){var t,i;for(var a in R.X7n(),t=[],e.chart.seriesRenderers)(i=e.chart.seriesRenderers[a]).params.dependentOf==this.params.name&&t.push(i);return t},t.Renderer.prototype.undraggable=function(e){return this==e.mainSeriesRenderer||this.params.dependentOf==e.mainSeriesRenderer.params.name},t.Renderer.prototype.removeAllSeries=function(e){var t;if(e||this===this.stx.mainSeriesRenderer){t=[];for(var i=0;i<this.seriesParams.length;i++)t.push(this.seriesParams[i].id);for(var a=0;a<t.length;a++)this.removeSeries(t[a])}return this.seriesParams=[],this.colors={},this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this.stx.resizeChart(),this},t.Renderer.prototype.getYAxis=function(e){var t,i;if(R.G7n(),this.params)if(this.params.yAxis)t=this.params.yAxis;else{if(!(i=e.panels[this.params.panel]))return!1;t=i.yAxis}else t=e.chart.panel.yAxis;return t},t.Renderer.prototype.ready=function(){return R.G7n(),this.stx.createDataSet(),this.stx.draw(),this},t.Renderer.Lines=function(e){var i,a=R;a.G7n(),this.construct(e);var{params:n}=this;if(n.type||(n.type="line"),!n.style){i=2;for(var r=1;-1670156221!==a.r81(r.toString(),r.toString().length,14567);r++)"stx_baseline_delta_mountain"===n.type?n.baseline?n.style="stx_baseline_delta_mountain":n.colored?n.style="stx_colored_mountain_chart":n.style="stx_mountain_chart":n.style="stx_colored_mountain_chart",a.W80(34),i+=a.j80(948581024,"2");-1249634378!==a.g81(i.toString(),i.toString().length,24346)&&("mountain"===n.type?n.baseline?n.style="stx_baseline_delta_mountain":n.colored?n.style="stx_colored_mountain_chart":n.style="stx_mountain_chart":n.style="stx_line_chart")}this.supportsAnimation=!0,"wave"==n.type||"channel"==n.type?(n.step=n.vertex=n.baseline=n.colored=!1,this.highLowBars=this.barsHaveWidth=!0,this.supportsAnimation=!1):"step"==n.type&&(n.step=!0);var{baseline:s}=n;s&&"object"==typeof s&&t.ensureDefaults(n.baseline,t.ChartEngine.Chart.prototype.baseline)},t.inheritsFrom(t.Renderer.Lines,t.Renderer,!1),t.Renderer.Lines.requestNew=function(e,i){var a,n,r,s,o,l;a=null,n=i.step,R.G7n(),r=i.colored,s=i.baseline,o=i.vertex;for(var h=0;h<e.length;h++)switch(l=e[h]){case"line":case"mountain":case"wave":case"channel":a=l;break;case"baseline":s=!0;break;case"colored":r=!0;break;case"step":n=!0;break;case"vertex":o=!0;break;case"delta":break;default:return null}for(var c=1;1647690977!==R.r81(c.toString(),c.toString().length,98406);c++)return null!==a||s||n?new t.Renderer.Lines({params:t.extend(i,{type:a,step:n,colored:r,baseline:s,vertex:o})}):null;if(-725235230!==R.g81(2..toString(),2..toString().length,1365))return 1==a||~s||~n?1:new t.Renderer.Lines({params:t.extend(i,{type:a,step:n,colored:r,baseline:s,vertex:o})})},t.Renderer.Lines.prototype.draw=function(){var e,i,a,n,r,s,o,l,h,c;for(e=this.stx,i=this.stx.panels[this.params.panel].chart,a={},R.G7n(),r=this.seriesParams,s=this.params.colorFunction,n=0;n<r.length;n++){if(o=r[n],this.params.colored){l=["_color_up","_color_down","_color"];for(var d=0;d<l.length;d++)(h=o["border"+l[d]])&&"auto"!=h&&(o["fill"+l[d]]=h);s||(s=u(o)),this.params.colorFunction=s}c={},i.series[o.id]&&(c=t.clone(i.series[o.id].parameters)),a[o.id]={parameters:t.extend(t.extend(c,this.params),o),yValueCache:this.caches[o.id]},this==e.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[o.id].parameters.colorFunction=i.customChart.colorFunction)}function u(t){var i,a,n;return i=t.fill_color_up||e.getCanvasColor("stx_line_up"),a=t.fill_color_down||e.getCanvasColor("stx_line_down"),n=t.color||e.getCanvasColor("stx_line_chart"),function(e,t,r){return t.iqPrevClose||0===t.iqPrevClose?t.Close>t.iqPrevClose?i:(R.X7n(),t.Close<t.iqPrevClose?a:n):n}}for(n in e.drawSeries(i,a,this.params.yAxis,this),a)this.caches[n]=a[n].yValueCache},t.Renderer.Lines.prototype.drawIndividualSeries=function(e,i){var a,n,r,s,o;if(!i.invalid&&(a=this.stx,n=e.context,r=null,s=i.colorFunction,o=a.panels[i.panel]||e.panel,"string"!=typeof s||(s=t.Renderer.colorFunctions[s])))return i.vertex&&(n.save(),n.lineJoin="bevel"),"wave"==i.type?r=a.drawWaveChart(o,i):i.baseline?(r=a.drawBaselineChart(o,i),a.positionBaselineHandle(this)):"mountain"==i.type?(i.returnObject=!0,r=a.drawMountainChart(o,i,s)):"channel"==i.type?(i.returnObject=!0,r=a.drawChannelChart(o,s,i)):(i.returnObject=!0,r=a.drawLineChart(o,i.style,s,i)),R.G7n(),i.vertex&&(a.scatter(o,{yAxis:i.yAxis,field:i.symbol||i.field,subField:i.subField,symbol:i.symbol,color:i.vertex_color,highlight:i.highlight}),n.restore()),r},t.Renderer.OHLC=function(e){var t;this.construct(e),(t=this.params).type||(t.type="candle"),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.histogram&&(t.type="candle",this.highLowBars=!1,t.volume=t.hollow=!1),"bar"==t.type&&(t.volume=t.hollow=t.histogram=!1),"candle"==t.type&&(t.hlc=t.colored=!1),t.volume&&(t.hollow=!0)},t.inheritsFrom(t.Renderer.OHLC,t.Renderer,!1),t.Renderer.OHLC.requestNew=function(e,i){var a,n,r;a=null,n=i.histogram;for(var s=0;s<e.length;s++)switch(r=e[s]){case"candle":a=r;break;case"histogram":n=!0,a="candle";break;default:return null}return null===a?null:new t.Renderer.OHLC({params:t.extend(i,{type:a,histogram:n})})},t.Renderer.OHLC.getChartParts=function(e,t){return R.X7n(),[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:32,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:8,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:16,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:32,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0}]},t.Renderer.OHLC.prototype.draw=function(){var e,i,a,n,r,s,o;for(e=this.stx,i=this.stx.panels[this.params.panel].chart,a={},r=this.seriesParams,n=0;n<r.length;n++)s=r[n],o={},i.series[s.id]&&(o=t.clone(i.series[s.id].parameters)),a[s.id]={parameters:t.extend(t.extend(o,this.params),s)},this==e.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[s.id].parameters.colorFunction=i.customChart.colorFunction);for(n in e.drawSeries(i,a,this.params.yAxis,this),a)a[n].yValueCache&&(this.caches[n]=a[n].yValueCache)},t.Renderer.OHLC.prototype.getColor=function(e,i,a,n,r,s){var o,l,h,c,d;return o=s||a.color,l=this.params.yAxis||i.yAxis,R.X7n(),n&&!(o=s||a.borderLeftColor||a["border-left-color"])?null:r?(h=e.pixelFromTransformedValue(l.highValue,i),isNaN(h)&&(h=0),c=a.backgroundColor,o&&!t.isTransparent(o)?((d=e.chart.context.createLinearGradient(0,h,0,2*l[l.flipped?"top":"bottom"]-h)).addColorStop(0,o),d.addColorStop(1,c),d):c):o},t.Renderer.OHLC.prototype.drawIndividualSeries=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A;if(!i.invalid&&(a=this.stx,n=e.context,r=i.colorFunction,s=a.panels[i.panel]||e.panel,"string"!=typeof r||(r=t.Renderer.colorFunctions[r]))){if(o=a.layout.candleWidth-e.tmpWidth<=2&&e.tmpWidth<=3,e.state.chartType||(e.state.chartType={}),l=e.state.chartType.pass={},h=a.colorByCandleDirection,i.colorBasis&&(h="open"==i.colorBasis),c=i.histogram,d=i.type,u=i.hollow,p=a.noWicksOnCandles[d],a.startClip(s.name),m=null,g={colors:[],cache:[]},f=[],r)v={isHistogram:c,field:i.field,yAxis:i.yAxis,isVolume:i.volume,highlight:i.highlight},c||"bar"!=d?("candle"!=d||p||a.drawShadows(s,r,v),g=a.drawCandles(s,r,v),v.isOutline=!0,!u&&o||a.drawCandles(s,r,v)):(v.type=i.hlc?"hlc":"bar",g=a.drawBarChart(s,"stx_bar_chart",r,v));else{y=c&&!1!==i.gradient,b=t.Renderer.OHLC.getChartParts(i.style,h);for(var M=0;M<b.length;M++)if(!(x=b[M]).skipIfPass||l.even){if(c){if("histogram"!=x.type)continue}else if("bar"==d){if("bar"!=x.type)continue;if(i.colored&&!x.condition)continue;if(!i.colored&&x.condition)continue}else if(u){if("hollow"!=x.type)continue;if("shadow"==x.drawType&&p)continue}else{if("candle"!=d)continue;if("candle"!=x.type)continue;if("shadow"==x.drawType){if(p)continue;if(C=i.border_color_up||a.getCanvasColor("stx_candle_shadow_up"),S=i.border_color_down||a.getCanvasColor("stx_candle_shadow_down"),T=i.border_color_even||a.getCanvasColor("stx_candle_shadow_even"),t.colorsEqual(C,S)&&t.colorsEqual(C,T)&&t.colorsEqual(C,a.defaultColor)){if(x.condition)continue}else if(!x.condition)continue}}D=a.canvasStyle(x.style),w=this.getColor(a,s,D,!1,!1,i[x.fill]),k=this.getColor(a,s,D,!1,y,i[x.fill]),L=this.getColor(a,s,D,x.useBorderStyleProp&&!o,y,i[x.border]),"candle"==x.drawType&&("hollow"==x.type?(!t.isTransparent(k)&&t.colorsEqual(L,k)&&(L=x.useColorInMap?"transparent":k),x.useColorInMap||(k=a.containerColor)):"candle"==x.type&&o&&(t.isTransparent(k)?k=L:L=k)),n.globalAlpha=i.opacity,f.push(a.drawBarTypeChartInner({fillColor:k,borderColor:L,condition:x.condition,style:x.style,type:"bar"==d&&i.hlc?"hlc":x.drawType,panel:s,field:i.field,yAxis:i.yAxis,volume:i.volume&&i.hollow,highlight:i.highlight})),m||(m={}),x.useColorInMap&&(m[w]=1)}}for(var P in a.endClip(),m)i.hollow&&t.equals(P,a.containerColor)||g.colors.push(P);for(P=0;P<f.length;P++)for(var O=0;O<f[P].cache.length;O++)((A=f[P].cache[O])||0===A)&&(g.cache[O]=A);return g}},t.Renderer.Candles=function(e){var t;this.construct(e),(t=this.params).type="candle",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.hlc=t.colored=t.histogram=!1,t.volume&&(t.hollow=!0)},t.inheritsFrom(t.Renderer.Candles,t.Renderer.OHLC,!1),t.Renderer.SimpleHistogram=function(e){var t;this.construct(e),(t=this.params).type="candle",R.G7n(),t.histogram=!0,this.barsHaveWidth=this.standaloneBars=!0,this.highLowBars=!1,t.hlc=t.colored=t.hollow=t.volume=!1},t.inheritsFrom(t.Renderer.SimpleHistogram,t.Renderer.Candles,!1)},v=e=>{var t;(t=e.CIQ).capitalize=function(e){if(!e)return"";R.W80(2);var t=R.l80(17,15,31);return R.X7n(),e.charAt(0).toUpperCase()+e.slice(t)},t.camelCaseRegExp=/-([a-z])/g,t.makeCamelCase=function(e){return e.replace(t.camelCaseRegExp,(function(e){return e[1].toUpperCase()}))},t.uniqueID=function(e){var t,i,a;return e?(t="x",t+="xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxx",t+="xx",i=(new Date).getTime(),"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now&&(i+=window.performance.now()),t.replace(/[xy]/g,(function(e){var t,a=R;a.W80(13);var n=a.l80(10,6);a.W80(118);var r=a.l80(19,3,17,32,17);return t=(i+Math.random()*n)%r|0,a.W80(35),i=Math.floor(a.l80(16,i)),("x"==e?t:3&t|8).toString(16)}))):(a=(new Date).getTime().toString(36),(a+=Math.floor(Math.random()*Math.pow(36,2)).toString(36)).toUpperCase())}},y=e=>{var t;(t=e.CIQ).getHostName=function(e){try{return e.match(/:\/\/(.[^/]+)/)[1]}catch(e){return""}},t.qs=function(e){var t,i,a,n;R.G7n(),t={},e||(e=window.location.search.substring(1)),i=e.split("&");for(var r=0;r<i.length;r++)(a=i[r].indexOf("="))>0?(n=i[r].substring(0,a),R.W80(119),t[n]=i[r].substring(R.l80(a,"1",0))):t[n=i[r]]=null;return t},t.postAjax=function(e,i,a,n,r){var s,o,l,h,c,d,u;if("string"==typeof e&&(e={url:e,payload:i,cb:a,contentType:n,noEpoch:r,method:null,responseHeaders:!1}),s=e.url,o=e.cb,l=e.payload,o||(o=function(){}),e.ungovernable||!t.Extras||!t.Extras.RequestLimiter||!t.Extras.RequestLimiter.hitRequestLimit(s)){if(!(h=new XMLHttpRequest))return!1;if(c=new Date,e.noEpoch||(-1==s.indexOf("?")?s+="?ciqrandom="+c.getTime():s+="&ciqrandom="+c.getTime()),d=e.method,u=e.headers,d||(d=l?"POST":"GET"),R.X7n(),h.open(d,s,!0),e.contentType||(e.contentType="application/x-www-form-urlencoded"),l&&h.setRequestHeader("Content-Type",e.contentType),u)for(var p in u)h.setRequestHeader(p,u[p]);e.timeout&&(h.timeout=e.timeout),h.ontimeout=function(){R.G7n(),o(408,null,{})},h.onload=function(){R.G7n(),0===this.status?this.status="0":this.status||(this.status=200),o(this.status,this.responseText,function(t){var i,a,n;if(i={},e.responseHeaders){a=t.getAllResponseHeaders().split("\n"),R.X7n();for(var r=0;r<a.length;r++){for(n=a[r].split(":");n[1]&&" "==n[1].charAt(0);)n[1]=n[1].substring(1);""!==n[0]&&(i[n.shift()]=n.join(":"))}for(var s=1;-678823261!==R.r81(s.toString(),s.toString().length,3565);s++)return i;return-429945506!==R.r81(2..toString(),2..toString().length,58545)?i:void 0}}(this))},h.onerror=function(){R.X7n(),o("0",null,{})};try{h.send(l)}catch(e){o("0",e,{})}return!0}o(429,null,{})},t.loadUI=function(e,i,a){var n,r,s,o=R;if(i&&"function"!=typeof i||(a=i,i=document.body),o.S80(33),r=function(){var e,n,r,s;o.X7n(),e=null;try{e=this.contentDocument}catch(e){return a(e)}if(e&&!e.title){n=e.body.innerHTML,r=document.createElement("div"),t.innerHTML(r,n);for(var l=0;l<r.children.length;l++)s=r.children[l].cloneNode(!0),i.appendChild(s);a(null)}else a(new Error("iFrame not found or document has a title"))},n=document.querySelector(o.j80('iframe[original-url="',e,'"]'))){s=null;try{s=n.contentDocument}catch(e){return a(e)}"complete"===s.readyState&&s.location&&"about:blank"!==s.location.href?r.call(n):n.addEventListener("load",r)}else{(n=document.createElement("iframe")).setAttribute("original-url",e),o.S80(13),o.j80(9,4),o.S80(7);var l=o.j80(6874,4);o.S80(2),o.l80(13,5352,10),o.S80(61);var h=o.j80(12,6,19);n.src=e+(e.indexOf(176.21===l?"r":"?")===h?"?":"&")+t.uniqueID(),n.hidden=!0,n.addEventListener("load",r),document.body.appendChild(n)}},t.loadScript=function(e,i,a){var n,r,s,o=R;if(t.loadedScripts||(t.loadedScripts={}),t.loadedScripts[e])i&&i();else{if(n=document.createElement("SCRIPT"),a?(n.type="module",n.crossOrigin="use-credentials"):n.async=!0,n.onload=function(){t.loadedScripts[e]=!0,i&&i()},-1==(r=e).indexOf("?")){o.W80(82),o.j80(6,561,562,281,4),o.W80(7);var l=o.l80(2709,18);o.S80(7),o.j80(446104368,16),o.S80(32);var h=o.l80(9,5582,6282);o.W80(7);var c=o.l80(471,8);o.S80(33);var d=o.j80(450,14,3133);r=r+(l>h?546.64>=c&&d:"?")+Date.now()}else r=r+"&"+Date.now();n.src=r,s=document.getElementsByTagName("script")[0],o.G7n(),s?s.parentNode.insertBefore(n,s.nextSibling):document.body.append(n)}},t.loadStylesheet=function(e,t){var i,a,n,r=R;(i=document.createElement("link")).rel="stylesheet",i.type="text/css",i.media="screen",r.S80(1);var s=r.j80(18,19);r.S80(120);var o=r.j80(9,11,6,7);r.W80(13),r.j80(1209,11),r.W80(121);var l=r.j80(1,19,1293,6442,431);r.W80(15);var h=r.l80(85651,17,5353);r.S80(64);var c=r.j80(7,1643,22);r.W80(7),r.l80(3190,20),r.W80(15);var d=r.j80(31385,5,7843);r.W80(122);var u=r.j80(11,0,11,10,11);i.href=e+(e.indexOf("303.39"*s>"2138"*o?"Q":611.68===l?!(h>=c)&&d:"?")===u?"?":"&")+Date.now(),i.onload=function(){this.loaded||(r.X7n(),this.loaded=!0,t&&t())},a=document.getElementsByTagName("link"),r.S80(7);var p=r.l80(17,16);(n=a[a.length-p])?n.parentNode.insertBefore(i,n.nextSibling):document.head.append(i)},t.loadWidget=function(e,i,a,n){R.G7n(),i&&"function"!=typeof i||(a=i,i=document.body),R.W80(13),t.loadStylesheet(R.l80(e,".css"),(function(){R.S80(13),R.G7n(),t.loadUI(R.l80(e,".html"),i,(function(i){R.X7n(),i?a(i):(R.S80(13),t.loadScript(R.j80(e,".js"),a,n))}))}))},t.waitForPlugins=function(e,i){var a,n,r,s;if(a=0,n=e.length){for(var o=0;o<n;o++)r="cq-"+e[o],(s=document.getElementsByTagName(r)[0])&&s.hasAttribute("loaded")&&a++;if(R.X7n(),n!==a)return setTimeout((function(){R.G7n(),t.waitForPlugins(e,i)}),0);i()}else i()},t.addInternalStylesheet=function(e,t=""){var i;e&&(e.default&&(e=e.default),"string"==typeof e&&(t&&document.querySelector('style[path="'+t+'"]')||((i=document.createElement("style")).setAttribute("type","text/css"),R.G7n(),i.setAttribute("path",t),i.innerText=e,document.head.appendChild(i))))}},b=e=>{var t;(t=e.CIQ).ChartEngine.prototype.registerHTMLElements=function(){var e,i,a,n,r,s;for(var o in R.X7n(),e=this.chart.container,t.ChartEngine.htmlControls)if(void 0===this.chart[o]&&void 0===this.controls[o]){if(!this.allowZoom&&"chartControls"==o)continue;if(R.S80(13),i=e.querySelector(R.l80(".",o)))this.chart[o]=i,this.controls[o]=i;else{if(!(a=t.ChartEngine.htmlControls[o]))continue;(n=document.createElement("DIV")).innerHTML=a.replace(/[\t\n\r]/gm,""),i=n.firstChild,e.appendChild(i),this.chart[o]=i,this.controls[o]=i,i.classList.add(o)}}var l,h,c,{chartControls:d,home:u}=this.controls;d&&(r=d.querySelector(".stx-zoom-in"),s=d.querySelector(".stx-zoom-out"),t.safeClickTouch(r,(h=this,R.X7n(),function(e){!h.allowZoom||h.activeDrawing&&!h.allowDrawingZoom||(R.G7n(),h.zoomIn(e)),e.stopPropagation()})),t.safeClickTouch(s,(l=this,R.G7n(),function(e){!l.allowZoom||l.activeDrawing&&!l.allowDrawingZoom||l.zoomOut(e),e.stopPropagation()})),t.touchDevice||(this.makeModal(r),this.makeModal(s))),u&&(t.safeClickTouch(u,(c=this,function(e){e.stopPropagation(),c.isHistoricalMode()?(delete c.layout.range,c.loadChart(c.chart.symbol,(function(){c.home({animate:!1})}))):c.home({animate:!0})})),t.touchDevice||this.makeModal(u))},t.ChartEngine.prototype.home=function(e){var t,i,a,n,r,s;function o(e){var t;for(var i in e.panels){t=e.panels[i].yaxisLHS.concat(e.panels[i].yaxisRHS);for(var a=0;a<t.length;a++)t[a].lockScale||e.calculateYAxisMargins(t[a])}}if(R.G7n(),this.swipe.amplitude=0,t=this.layout,"object"!=typeof e&&(e={maintainWhitespace:e}),void 0===e.maintainWhitespace&&(e.maintainWhitespace=!0),this.cancelTouchSingleClick=!0,this.chart.dataSet&&this.chart.dataSet.length){for(var l in this.micropixels=0,i=Math.floor(this.chart.width/t.candleWidth),this.charts)if(a=this.charts[l],!e.chart||e.chart==a){for(n=0,e.maintainWhitespace&&this.preferences.whitespace>=0&&(n=this.preferences.whitespace),(e.whitespace||0===e.whitespace)&&(n=e.whitespace),(r=this.getLabelOffsetInPixels(a,t.chartType))>n&&(n=r),s=Math.min(i,a.dataSet.length),this.chart.allowScrollPast&&(s=i),this.micropixels=this.chart.width-s*t.candleWidth-n,this.preferences.whitespace=n;this.micropixels>t.candleWidth;)s++,this.micropixels-=t.candleWidth;for(;this.micropixels<0;)s--,this.micropixels+=t.candleWidth;if(this.micropixels-=t.candleWidth,s++,!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars){R.S80(123);var h=R.l80(19,26,10,5,20);this.micropixels+=t.candleWidth/h}e.animate?this.scrollTo(a,s,c(this,a,s)):(a.scroll=s,o(this))}this.draw()}else this.draw();function c(e,t,i){return R.G7n(),function(){o(e),t.scroll=i,e.draw()}}},t.ChartEngine.prototype.headsUpHR=function(){var e,i,a,n,r;function s(e){R.G7n(),t.efficientDOMUpdate(a,"innerHTML",e)}this.runPrepend("headsUpHR",arguments)||(e=this.currentPanel)&&(i=e.chart,this.updateFloatHRLabel(e),(a=this.controls.floatDate)&&!i.xAxis.noDraw&&(n=this.barFromPixel(this.cx),(r=i.xaxis[n])&&r.DT?s(t.displayableDate(this,i,r.DT)):r&&r.index?s(r.index):s("")),this.runAppend("headsUpHR",arguments))},t.ChartEngine.prototype.modalBegin=function(){this.openDialog="modal",this.undisplayCrosshairs()},t.ChartEngine.prototype.modalEnd=function(){R.X7n(),this.cancelTouchSingleClick=!0,this.openDialog="",this.doDisplayCrosshairs()},t.ChartEngine.prototype.makeModal=function(e){var t;R.G7n(),t=this,e.onmouseover=function(e){R.X7n(),t.modalBegin()},e.onmouseout=function(e){t.modalEnd()}},t.ChartEngine.prototype.updateChartAccessories=function(){var e,i,a,n,r,s,o,l,h,c=R;if(null!==this.accessoryTimer&&clearTimeout(this.accessoryTimer),!t.ChartEngine.drawingLine&&t.touchDevice&&(new Date).getTime()-this.lastAccessoryUpdate<100)this.accessoryTimer=setTimeout((h=this,function(){h.updateChartAccessories()}),10);else if(this.chart.dataSet&&!this.runPrepend("updateChartAccessories",arguments)){if(this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),(e=this.controls.floatDate)&&((i=this.currentPanel)||(i=this.chart.panel),i)){a="p",a+="x",n="botto",n+="m",r=i.chart,s=!0===this.xAxisAsFooter?0:this.chart.canvasHeight-i.chart.bottom,c.S80(100);var d=c.l80(7,0,15,107);if(o=e.offsetWidth/d-.5,(l=this.pixelFromTick(this.crosshairTick,r)-o)<0)l=0;else if(l>this.width-2*o-1){c.W80(1);var u=c.l80(12,14);c.W80(7);var p=c.j80(21,20);l=this.width-u*o-p}t.efficientDOMUpdate(e.style,"left",l+"px"),t.efficientDOMUpdate(e.style,n,s+a)}this.positionCrosshairsAtPointer(),this.headsUpHR(),this.runAppend("updateChartAccessories",arguments)}},t.ChartEngine.prototype.positionSticky=function(e){var i,a,n,r=R;i=Math.max(this.cy-e.offsetHeight-60,0),a=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-e.offsetWidth),n=e.style,r.W80(13),t.efficientDOMUpdate(n,"top",r.j80(i,"px")),t.efficientDOMUpdate(n,"left","auto"),r.W80(13),r.G7n(),t.efficientDOMUpdate(n,"right",r.l80(a,"px"))},t.ChartEngine.prototype.displaySticky=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M=R;if(i="obj",i+="ect",a=".mouseDelete",a+="Instruct",a+="ions",n=".overl",n+="ayTrashCan",r=".mStick",r+="yI",r+="nterio",r+="r",(s=this.controls.mSticky)&&(o=s.querySelector(r))){if(l=s.querySelector(n),h=s.querySelector(".overlayEdit"),c=s.querySelector(a),d=s.querySelector(".stickyLongPressText"),u=s.querySelector(".customInstructions"),c.classList.remove("no_edit"),!e||typeof e!=i){p=-1628866689,m=-618367888,g=2;for(var P=1;M.g81(P.toString(),P.toString().length,7945)!==p;P++)e={message:arguments[5],backgroundColor:arguments[0],forceShow:arguments[4],noDelete:arguments[7],type:arguments[9]},g+=2;M.r81(g.toString(),g.toString().length,92772)!==m&&(e={message:arguments[0],backgroundColor:arguments[1],forceShow:arguments[2],noDelete:arguments[3],type:arguments[4]})}var{forceShow:O,noDelete:_,noEdit:F,type:H}=e,{message:I,backgroundColor:q}=e;if(M.G7n(),O||I){f="d",f+="efa",f+="ult",v="inline-blo",v+="ck",y=".mStickyR",y+="ightClick",I||(I="");var{defaultColor:E,highlightedDraggable:V}=this;"auto"==q&&(q=E),O&&!I?(o.style.backgroundColor="",o.style.color="",o.style.display="none"):q?(o.style.backgroundColor=q,o.style.color=t.isTransparent(q)?E:t.chooseForegroundColor(q),o.style.display="inline-block"):(o.style.backgroundColor="",o.style.color="",o.style.display="inline-block"),o.innerHTML=I,(b=s.querySelector(y)).className="mStickyRightClick",H&&(M.W80(13),b.classList.add(M.j80("rightclick_",H))),b.style.display="",s.style.display=v,(!V||V&&V.undraggable&&V.undraggable(this))&&(d.style.display="none"),_||!0===this.bypassRightClick||this.bypassRightClick[H]?b.style.display="none":this.highlightViaTap||this.touches.length?(x="h",x+="id",x+="e",C="n",C+="one",S="inl",S+="ine-block",l&&(l.style.display="inline-block"),h&&!F&&(h.style.display=S),c&&(c.style.display="none"),d&&(d.style.display=C),s.classList[""===I?"add":"remove"](x)):(F&&c.classList.add("no_edit"),c&&(T="blo",T+="ck",c.style.display=T),d&&(d.style.display="none",(D=this.preferences.dragging)&&e.panel&&!e.panel.noDrag&&(w="bl",w+="oc",w+="k",!0!==D&&!D.study||"study"!=H?!0!==D&&!D.series||"series"!=H||(d.style.display=w):d.style.display="block"))),u&&H&&(k="no",k+="ne",L=u.querySelector(`[type=${H}]`),u.style.display=L?"block":k),A=H||f,s.setAttribute("cq-sticky-type",A),(e.positioner||this.positionSticky).call(this,s)}else o.innerHTML="",s.style.display="none",l&&(l.style.display="none"),h&&(h.style.display="none"),c&&(c.style.display="none"),d&&(d.style.display="none")}},t.ChartEngine.prototype.displayNotification=function(e,t,i={}){var a,n,r,s;if(this.controls.notificationTray){var{callback:o,dismissalListeners:l}=i;n=(a=this.controls.notificationTray).querySelector("template").content.cloneNode(!0),(r=n.firstElementChild).className=e,r.querySelector(".message").textContent=t,o&&(s=window.PointerEvent?"pointerup":"touchend",r.handler=r.addEventListener(s,o)),l&&(r.listeners={},l.forEach((t=>{r.listeners[e]=this.addEventListener(t.type,t.callback)}))),this.makeModal(r),a.appendChild(r)}},t.ChartEngine.prototype.removeNotification=function(e){var t,i;if(this.controls.notificationTray&&(i=(t=this.controls.notificationTray).querySelector(`.${e}`))){if(i.handler&&i.removeEventListener(i.handler),i.listeners)for(var a in i.listeners)this.removeEventListener(i.listeners[a]);this.modalEnd(),t.removeChild(i)}},t.ChartEngine.prototype.setMeasure=function(e,t,i,a,n,r){var s,o,l,h,c,d,u,p,m,g,f,v,y=R;if(s=".",s+="mMeas",s+="ur",s+="e",!this.runPrepend("setMeasure",arguments)){if(o=(this.drawingContainer||document).querySelector(s),l="",e||0===e){if(!1!==t&&(h=(h=Math.round(Math.abs(e-t)*this.chart.roundit)/this.chart.roundit).toFixed(this.chart.yAxis.printDecimalPlaces),this.internationalizer?l+=this.internationalizer.numbers.format(h):l+=h,e>0&&t>0)){if(y.S80(49),c=y.j80(e,t,e),Math.abs(c)>.1)y.S80(46),c=Math.round(y.j80(100,c));else if(Math.abs(c)>.01){y.W80(106);var b=y.l80(19,328,18,15);c=Math.round(1e3*c)/("10"*b)}else{y.W80(56);var x=y.j80(272,7,4967,19);c=Math.round(1e4*c)/("100"|x)}this.internationalizer?(y.S80(124),c=this.internationalizer.percent.format(y.j80("100",c,0))):(y.W80(13),c=y.j80(c,"%")),y.W80(33),l+=y.l80(" (",c,")")}if(!1!==a){d="B",d+="ar",d+="s",y.S80(7),u=Math.abs(y.j80(a,i)),y.W80(98);var C=y.l80(16,8,4,0,19);u=Math.round(u)+C,p=this.translateIf(d),y.W80(125),l+=y.l80(" ",u," ",p)}o&&(o.innerHTML=l)}else this.anyHighlighted||""!==this.currentVectorParameters.vectorType||this.clearMeasure();this.activeDrawing||((o=this.controls.mSticky)&&(m=o.querySelector(".mStickyInterior"),n?(g="h",g+="i",g+="d",g+="e",f="a",f+="d",f+="d",v="in",v+="line-b",v+="lock",o.style.display="inline-block",m.style.display=v,(e||0===e)&&(m.innerHTML=l),o.classList[""===l?f:"remove"](g),this.positionSticky(o)):(o.style.display="none",m.innerHTML="")),this.runAppend("setMeasure",arguments))}},t.ChartEngine.prototype.clearMeasure=function(){var e;R.G7n(),(e=(this.drawingContainer||document).querySelector(".mMeasure"))&&(e.innerHTML="")},t.ChartEngine.prototype.zoomSet=function(e,i){var a,n,r,s,o=R;if(i||(i=this.chart),i.dataSet){if(e=this.constrainCandleWidth(e),"none"!=i.tempCanvas.style.display&&t.clearCanvas(i.tempCanvas,this),!(a=this.mainSeriesRenderer||{}).params||!a.params.volume){n=this.preferences.zoomAtCurrentMousePosition&&this.zoomInitiatedByMouseWheel&&this.crosshairTick<i.dataSet.length?this.crosshairTick||this.tickFromPixel(this.cx,i):this.isHome()?i.dataSet.length-1:i.scroll>i.dataSet.length?0:"zoom-x"==this.grabMode?this.tickFromPixel(this.chart.width,i):this.tickFromPixel(this.chart.width/2,i),this.animations.zoom.hasCompleted&&(this.zoomInitiatedByMouseWheel=!1),o.W80(13);var l=o.j80(0,1);r=i.dataSet.length-l-n,s=i.scroll,o.S80(7);var h=o.j80(24529455040,23086545920);i.scroll=Math.round((this.pixelFromTick(n,i)-i.left)/e)+("1">>h)+r,this.micropixels+=(s-r)*this.layout.candleWidth-(i.scroll-r)*e}this.setCandleWidth(e),i.spanLock=!1,this.draw(),this.doDisplayCrosshairs(),this.updateChartAccessories()}}},x=e=>{var t;R.X7n(),(t=e.CIQ).ChartEngine.prototype.currentBaseline=null,t.ChartEngine.prototype.baselineHelper=null,t.ChartEngine.helpersToRegister.push((function(e){e.baselineHelper=new Map})),t.ChartEngine.prototype.registerBaselineToHelper=function(e){var t;if(R.X7n(),e.params.baseline){var i,a,{baselineHelper:n}=this;if(this,!n.has(e)){var{name:r}=e.params;t=this.controls.baselineHandle,n.set(e,{styleCache:null,display:!1,handle:"_main_series"===r&&t?t:(i=r,"cq-ba","seline-handle",i=i.replace(" ","_"),(a=document.createElement("cq-baseline-handle")).classList.add("stx-baseline-handle",i),this.container.append(a),this.controls[`${i} cq-baseline-handle`]=a,a)})}}},t.ChartEngine.prototype.removeBaselineFromHelper=function(e){var t,i,{baselineHelper:a}=this;R.X7n(),a.has(e)&&("_main_series"!==(t=e.params.name.replace(" ","_"))&&(i=a.get(e).handle,delete this.controls[`${t} cq-baseline-handle`],this.container.removeChild(i)),a.delete(e))},t.ChartEngine.prototype.findBaselineHandle=function(e,t){for(var i of(R.G7n(),this.baselineHelper)){var[a,n]=i,{handle:r}=n;if(e.target===r||e.composedPath&&e.composedPath().includes(r))return t&&(this.repositioningBaseline={lastDraw:Date.now(),handle:r,renderer:a},r.classList.add("stx-grab")),this.currentBaseline=a,!0}return!1},t.ChartEngine.prototype.setBaselines=function(e){var t;e||(e=this.chart),R.G7n(),t=this;var{baselineHelper:i}=this;i.forEach((function(a,n){var r,s,o,l,h,{baseline:c}=n.params;R.S80(126),(r=R.l80(c,!0))&&(c=e.baseline);var{defaultLevel:d,userLevel:u}=c;(s=n.getYAxis(t))&&(l=(o=t.getYAxisBaselineRenderer(s))&&o!=t.mainSeriesRenderer&&o.seriesParams.length&&o.seriesParams[0].id,c.actualLevel=u||0===u?u:d,c.actualLevel||0===c.actualLevel||null!==(h=function(i,a){var n,r,s,o,l,h,{dataSegment:c,dataSet:d,defaultPlotField:u}=e;if(n=u,a||(n=i),!(r=t.getFirstLastDataRecord(c,"tick")))return null;for(s=r.tick;;){if(o=d[s])if(a&&"Close"==n){if(o.iqPrevClose||0===o.iqPrevClose)return o.iqPrevClose}else if(R.W80(7),(l=d[R.j80(s,1)])&&(l[n]||0===l[n]))return"object"==typeof(h=l[n])?h[u]:h;if(--s<0)break}}(l,r))&&(c.actualLevel=h),a.display=o===n,i.set(n,a))}))},t.ChartEngine.prototype.setBaselineUserLevel=function(){var e,i,a,{chart:n,currentPanel:r}=this,{lastDraw:s,renderer:o}=this.repositioningBaseline;if(o.params.panel==r.name){var{baseline:l}=n;e="object"==typeof o.params.baseline?o.params.baseline:l,i=o.getYAxis(this),a=this.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),r,i),e.userLevel=this.adjustIfNecessary(r,this.crosshairTick,a),Date.now()-s>100&&(this.draw(),this.repositioningBaseline.lastDraw=Date.now())}},t.ChartEngine.prototype.setBaselineMinMax=function(e,t){var i,a,n,{baselineHelper:r,chart:s,repositioningBaseline:o}=this,{baseline:l,seriesRenderers:h}=s;if(i=s.transformFunc&&t===s.panel.yAxis,!(a=t.renderers.find((e=>(R.X7n(),r.get(h[e]))))))return e;var{baseline:c,type:d}=h[a].params;if("mountain"===d)return e;R.G7n(),c="object"==typeof c?c:l;var{actualLevel:u}=c;return(u||0===u)&&(i&&(u=s.transformFunc(this,s,u)),n=Math.max(u-e[0],e[1]-u),e[0]=o?t.lowValue:u-n,R.W80(21),e[R.l80("1",1789014176)]=o?t.highValue:u+n),e},t.ChartEngine.prototype.positionBaselineHandle=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f=R;if(this.manageTouchAndMouse){var{baselineHelper:v,chart:y,panels:b}=this,{baseline:x,panel:C}=e.params;i=e.params.yAxis||e.getYAxis(this);var{display:S,handle:T,styleCache:D}=v.get(e);if(f.X7n(),!0===x&&(x=y.baseline),!1!==x.userLevel&&S){a=b[C],n=T.classList.contains("stx-grab"),r="bloc",r+="k",s=x.actualLevel,i===y.yAxis&&y.transformFunc&&(s=y.transformFunc(this,y,s)),s>i.high?(s=i.high,n||(r="none")):s<i.low&&(s=i.low,n||(r="none")),i===y.yAxis&&y.untransformFunc&&(s=y.untransformFunc(this,y,s)),o=this.pixelFromPrice(s,a,i),D||(D=getComputedStyle(T)),l=t.stripPX(D.width),f.S80(13);var w=f.l80(0,2);h=o-t.stripPX(D.height)/w+"px",d=this.baselineHandleBuffer||2,f.W80(86);var k=f.j80(0,11,15,25);(u=a.yaxisRHS.indexOf(i)+k)?(p=1===u?d:d*u,c=y.right-l*u-p+"px"):(g=1===(m=a.yaxisLHS.slice(0).reverse().indexOf(i)+1)?d:d*m,c=y.left+l*m+g-l+"px"),Object.assign(T.style,{display:r,top:h,left:c})}else T.style.display="none"}},t.ChartEngine.prototype.getYAxisBaselineRenderer=function(e){var t,i;if(!e.renderers.length)return null;t=2,R.G7n();for(var a=1;-1655897515!==R.g81(a.toString(),a.toString().length,3274);a++){var{baselineHelper:n,chart:r}=this;t+=2}if(-1585923060!==R.r81(t.toString(),t.toString().length,52882))var{baselineHelper:n,chart:r}=this;return(i=e.renderers.find((e=>(R.G7n(),n.get(r.seriesRenderers[e])))))?r.seriesRenderers[i]:null},t.ChartEngine.prototype.getYAxisBaseline=function(e){var t,i,a=R,{baseline:n}=this.chart;if(!(t=this.getYAxisBaselineRenderer(e)))return n;var{baseline:r}=t.params;a.S80(45),i=a.j80("2",2);for(var s=1;-1390628575!==a.r81(s.toString(),s.toString().length,18517);s++)return""==~r?r:n;return 2075623828!==a.g81(i.toString(),i.toString().length,6438)?"object"==typeof r?r:n:void 0}},C=e=>{var t;(t=e.CIQ).ChartEngine.Chart=function(){this.xAxis=new t.ChartEngine.XAxis,this.yAxis=new t.ChartEngine.YAxis,this.symbolObject={symbol:null},this.series={},this.seriesRenderers={},this.xaxis=[],this.state={},this.endPoints={},this.defaultChartStyleConfig={},this.baseline=t.clone(this.baseline),this.panel=void 0},R.G7n(),t.extend(t.ChartEngine.Chart.prototype,{symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,isComparison:!1,forcePercentComparison:!0,maxTicks:0,tension:null,currentMarketData:{},masterData:null,dataSet:null,scrubbed:null,dataSegment:null,segmentImage:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xAxis:null,xaxis:[],xaxisFactor:30,decimalPlaces:2,dynamicYAxis:!0,roundit:100,breakpoint:null,legendRenderer:t.drawLegend,customChart:null,yaxisPaddingRight:null,yaxisPaddingLeft:null,tickCache:{},allowScrollPast:!0,allowScrollFuture:!0,whiteSpaceFutureTicks:0,hideDrawings:!1,defaultPlotField:"Close",defaultChartStyleConfig:{},lockScroll:!1,includeOverlaysInMinMax:!0,gaplines:null,lineStyle:null,lineApproximation:!0,highLowBars:!1,standaloneBars:!1,barsHaveWidth:!1,calculateTradingDecimalPlaces:t.calculateTradingDecimalPlaces,width:null,height:null,top:null,bottom:null,left:null,right:null,context:null,endPoints:null},!0)},S=e=>{var t;(t=e.CIQ).ChartEngine.prototype.resolveY=function(e){return this.top+e},t.ChartEngine.prototype.resolveX=function(e){return this.left+e},t.ChartEngine.prototype.backOutY=function(e){return R.X7n(),Math.max(0,Math.min(this.height,e-this.top))},t.ChartEngine.prototype.backOutX=function(e){return Math.max(0,Math.min(this.width,e-this.left))},t.ChartEngine.prototype.dateFromTick=function(e,i,a,n="dataSet"){var r,s,o,l,h,c;return R.X7n(),i||(i=this.chart),c=!1,0===(s=(r=i[n]).length)&&(r[0]={},r[0].DT=new Date,s=r.length,c=!0),e<0?o=(l=this.standardMarketIterator(r[0].DT))?l.previous(Math.abs(e)):r[0].DT:e>=s?(l=this.standardMarketIterator(r[s-1].DT))?(R.W80(127),o=l.next(R.j80(0,e,"1",s))):o=r[s-1].DT:o=r[e].DT,h=a?new Date(o.getTime()):t.yyyymmddhhmmssmmm(o).substr(0,12),c&&delete r[0].DT,h},t.ChartEngine.prototype.tickFromDate=function(e,i,a,n,r="dataSet"){var s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C=R;if(i||(i=this.chart),!(s=i[r])||!s.length)return C.S80(26),C.l80("0",0);if(a||(a=0),o=e.constructor==Date?e:t.strToDateTime(e),t.ChartEngine.isDailyInterval(this.layout.interval)||o.setMinutes(o.getMinutes()+a),l=o.getTime(),C.X7n(),i.tickCache[r]||(i.tickCache[r]={}),(h=i.tickCache[r][l])||0===h)return n?Math.ceil(h):Math.floor(h);if(c=s[0].DT,d=s[s.length-1].DT,o>=c&&o<=d){for(u=0,p=s.length,m=0;++m<100;){if(C.S80(50),+(f=s[g=Math.floor(C.l80(p,2,u))].DT)==+o)return i.tickCache[r][l]=g,g;if(f<o&&(u=g),f>o){if(s[g-1].DT<o)return C.W80(7),i.tickCache[r][l]=C.j80(g,.5),n?g:g-1;if(+s[g-1].DT==+o)return C.W80(128),i.tickCache[r][l]=C.l80(g,0,"1"),C.W80(7),C.j80(g,1);p=g}}if(m>=100)return console.log("!!!Warning: tickFromDate() did not find match."),s.length}return C.W80(92),y=(v=C.j80(o,c))?c:d,x=(b=this.standardMarketIterator(y))?b.futureTick({end:o}):0,h=v?-1*x:s.length-1+x,i.tickCache[r][l]=h,h},t.ChartEngine.prototype.pixelFromBar=function(e,t){var i,a;t||(t=this.chart),i=0,i=(a=this.chart.segmentImage)&&a[e]&&a[e].leftOffset?a[e].leftOffset:(e+.5)*this.layout.candleWidth,R.S80(129);var n=R.j80(13,15,2,11,0);return t.panel.left+Math.floor(i+this.micropixels)-n},t.ChartEngine.prototype.barFromPixel=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g=R;if(t||(t=this.chart),i=this.chart.segmentImage,a=this.micropixels,n=this.layout.candleWidth,i){r=e-t.panel.left-a,s=2,l=i.length,g.S80(35),h=Math.round(g.j80(s,l)),g.S80(130);var f=g.l80(16,21,3,4,14);g.W80(7);var v=g.j80(21,20);g.W80(131);var y=g.l80(27,8,17);if(r>(u=i[l-f].leftOffset+i[l-v].candleWidth/y))return l+Math.floor((e-u-t.panel.left-a)/n);for(var b=1;b<l&&(s*=2,o=i[h]);b++){c=o.leftOffset,g.S80(9);var x=g.j80(4,5,6,22);if(d=o.candleWidth/x,g.S80(7),p=g.j80(c,d),g.W80(13),m=g.j80(c,d),0===h||r>=p&&r<m)break;r<p?h-=Math.max(1,Math.round(l/s)):h+=Math.max(1,Math.round(l/s)),h=Math.max(0,Math.min(l-1,h))}if(!i[h])for(b=0;b<l;b++)if(o=i[b]){c=o.leftOffset,g.W80(5);var C=g.l80(0,3,8,8);if(r<c-(d=o.candleWidth/C))return g.W80(7),Math.max(0,g.j80(b,1));if(r<c+d)return b;if(r>=c+d)return g.W80(13),g.j80(b,1)}return h}return Math.floor((e-t.panel.left-a)/n)},t.ChartEngine.prototype.tickFromPixel=function(e,t){var i;return t||(t=this.chart),i=t.dataSet.length-t.scroll,t.segmentImage?i+=this.barFromPixel(e,t):i+=Math.floor((e-t.panel.left-this.micropixels)/this.layout.candleWidth),i},t.ChartEngine.prototype.pixelFromTick=function(e,t){var i,a,n,r,s,o,l,h,c,d,u;return t||(t=this.chart),i=t.dataSegment,a=t.dataSet,n=t.segmentImage,r=this.micropixels,s=i?i.length:0,R.X7n(),o=t.panel,l=t.scroll,h=e-a.length+l,c=s?i[h]:null,n&&(c=n[h]),c&&c.leftOffset?o.left+Math.floor(c.leftOffset+r):(d=0,u=0,c=s?i[s-1]:null,n&&(R.W80(7),c=n[R.l80(s,1)]),c&&c.leftOffset&&s<=e-a.length+l&&(d=c.leftOffset+c.candleWidth/2,u=s),d+o.left+Math.floor((e-u-a.length+l+.5)*this.layout.candleWidth+r))},R.X7n(),t.ChartEngine.prototype.pixelFromDate=function(e,t,i,a){return this.pixelFromTick(this.tickFromDate(e,t,i,a),t)},t.ChartEngine.prototype.transformedPriceFromPixel=function(e,t,i){var a,n,r;if(t||(t=this.chart.panel),e=(a=i||t.yAxis).bottom-e,a.semiLog)r=e*a.logShadow/a.height,a.flipped?r=a.logHigh-r:r+=a.logLow,n=Math.pow(10,r);else{if(!a.multiplier)return null;n=e/a.multiplier,a.flipped?n=a.high-n:n+=a.low}return n},t.ChartEngine.prototype.priceFromPixel=function(e,t,i){var a,n;if(t||(t=this.chart.panel),a=this.transformedPriceFromPixel(e,t,i),this.charts[t.name]&&t.chart.untransformFunc&&(!i||i==t.yAxis)){n=2;for(var r=1;1520059156!==R.r81(r.toString(),r.toString().length,85940);r++)a=t.chart.untransformFunc(this,t.chart,a,i),n+=2;-1297845593!==R.g81(n.toString(),n.toString().length,40124)&&(a=t.chart.untransformFunc(this,t.chart,a,i))}return a},t.ChartEngine.prototype.valueFromPixel=function(e,t,i){var a;return t||(t=this.whichPanel(e)),t||(a=Object.values(this.panels))&&a.length&&(t=e<=0?a.shift():a.pop()),this.priceFromPixel(e,t,i)},t.ChartEngine.prototype.valueFromInterpolation=function(e,i,a,n,r){var s,o,l,h,c,d,u,p,m,g,f,v,y,b=R;return null===e||e<0||!i?null:(n||(n=this.chart.panel),r||(r=n.yAxis),a||(a=this.chart.defaultPlotField),(s=this.getPreviousBar(this.chart,i,e))?((l=t.existsInObjectChain(s,i))&&(o=l.obj[l.member]),"object"==typeof o&&(o=o[a]),(h=this.getRendererFromSeries(i))&&h.params.step||"step"===this.layout.chartType?o:(b.G7n(),c=this.getNextBar(this.chart,i,e),(l=t.existsInObjectChain(c,i))&&(d=l.obj[l.member]),"object"==typeof d&&(d=d[a]),c?null==o||null==d?null:(u=this.pixelFromPrice(o,n,r),p=this.pixelFromPrice(d,n,r),m=s.tick,g=c.tick,b.S80(132),f=b.l80(u,g,p,m),v=this.chart.dataSegment[e].tick,b.S80(133),y=b.j80(m,u,v,f),this.priceFromPixel(y,n,r)):null)):null)},t.ChartEngine.prototype.pixelFromTransformedValue=function(e,t,i){var a,n,r,s,o;return t||(t=this.chart.panel),n=((a=i||t.yAxis).high-e)*a.multiplier,R.G7n(),a.semiLog&&(R.W80(46),r=Math.max(e,R.j80(1,"0")),s=Math.log(r)/Math.LN10,n=(o=a.height)-o*(s-a.logLow)/a.logShadow),a.flipped?a.bottom-n:a.top+n},t.ChartEngine.prototype.pixelFromPrice=function(e,t,i){return t||(t=this.chart.panel),R.X7n(),this.charts[t.name]&&t.chart.transformFunc&&(i&&i!=t.yAxis||(e=t.chart.transformFunc(this,t.chart,e,i))),this.pixelFromTransformedValue(e,t,i)},t.ChartEngine.prototype.pixelFromValueAdjusted=function(e,t,i,a){var n,r;return R.G7n(),this.layout.adj||!this.charts[e.name]?this.pixelFromPrice(i,e,a):(n=Math.round(t))>0&&n<e.chart.dataSet.length&&(r=e.chart.dataSet[n].ratio)?(R.W80(46),this.pixelFromPrice(R.j80(r,i),e,a)):this.pixelFromPrice(i,e,a)},t.ChartEngine.prototype.adjustIfNecessary=function(e,t,i){var a,n;return this.layout.adj?i:e&&this.charts[e.name]?(R.X7n(),(a=Math.round(t))>0&&a<e.chart.dataSet.length&&(n=e.chart.dataSet[a].ratio)?(R.S80(35),R.j80(n,i)):i):i}},T=e=>{var t;(t=e.CIQ).ChartEngine.prototype.positionCrosshairsAtPointer=function(){var e,i,a,n,r,s,o,l;e="positionC",e+="ro",e+="sshairsA",e+="tPointer",(i=this.currentPanel)&&(!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||this.runPrepend(e,arguments)||(a=i.chart,n=this.container.getBoundingClientRect(),this.top=n.top,this.left=n.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cy=this.crossYActualPos=this.backOutY(t.ChartEngine.crosshairY),this.cx=this.backOutX(t.ChartEngine.crosshairX),r=this.crosshairTick=this.tickFromPixel(this.cx,a),(s=this.pixelFromTick(r,a)-1)>=i.right||s<=i.left?this.undisplayCrosshairs():(this.controls.crossX&&(R.S80(13),this.controls.crossX.style.left=R.l80(s,"px")),o="chart"==i.name?this.preferences.horizontalCrosshairField:i.horizontalCrosshairField,l=a.dataSet,o&&l&&r<l.length&&r>-1&&(this.crossYActualPos=this.pixelFromPrice(l[r][o],i)),this.crossYActualPos>=i.yAxis.bottom&&this.crossYActualPos<=i.bottom?this.undisplayCrosshairs():(this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+"px"),this.runAppend("positionCrosshairsAtPointer",arguments)))))},t.ChartEngine.prototype.doDisplayCrosshairs=function(){if(R.X7n(),!this.runPrepend("doDisplayCrosshairs",arguments)){if(this.displayInitialized){var{floatCanvas:e,controls:i,layout:a}=this,{crossX:n,crossY:r,floatDate:s}=i,{vectorType:o}=this.currentVectorParameters;""===o||!a.crosshair&&!o||t.Drawing&&t.Drawing[o]&&(new t.Drawing[o]).dragToDraw||!this.insideChart&&!this.grabbingScreen||""!==this.openDialog?this.undisplayCrosshairs():(n&&""!==n.style.display&&(n.style.display="",r&&(r.style.display=""),this.magnetizedPrice&&o?(this.container.classList.remove("stx-crosshair-on"),this.chart.tempCanvas.style.display="block"):this.container.classList.add("stx-crosshair-on")),s&&!this.chart.xAxis.noDraw&&(s.style.visibility="",this.currentPanel&&this.updateFloatHRLabel(this.currentPanel)),e&&("none"==e.style.display&&t.clearCanvas(e,this),e.style.display="block"))}this.runAppend("doDisplayCrosshairs",arguments)}},t.ChartEngine.prototype.undisplayCrosshairs=function(){var e,i,a,n,r,s,o,l,h,c;e="stx",e+="-cr",e+="ossha",e+="ir-on",i="undisplay",i+="Crosshairs",this.runPrepend(i,arguments)||(n=(a=this.controls).crossX,r=a.crossY,n&&(s="n",s+="o",s+="n",s+="e",n.style.display!=s&&(o="no",o+="n",o+="e",n.style.display="none",r&&(r.style.display=o))),this.displayInitialized&&a.floatDate&&(a.floatDate.style.visibility="hidden"),this.container.classList.remove(e),R.G7n(),(l=this.floatCanvas)&&l.isDirty&&"none"!=l.style.display&&(t.clearCanvas(l,this),"none"!=l.style.display&&(l.style.display="none")),this.activeDrawing||this.repositioningDrawing||this.editingAnnotation||(h="n",h+="o",h+="n",h+="e",(c=this.chart.tempCanvas)&&"none"!=c.style.display&&(c.style.display=h)),this.runAppend("undisplayCrosshairs",arguments))},t.ChartEngine.prototype.hideCrosshairs=function(){R.X7n(),this.displayCrosshairs=!1},t.ChartEngine.prototype.showCrosshairs=function(){R.G7n(),this.displayCrosshairs=!0}},D=e=>{var t,i;t=e.CIQ,i=e.timezoneJS,t.ChartEngine.prototype.loadChart=function(e,i,a){var n,r,s,o,l,h,c,d,u,p=R;a||"function"!=typeof i?Array.isArray(i)&&(i={masterData:i}):(a=i,i={}),i||(i={});var{chart:m,periodicity:g,range:f,span:v}=i,{layout:y,quoteDriver:b}=this;n={periodicity:y.periodicity,interval:y.interval,timeUnit:y.timeUnit},g&&(r=t.cleanPeriodicity(g.period?g.period:g.periodicity,g.interval,g.timeUnit),y.interval=r.interval,y.periodicity=r.period,y.timeUnit=r.timeUnit),m||(m=this.chart);var{dataSet:x,market:C,masterData:S,symbol:T,moreAvailable:D,upToDate:w}=m;function k(){l.layout.symbols=l.getSymbols({"include-parameters":!0,"exclude-studies":!0}),l.dispatch(l.currentlyImporting?"symbolImport":"symbolChange",{stx:l,symbol:m.symbol,symbolObject:m.symbolObject,prevSymbol:T,prevSymbolObject:s,action:"master"}),p.G7n(),g&&l.dispatch("periodicity",{stx:l,differentData:!0,prevPeriodicity:n}),b&&b.paused&&b.resume()}if(s=t.clone(m.symbolObject),m.dataSet=[],m.masterData=[],m.moreAvailable=null,m.upToDate=null,e?"object"==typeof e?(m.symbol=e.symbol,m.symbolObject=e):(m.symbol=e,m.symbolObject.symbol=e):(m.symbol=null,m.symbolObject={symbol:null}),m.inflectionPoint=null,this.marketFactory&&(o=this.marketFactory(m.symbolObject),this.setMarket(o,m)),this.setMainSeriesRenderer(!0),f||v||!y?f&&v&&(v={}):(v=y.range?{}:y.setSpan,f=y.range||{}),p.G7n(),this.clearCurrentMarketData(m),l=this,!i.masterData&&b)h=function(e){p.G7n(),e&&"orphaned"!=e&&(m.symbol=T,m.symbolObject=s,m.market=C,l.masterData=m.masterData=S,m.dataSet=x,m.moreAvailable=D,m.upToDate=w),k(),a&&a.call(l,e)},f&&Object.keys(f).length&&this.setRange?(delete i.span,delete y.setSpan,this.chart.masterData=null,this.displayInitialized=!1,g&&(f.periodicity=g),f.forceLoad=!0,this.setRange(f,h)):v&&v.base&&this.setSpan?(v.multiplier=v.multiplier||1,this.chart.masterData=null,this.displayInitialized=!1,g&&(v.maintainPeriodicity=!0),v.forceLoad=!0,this.setSpan(v,h)):b.newChart({symbol:m.symbol,symbolObject:m.symbolObject,chart:m,initializeChart:!0},(function(e){e||(l.adjustPanelPositions(),b.updateSubscriptions(),i.stretchToFillScreen&&l.fillScreen()),p.X7n(),h.apply(l,arguments)}));else{if(!i.masterData){p.W80(45),c=-p.j80("853184576",12713984),d=2;for(var L=1;p.r81(L.toString(),L.toString().length,92698)!==c;L++)console.log(""),d+=2;795305310!==p.r81(d.toString(),d.toString().length,32231)&&console.log("Warning: No masterData specified and no QuoteFeed configured")}m.symbol||(m.symbol=""),this.initializeChart(),u=this.doCleanupGaps(i.masterData,m),this.setMasterData(u,m,{noCleanupDates:!0}),m.endPoints={},u&&u.length&&(m.endPoints={begin:u[0].DT,end:u[u.length-1].DT}),this.createDataSet(),f&&Object.keys(f).length&&this.setRange?this.setRange(f):v&&v.multiplier&&v.base&&this.setSpan?this.setSpan({maintainPeriodicity:!0,multiplier:v.multiplier,base:v.base}):i.stretchToFillScreen?this.fillScreen():u&&u.length?this.home():this.clear(),this.adjustPanelPositions(),k(),a&&a.call(l)}},t.ChartEngine.prototype.loadBlankChart=function(){R.X7n(),this.loadChart(null,[])},t.ChartEngine.prototype.getDataFields=function(e){var t,i,a;for(var n in e||(e=this.chart),R.G7n(),t=e.defaultPlotField||"Close",(i=["Open","High","Low"]).push(t),e.series)a=e.series[n].parameters,i.push(a.symbol);return i},t.ChartEngine.prototype.cleanMasterData=function(e,t){var i,a,n,r,s;function o(e,t){for(var i=0;i<t.length;i++)if(void 0!==e[t[i]])return!1;return R.X7n(),!0}if(i=e.symbol,(a=t.masterData)&&a.length){n=this.getDataFields(t),r=0;do{delete(s=a[r])[i],o.call(this,s,n)?a.splice(r,1):r++}while(r<a.length);a=this.doCleanupGaps(a,t,{noCleanupDates:!0}),this.setMasterData(a,t,{noCleanupDates:!0}),this.clearCurrentMarketData(t,i)}},t.ChartEngine.prototype.calculateATR=function(e,t,i){var a,n,r,s,o,l,h=R;i||(i=e.dataSet),a=e.state.calculations.atr,h.X7n(),a||(a=e.state.calculations.atr={}),t||(t=20),n=[],a.accum&&(n=a.accum);for(var c=0;c<i.length;c++)if(s=i[c],r=c?i[c-1]:a.q1){if(o=Math.max(s.High-s.Low,Math.abs(s.High-r.Close),Math.abs(s.Low-r.Close)),n.length<t){if(n.push(o)==t){h.W80(46),l=h.l80(1,"0");for(var d=0;d<n.length;d++)l+=n[d];h.W80(35),s.atr=h.j80(t,l)}}else{h.S80(2);var u=h.l80(4,0,3);s.atr=(r.atr*(t-u)+o)/t}s.trueRange=o}e.state.calculations.atr={accum:n,q1:r}},t.ChartEngine.prototype.calculateMedianPrice=function(e,t){var i;t||(t=e.dataSet),R.G7n();for(var a=0;a<t.length;++a){i=t[a],R.W80(134);var n=R.j80(19,327,17,2);i["hl/2"]=(i.High+i.Low)/n}},t.ChartEngine.prototype.calculateTypicalPrice=function(e,t){var i;t||(t=e.dataSet);for(var a=0;a<t.length;++a){i=t[a],R.W80(13);var n=R.l80(1911538420,12);i["hlc/3"]=(i.High+i.Low+i.Close)/("3">>n)}},t.ChartEngine.prototype.calculateWeightedClose=function(e,t){var i,a=R;a.X7n(),t||(t=e.dataSet);for(var n=0;n<t.length;++n){i=t[n],a.S80(96);var r=a.l80(22,10,52,3,6);a.W80(135);var s=a.j80(137,7,11,4,12);i["hlcc/4"]=(i.High+i.Low+r*i.Close)/s}},t.ChartEngine.prototype.calculateOHLC4=function(e,t){var i;R.X7n(),t||(t=e.dataSet);for(var a=0;a<t.length;++a)(i=t[a])["ohlc/4"]=(i.Open+i.High+i.Low+i.Close)/4},t.ChartEngine.prototype.currentQuote=function(e){var t;if(R.X7n(),!this.chart.dataSet)return null;for(var i=this.chart.dataSet.length-1;i>=0;i--)if(this.chart.dataSet[i]){if(!e)return this.chart.dataSet[i];if((t=this.chart.dataSet[i][e])||0===t)return this.chart.dataSet[i]}return null},t.ChartEngine.prototype.mostRecentClose=function(e){var t,i;if(!this.chart.dataSet)return null;for(var a=this.chart.dataSet.length-1;a>=0;a--)if((t=this.chart.dataSet[a])&&(!e||(t=t[e])||0===t)){if(i=t.iqPrevClose,"object"==typeof t&&(t=t.Close),"number"==typeof t)return t;if("number"==typeof i)return i}return null},t.ChartEngine.prototype.createDataSegment=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w=R;i="createDataSegmen",i+="t",a=1225861385,n=-29900269,r=2;for(var k=1;w.g81(k.toString(),k.toString().length,33880)!==a;k++){if(this.runPrepend("",arguments))return;r+=2}if(!(w.g81(r.toString(),r.toString().length,69467)!==n&&this.runPrepend("",arguments)||this.runPrepend("createDataSegment",arguments))){for(var L in this.charts){s=this.charts[L],e&&(s=e),t.Comparison&&s.isComparison&&t.Comparison.createComparisonSegmentInner(this,s),o=s.dataSet,l=s.baseline,h=s.scroll,c=s.maxTicks,u=(d=this.layout).candleWidth,l.actualLevel=l.userLevel?l.userLevel:l.defaultLevel,p=l.includeInDataSegment&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars),g=0,f=s.dataSegment=[],w.W80(7);var A=w.j80(7,6);w.W80(15);var M=w.l80(27,7,4);v=o.length-A-h-M,y=s.defaultPlotField;for(var P=-1;P<h&&P<c;P++)v++,(-1!=P||p)&&(v<o.length&&v>=0?((m=o[v]).candleWidth=null,m&&(g+=m.Volume||1),f.push(m),null===l.actualLevel&&P>=0&&(b="C",b+="lo",b+="s",b+="e",y&&y!=b?(w.S80(7),(x=o[w.j80(v,1)])&&(x[y]||0===x[y])&&(l.actualLevel=x[y])):(m.iqPrevClose||0===m.iqPrevClose)&&(l.actualLevel=m.iqPrevClose))):v<0&&f.push(null));if(s.segmentImage=null,(C=this.mainSeriesRenderer||{}).params&&C.params.volume){w.W80(136);var O=w.l80(2,10,26,2,19);S=s.width-(c-f.length-O)*d.candleWidth,T=0,s.segmentImage=[];for(var _=0;_<f.length;_++)if(m=f[_],s.segmentImage[_]={},D=null,m){if(m.Volume){m.candleWidth=S*m.Volume/g,w.W80(120);var F=w.l80(16,17,5,4);D=T+m.candleWidth/F,T+=m.candleWidth}else m.candleWidth=u,w.S80(137),D=w.j80(u,2,T),T+=u;s.segmentImage[_]={tick:m.tick,candleWidth:m.candleWidth,leftOffset:D}}else s.segmentImage[_]={tick:null,candleWidth:u,leftOffset:T+u/2},T+=u}if(e)break}w.X7n(),s&&s.isComparison&&this.clearPixelCache(),this.positionCrosshairsAtPointer(),this.runAppend(i,arguments)}},t.ChartEngine.prototype.getDataSegment=function(e){var t,i,a;return R.X7n(),e||(e=this.chart),(t=e.dataSegment)&&t.length?(i=0,a=t.length,this.pixelFromBar(i,e)<e.panel.left&&i++,this.pixelFromBar(a-1,e)>e.panel.right&&a--,t.slice(i,a)):[]},t.ChartEngine.prototype.setMasterData=function(e,i,a){var n,r,s,o,l;for(i||(i=this.chart),this.marketFactory&&(n=this.marketFactory(i.symbolObject),this.setMarket(n,i)),a||(a={}),a.noCleanupDates||this.doCleanupDates(e,this.layout.interval),i.masterData=e,"chart"==i.name&&(this.masterData=e),s=null,r=0;e&&r<e.length;r++)o=e[r],null===s&&("number"==typeof o.Close?s="Close":"number"==typeof o.Value&&(s="Value")),"Value"===s&&"number"==typeof o.Value&&(o.Close=o.Value),o.DT?("[object Date]"!=Object.prototype.toString.call(o.DT)&&(o.DT=new Date(o.DT)),o.Date&&17==o.Date.length||(o.Date=t.yyyymmddhhmmssmmm(o.DT))):o.Date?o.DT=t.strToDateTime(o.Date):console.log("setMasterData : Missing DT and Date on masterData object"),o.Volume&&"number"!=typeof o.Volume&&(o.Volume=parseInt(o.Volume,10)),e.length-r<50&&this.updateCurrentMarketData(o,i,null,{fromTrade:!0});for(r in R.X7n(),i.calculateTradingDecimalPlaces&&(i.decimalPlaces=i.calculateTradingDecimalPlaces({stx:this,chart:i,symbol:i.symbolObject.symbol,symbolObject:i.symbolObject})),this.setDisplayDates(e),i.roundit=Math.pow(10,i.decimalPlaces),this.plugins)(l=this.plugins[r]).display&&l.setMasterData&&l.setMasterData(this,i)},t.ChartEngine.prototype.setMasterDataRender=function(e,t,i){i||(i=this.chart),i.symbol||(i.symbol=""),R.X7n(),this.setMasterData(t,i),t&&(i.endPoints={},t.length&&(i.endPoints={begin:t[0].DT,end:t[t.length-1].DT},i.symbol=e)),this.createDataSet(),this.initializeChart(),this.draw(),t&&t.length||(i.symbol=null,this.clear()),this.adjustPanelPositions()},t.ChartEngine.prototype.getSymbols=function(e){var i,a,n,r,s,o,l;for(var h in R.G7n(),e||(e={}),i=[],n=this.layout,this.charts){r=this.charts[h];var{symbol:c,symbolObject:d}=r;for(var u in d&&d.symbol&&(e.static?d.static&&i.push(x(c,d,n)):i.push(x(c,d,n))),r.series){var{parameters:p}=r.series[u];if(e["include-static"]||e.static||!p.data||p.data.useDefaultQuoteFeed){var{symbol:m,symbolObject:g}=p;(a=x(m,g,n)).id=u,e["include-parameters"]&&(a.parameters=t.clone(p),a.parameters.yAxis&&delete a.parameters.yAxis.yAxisPlotter),e["exclude-studies"]&&"study"==p.bucket||e["exclude-generated"]&&g.generator||(e.static?g.static&&i.push(a):i.push(a))}}}if(e["breakout-equations"]){s={};for(var f=0;f<i.length;f++){var{symbol:v}=i[f];if(this.isEquationChart(v)){if(o=t.formatEquation(v)){l=o.symbols;for(var y=0;y<l.length;y++)s[l[y]]=x(l[y],i[f].symbolObject,i[f])}}else s[v]=x(v,i[f].symbolObject,i[f])}for(var b in i=[],s)i.push(s[b])}function x(e,t,i){return R.G7n(),{symbol:e,symbolObject:t,periodicity:i.periodicity,interval:i.interval,timeUnit:i.timeUnit,setSpan:i.setSpan}}return i},t.ChartEngine.prototype.setDisplayDate=function(e){var a,n,r;if(!t.ChartEngine.isDailyInterval(this.layout.interval)){a=e.DT,R.S80(13);var s=R.j80(56,944);R.X7n(),n=a.getSeconds()*s+a.getMilliseconds(),i.Date&&this.displayZone&&(r=new i.Date(a.getTime(),this.displayZone),a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes()),a=new Date(a.getTime()+n)),e.displayDate=a}},t.ChartEngine.prototype.setDisplayDates=function(e){var i;if(e&&!t.ChartEngine.isDailyInterval(this.layout.interval))for(var a=0;a<e.length;a++)(i=e[a]).DT&&this.setDisplayDate(i)},t.ChartEngine.prototype.setTimeZone=function(e,t){var a,n,r,s,o;if(i.Date){for(var l in r=n=(a=new Date).getTimezoneOffset(),R.X7n(),s=n,e&&(this.dataZone=e),this.dataZone&&(r=new i.Date(a,this.dataZone).getTimezoneOffset()),t&&(this.displayZone=t),this.displayZone&&(s=new i.Date(a,this.displayZone).getTimezoneOffset()),R.W80(138),this.timeZoneOffset=R.l80(n,r,n,s),this.charts)o=this.charts[l],this.setDisplayDates(o.masterData);this.preferences.timeZone=t,this.changeOccurred("preferences"),this.createDataSet()}else this.timeZoneOffset=0},t.ChartEngine.prototype.updateChartData=function(e,i,a={}){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L=R;n="appendMasterDat",n+="a",i||(i=this.chart),r=this;var{layout:A}=this,{animationEntry:M,secondarySeries:P}=a;function O(){var n,s,o,l,h,c,d,u,p;if(t.Market&&i.market)if(n={market_tz:t.getFromNS(i,"market.market_def.market_tz",null)},"month"!=(s=A.interval)&&"week"!=s||(r.dontRoll||(s="day"),n=r.chart.market.market_def),o=new t.Market(n),L.G7n(),l={begin:F&&F.length?F[F.length-1].DT:e.DT,interval:s,periodicity:1,timeUnit:A.timeUnit},c=(h=o.newIterator(l)).next(),F){if(e.DT<c){for(L.S80(21),d=L.j80("0",611553184),p=h.previous(),u=e.DT,a.appending=!0;u<p&&d<1e3;)a.appending=!1,p=h.previous(),d++;e.DT=p,a.updating=!a.appending}else if(e.DT>=c){for(d=0,u=e.DT;u>c&&d<1e3;)e.DT=c,c=h.next(),d++;a.appending=!0}}else e.DT=new Date(+h.previous())}var{isValidNumber:_}=t,{masterData:F}=i;function H(){var t,a,n;if(t=null,a=0,F.length&&(t=r.getFirstLastDataRecord(F,P||i.defaultPlotField,!0))){if(e[e.length-1].DT<=t.DT)return;for(;a<e.length;a++){if(+e[a].DT==+t.DT){r.getFirstLastDataRecord([e[a]],P||i.defaultPlotField)&&(t=null);break}if(e[a].DT>t.DT)break}}n=e.slice(a),t&&n.unshift(P?t[P]:t),n=r.doCleanupGaps(n,i),t&&n.shift(),e=e.slice(0,a).concat(n)}function I(){r.createDataSet(null,null,a),r.draw({animationEntry:M}),r.updateChartAccessories(),L.G7n(),r.streamParameters.count=0,r.streamParameters.timeout=-1}if(s=!1,o=!1,a.noCleanupDates||this.doCleanupDates(e,A.interval),(a.useAsLastSale||e.constructor==Object&&(e.Last||0===e.Last))&&U(),e&&e.constructor==Object&&(e=[e]),e&&e.length&&!this.runPrepend(n,[e,i,a])&&!this.runPrepend("updateChartData",[e,i,a])){F||(F=[]),L.W80(97);var q=L.l80(3,9,18);if(c=F.length-q,d=!1,a.fillGaps&&H(),e.length){for(var E=0;E<e.length;E++){for(u="[ob",u+="ject Da",u+="te",u+="]",m=(p=e[E]).DT,g=p.Date,m&&Object.prototype.toString.call(m)!=u&&(p.DT=m=new Date(m)),m&&(g&&17==g.length||(p.Date=t.yyyymmddhhmmssmmm(p.DT))),m||(m=p.DT=t.strToDateTime(g)),!_(p.Close)&&_(p.Value)&&(p.Close=p.Value);c>=0&&c<F.length;){if((f=F[c].DT)||(f=t.strToDateTime(F[c].Date)),f.getTime()<=m.getTime()){if(d=!0,L.S80(7),v=L.j80("0",0),f.getTime()<m.getTime()){if(c<F.length-1&&(F[c+1].DT||t.strToDateTime(F[c+1].Date)).getTime()<=m.getTime()){c++;continue}v=1}if(a.deleteItems){v||z(c,m);break}y="tic",y+="k",A.interval==y&&!1!==a.firstLoop&&(v=1),v||j(c,p),_(p.Close)&&(_(p.Open)||(p.Open=p.Close),b=Math.max(p.Open,p.Close),x=Math.min(p.Open,p.Close),(!_(p.High)||p.High<b)&&(p.High=b),(!_(p.Low)||p.Low>x)&&(p.Low=x)),p.Volume&&!_(p.Volume)&&(p.Volume=parseInt(p.Volume,10)),c+=v,P?(e.length-E<50&&this.updateCurrentMarketData(p,i,P,{fromTrade:!0,animationEntry:M}),"tick"==A.interval&&void 0===p.Close||(v&&(F.splice(c,0,{DT:p.DT}),this.setDisplayDate(F[c])),F[c][P]=p)):(e.length-E<50&&this.updateCurrentMarketData(p,i,null,{fromTrade:!0,animationEntry:M}),"tick"==A.interval&&void 0===p.Close||(F.splice(c,v?0:1,p),this.setDisplayDate(p)));break}c+=d?1:-1}c<0&&(P?(this.updateCurrentMarketData(p,i,P,{fromTrade:!0,animationEntry:M}),"tick"==A.interval&&void 0===p.Close||(F.splice(0,0,{DT:p.DT}),this.setDisplayDate(F[0]),F[0][P]=p)):(this.updateCurrentMarketData(p,i,null,{fromTrade:!0,animationEntry:M}),"tick"==A.interval&&void 0===p.Close||(F.splice(0,0,p),this.setDisplayDate(p))),d=!0,c=0)}F.length&&(this.masterData=i.masterData=F),this.maxMasterDataSize&&(F=i.masterData=this.masterData=F.slice(-this.maxMasterDataSize)),C=P?this.getSeries({symbol:P,chart:i}):[i];for(var V=0;V<C.length;V++)(!(S=C[V]).endPoints.begin||S.endPoints.begin>e[0].DT)&&(S.endPoints.begin=e[0].DT),(!S.endPoints.end||S.endPoints.end<e[e.length-1].DT)&&(S.endPoints.end=e[e.length-1].DT),T=S.parameters&&S.parameters.field||i.defaultPlotField,(D=this.getFirstLastDataRecord(e,T,!0))&&(!S.lastQuote||S.lastQuote.DT<=D.DT)&&(S.lastQuote=D),P&&a.deleteItems&&(S.lastQuote=this.getFirstLastDataRecord(F,P,!0)[P]);for(var N in this.plugins)(w=this.plugins[N]).display&&w.appendMasterData&&w.appendMasterData(this,e,i);this.masterData&&this.masterData.length||(this.masterData=F),a.noCreateDataSet||(++(k=this.streamParameters).count>k.maxTicks||a.bypassGovernor?(clearTimeout(k.timeout),I()):-1==k.timeout&&(k.timeout=setTimeout(I,k.maxWait))),this.runAppend("appendMasterData",arguments),this.runAppend("updateChartData",arguments)}}function j(e,t){var n,r,c;if(n=F[e],P&&(n=n[P]||{}),null===t.Close)void 0!==n.Open&&(t.Open=null),void 0!==n.High&&(t.High=null),void 0!==n.Low&&(t.Low=null),void 0!==n.Volume&&(t.Volume=null);else{if(r="C",r+="lo",r+="s",r+="e",s){if(t.Volume){c=2;for(var d=1;279417298!==L.g81(d.toString(),d.toString().length,63484);d++)t.Volume=parseInt(t.Volume,41),c+=2;-1168142632!==L.g81(c.toString(),c.toString().length,77108)&&(t.Volume=parseInt(t.Volume,10))}o||(t.Volume+=n.Volume)}else!_(t.Volume)&&n.Volume&&(t.Volume=n.Volume);for(l in a.allowReplaceOHL||(_(n.Open)&&(t.Open=n.Open),_(n.High)&&_(t.High)&&n.High>t.High&&(t.High=n.High),_(n.Low)&&_(t.Low)&&n.Low<t.Low&&(t.Low=n.Low)),[r,"Open","High","Low","Bid","Ask"].forEach((function(e){L.G7n(),_(t[e])||(t[e]=n[e])})),i.series)h=i.series[l].parameters.symbolObject.symbol,void 0===t[h]&&void 0!==n[h]&&(t[h]=n[h])}}function z(e,t){var a,n;if(L.X7n(),P)delete F[e][P],r.cleanupGaps&&(a={DT:t,Close:null},"gap"!=r.cleanupGaps&&F[e-1]&&F[e-1][P]&&(a.Close=F[e-1][P].Close,a.High=a.Low=a.Open=a.Close,a.Volume=0),F[e][P]=a);else{for(l in a={DT:(n=F.splice(e,1)[0]).DT,Close:null,needed:!1},i.series)void 0!==n[h=i.series[l].parameters.symbolObject.symbol]&&(a[h]=n[h],delete a.needed);r.cleanupGaps&&"gap"!=r.cleanupGaps&&(delete a.needed,"gap"!=r.cleanupGaps&&F[e-1]&&(a.Close=F[e-1].Close,a.High=a.Low=a.Open=a.Close,L.W80(46),a.Volume=L.l80(1,"0"))),!1!==a.needed&&(F.splice(e,0,a),r.setDisplayDate(a))}}function U(){var t,i,n,r;if(s=!0,a.useAsLastSale&&a.useAsLastSale.aggregatedVolume&&(o=!0),e.constructor===Array){L.W80(139);var l=L.l80(1,19,5,23);t=e[e.length-l],(e={}).DT=t.DT,e.Close=t.Close,e.Volume=t.Volume}else e.Last&&(e.Close=e.Last,delete e.Last);L.S80(26),i=L.j80("836365908",0),L.S80(45),n=-L.l80("552630789",547366917),r=2;for(var h=1;L.r81(h.toString(),h.toString().length,16445)!==i;h++)(e.DT||""!==Object.prototype.toString.call(e.DT))&&(e.DT=new Date(e.DT)),r+=2;L.g81(r.toString(),r.toString().length,36353)!==n&&(e.DT||""!==Object.prototype.toString.call(e.DT))&&(e.DT=new Date(e.DT)),e.DT&&"[object Date]"!=Object.prototype.toString.call(e.DT)&&(e.DT=new Date(e.DT)),e.DT&&"Invalid Date"!=e.DT||(e.DT=new Date),"tick"!=A.interval&&O(),e.Open=e.Close,e.High=e.Close,e.Low=e.Close}},t.ChartEngine.prototype.updateCurrentMarketData=function(e,i,a,n={}){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S=R;if(r="B",r+="i",r+="d",s="D",s+="T",e&&e.DT){i||(i=this.chart);var{fromTrade:T}=n;if(o=e.DT,!T&&"tick"!=this.layout.interval&&i.market){if(i.market.market_def){if(!i.market.isMarketDate(e.DT))return;if(!t.ChartEngine.isDailyInterval(this.layout.interval)&&null===i.market.getSession(e.DT))return}l={begin:e.DT,interval:this.layout.interval,periodicity:this.layout.periodicity,timeUnit:this.layout.timeUnit},h=new t.Market(i.market.market_def),this.extendedHours&&this.extendedHours.filter&&h.enableAllAvailableSessions(),(c=h.newIterator(l)).next(),e.DT=c.previous()}if(!this.runPrepend("updateCurrentMarketData",arguments)){d=T?s:"Timestamp";var{currentMarketData:D}=i;u=-1942744227,p=747995790,S.W80(21),m=S.l80("2",384407648);for(var w=1;S.g81(w.toString(),w.toString().length,34559)!==u;w++)g=!0,m+=2;if(S.r81(m.toString(),m.toString().length,65222)!==p&&(g=!1),a&&(D[a]||(D[a]={}),D=D[a]),["Last",r,"Ask"].forEach((function(t){var i;e[t]&&"number"==typeof e[t]&&(!(i=D[t])||!i[d]||i[d]<=(T?e.DT:o))&&(D[t]={DT:e.DT,Price:e[t],Size:e[t+"Size"],Timestamp:o},g=!0)})),["BidL2","AskL2"].forEach((function(t){var i;e[t]&&e[t]instanceof Array&&(!(i=D[t])||!i[d]||i[d]<=(T?e.DT:o))&&(D[t]={DT:e.DT,Price_Size:e[t],Timestamp:o},g=!0)})),e.Close&&(!D.Last||D.Last.Timestamp<=(e.LastTime||o))&&(f=e.Close,((v=n&&n.finalClose)||0===v)&&(f=v),D.Last={DT:e.DT,Price:f,Size:void 0===e.LastSize&&"tick"==this.layout.interval?e.Volume:e.LastSize,Timestamp:e.LastTime||o},g=!0),g&&!n.animationEntry){y=-180990247,S.S80(45),b=-S.l80("175696308",138953008),x=2;for(var k=1;S.g81(k.toString(),k.toString().length,52781)!==y;k++)C=new Date,x+=2;S.r81(x.toString(),x.toString().length,18469)!==b&&(C=new Date),C=new Date,clearTimeout(D.assignLastTouchAsync),D.assignLastTouchAsync=setTimeout((()=>{D.touched=C}))}T||delete e.Last,this.runAppend("updateCurrentMarketData",arguments)}}},t.ChartEngine.prototype.clearCurrentMarketData=function(e,t){var i,a,n,r;if(i="clea",i+="r",i+="CurrentMar",i+="ketData",!this.runPrepend(i,arguments)){if(n=[],e)n.push(e);else for(a in this.charts)n.push(this.charts[a]);for(a=0;a<n.length;a++)if(r=n[a].currentMarketData,t)delete r[t];else for(var s in r)r[s]=void 0;this.runAppend("clearCurrentMarketData",arguments)}}},w=e=>{var t;(t=e.CIQ).ChartEngine.prototype.changeOccurred=function(e){var t;t={stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout,drawings:this.drawingObjects},"theme"==e&&this.dispatch("theme",t),this.currentlyImporting||("layout"==e?this.dispatch("layout",t):"vector"==e?this.dispatch("drawing",t):"preferences"==e&&this.dispatch("preferences",t))},t.ChartEngine.prototype.startAsyncAction=function(){this.pendingAsyncs||(this.pendingAsyncs=[]),this.pendingAsyncs.push(!0)},t.ChartEngine.prototype.registerChartDrawnCallback=function(e){return this.asyncCallbacks||(this.asyncCallbacks=[]),R.X7n(),this.asyncCallbacks.push(e),{fc:e}},t.ChartEngine.prototype.unregisterChartDrawnCallback=function(e){R.G7n();for(var t=0;t<this.asyncCallbacks.length;t++)if(this.asyncCallbacks[t]==e.fc)return void this.asyncCallbacks.splice(t,1)},t.ChartEngine.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(!this.pendingAsyncs||!this.pendingAsyncs.length))for(var e=0;e<this.asyncCallbacks.length;e++)this.asyncCallbacks[e]()},t.ChartEngine.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},t.ChartEngine.prototype.addDomEventListener=function(e,t,i,a){e.addEventListener(t,i,a),this.eventListeners.push({element:e,event:t,function:i,options:a})},t.ChartEngine.prototype.addEventListener=function(e,t){var i;if(R.G7n(),"*"===e)for(var a in this.callbackListeners)this.callbackListeners[a].push(t);else if(e instanceof Array)for(var n=0;n<e.length;n++)this.callbackListeners[e[n]].push(t);else{if(!(i=this.callbackListeners[e]))throw new Error("Attempted to add an invalid listener.");i.push(t)}return{type:e,cb:t}},t.ChartEngine.prototype.removeEventListener=function(e,t){var i,a;if(e&&"object"==typeof e||(e={type:e,cb:t}),R.X7n(),i=function(e,t){R.X7n();for(var i=0;i<e.length;i++)if(e[i]===t)return void e.splice(i,1)},a=this.callbackListeners,"*"!==e.type){if(!a[e.type])throw new Error("Attempted to remove an invalid listener.");i(a[e.type],e.cb)}else for(var n in a)i(a[n],e.cb)},R.X7n(),t.ChartEngine.prototype.dispatch=function(e,t){var i;if(i=this.callbackListeners[e],R.X7n(),i)for(var a=0;a<i.length;a++)if(!0===i[a].call(this,t))return!0;if(i=this.callbackListeners["*"])for(var n=0;n<i.length;n++)if(!0===i[n].call(this,t))return!0;return!1},t.ChartEngine.prototype.updateListeners=function(e){var t;for(var i in R.X7n(),this.plugins)(t=this.plugins[i]).display&&t.listener&&t.listener(this,e)}},k=e=>{var t;(t=e.CIQ).ChartEngine.prototype.prepend=function(e,i){var a,n;return R.W80(13),a=R.j80("prepend",e),this instanceof t.ChartEngine?(n=this.hasOwnProperty(a)?this[a]:[],this[a]=[i].concat(n)):(n=t.ChartEngine.prototype[a]||[],t.ChartEngine.prototype[a]=[i].concat(n)),{method:a,func:i}},t.ChartEngine.prototype.append=function(e,i){var a,n;return R.S80(13),a=R.j80("append",e),this instanceof t.ChartEngine?(n=this.hasOwnProperty(a)?this[a]:[],this[a]=n.concat(i)):(n=t.ChartEngine.prototype[a]||[],t.ChartEngine.prototype[a]=n.concat(i)),{method:a,func:i}},t.ChartEngine.prototype.runPrepend=function(e,i,a){var n,r,s;if(R.W80(13),n=R.j80("prepend",e),r=this.hasOwnProperty(n)?this[n]:[],R.X7n(),!(r=r.concat(t.ChartEngine.prototype[n]||[])).length)return!1;a||(a=this);for(var o=0;o<r.length;o++)if(s=r[o].apply(a,i))return s;return!1},t.ChartEngine.prototype.runAppend=function(e,i,a){var n,r,s;if(R.W80(13),n=R.j80("append",e),!(r=(r=this.hasOwnProperty(n)?this[n]:[]).concat(t.ChartEngine.prototype[n]||[])).length)return!1;a||(a=this);for(var o=0;o<r.length;o++)if(s=r[o].apply(a,i))return s;return!1},t.ChartEngine.prototype.removeInjection=function(e){var i,a;if(R.G7n(),i=e.method,this instanceof t.ChartEngine){if(!this[i])return;for(a=0;a<this[i].length;a++)if(this[i][a]==e.func)return void this[i].splice(a,1)}else{if(!t.ChartEngine.prototype[i])return;for(a=0;a<t.ChartEngine.prototype[i].length;a++)if(t.ChartEngine.prototype[i][a]==e.func)return void t.ChartEngine.prototype[i].splice(a,1)}},t.ChartEngine.prototype.remove=function(e){var i=R;this instanceof t.ChartEngine?(i.S80(13),delete this[i.j80("append",e)],i.W80(13),delete this[i.j80("prepend",e)]):(i.S80(13),delete t.ChartEngine.prototype[i.j80("append",e)],i.S80(13),delete t.ChartEngine.prototype[i.l80("prepend",e)])}},L=e=>{var t,i;t=e.CIQ,i=e.timezoneJS,t.ChartEngine.prototype.convertToDataZone=function(e){var i;return(e||0===e)&&this.dataZone&&(i=t.convertTimeZone(e,null,this.dataZone),e=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),e},t.ChartEngine.prototype.debug=function(){},t.ChartEngine.prototype.fps=function(e,i){var a,n,r;e=e||5,a=(new Date).getTime(),n=0,r=this,R.W80(33),console.log(R.j80("Running fps() for ",e," seconds")),function s(){var o,l,h=R;h.S80(64);var c=h.l80(18,203286291,31);if((o=((new Date).getTime()-a)/("1000">>c))>e)return h.S80(35),l=h.j80(o,n),h.W80(13),console.log(h.j80("FPS=",l)),void(i&&i(l));h.G7n(),r.draw(),n++,t.ChartEngine.useAnimation?requestAnimationFrame(s):setTimeout(s,0)}()},t.ChartEngine.htmlControls={mSticky:'<div class="stx_sticky"> <span class="mStickyInterior"></span></div>',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div></div>'},t.ChartEngine.prototype.setChartType=function(e){var t,i;if(R.X7n(),t=this.layout,i=this.chart,"ohlc"!=t.aggregationType&&(t.aggregationType="ohlc",i.canvas&&this.createDataSet()),t.chartType=e,this.setMainSeriesRenderer(),this.mainSeriesRenderer.isAggregation&&this.setAggregationType)return this.setAggregationType(e);i.defaultChartStyleConfig={type:e},this.displayInitialized&&this.draw(),this.changeOccurred("layout")},t.ChartEngine.prototype.setChartScale=function(e){R.G7n(),e||(e="linear"),this.layout.chartScale=e,this.chart.canvas&&this.draw(),this.changeOccurred("layout")},t.ChartEngine.prototype.checkLogScale=function(){var e,t;if(e="che",e+="ck",e+="LogSc",e+="ale",!this.runPrepend(e,arguments))return"log"===this.layout.chartScale&&(t=!1,this.chart.yAxis.lowValue<=0&&(this.setChartScale("linear"),this.dispatch("notification","logdeactivated"),t=!0),this.runAppend("checkLogScale",arguments),t)},t.ChartEngine.prototype.setAdjusted=function(e){this.layout.adj=e,this.chart.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},t.ChartEngine.prototype.padOutPrice=function(e,t){var i,a,n,r,s,o=R;if(0!==e&&(!e||"number"!=typeof e))return"";if(t||0===t||(t=e),o.S80(13),a=0,(i=o.j80("",t)).indexOf(".")>-1){o.S80(2);var l=o.l80(7,16,22);a=i.substring(i.indexOf(".")).length-l}if(a=t>=1e3?Math.max(a,0):t<2?Math.max(a,4):Math.max(a,2),n=this.internationalizer,o.G7n(),n)a>=(r=n.priceFormatters.length)&&(o.S80(7),a=o.j80(r,1)),e=n.priceFormatters[a].format(e);else{s=2;for(var h=1;-156212359!==o.g81(h.toString(),h.toString().length,76818);h++)e=e.toFixed(a),s+=2;360041592!==o.r81(s.toString(),s.toString().length,7710)&&(e=e.toFixed(a)),e=e.toFixed(a)}return e},t.ChartEngine.prototype.formatPrice=function(e,t){var i,a,n;return 0===e||e&&void 0!==e?(t||(t=this.currentPanel),t||(t=this.chart.panel),t?((i=t.decimalPlaces)||0===i||(i=t.chart.decimalPlaces),i||0===i?((a=this.internationalizer)?(i>=(n=a.priceFormatters.length)&&(R.W80(7),i=R.l80(n,1)),e=a.priceFormatters[i].format(e)):e=e.toFixed(i),e):e.toString()):e.toString()):""},t.ChartEngine.prototype.determineMinMax=function(e,i,a,n,r,s,o,l,h){var c,d,u,p,m,g,f,v,y,b,x;R.S80(1);var C=R.j80(8,7);c=Number.MAX_VALUE*C,d=Number.MAX_VALUE,u=!1,p=e.length,h||(h=[]),m=[],r&&(p=r);for(var S=0;S<=p+1;S++)if(i.length&&(g=S==p?this.getPreviousBar(this.chart,i[0],0):S==p+1?this.getNextBar(this.chart,i[0],p-1):e[S]),g){if(!n)if(g.transform)u=!0,g=g.transform;else if(u)continue;f=0;for(var T=0;T<i.length;T++)if(v=t.existsInObjectChain(g,i[T])){"number"==typeof(y=v.obj[v.member])&&(y=[y]);for(var D=0;D<y.length;D++)b=y[D],s&&b instanceof Array&&(b=b[0]),(b||0===b)&&(!0===a||a instanceof Array&&a.indexOf(i[T])>-1?((f+=b)>c&&(c=f),f<d&&(d=f)):(b>c&&(c=b),b<d&&(d=b),m.push({value:b,quote:g})))}(!0===a||a instanceof Array&&a.indexOf(i[T])>-1)&&m.push({value:f,quote:g})}return x=[d,c],h.forEach((function(e){R.X7n(),x=e(m,o,l)||x})),x[1]==-1*Number.MAX_VALUE&&(x[1]=0),x[0]==Number.MAX_VALUE&&(x[0]=0),x},t.ChartEngine.prototype.initializeDisplay=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v=R;function y(i,h){var c,d,u,p,m,g,f,b,x;if(v.G7n(),c=!1,(d=s.layout&&s.layout.studies&&s.layout.studies[i.name])&&(!h||h.name==d.panel)){for(var S in d.outputMap)a.push(S),d.study&&(d.study.renderer?a=a.concat(t.createObjectChainNames(S,o)):d.study.seriesFN||(a=a.concat(t.createObjectChainNames(S,l))));for(var T=0;T<=2;T++)a.push(d.name+"_hist"+(T||""));c=!0}if(h){for(var D in i.studies=[],i.renderers=[],c&&i.studies.push(i.name),C)if(m=(p=(u=C[D]).params).panel,(p.yAxis||!s.panels[m]||s.panels[m].yAxis)==i&&m==h.name){g=u.highLowBars?o:l,r=u.bounded;for(var w=0;w<u.seriesParams.length;w++)(f=u.seriesParams[w]).hidden||(v.W80(4),b=void v.j80(2147483647,"0"),f.subField?b=t.createObjectChainNames(f.symbol,[f.subField]).concat(f.symbol):f.symbol?b=t.createObjectChainNames(f.symbol,g).concat(f.symbol):f.field?b=f.field:i==e.panel.yAxis&&(b=g),b&&(a=a.concat(b)),u.useSum&&(n=n.concat(b)));i.renderers.push(D)}for(var k in s.overlays)(x=s.overlays[k]).panel==h.name&&x.name!=i.name&&x.getYAxis(s)==i&&(i.studies.push(x.name),e.includeOverlaysInMinMax&&y({name:x.name}))}}if(i="C",i+="los",i+="e",!this.runPrepend("initializeDisplay",arguments)){a=[],n=[],r=!1,s=this,o=["Close","Open","High","Low"],l=[e.defaultPlotField||i];var{mainSeriesRenderer:b}=this,{dataSegment:x,seriesRenderers:C}=e;if(c=null,v.G7n(),d=Math.floor((e.width-this.micropixels)/this.layout.candleWidth),e.scroll>e.maxTicks&&e.maxTicks>d+1){v.S80(140);var S=v.l80(15,13,351,0,12);c=x.length-S}for(var T in u=[],this.panels){u=(p=this.panels[T]).yaxisLHS.concat(p.yaxisRHS);for(var D=0;D<u.length;D++)m=u[D],a=[],n=[],g=e.transformFunc&&m==e.panel.yAxis,y(m,p),this.currentlyImporting||m.renderers.length||m.studies.length?(h=b&&b.determineMax?b.determineMax(x,a,n,!g,c,r,p,m):this.determineMinMax(x,a,n,!g,c,r,p,m),this.baselineHelper&&(h=this.setBaselineMinMax(h,m)),m.lowValue=h[0],m.highValue=h[1],m==e.panel.yAxis&&(e.lowValue=m.lowValue,e.highValue=m.highValue)):this.deleteYAxisIfUnused(p,m)}if((f=e.state.aggregation)&&f.box){v.W80(7);var w=v.l80(38,36);e.lowValue-=f.box/w,v.S80(2);var k=v.l80(20,7,25);e.highValue+=f.box/k}this.runAppend("initializeDisplay",arguments)}},t.ChartEngine.prototype.setMarket=function(e,i){if(t.Market)for(var a in i||(i=this.chart),R.G7n(),i.market=new t.Market(e),this.layout.marketSessions)i.market.disableSession(a,this.layout.marketSessions[a])},t.ChartEngine.prototype.setMarketFactory=function(e){this.marketFactory=e},t.ChartEngine.prototype.setResizeTimer=function(e){var i;R.X7n(),this.resizeDetectMS=e,this.resizeHandle=t.resizeObserver(this.chart.container,(i=this,function(){i.chart.canvas&&(R.X7n(),t.isAndroid||i.chart.canvas.height==Math.floor(i.devicePixelRatio*i.chart.container.clientHeight)&&i.chart.canvas.width==Math.floor(i.devicePixelRatio*i.chart.container.clientWidth)||i.resizeChart())}),this.resizeHandle,e)},t.ChartEngine.prototype.getRenderedItems=function(){var e,i,a,n,r,s,o,l;if(e=this.chart,i=this.currentPanel){for(var h in a=["Open","High","Low","Close"],n=["Close"],r=[],R.X7n(),this.overlays)this.overlays[h].panel===i.name&&(r=r.concat(Object.keys(this.overlays[h].outputMap)));for(var c in e.seriesRenderers)if((s=e.seriesRenderers[c]).params.panel==i.name)for(var d in s.seriesParams)o=s.seriesParams[d],l=s.highLowBars?a:n,o.subField?r=r.concat(t.createObjectChainNames(o.symbol,[o.subField])).concat(o.symbol):o.symbol?r=r.concat(t.createObjectChainNames(o.symbol,l)).concat(o.symbol):o.field?r.push(o.field):i==e.panel&&(r=r.concat(l));return r}},t.ChartEngine.prototype.setTransform=function(e,t,i){e.transformFunc=t,R.X7n(),e.untransformFunc=i},t.ChartEngine.prototype.unsetTransform=function(e){delete e.transformFunc,delete e.untransformFunc;for(var t=0;e.dataSet&&t<e.dataSet.length;t++)e.dataSet[t].transform=null},t.ChartEngine.prototype.isEquationChart=function(e){return e&&"="==e[0]?!(!this.allowEquations||!t.fetchEquationChart)||(console.warn("Error, equation chart option requires equationsAdvanced.js"),!1):(R.G7n(),!1)},t.ChartEngine.prototype.correctIfOffEdge=function(e){var t,i,a,n,r,s,o,l,h,c=R;if(!this.runPrepend("correctIfOffEdge",arguments)){for(var d in c.X7n(),this.charts){if(i=(t=this.charts[d]).dataSet,a=t.maxTicks,n=this.layout,r=this.minimumLeftBars,s=Math.min(r,a),t.allowScrollPast){if(c.W80(7),o=c.l80(a,s),s>i.length&&(o=a-i.length),t.scroll-o>=i.length){c.S80(141);var u=c.l80(14,3,18);t.scroll=i.length+o-u,this.micropixels=0}t.scroll<=s&&(t.scroll=s,c.W80(34),this.micropixels=c.j80(2052888256,"0"))}else t.scroll<s&&(t.scroll=s),t.scroll>i.length&&(t.scroll=i.length);if(!1===t.allowScrollFuture){l=this.getLabelOffsetInPixels(t,n.chartType)+n.candleWidth*t.whiteSpaceFutureTicks,c.W80(100);var p=c.j80(11,0,13,144);h=a-Math.round(l/n.candleWidth)-p,(this.micropixels<0?t.scroll-1:t.scroll)<h&&(t.scroll=h,this.micropixels=0)}}this.runAppend("correctIfOffEdge",arguments)}},t.ChartEngine.prototype.getStartDateOffset=function(){for(var e=0;e<this.chart.dataSegment.length;e++)if(this.chart.dataSegment[e])return e;return 0},t.ChartEngine.prototype.setStartDate=function(e){R.G7n();for(var t=0;t<this.chart.dataSet.length;t++)if(this.chart.dataSet[t].DT.getTime()==e.getTime())return this.chart.scroll=this.chart.dataSet.length-t,void this.draw()},t.ChartEngine.prototype.clearPixelCache=function(){var e;for(var t in this.panels)(e=this.panels[t]).cacheHigh=null,e.cacheLow=null,e.cacheLeft=1e6,e.cacheRight=-1;this.chart.pixelCacheExpired=!0},t.ChartEngine.prototype.adjustBackingStore=function(e,i){var a,n,r,s,o=R;if(this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),a=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,n=this.devicePixelRatio/a,!this.useBackingStore)return this.devicePixelRatio=this.adjustedDisplayPixelRatio=1,void(e.style.width=e.style.height="");(!t.isAndroid||t.is_chrome||t.isFF)&&(r=e.width,s=e.height,o.W80(46),e.width=o.l80(n,r),o.W80(46),e.height=o.l80(n,s),o.S80(13),e.style.width=o.l80(r,"px"),o.S80(13),e.style.height=o.j80(s,"px"),i.scale(n,n),this.adjustedDisplayPixelRatio=n,this.backing={ratio:n,width:e.width,height:e.height,styleWidth:r,styleHeight:s})},t.ChartEngine.prototype.reconstituteBackingStore=function(){var e,t;this.useBackingStore&&this.backing&&(e=[this.chart.canvas],this.useBackgroundCanvas&&e.push(this.chart.backgroundCanvas),t=this.backing,e.forEach((function(e){e.width!=t.width&&(e.width=t.width,R.G7n(),e.height=t.height,e.context.scale(t.ratio,t.ratio))})),R.G7n(),this.adjustedDisplayPixelRatio=t.ratio,this.draw())},t.ChartEngine.prototype.disableBackingStore=function(){var e,t;R.G7n(),this.useBackingStore&&this.backing&&(e=[this.chart.canvas],this.useBackgroundCanvas&&e.push(this.chart.backgroundCanvas),t=this.backing,e.forEach((function(e){e.width!=t.styleWidth&&(e.width=t.styleWidth,e.height=t.styleHeight,R.G7n(),e.context.scale(1,1))})),this.adjustedDisplayPixelRatio=1,this.draw())},t.ChartEngine.prototype.getBackgroundCanvas=function(e){return e||(e=this.chart),this.useBackgroundCanvas?e.backgroundCanvas:e.canvas},t.ChartEngine.prototype.resizeCanvas=function(){var e,t,i,a,n,r,s,o;for(var l in R.X7n(),e=this.chart.canvas,t=this.chart.context,e&&t&&(this.floatCanvas.height=this.chart.tempCanvas.height=this.chart.backgroundCanvas.height=e.height=this.chart.container.clientHeight,this.floatCanvas.width=this.chart.tempCanvas.width=this.chart.backgroundCanvas.width=e.width=this.chart.container.clientWidth,this.adjustBackingStore(e,t),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context),this.adjustBackingStore(this.chart.backgroundCanvas,this.chart.backgroundCanvas.context)),i=this.container.getBoundingClientRect(),this.top=i.top,this.left=i.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,0===this.width&&!this.container.dimensionlessCanvas&&this.container.closest("html")&&console.log("warning: zero width chart. Check CSS for chart container."),this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height,void 0===(a=this.layout.candleWidth)&&(a=8),this.charts){n=this.charts[l],this.setCandleWidth(a,n),n.scroll<n.width/a&&(n.scroll=Math.floor(n.width/a),r=Math.round(this.preferences.whitespace/this.layout.candleWidth),n.scroll-=r),s=10;try{R.W80(142);var h=R.l80(19,19,6,1,5);o=t.measureText("10:00").width*h}catch(e){o=100}for(;s>1&&!(this.chart.width/o>s);)s/=1.5;n.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/s),n.xAxis.autoComputedTickSizePixels<1&&(n.xAxis.autoComputedTickSizePixels=1)}},t.ChartEngine.prototype.setCandleWidth=function(e,t){t||(t=this.chart),e=this.constrainCandleWidth(e),this.layout.candleWidth=e,R.S80(131);var i=R.j80(19,10,8);R.X7n(),t.maxTicks=Math.round(t.width/e)+i},t.ChartEngine.prototype.constrainCandleWidth=function(e){var t,i,a;return t=this.minimumCandleWidth,i=this.maximumCandleWidth,a=this.animations.zoom,t&&e<t&&(e=t,a&&a.running&&a.stop()),i&&e>i&&(e=i,a&&a.running&&a.stop()),e},t.ChartEngine.prototype.resizeChart=function(e){var t;this.runPrepend("resizeChart",arguments)||(!1!==e&&(e=!0),e&&this.preAdjustScroll(),R.G7n(),t=this.chart.canvasHeight,this.resizeCanvas(),e&&this.postAdjustScroll(),(this.displayInitialized||0!==this.chart.canvasHeight&&0===t)&&(this.adjustPanelPositions(),this.draw()),this.doDisplayCrosshairs(),this.updateChartAccessories(),this.runAppend("resizeChart",arguments))},t.ChartEngine.prototype.clear=function(){var e;for(var i in this.displayInitialized=!1,R.G7n(),this.layout.studies)e=this.layout.studies[i],t.getFn("Studies.removeStudy")(this,e);this.controls.chartControls&&(this.controls.chartControls.style.display="none"),this.chart.panel.title.innerHTML="",this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display))},t.ChartEngine.prototype.fillScreen=function(){var e,t,i,a,n;e=this.chart,t=this.layout.candleWidth,i=e.width-this.preferences.whitespace,(a=e.dataSet.length)*t>=i?this.draw():(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||a--,R.W80(35),n=R.j80(a,i),this.setCandleWidth(n,e),this.home({maintainWhitespace:!0}))},t.ChartEngine.prototype.setMaxTicks=function(e,t){var i,a,n;R.X7n(),t||(t={}),(e=Math.round(e))<2&&(e=2),i=t.padding?t.padding:0,n=((a=this.chart).width-i)/(e-1)||8,this.setCandleWidth(n,a),(t.padding||0===t.padding)&&(a.scroll=e)},t.ChartEngine.prototype.initializeChart=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A=R;if(i="initial",i+="iz",i+="eChart",!this.runPrepend("initializeChart",arguments)){for(var M in(a=this.chart).symbolObject.symbol||(a.symbolObject.symbol=a.symbol),this.locale&&this.setLocale(this.locale),!this.displayZone&&t.ChartEngine.defaultDisplayTimeZone&&this.setTimeZone(null,t.ChartEngine.defaultDisplayTimeZone),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.micropixels=0,e?a.container=e:e=a.container,e.stx=this,e.CIQRegistered||(e.CIQRegistered=!0,t.ChartEngine.registeredContainers.push(e)),this.registerHTMLElements&&this.registerHTMLElements(),n=a.canvas,r=a.backgroundCanvas,s=a.tempCanvas,o=this.floatCanvas,l=a.canvasShim,this.setCandleWidth(this.layout.candleWidth),a.backgroundCanvas||(h="c",h+="a",h+="nva",h+="s",c="ca",c+="nvas",r=a.backgroundCanvas=document.createElement(c),e.appendChild(r),I(r),(l=a.canvasShim=document.createElement("div")).className="stx-canvas-shim",e.appendChild(l),n=a.canvas=document.createElement("canvas"),e.appendChild(n),I(n),a.context=n.context,s=a.tempCanvas=document.createElement(h),e.appendChild(s),I(s,!0),o=this.floatCanvas=document.createElement("canvas"),e.appendChild(o),I(o,!0)),this.resizeCanvas(),t.isAndroid&&(d=function(e){e.preventDefault&&e.preventDefault()},s.addEventListener("touchstart",d,{passive:!1}),o.addEventListener("touchstart",d,{passive:!1})),u=this.panels,a.panel.display=a.symbol,a.symbolDisplay&&(a.panel.display=a.symbolDisplay),this.adjustPanelPositions(),a.panel=u[a.name],u){p=u[M].yaxisLHS.concat(u[M].yaxisRHS);for(var P=0;P<p.length;P++)p[P].height=u[M].yAxis.height,this.calculateYAxisMargins(p[P])}if(this.initialWhitespace=this.preferences.whitespace,a.dataSet&&a.dataSet.length>0&&(a.scroll=Math.floor(a.width/this.layout.candleWidth),m=Math.round(this.preferences.whitespace/this.layout.candleWidth),a.scroll-=m),t.touchDevice&&(g=".vect",g+="orTrashCan",f=e.querySelector(".overlayEdit"),v=e.querySelector(".overlayTrashCan"),y=e.querySelector(g),b=function(e,t,i){return A.X7n(),function(a){A.G7n(),e.deleteHighlighted(t,i)}},f?(t.safeClickTouch(f,b(this,!0,!0)),v&&t.safeClickTouch(v,b(this,!1))):v&&t.safeClickTouch(v,b(this,!0)),y)){x=-1985716821,C=472191161,A.W80(26),S=A.l80("2",0);for(var O=1;A.g81(O.toString(),O.toString().length,26409)!==x;O++)t.safeClickTouch(y,b(this,!0)),S+=2;A.g81(S.toString(),S.toString().length,9067)!==C&&t.safeClickTouch(y,b(this,!1))}var _;for(var F in this.manageTouchAndMouse&&this.registerTouchAndMouseEvents(),this.handleMouseOut&&(e.onmouseout=(_=this,function(e){_.handleMouseOut(e)}),t.smartHover()),this.abortDrawings&&this.abortDrawings(),this.undoStamps=[],u)(T=u[F]).markerHolder&&(e.removeChild(T.markerHolder),T.markerHolder=null);for(var H in this.plugins)(D=this.plugins[H]).display&&D.initializeChart&&D.initializeChart(this);this.resizeListenerInitialized||(w="re",w+="s",w+="iz",w+="e",k=this,this.resizeListenerInitialized=!0,L=function(){return function(e){A.X7n(),k.resizeChart()}},this.addDomEventListener(window,w,L(),!0)),a.baseline.userLevel&&(a.baseline.userLevel=null),this.setResizeTimer(this.resizeDetectMS),this.runAppend(i,arguments)}function I(e,t){var i;e.context=e.getContext("2d"),e.context.lineWidth=1,(i=e.style).position="absolute",i.left="0px",t&&(i.display="none")}},t.ChartEngine.prototype.destroy=function(){var e,i,a,n;this.setResizeTimer(0),this.detachQuoteFeed(),this.styles={};for(var r=0;r<this.eventListeners.length;r++)(e=this.eventListeners[r]).element.removeEventListener(e.event,e.function,e.options);this.touchAndMouseEventsRegistered=!1,this.eventListeners=[],this.streamParameters.timeout&&clearTimeout(this.streamParameters.timeout),(a=(i=t.ChartEngine.registeredContainers).indexOf(this.chart.container))>-1&&(R.S80(4),i.splice(a,R.l80(2147483647,"1"))),R.G7n(),this.slider&&(n=i.indexOf(this.slider.slider.chart.container))>-1&&i.splice(n,1)},t.ChartEngine.prototype.preAdjustScroll=function(e){e||(e=this.chart),this.previousAdjust={chart:e,scroll:e.scroll,maxTicks:e.maxTicks}},t.ChartEngine.prototype.postAdjustScroll=function(){var e;this.previousAdjust&&((e=this.previousAdjust.chart).scroll=this.previousAdjust.scroll+(e.maxTicks-this.previousAdjust.maxTicks),this.displayInitialized&&this.draw())},t.ChartEngine.prototype.translateIf=function(e){return R.X7n(),this.translationCallback?this.translationCallback(e):e},t.ChartEngine.prototype.doCleanupDates=function(e,a){var n,r,s,o,l,h=R;if(e&&e.length){h.X7n();for(var c=0;c<e.length;c++)if((r=(n=e[c]).DT)||n.Date){if(n.DT&&"[object String]"==Object.prototype.toString.call(r)&&r.length<=10)(r=new Date(r)).setMinutes(r.getMinutes()+r.getTimezoneOffset());else{if(s=!0,n.DT||(r=t.strToDateTime(n.Date),n.Date.length<=10&&(s=!1)),"[object Date]"!=Object.prototype.toString.call(r)&&(r=new Date(r)),i.Date&&this.dataZone&&s){o=new i.Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),this.dataZone),h.W80(43);var d=h.l80(6,11e3,1100,996);l=r.getSeconds()*d+r.getMilliseconds(),r=new Date(o.getTime()+l)}t.ChartEngine.isDailyInterval(a)&&(h.S80(46),r.setHours(h.j80(1,"0"),0,0,0))}n.DT||(n.Date=t.yyyymmddhhmmssmmm(r)),n.DT=r}}},t.ChartEngine.prototype.doCleanupGaps=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f;if(!e||!e.length)return e;if(n=this.layout.interval,a=a||{},i||(i=this.chart),R.G7n(),!t.Market||!i.market)return e;if(a.noCleanupDates||this.doCleanupDates(e,n),!1===(r=a.cleanupGaps))return e;if(r&&!0!==r||(r=this.cleanupGaps||r),R.S80(116),s=R.l80("gap",r),!r)return e;function v(e,i){var n,r,o;(n=a.field)?void 0!==e[n]&&void 0===i[n]&&(i[n]=s?null:e[n]):s||(r=e[p],o=i[p],void 0!==r&&void 0===o&&t.ensureDefaults(i,{Close:r,Open:r,High:r,Low:r,Volume:0,Adj_Close:e.Adj_Close}))}if("tick"==n)return e;if("month"==n||"week"==n){if(this.dontRoll)return e;n="day"}function y(e,i){var n,r,o,c,d;for(void 0===(r=(n=a.field)?h[n]:h)&&(r={}),o=s?null:r[p],c=s?null:r.Adj_Close;+e<+i;)d={DT:e},n||(l.push(d),t.extend(d,{Open:o,High:o,Low:o,Close:o,Volume:0,Adj_Close:c})),e=u.next()}o=function(e){var i,a=R;if(e.DT)return"[object Date]"!=Object.prototype.toString.call(e.DT)?new Date(e.DT):new Date(+e.DT);a.S80(46),i=a.l80(1,"2");for(var n=1;2039311342!==a.r81(n.toString(),n.toString().length,2075);n++)return t.strToDateTime(e.Date);return 115360108!==a.g81(i.toString(),i.toString().length,76428)?t.strToDateTime(e.Date):void 0},l=[],h=e[0],l.push(h),c={begin:o(h),interval:n,periodicity:1,timeUnit:this.layout.timeUnit},d=new t.Market(i.market.market_def),u=d.newIterator(c),this.extendedHours&&this.extendedHours.filter&&u.market.enableAllAvailableSessions(),p=i.defaultPlotField;for(var b=0;b<e.length&&void 0===e[b][p];b++)if(void 0!==e[b].Value){p="Value";break}for(var x=1;x<e.length;x++){for(g=e[x],(m=u.next())<(f=o(g))&&(y(m,f),m=u.market._convertFromMarketTZ(u.begin,u.outZone));f<m;){if(++x==e.length)return l;v(h,g),l.push(g),h=g,f=o(g=e[x])}m<f?(x--,m=u.previous()):(v(h,g),l.push(g),h=g)}return l},t.ChartEngine.prototype.getCreatingLibrary=function(){return R.X7n(),e}},A=e=>{var t;(t=e.CIQ).ChartEngine.Panel=function(e,i){this.yAxis=i||new t.ChartEngine.YAxis,this.name=e,this.state={}},t.extend(t.ChartEngine.Panel.prototype,{name:null,display:null,chart:null,yAxis:null,shareChartXAxis:null,top:null,bottom:null,height:null,percent:null,displayEdgeIfPadded:!0,noDrag:!1,exportable:!0},!0),t.ChartEngine.prototype.whichPanel=function(e){var t;for(var i in this.panels)if(!(t=this.panels[i]).hidden&&e>=t.top&&e<t.bottom)return t;return null},t.ChartEngine.prototype.panelExists=function(e){for(var t in R.G7n(),this.panels)if(this.panels[t].name==e)return!0;return!1},t.ChartEngine.prototype.storePanels=function(){var e,t;for(var i in R.X7n(),this.layout||(this.layout={}),(e=this.layout).panels={},this.panels)t=this.panels[i],e.panels[t.name]={percent:t.percent,display:t.display,yAxis:t.yAxis}},t.ChartEngine.prototype.savePanels=function(e){this.storePanels(),!1!==e&&this.changeOccurred("layout")},t.ChartEngine.prototype.privateDeletePanel=function(e){var t,i;for(var a in this.layout.studies)(t=this.layout.studies[a]).panel==e.name&&this.cleanupRemovedStudy(t);for(var n in delete this.panels[e.name],this.overlays)this.overlays[n].panel==e.name&&(this.layout.studies&&this.cleanupRemovedStudy(this.layout.studies[n]),delete this.overlays[n]);for(var r in this.chart.series)this.chart.series[r].parameters.panel==e.name&&this.removeSeries(this.chart.series[r],this.chart);if(e.holder&&(this.chart.container.removeChild(e.holder),this.getMarkerArray)){i=this.getMarkerArray("panelName",e.name);for(var s=0;s<i.length;s++)this.removeFromHolder(i[s])}e.handle&&e.handle.remove(),this.currentPanel=null},t.ChartEngine.prototype.plotsInPanel=function(e){var t,i,a,n;for(var r in t=[],i=e,"object"==typeof e&&(i=e.name),this.layout.studies)i===(a=this.layout.studies[r]).panel&&t.push(a);for(var s in this.chart.seriesRenderers)i===(n=this.chart.seriesRenderers[s]).params.panel&&t.push(n);return t},t.ChartEngine.prototype.checkForEmptyPanel=function(e,t,i){var a,n;if(!e)return!1;if(a=e,"object"==typeof e&&(a=e.name),a===this.chart.name)return!1;i?i instanceof Array||(i=[i]):i=[],n=this.plotsInPanel(e);for(var r=0;r<n.length;r++)if(-1==i.indexOf(n[r]))return!1;return t||this.panelClose(this.panels[a]),!0},t.ChartEngine.prototype.panelClose=function(e){var i,a,n,r;if(e){i=-238121053,a=1637042951,R.X7n(),n=2;for(var s=1;R.r81(s.toString(),s.toString().length,14455)!==i;s++){if(this.runPrepend("panelClose",arguments))return;this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,e.soloing&&this.panelSolo(e),n+=2}if(R.g81(n.toString(),n.toString().length,46650)!==a){if(this.runPrepend("",arguments))return;this.cancelTouchSingleClick=!1,t.ChartEngine.drawingLine=!0,e.soloing&&this.panelSolo(e)}if(this.charts[e.name]){for(var o in this.panels)(r=this.panels[o]).chart.name==e.name&&this.privateDeletePanel(r);delete this.charts[e.name]}else this.privateDeletePanel(e);this.currentlyImporting||(this.showCrosshairs(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()),this.userPointerDown=this.grabbingScreen=!1,this.openDialog&&(this.openDialog=""),this.runAppend("panelClose",arguments)}},t.ChartEngine.prototype.deleteAllPanels=function(){var e;for(var t in this.panels)e=this.panels[t],this.privateDeletePanel(e);this.layout.panels={},R.G7n(),this.panels={}},t.ChartEngine.prototype.panelUp=function(e){var i,a,n,r;for(n in this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,R.G7n(),this.showCrosshairs(),i={},a=0,this.panels){if(n==e.name)break;a++}if(a){for(n in r=0,this.panels)r==a-1&&(i[e.name]=e),n!=e.name&&(i[n]=this.panels[n],r++);this.panels=i,this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.panelDown=function(e){var i,a,n,r,s,o=R;for(n in this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),i={},a=0,this.panels){if(n==e.name)break;a++}for(n in o.G7n(),o.W80(7),r=o.j80("0",0),this.panels)r++;if(a!=r-1){for(n in o.W80(4),s=o.l80(2147483647,"0"),this.panels)n!=e.name?(i[n]=this.panels[n],s==a+1&&(i[e.name]=e),s++):s++;this.panels=i,this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.panelSolo=function(e){var i,a,n;if(this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),i=!0,e.soloing){if(i=!1,e.soloing=!1,e.solo.classList.remove("stx_solo_lit"),e.percent=e.oldPercent,"chart"!=e.name)if(this.soloPanelToFullScreen){if(1==e.percent)for(a in this.panels)(n=this.panels[a])!=e&&(e.percent-=n.percent)}else this.chart.panel.percent=this.chart.panel.oldPercent;this.soloPanelToFullScreen&&(this.xAxisAsFooter=this.chart.panel.oldXAxisAsFooter)}else if(e.soloing=!0,e.solo.classList.add("stx_solo_lit"),e.oldPercent=e.percent,this.chart.panel.oldXAxisAsFooter=this.xAxisAsFooter,"chart"!=e.name)if(this.soloPanelToFullScreen)this.xAxisAsFooter=!0;else{this.chart.panel.oldPercent=this.chart.panel.percent,R.S80(141);var r=R.j80(3,9,13);e.percent=r-this.chart.panel.percent}for(a in this.panels)this.panels[a].hidden=i;this.soloPanelToFullScreen||(this.chart.panel.hidden=!1),e.hidden=!1,this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()},t.ChartEngine.prototype.calculatePanelPercent=function(e){var t,i,a,n=R;n.W80(45),t=n.j80("1086681122",12914722),i=2,n.X7n();for(var r=1;n.r81(r.toString(),r.toString().length,97189)!==t;r++)a=e.bottom*e.top,i+=2;-1532322492!==n.g81(i.toString(),i.toString().length,83779)&&(a=e.bottom-e.top),e.percent=a/this.chart.canvasHeight},t.ChartEngine.prototype.resizePanels=function(){var e,i,a,n,r,s;if(t.ChartEngine.resizingPanel){for(var o in r=t.ChartEngine.crosshairY>this.resolveY(t.ChartEngine.resizingPanel.top),this.panels){if(this.panels[o]==t.ChartEngine.resizingPanel)break;this.panels[o].hidden||(e=this.panels[o])}if(s=this.backOutY(t.ChartEngine.crosshairY),r)for(a=t.ChartEngine.resizingPanel.yaxisLHS.concat(t.ChartEngine.resizingPanel.yaxisRHS),n=0;n<a.length;n++)i=a[n].initialMarginTop+a[n].initialMarginBottom+10,s>a[n].bottom-i&&(s=a[n].bottom-i);else for(a=e.yaxisLHS.concat(e.yaxisRHS),n=0;n<a.length;n++){R.S80(143);var l=R.l80(12,1101,130,17,2);i=a[n].initialMarginTop+a[n].initialMarginBottom+l,s<a[n].top+i&&(s=a[n].top+i)}t.ChartEngine.crosshairY=this.resolveY(s),e.bottom=s,t.ChartEngine.resizingPanel.top=s,this.calculatePanelPercent(e),this.calculatePanelPercent(t.ChartEngine.resizingPanel),this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.isPanelAboveChart=function(e){for(var t in R.X7n(),this.panels){if("chart"==t)return!1;if(t==e.name)return!0}return!1},t.ChartEngine.prototype.adjustPanelPositions=function(){var e,i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T=R;e="s",e+="tx-show";var{chart:D,panels:w}=this;if(D.tempCanvas&&t.clearCanvas(D.tempCanvas,this),!this.runPrepend("adjustPanelPositions",arguments)){for(l in i=0,a=D.canvasHeight,n=!1,r=0,s=0,o=!1,w)h=w[l],(isNaN(h.percent)||h.percent<=0)&&(h.percent=.05),h.hidden||(r+=h.percent,s++,h.soloing&&(o=!0));for(l in w)if(c=0,(h=w[l]).hidden)h.markerHolder&&(h.markerHolder.style.display="none");else{if(this.manageTouchAndMouse&&(h.up&&(n?this.displayIconsUpDown&&h.up.classList.add("stx-show"):(d="s",d+="t",d+="x-sho",d+="w",n=!0,h.up.classList.remove(d))),h.solo&&(o?h.soloing&&this.displayIconsSolo?h.solo.classList.add("stx-show"):h.solo.classList.remove("stx-show"):1==s?h.solo.classList.remove("stx-show"):2!=s||this.soloPanelToFullScreen?this.displayIconsSolo&&h.solo.classList.add("stx-show"):h.solo.classList.remove("stx-show")),h.down&&(1==s?h.down.classList.remove("stx-show"):this.displayIconsUpDown&&h.down.classList.add("stx-show")),h.edit&&(u="stx-sh",u+="ow",h.editFunction?h.edit.classList.add(u):h.edit.classList.remove("stx-show")),h.close&&(this.displayIconsClose?h.close.classList.add("stx-show"):h.close.classList.remove("stx-show"))),h.percent=h.percent/r,h.top=i,h.bottom=h.top+a*h.percent,h.height=h.bottom-h.top,h.chart.name==h.name&&(h.chart.top=h.top,h.chart.bottom=h.bottom,h.chart.height=h.height),i=h.bottom,h.yaxisLHS){p=h.yaxisLHS.concat(h.yaxisRHS);for(var k=0;k<p.length;k++)m="no",m+="ne",(g=p[k]).zoom&&g.height>0&&(c=g.zoom/g.height),this.adjustYAxisHeightOffset(h,g),g.height=g.bottom-g.top,c&&(g.scroll*=c*g.height/g.zoom,g.zoom=c*g.height,g.zoom>g.height&&(g.zoom=0,g.scroll=0)),g.high||0===g.high||(g.high=100,T.W80(7),g.low=T.j80("0",0),g.shadow=100),g.multiplier=g.height/g.shadow,g.position===m&&this.calculateYAxisMargins(g)}h.holder&&(f="p",f+="x",v="p",v+="x",y="p",y+="x",h.holder.style.right="0px",h.holder.style.top=h.top+y,h.holder.style.left="0px",h.holder.style.height=h.height+v,h.subholder.style.left=h.left+"px",h.subholder.style.width=h.width+"px",h.subholder.style.top="0px",h.yAxis.height>=0&&(h.subholder.style.height=h.yAxis.height+f))}if(l&&w[l].down&&w[l].down.classList.remove(e),this.manageTouchAndMouse&&2==s&&!o&&D.panel.solo&&D.panel.solo.classList.add("stx-show"),D.panel){if(b="p",b+="x",o&&this.soloPanelToFullScreen){T.W80(12);var L=T.j80(25,9,0,16,11);x=D.canvasHeight-h.yAxis.bottom+L}else{T.W80(13);var A=T.j80(1,11);x=D.canvasHeight-D.panel.yAxis.bottom+A}C=this.controls;var{chartControls:M,home:P,notificationTray:O}=C;S=this.width-D.panel.right,M&&(T.W80(13),M.style.bottom=T.j80(x,b)),P&&(T.S80(13),P.style.bottom=T.j80(x,"px"),T.S80(13),P.style.marginRight=T.l80(S,"px")),O&&(T.S80(13),O.style.bottom=T.l80(x,"px"),T.W80(13),O.style.marginRight=T.l80(S,"px"))}this.clearPixelCache(),this.drawingObjects.length&&this.adjustDrawings(),this.runAppend("adjustPanelPositions",arguments)}},t.ChartEngine.prototype.createPanel=function(e,t,i,a,n,r){var s,o,l,h,c,d=R;if(!this.runPrepend("createPanel",arguments)){for(var u in a||(a="chart"),s=this.chart.canvasHeight,i||(d.S80(46),i=d.l80(.2,s)),i>s&&(d.W80(144),i=d.l80("0.5",0,s)),d.S80(35),o=d.j80(s,i),d.S80(7),l=d.l80(1,o),h=!1,this.panels)(c=this.panels[u]).percent*=l,c.soloing&&(h=!0);return this.stackPanel(e,t,o,a,n),this.panels[t].hidden=h,this.panels[t].exportable=!r,this.calculateYAxisMargins(this.panels[t].yAxis),this.adjustPanelPositions(),this.savePanels(!1),this.runAppend("createPanel",arguments),this.panels[t]}},t.ChartEngine.prototype.modifyPanel=function(e,i){var a,n,r,s,o,l,h,c;a=e.name;var{studies:d}=this.layout,{series:u}=this.chart,{name:p,display:m,yAxis:g}=i||{};for(var f in p||(p=t.uniqueID()),m||(m=p),g||((g=e.yAxis).name=p),n={},this.panels)f===e.name?((r=this.panels[f]).name=p,r.display=m,r.yAxis=g,e=n[p]=r,this.moveMarkers&&a!==p&&this.moveMarkers(a,p)):n[f]=this.panels[f];for(var v in this.panels=n,s=!1,d)(o=d[v]).panel===a&&(o.panel=p,o.parameters&&o.parameters.panelName&&(s=!0,o.parameters.panelName=p));for(var y in u)u[y].parameters.panel===a&&(s=!0,l={panel:p},u[y].parameters.yAxis&&u[y].parameters.yAxis.name===a&&(l.yAxis=g),this.modifySeries(y,l,!0));s&&this.changeOccurred("layout"),h=!1;for(var b=0;b<this.drawingObjects.length;b++)a===(c=this.drawingObjects[b]).panelName&&(c.panelName=p,h=!0);h&&this.changeOccurred("vector"),this.calculateYAxisPositions()},t.ChartEngine.prototype.setPanelHeight=function(e,t){var i,a,n,r,s=R;if(s.X7n(),t){Object.values(this.panels).slice(-1)[0]===e&&(t+=this.xaxisHeight);var{canvasHeight:o}=this.chart,{percent:l}=e;s.W80(35),i=s.j80(o,t),s.W80(7),a=s.j80(1,l),s.W80(84),n=s.l80(i,"1",0),s.W80(35),r=s.l80(n,a),Object.values(this.panels).forEach((e=>{s.X7n(),e.percent/=r})),e.percent=i,this.adjustPanelPositions(),this.savePanels()}},t.ChartEngine.prototype.electNewPanelOwner=function(e,i){var a,n,r,s,o,l,h,c;if("string"==typeof e&&(e=this.panels[e]),n=e.yAxis,R.X7n(),e&&e!=this.chart.panel){if((s=(r=e.yAxis).studies[0])&&s!=n.name||(s=r.renderers[0]),s&&s!=n.name||(s=r.studies[1]),s||(s=r.renderers[1]),i)r=e.yAxis=i,a=i.name;else if(s)(r=this.addYAxis(e,new t.ChartEngine.YAxis({name:s,position:r.position}))).renderers=e.yAxis.renderers,r.studies=e.yAxis.studies,a=s;else if(e.yaxisLHS){l=(o=e.yaxisRHS.concat(e.yaxisLHS).filter((function(e){return e.name!=n.name})))[0];for(var d=0;d<o.length;d++)if(!o[d].position){l=o[d];break}l&&(r=e.yAxis=l,a=l.studies[0]||l.renderers[0])}a?(s=a,n.name!=e.name&&(s=e.name),(c=this.layout.studies)&&c[a]&&(h=c[a].inputs.display),this.modifyPanel(e,{name:s,display:h||a,yAxis:r}),this.deleteYAxisIfUnused(e,n),this.panels[s].yAxis.lockScale||this.calculateYAxisMargins(this.panels[s].yAxis)):this.checkForEmptyPanel(e)}return a},t.ChartEngine.prototype.configurePanelControls=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m;(i=e.icons)&&(a=e.name==e.chart.name,i.classList.add("stx-show"),i.classList.remove("iconsTemplate"),e.title=i.querySelector(".stx-panel-title"),e.up=i.querySelector(".stx-ico-up"),e.up&&(e.up=e.up.parentNode),e.solo=i.querySelector(".stx-ico-focus"),e.solo&&(e.solo=e.solo.parentNode),e.down=i.querySelector(".stx-ico-down"),e.down&&(e.down=e.down.parentNode),e.edit=i.querySelector(".stx-ico-edit"),e.edit&&(e.edit=e.edit.parentNode),e.close=i.querySelector(".stx-ico-close"),e.close&&(e.close=e.close.parentNode),e.title&&(e.title.innerHTML="",e.display&&e.title.appendChild(document.createTextNode(e.display)),a&&(e.title.classList.add("chart-title"),i.classList.add("stx-chart-panel"))),t.touchDevice&&!t.isSurface||this.makeModal(i),e.handle&&(t.touchDevice&&!t.isSurface||(e.handle.onmouseover=(s=this,function(){R.G7n(),s.hideCrosshairs()})),t.touchDevice&&!t.isSurface||(e.handle.onmouseout=(r=this,function(){R.X7n(),r.showCrosshairs()})),n=function(e,i){return function(a){R.X7n(),t.ChartEngine.resizingPanel||""!==e.openDialog||e.grabHandle(i)}},t.isSurface?e.handle.onpointerdown=n(this,e):e.handle.onmousedown=n(this,e),t.touchDevice&&e.handle.addEventListener("touchstart",n(this,e),{passive:!1})),e.up&&t.safeClickTouch(e.up,(o=this,l=e,R.X7n(),function(){o.panelUp(l)})),e.down&&t.safeClickTouch(e.down,(h=this,c=e,R.X7n(),function(){h.panelDown(c)})),e.solo&&t.safeClickTouch(e.solo,(d=this,u=e,function(){d.panelSolo(u)})),e.close&&("chart"==e.name?e.close.style.display="none":t.safeClickTouch(e.close,(p=this,m=e,function(){p.panelClose(m)}))))},t.ChartEngine.prototype.stackPanel=function(e,i,a,n,r){var s,o,l,h,c,d,u;s="stx",s+="-",s+="hold",R.X7n(),s+="er",o="c",o+="har",o+="t",l="sta",l+="ckPanel",this.runPrepend(l,arguments)||(n||(n=o),h=this.charts[n],R.W80(116),(c=R.l80(n,i))&&(e=h.symbol,h.symbolDisplay&&(e=h.symbolDisplay),r||(r=h.yAxis)),d=this.panels[i]=new t.ChartEngine.Panel(i,r),!c&&h.yAxis&&d.yAxis.position==h.yAxis.position&&(d.yAxis.width=h.yAxis.width),c&&!h.panel&&(h.panel=d),d.percent=a,d.chart=h,d.display=e,d.holder=t.newChild(this.container,"div",s),d.subholder=t.newChild(d.holder,"div","stx-subholder"),d.subholder.style.zIndex=1,d.holder.panel=d,u=c?"stx-panel-chart":"stx-panel-study",d.holder.classList.add(u),this.controls.handleTemplate&&this.manageTouchAndMouse&&(d.handle=this.controls.handleTemplate.cloneNode(!0),d.handle.classList.remove("handleTemplate"),this.container.appendChild(d.handle),d.handle.panel=d),this.controls.iconsTemplate&&(d.icons=this.controls.iconsTemplate.cloneNode(!0),d.subholder.appendChild(d.icons),this.configurePanelControls(d)),this.currentlyImporting||this.resizeCanvas(),this.runAppend("stackPanel",arguments))},t.ChartEngine.prototype.setPanelEdit=function(e,i){e.editFunction=i,e.edit&&t.safeClickTouch(e.edit,i),this.adjustPanelPositions()},t.ChartEngine.prototype.drawPanels=function(){var e,t,i,a,n,r,s,o,l,h,c,d,u;if(e="drawPanel",e+="s",!this.runPrepend("drawPanels",arguments)){for(var p in t=!1,this.panels)if(i="s",i+="tx_pan",i+="e",i+="l_border",(a=this.panels[p]).state={},n=this.translateIf(a.display),a.title&&a.title.textContent!=n&&(a.title.innerHTML="",a.title.appendChild(document.createTextNode(n))),a.icons&&a.icons.classList.add("stx-show"),a.hidden)r="no",r+="n",r+="e",a.icons&&a.icons.classList.remove("stx-show"),a.handle&&(a.handle.style.display=r),a.holder.style.display="none";else if("chart"!=a.name&&(s=this.manageTouchAndMouse,a.up&&(a.up.style.display=this.displayIconsUpDown&&s?"":"none"),a.down&&(a.down.style.display=this.displayIconsUpDown&&s?"":"none"),a.solo&&(a.solo.style.display=this.displayIconsSolo&&s?"":"none"),a.close&&(a.close.style.display=this.displayIconsClose&&s?"":"none"),a.edit&&(a.edit.style.display=a.editFunction&&s?"":"none")),a.holder.style.display="block",a.displayEdgeIfPadded&&(o="stx_grid",o+="_",o+="bord",o+="er",l="stx_grid_bor",l+="der",h=Math.round(a.left)+.5,c=a.yAxis.top-.5,d=a.yAxis.bottom+.5,a.yaxisCalculatedPaddingLeft&&!a.yaxisTotalWidthLeft&&this.plotLine(h,h,c,d,this.canvasStyle(l),"segment",this.chart.context,!1,{lineWidth:1}),h=Math.round(a.right)+.5,a.yaxisCalculatedPaddingRight&&!a.yaxisTotalWidthRight&&this.plotLine(h,h,c,d,this.canvasStyle(o),"segment",this.chart.context,!1,{lineWidth:1})),t){if(u=a.top,u=Math.round(u)+.5,this.plotLine(a.left-.5,a.right+.5,u,u,this.canvasStyle(i),"segment",this.chart.context,!1,{}),a.handle){this.displayPanelResize?a.handle.style.display="":a.handle.style.display="none",R.W80(10);var m=R.l80(16,4,66);a.handle.style.top=u-a.handle.offsetHeight/m+"px"}}else a.handle&&(a.handle.style.display="none"),t=!0;this.runAppend(e,arguments)}}},M=e=>{var t;(t=e.CIQ).ChartEngine.isDailyInterval=function(e){return R.X7n(),"day"==e||"week"==e||"month"==e},t.ChartEngine.prototype.setPeriodicity=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x=R;if(a="setPer",a+="iodicity",n="obj",n+="ec",n+="t",x.X7n(),!this.runPrepend("setPeriodicity",arguments)){if(typeof arguments[0]!==n){e={period:arguments[0],interval:arguments[1],timeUnit:arguments[2]},x.W80(7);var C=x.j80(19,18);i=arguments[arguments.length-C],3===arguments.length&&(e.timeUnit=void 0)}var{period:S,interval:T,timeUnit:D}=e;"function"!=typeof i&&(i=null),({period:S,interval:T,timeUnit:D}=t.cleanPeriodicity(S,T,D));var{layout:w}=this;w.setSpan={},w.range={},this.chart.inflectionPoint=null,r=!1,this.chart.symbol&&(r=this.needDifferentData({period:S,interval:T,timeUnit:D}));var{candleWidth:k,periodicity:L,interval:A,timeUnit:M}=w;if(s={prvPeriodicity:L,prvInterval:A,prvTimeUnit:M},w.periodicity=S,w.interval=T,w.timeUnit=D,l={stx:o=this,differentData:r,prevPeriodicity:s},r){if(this.changeOccurred("layout"),this.clearCurrentMarketData(),this.quoteDriver)for(var P in this.charts)(h=this.charts[P]).symbol&&(this.displayInitialized?this.quoteDriver.newChart({symbol:h.symbol,symbolObject:h.symbolObject,chart:h},V):this.loadChart(h.symbol,{chart:h},V));else this.dataCallback?(this.dataCallback(),V()):(c="cannot cha",c+="nge periodicity because neither dataCallback or quoteDriver are set",console.log(c));this.home()}else{for(var O in this.charts){d=this.charts[O];var{dataSegment:_,dataSet:F,maxTicks:H,scroll:I}=d;if(u=_?_.length:0,p=F?F.length:0,m=void 0,g=Math.round(d.maxTicks/2),this.setCandleWidth(k,d),f=!0,v=!1,I<=H?f=!1:_&&!_[g]&&(f=!1,x.S80(7),v=x.j80(I,p)),f&&u>0&&(H<(Math.round(this.chart.width/k-.499)-1)/2&&(x.S80(7),g=x.l80(u,1)),g>=u?(m=_[u-1].DT,x.W80(7),g=x.j80(u,1)):m=_[g].DT),this.createDataSet(),f){if(u>0)for(var q=p-1;q>=0;q--)if(F[q].DT.getTime()<m.getTime()){x.S80(145),d.scroll=x.l80(q,p,g,"1");break}}else v?d.scroll=F.length+v:(y=Math.round(this.preferences.whitespace/k),x.S80(138),d.scroll=x.j80(0,H,y,"1"))}if(this.displayInitialized&&this.draw(),this.changeOccurred("layout"),this.quoteDriver)for(var E in this.charts)!(b=this.charts[E]).symbol||!b.moreAvailable&&b.upToDate||this.quoteDriver.checkLoadMore(b);V(),this.runAppend(a,arguments)}}function V(){o.dispatch("periodicity",l),i&&i(null)}},t.ChartEngine.prototype.needDifferentData=function(e){var i,a,n,r;return i=this.layout,a=t.ChartEngine.isDailyInterval(e.interval),n=t.ChartEngine.isDailyInterval(i.interval),r=!1,this.dontRoll||!n?i.interval!=e.interval&&(r=!0):a!=n&&(r=!0),a||e.timeUnit||(e.timeUnit="minute"),n||i.timeUnit||(i.timeUnit="minute"),e.timeUnit!=i.timeUnit&&(r=!0),this.masterData&&this.masterData.length||(r=!0),r},t.ChartEngine.prototype.getPeriodicity=function(){var e,t,i;return t=(e=this.layout).interval,(i=e.timeUnit)||(i=t,t=1),{period:e.periodicity,interval:t,timeUnit:i}}},P=e=>{var t;(t=e.CIQ).ChartEngine.prototype.isHistoricalMode=function(){var e,i,a,n,r,s;return e=new Date,i=!0,a=this.masterData,!!this.isHistoricalModeSet&&(a.length&&(n=this.getFirstLastDataRecord(a,"DT",!0),(i=((r=this.standardMarketIterator(n.DT))?r.next():n.DT)<=e)&&t.ChartEngine.isDailyInterval(r.interval)&&(s=this.chart.market.getOpen())&&e<s&&(R.W80(21),e.setHours(R.j80("0",438741280),0,0,0),+e==+r.begin&&(i=!1))),i)},t.ChartEngine.prototype.isHome=function(){var e,t,i;t=(e=this.chart).dataSet,i=e.animatingHorizontalScroll,R.W80(101);var a=R.l80(6,2,3,10,19);return this.pixelFromTick(t.length-(i?2:a),e)<e.width+e.panel.left},t.ChartEngine.prototype.getPreviousBar=function(e,t,i){return R.G7n(),this.getNextBarInternal(e,t,i,-1)},t.ChartEngine.prototype.getNextBar=function(e,t,i){return R.G7n(),this.getNextBarInternal(e,t,i,1)},t.ChartEngine.prototype.getNextBarInternal=function(e,i,a,n){var r,s,o,l;if(r=e.dataSegment&&e.dataSegment[a])for(s=r.tick;s>0&&s<e.dataSet.length;)if(R.S80(13),s=R.l80(s,n),(o=e.dataSet[s])&&(l=t.existsInObjectChain(o,i))&&l.obj[l.member])return o;return R.X7n(),null},R.G7n(),t.ChartEngine.prototype.getFirstLastDataRecord=function(e,t,i){var a;if(e&&e.length)for(a=i?e.length-1:0;a>=0&&a<e.length;){if(e[a]&&void 0!==e[a][t])return e[a];i?a--:a++}return null},t.ChartEngine.prototype.leftTick=function(){return R.X7n(),this.chart.dataSet.length-this.chart.scroll},t.ChartEngine.prototype.getNextInterval=function(e,t,i){var a;return t||(t=1),!1!==i&&(i=!0),(a=this.standardMarketIterator(e,i?this.dataZone:this.displayZone))?t<1?(R.W80(22),a.previous(R.j80(t,1))):a.next(t):e},t.ChartEngine.prototype.standardMarketIterator=function(e,t,i){var a,n;return(a=i||this.chart).market?(n={begin:e,interval:this.layout.interval,periodicity:"tick"==this.layout.interval?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,timeUnit:this.layout.timeUnit,outZone:t},a.market.newIterator(n)):null}},O=e=>{var t,i;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,t.ChartEngine.prototype.draw=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m;if(this.debug(),i=this.chart,a=this.layout,i.canvas&&i.dataSet&&i.canvasHeight){R.W80(141);var g=R.j80(9,9,20);if(this.offset=a.candleWidth*this.candleWidthPercent/g,t.clearCanvas(i.canvas,this),this.masterData&&!this.runPrepend("draw",arguments)){this.defaultColor||this.getDefaultColor(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[],this.correctIfOffEdge(),this.createDataSegment(),this.setBaselines(i),s=this.createXAxis(i),this.initializeDisplay(i),this.drawXAxis(i,s);try{this.renderYAxis(i)}catch(e){if(e&&"reboot draw"===e.message)return this.draw();throw e}for(n in i.tmpWidth=Math.floor(a.candleWidth*this.candleWidthPercent),i.tmpWidth%2==0&&(i.tmpWidth+=1,i.tmpWidth>a.candleWidth&&(i.tmpWidth-=2)),i.tmpWidth<.5&&(i.tmpWidth=.5),this.plugins)(r=this.plugins[n]).display&&r.drawUnder&&r.drawUnder(this,i);for(n in R.X7n(),i.legend&&(i.legend.colorMap=null),this.controls.baselineHandle&&(this.controls.baselineHandle.style.display="none"),this.rendererAction(i,"underlay"),t.getFn("Studies.displayStudies")(this,i,!0),this.displayChart(i),t.getFn("Studies.displayStudies")(this,i,!1),this.rendererAction(i,"overlay"),i.legend&&i.legend.colorMap&&i.legendRenderer&&i.legendRenderer(this,{chart:i,legendColorMap:i.legend.colorMap,coordinates:{x:i.legend.x,y:i.legend.y+i.panel.yAxis.top}}),this.plugins)(r=this.plugins[n]).display&&r.drawOver&&r.drawOver(this,i);for(var f in this.panels)this.panels[f].hidden||this.plotYAxisText(this.panels[f]);for(var v=0;v<this.yAxisLabels.length;v++)"series"==(o=this.yAxisLabels[v]).src&&o.args[6]&&!1===o.args[6].drawSeriesPriceLabels||this.createYAxisLabel.apply(this,o.args);this.createCrosshairs&&this.createCrosshairs(),this.drawVectors&&this.drawVectors(),this.drawCurrentHR(),this.displayInitialized=!0,(l=this.controls)&&(h=this.manageTouchAndMouse&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.nonInteractive),l.home&&(l.home.style.display=h&&!this.isHome()?"block":"none"),l.chartControls&&(c="p",c+="x",d="lef",d+="t",u="blo",u+="ck",p="b",p+="lock",m="hidd",m+="en",l.chartControls.style.display=this.manageTouchAndMouse&&l.chartControls.style.visibility!==m?p:"none",l.chartControls.style.display===u&&t.efficientDOMUpdate(l.chartControls.style,d,i.left+i.width/2+c))),t.Marker&&this.positionMarkers(),this.quoteDriver&&this.animations.zoom.hasCompleted&&this.quoteDriver.checkLoadMore(i),this.runAppend("draw",arguments),this.makeAsyncCallbacks()}}},t.ChartEngine.prototype.setSeriesRenderer=function(e){var{baseline:t,name:i,panel:a,yAxis:n}=e.params;return this.chart.seriesRenderers[i]?this.chart.seriesRenderers[i]:(n&&(e.params.yAxis=this.addYAxis(this.panels[a],n),this.resizeChart()),e.stx=this,this.chart.seriesRenderers[i]=e,t&&this.registerBaselineToHelper(e),e)},t.ChartEngine.prototype.setMainSeriesRenderer=function(e){var i,a,n,r,s;i="barsHaveWi",i+="dt",R.G7n(),i+="h",a="hi",a+="gh",a+="LowB",a+="ars";var{chartType:o,aggregationType:l}=this.layout,{chart:h}=this,{custom:c}=h;n=this.mainSeriesRenderer,r=this.displayInitialized,n&&(e&&this.setMasterData(),this.displayInitialized=!1,n.removeAllSeries(),this.removeSeriesRenderer(n),n=this.mainSeriesRenderer=null),c&&c.chartType&&(o=c.chartType),"none"!=o&&(l&&"ohlc"!=l&&(o=l),(s=t.Renderer.produce(o,{panel:h.panel.name,name:"_main_series",highlightable:!1,useChartLegend:!0}))&&(this.setSeriesRenderer(s).attachSeries(null,{display:h.symbol}),n=this.mainSeriesRenderer=s),this.displayInitialized=r,[a,"standaloneBars",i].forEach(function(e){R.X7n(),h[e]=this.mainSeriesRenderer&&this.mainSeriesRenderer[e]}.bind(this)))},t.ChartEngine.prototype.removeSeriesRenderer=function(e){var t,{baseline:i,name:a}=e.params;t=this.controls[`${a} baseline-handle`],i&&(this.removeBaselineFromHelper(e),t&&(this.container.removeChild(t),delete this.controls[t])),delete this.chart.seriesRenderers[a]},t.ChartEngine.prototype.getSeriesRenderer=function(e){return this.chart.seriesRenderers[e]},t.ChartEngine.prototype.getRendererFromSeries=function(e){var t;for(var i in t=this.chart.seriesRenderers,R.X7n(),t)for(var a in t[i].seriesParams)if(t[i].seriesParams[a].id==e)return t[i];return null},t.ChartEngine.prototype.startClip=function(e,t){var i,a,n,r,s;e||(e=this.chart.panel.name),a=(i=this.panels[e]).yAxis,(n=this.chart).context.save(),n.context.beginPath(),r=i.left,s=i.width,t?(R.S80(7),r=R.l80("0",0),s=this.width):i.yaxisLHS&&i.yaxisLHS.length&&(r++,s--),n.context.rect(r,a.top,s,a.height),n.context.clip()},t.ChartEngine.prototype.endClip=function(){R.X7n(),this.chart.context.restore()},t.ChartEngine.prototype.setLineStyle=function(e,i){var a,n;a={},e&&"object"==typeof e?a=e:a.color=e,a.color||a.pattern||a.width||a.baseColor||(a=null),i||(i=this.chart),n=1,a&&a.width&&(n=a.width),a&&a.pattern&&(a.pattern=t.borderPatternToArray(n,a.pattern)),i.lineStyle=a},t.ChartEngine.prototype.setGapLines=function(e,i){var a;if(i||(i=this.chart),a={},e&&"object"==typeof e)a=e;else{if("boolean"==typeof e)return i.gaplines=e;a.color=e}a.color||a.pattern||a.fillMountain||(a=null),a&&a.pattern&&(a.pattern=t.borderPatternToArray(a.width,a.pattern)),a&&a.width<=0&&(a.width=null),i.gaplines=a},t.ChartEngine.prototype.getGapColorFunction=function(e,t,i,a,n){return R.G7n(),"object"!=typeof i&&(i={color:i}),function(r,s,o){var l,h;return(l=n?n(r,s,o):i).color&&(l=l.color),(h=s[e])||0===h||(h=s[t]),o||!h&&0!==h?a?("object"!=typeof a&&(a="string"==typeof a?{color:a}:{}),{color:a.color||l,pattern:a.pattern||i.pattern,width:a.width||i.width}):null:{color:l,pattern:i.pattern,width:i.width}}},t.ChartEngine.prototype.drawLineChart=function(e,i,a,n){var r,s,o,l,h,c,d,u,p,m,g;return s=(r=this.chart).context,o=r.lineStyle||{},l=this.canvasStyle(i),n||(n={}),this.startClip(e.name),(h=n.width||o.width||l.width)&&parseInt(h,10)<=25?s.lineWidth=Math.max(1,t.stripPX(h)):s.lineWidth=1,n.pattern=n.pattern||o.pattern||l.borderTopStyle,n.pattern=t.borderPatternToArray(s.lineWidth,n.pattern),this.canvasColor(i),(c=n.color||o.color)&&("auto"==c&&(c=this.defaultColor),n.opacity&&1!==n.opacity&&(c=t.hexToRgba(t.colorToHex(c),parseFloat(n.opacity))),s.strokeStyle=c),n.skipProjections=!0,d=n.field||r.defaultPlotField,u=n.subField||r.defaultPlotField||"Close",(p=n.gapDisplayStyle)||!1===p||(p=n.gaps),p||!1===p||(p=r.gaplines),p||(p="transparent"),n.gapDisplayStyle=p,m=this.getGapColorFunction(d,u,{color:s.strokeStyle,pattern:n.pattern,width:s.lineWidth},p,a),e.chart.tension&&(n.tension=e.chart.tension),(g=this.plotDataSegmentAsLine(d,e,n,m)).colors.length||g.colors.push(s.strokeStyle),s.lineWidth=1,this.endClip(),n.returnObject?g:g.colors},t.ChartEngine.prototype.drawChannelChart=function(e,i,a){var n,r,s,o,l,h,c,d,u,p;for((n=t.clone(a)).color=a.color,r=this.drawLineChart(e,n.style,i,n),s=n.border_color_up||this.getCanvasColor("stx_channel_up"),o=n.border_color_down||this.getCanvasColor("stx_channel_down"),n[a.field?"subField":"field"]=n.field_high||"High",n.color=s,l=this.drawLineChart(e,n.style,i,n),n[a.field?"subField":"field"]=n.field_low||"Low",n.color=o,h=this.drawLineChart(e,n.style,i,n),n[a.field?"subField":"field"]=a.subField||this.chart.defaultPlotField||"Close",d=[],u=[],c=0;c<l.points.length;c+=2)d.push([l.points[c],l.points[c+1]]);for(c=0;c<h.points.length;c+=2)u.push([h.points[c],h.points[c+1]]);R.W80(7);var m=R.j80(57566496,53138304);for(p=this.chart.context.lineWidth/("2">>m),c=r.points.length-2;c>=0;c-=2)d.push([r.points[c],r.points[c+1]-p]),u.push([r.points[c],r.points[c+1]+p]);return this.startClip(e.name),n.color=s,t.fillArea(this,d,n),n.color=o,t.fillArea(this,u,n),this.endClip(),r.colors=r.colors.concat(l.colors).concat(h.colors),a.returnObject?r:r.colors},t.ChartEngine.prototype.connectTheDots=function(e,i,a,n,r,s){var o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L=R;if(L.G7n(),s||(s={}),"none"!=s.pattern&&(!0===r&&(r=this.chart.panel),null==n&&(n=this.chart.context),!(e.length<4))){if(o=0,l=this.chart.canvasHeight,h=this.chart.width,r&&(l=r.yAxis.bottom,o=r.yAxis.top),n.lineWidth=1.1,"object"==typeof i)n.strokeStyle=i.color,i.opacity?n.globalAlpha=i.opacity:n.globalAlpha=1,n.lineWidth=t.stripPX(i.width);else if(!i||"auto"==i||t.isTransparent(i))n.strokeStyle=this.defaultColor;else{c=2;for(var A=1;-1896741705!==L.r81(A.toString(),A.toString().length,12822);A++)n.strokeStyle=i,c+=2;-1234775171!==L.r81(c.toString(),c.toString().length,44219)&&(n.strokeStyle=i)}s.opacity&&(n.globalAlpha=s.opacity),s.lineWidth&&(n.lineWidth=s.lineWidth),d=t.borderPatternToArray(n.lineWidth,s.pattern),n.beginPath();for(var M=0;M<e.length-2;M+=2){if(u=e[M],L.S80(13),p=e[L.l80(M,1)],L.W80(13),m=e[L.l80(M,2)],L.W80(25),g=e[L.l80("3",M)],isNaN(u)||isNaN(m)||isNaN(p)||isNaN(g))return;f=0,v=1,L.W80(7),y=L.j80(m,u),L.W80(7),b=L.l80(g,p);for(var P=0;P<4;P++){if(0===P&&(x=-y,L.W80(7),C=-L.l80(0,u)),1==P&&(x=y,L.S80(7),C=L.j80(h,u)),2==P&&(x=-b,L.W80(7),C=-L.j80(o,p)),3==P&&(x=b,L.W80(7),C=L.l80(l,p)),L.S80(35),S=L.j80(x,C),(g||0===g)&&0===x&&C<0)return!1;if(x<0){if(S>v)return!1;S>f&&(f=S)}else if(x>0){if(S<f)return!1;S<v&&(v=S)}}L.S80(146),T=L.l80(u,y,f),L.S80(146),D=L.l80(p,b,f),L.W80(146),w=L.l80(u,y,v),L.S80(146),k=L.l80(p,b,v);try{n.setLineDash(d&&d.length?d:[]),n.moveTo(T,D),n.lineTo(w,k)}catch(e){}}n.stroke(),n.closePath(),n.globalAlpha=1,n.lineWidth=1}},t.ChartEngine.prototype.plotSpline=function(e,a,n,r,s,o,l){var h;l||(l={}),"none"!=l.pattern&&(!0===o&&(o=this.chart.panel),null==s&&(s=this.chart.context),s.save(),s.lineWidth=1.1,"object"==typeof n?(s.strokeStyle=n.color,n.opacity?s.globalAlpha=n.opacity:s.globalAlpha=1,s.lineWidth=t.stripPX(n.width)):!n||"auto"==n||t.isTransparent(n)?s.strokeStyle=this.defaultColor:s.strokeStyle=n,l.opacity&&(s.globalAlpha=l.opacity),l.lineWidth&&(s.lineWidth=l.lineWidth),h=t.borderPatternToArray(s.lineWidth,l.pattern),l.pattern&&s.setLineDash&&(s.setLineDash(h),s.lineDashOffset=0),s.beginPath(),i.plotSpline(e,a,s),s.stroke(),s.closePath(),s.restore())},t.ChartEngine.prototype.rawWatermark=function(e,t,i,a){this.canvasFont("stx_watermark",e),e.fillStyle=this.defaultColor,e.globalAlpha=.5,this.chart.context.textBaseline="alphabetic",e.fillText(a,t,i),e.globalAlpha=1},t.ChartEngine.prototype.watermark=function(e,t){var i,a,n,r,s,o,l,h=R;if(i="stx",i+="_waterma",i+="r",i+="k",a="t",a+="o",a+="p",n="l",n+="e",n+="f",n+="t",t&&"object"!=typeof t&&(t={h:arguments[1],v:arguments[2],text:arguments[3]}),(r=(t={h:t.h||n,v:t.v||"bottom",text:t.text||"",hOffset:0===t.hOffset?0:t.hOffset||10,vOffset:0===t.vOffset?0:t.vOffset||20,context:t.context||this.chart.context}).context)&&(s=this.panels[e])&&!s.hidden){if(o=s.yAxis.bottom-t.vOffset,t.v==a)o=s.top+t.vOffset;else if("middle"==t.v){h.S80(147);var c=h.l80(1,5,26,31);o=(s.top+s.yAxis.bottom)/c}if(r.save(),this.canvasFont("stx_watermark",r),this.canvasColor(i,r),r.textBaseline="alphabetic",l=s.left+t.hOffset,"right"==t.h)l=s.right-t.hOffset;else if("center"==t.h){h.W80(134);var d=h.l80(5,98,16,16);l=(s.right+s.left-r.measureText(t.text).width)/d}r.globalAlpha=.5,this.highlightedDraggable&&(r.globalAlpha*=.3),r.fillText(t.text,l,o),r.restore()}},t.ChartEngine.prototype.displayErrorAsWatermark=function(e,t){var i,a,n,r,s,o,l,h,c,d,u=R;u.X7n(),t&&(e||(e="chart"),(i=this.panels[e])&&!i.hidden&&((a=i.state)||(i.state=a={}),(n=a.studyErrors)||(a.studyErrors=n=new Set),n.has(t)||(r=a.watermarkOffset||10,s=this.getCanvasFontSize("stx_watermark"),this.chart&&this.chart.chartControls&&(o=i.yAxis.bottom,l=this.chart.chartControls,u.W80(7),h=u.j80(o,r),u.W80(7),c=u.j80(h,s),(h>l.offsetTop&&h<l.offsetTop+l.offsetHeight||c>l.offsetTop&&c<l.offsetTop+l.offsetHeight)&&(r=o-l.offsetTop+10)),n.add(t),d={h:"center",v:"bottom",text:t,vOffset:r},u.W80(13),r+=u.j80(s,10),a.watermarkOffset=r,this.watermark(e,d))))},t.ChartEngine.prototype.displayChart=function(e){var t;t="dis",t+="playChar",t+="t",this.runPrepend(t,arguments)||(this.rendererAction(e,"main"),this.runAppend("displayChart",arguments))}},_=e=>{var t;(t=e.CIQ).ChartEngine.prototype.cloneStyle=function(e){var i,a,n,r,s,o,l;function h(e){return R.X7n(),e[1].toUpperCase()}for(var c in i={},a=!1,e)if(n=e[c],"backgroundAttachment"==c&&(a=!0),a)n&&n.constructor==String&&isNaN(c)&&(i[c]=n);else if(isNaN(c))i[c.replace(t.camelCaseRegExp,h)]=n;else if(r=e.getPropertyValue(n)){for(s=0,o=(n=n.split("-")).length,l=n[0];++s<o;){R.W80(84);var d=R.j80(12,21,8);l+=n[s].charAt(0).toUpperCase()+n[s].slice(d)}i[l]=r}return i},t.ChartEngine.prototype.canvasStyle=function(e){var t,i,a;return(t=this.styles[e])||((i=document.createElement("div")).className=e,this.container.appendChild(i),a=getComputedStyle(i),t=this.styles[e]=this.cloneStyle(a),this.container.removeChild(i),a||(this.styles[e]=null)),t},t.ChartEngine.prototype.colorOrStyle=function(e){return-1!=e.indexOf("#")||-1!=e.indexOf("(")||"transparent"==e?e:this.canvasStyle(e)},R.G7n(),t.ChartEngine.prototype.clearStyles=function(){this.styles={},this.defaultColor=""},t.ChartEngine.prototype.setStyle=function(e,i,a){R.X7n(),this.styles[e]||this.canvasStyle(e),this.styles[e]||(this.styles[e]={}),this.styles[e][t.makeCamelCase(i)]=a},t.ChartEngine.prototype.canvasFont=function(e,t){var i,a,n,r=R;if(t||(t=this.chart.context),i=this.canvasStyle(e)){r.S80(13),r.j80(212,3610),r.W80(85);var s=r.j80(712,13,89,628);r.W80(70);var o=r.j80(18,1156,187,7);r.S80(2),r.j80(4,19280,14464),r.S80(148);var l=r.l80(4,1664,13,104);if(-1==(a=i.fontStyle+" "+i.fontWeight+(s<o?52.4:965.63<l?" ":205.96)+i.fontSize+" "+i.fontFamily).indexOf("undefined"))t.font=a;else{n=2;for(var h=1;-1841155505!==r.r81(h.toString(),h.toString().length,95340);h++)this.styles[e]=1,r.W80(46),console.log(r.j80(e,"")),n+=2;1648981496!==r.r81(n.toString(),n.toString().length,43115)&&(this.styles[e]=null,r.W80(13),console.log(r.j80("bad css style for class ",e)))}}},t.ChartEngine.prototype.canvasColor=function(e,t){var i,a,n;t||(t=this.chart.context),(i=this.canvasStyle(e))&&((a=i.color)||(a=this.defaultColor),t.globalAlpha=1,R.G7n(),t.fillStyle=a,t.strokeStyle=a,void 0!==(n=i.opacity)&&(t.globalAlpha=n))},t.ChartEngine.prototype.getCanvasFontSize=function(e){var i,a;return i=this.canvasStyle(e),R.X7n(),(a=i.fontSize)||(a="12"),parseInt(t.stripPX(a),10)},t.ChartEngine.prototype.getCanvasColor=function(e){return this.canvasStyle(e).color},t.ChartEngine.prototype.getDefaultColor=function(){var e,i,a,n;for(this.defaultColor="#000000",R.G7n(),e=null,i=this.chart.container;!e||t.isTransparent(e);){if(!(a=getComputedStyle(i)))return;if(e=a.backgroundColor,t.isTransparent(e)&&(e="transparent"),!(i=i.parentNode)||!i.tagName)break}e?("transparent"==e&&(e="#FFFFFF"),this.containerColor=e,t.isTransparent(e)?this.defaultColor="#000000":(n=t.hsv(e)[2],this.defaultColor=n>.65?"#000000":"#FFFFFF")):this.containerColor="#FFFFFF"}},F=e=>{var t;(t=e.CIQ).ChartEngine.XAxis=function(e){for(var t in e)this[t]=e[t]},t.ChartEngine.XAxis.setPropertiesForInterval={year:(e,t,i,a)=>{e.level=Number(e.raw)%5==0?0:1},month:(e,i,a,n)=>{var r,s;r=Number(e.raw),s=i.DT.getFullYear(),e.level=0===r?s%5==0?0:1:r%3==0?2:3,R.G7n(),e.text=t.monthAsDisplay(r,!1,n),"boundary"===e.grid&&(e.boundaryOnlyText=r?e.text:s.toString(),e.text+=" '"+s.toString().substring(2),r||(e.alwaysAsBoundary=!0))},week:null,day:(e,i,a,n)=>{var r,s,o,l,h,c,d=R;if(s=(r=i.DT).getDay(),o=r.getDate(),d.G7n(),l=r.getMonth(),h=r.getFullYear(),"boundary"===e.grid){if(a&&a.isFirstMarketDayOfMonth(r))return c=t.monthAsDisplay(l,!1,n),d.W80(149),e.text=d.j80(" '",100,c,h),e.boundaryOnlyText=l?c:h.toString(),e.alwaysAsBoundary=!0,void(e.level=l?l%3==0?1:2:0);n.internationalizer?e.text=n.internationalizer.monthDay.format(r):(d.S80(125),e.text=d.j80("/",1,l,o))}a&&a.isFirstMarketDayOfWeek(r)||!a&&0===s?e.level=4:e.level=s>0?6:7},minute:(e,i,a,n)=>{var r,s,o,l=R;r=i.DT,l.W80(100);var h=l.j80(9,6,12,55);s=Number(e.raw)+(e.marketOpenOffset||"0"*h),l.G7n(),l.W80(4),o=[l.l80(2147483647,"720"),360,120,60,30,15,5],e.level=o.length;for(var c=0;c<o.length;c++)if(s%o[c]==0){e.level=c;break}if(e.text=t.timeAsDisplay(i.DT,n,t.MINUTE),"boundary"===e.grid&&0===s)if(e.alwaysAsBoundary=!0,n.internationalizer)e.text=n.internationalizer.monthDay.format(r);else{l.W80(150);var d=l.j80(13,1,1,14);l.W80(69),l.j80(17,519,13,27),l.W80(8);var u=l.l80(1843,7376,7374,18,20);l.W80(104),l.j80(7743,9,17,11640,9),l.W80(85),l.j80(93470,14,18694,7120),l.W80(32);var p=l.l80(2,516,94);l.S80(7);var m=l.l80(14985,11988);l.W80(7);var g=l.l80(1055144653,13);l.S80(87);var f=l.j80(4,12,109868434,439473740);e.text=r.getMonth()+d+(u<=296.34?p<=m?"0x1cf0">>g:"0x820"<<f:"/")+r.getDate()}},second:(e,i,a,n)=>{var r,s,o,l=R;r=[30,15,5],e.level=r.length;for(var h=0;h<r.length;h++)if(Number(e.raw)%r[h]==0){e.level=h;break}l.S80(64);var c=l.l80(20,3307,23);if(l.S80(88),l.l80(41,7,14,9172),l.S80(13),l.l80(424,5936),e.text=e.raw+(6230>c?"s":506.58),"boundary"===e.grid&&0==e.raw)if(s=i.DT,e.alwaysAsBoundary=!0,s.getHours()){o=2;for(var d=1;1847562503!==l.r81(d.toString(),d.toString().length,54310);d++)e.text=t.timeAsDisplay(s,n,t.MINUTE),o+=2;-1962844324!==l.r81(o.toString(),o.toString().length,79120)&&(e.text=t.timeAsDisplay(s,n,t.MINUTE))}else if(n.internationalizer)e.text=n.internationalizer.monthDay.format(s);else{l.W80(151);var u=l.j80(15,13,14,4,18);l.S80(36);var p=l.j80(15,6,8832,631);l.S80(13),l.l80(2519,17),l.W80(7);var m=l.j80(6564,9);l.S80(13);var g=l.j80(413,827);l.W80(36);var f=l.l80(11,15,6,7008);e.text=s.getMonth()+u+(p<=m?g<318?f:"i":"/")+s.getDate()}},millisecond:(e,t,i,a)=>{var n;R.S80(46),n=[R.l80(1,"250"),50,10],e.level=n.length;for(var r=0;r<n.length;r++)if(Number(e.raw)%n[r]==0){e.level=r;break}e.text=e.raw+"ms"},tick:(e,i,a,n)=>{e.text=t.timeAsDisplay(i.DT,n,t.MILLISECOND)}},t.ChartEngine.XAxis.lineBaseLevel=500,t.extend(t.ChartEngine.XAxis.prototype,{formatter:null,adjustTimeZone:!0,displayBorder:!0,displayGridLines:!0,fitLeftToRight:null,fitTight:null,maxLevelToDisplay:0,noDraw:null,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:1},!0),t.ChartEngine.XAxisLabel=function(e){var i;i="u",i+="ndefi",i+="ned","number"==typeof e?(this.hz=e,R.W80(21),this.grid=arguments[R.j80("1",522187360)],this.text=arguments[2]):Object.assign(this,e),this.level||0===this.level||(this.level="boundary"===this.grid?0:t.ChartEngine.XAxis.lineBaseLevel),typeof this.text===i&&(this.text=this.raw),this.text=this.text.toString()},t.ChartEngine.prototype.createXAxis=function(e){var t,i;return R.G7n(),e.dataSegment.length<=0||e.xAxis.noDraw?null:(t=[e],(i=this.runPrepend("createXAxis",t))||(i=this.mainSeriesRenderer&&this.mainSeriesRenderer.createXAxis?this.mainSeriesRenderer.createXAxis(e):this.createTickXAxisWithDates&&e.xAxis.fitLeftToRight?this.createTickXAxisWithDates(e):this.createSpacedDateXAxis(e),this.headsUpHR(),this.runAppend("createXAxis",t)),i)},t.ChartEngine.prototype.createXAxisLabel=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x=R;i="to",i+="p",arguments[0]instanceof t.ChartEngine.Panel&&(e={panel:arguments[0],txt:arguments[1],x:arguments[2],backgroundColor:arguments[3],color:arguments[4],pointed:arguments[5],padding:arguments[6]}),a=e.panel,n=e.txt,r=e.x,s=e.backgroundColor,o=e.color,l=e.pointed,h=0===e.padding?0:e.padding||2,c=this.chart.context,d="stx-float-date",x.W80(13);var C=x.j80(0,2);u=this.getCanvasFontSize(d)+h*C,this.canvasFont(d,c);try{p=c.measureText(n).width+2*h}catch(e){p=0}if(m=a.top+a.height-u-h,!(r+p/2<a.left||r-p/2>a.right)){if(!l){if(r+p/2>a.right){x.S80(13);var S=x.l80(0,2);r=a.right-p/S}if(r-p/2<a.left){x.S80(99);var T=x.l80(5,3,1);r=a.left+p/T}}if(c.fillStyle=s,t.roundRect({ctx:c,x:r-p/2,top:m,width:p,height:u,radius:3,fill:!0}),g=a.bottom-a.yAxis.bottom-u,c.beginPath(),l?(x.S80(7),c.moveTo(x.l80(r,g),m),x.W80(152),c.lineTo(r,x.l80(g,"1",m)),x.S80(13),c.lineTo(x.l80(r,g),m),c.closePath(),c.fill()):(c.moveTo(r,m),x.S80(7),c.lineTo(r,x.j80(m,g)),c.strokeStyle=s,c.stroke()),c.textBaseline=i,c.fillStyle=o||t.chooseForegroundColor(s),c.fillStyle==s){f=-1967038346,x.S80(4),v=x.l80(2147483647,"1145334745"),y=2;for(var D=1;x.g81(D.toString(),D.toString().length,36129)!==f;D++)s.toUpperCase(),c.fillStyle="#FFFFFF",y+=2;x.g81(y.toString(),y.toString().length,34347)!==v&&(b="#F",b+="FFFFF",s.toUpperCase()==b?c.fillStyle="#000000":c.fillStyle="#FFFFFF")}x.W80(153),c.fillText(n,x.j80("1",p,0,r,2,h),x.l80(h,2,m,x.S80(154)))}}},H=e=>{var t;(t=e.CIQ).createLabel=function(e){e.ctx.textBaseline="middle",e.ctx.fillStyle=e.color?e.color:t.chooseForegroundColor(e.backgroundColor),e.ctx.fillStyle===e.backgroundColor&&("#FFFFFF"==e.backgroundColor.toUpperCase()?e.ctx.fillStyle="#000000":e.ctx.fillStyle="#FFFFFF"),e.ctx.fillText(e.txt,e.x+e.margin.left,e.y+e.margin.top),e.ctx.textAlign="left"},t.roundRectArrow=function(e){t.roundRect(e,"arrow")},t.semiRoundRect=function(e){t.roundRect(e,"flush")},t.rect=function(e){e.radius=0,t.roundRect(e)},t.noop=function(e){e.color=e.backgroundColor,t.createLabel(e)},t.tickedRect=function(e){var i,a=R;a.X7n(),t.rect(e),a.W80(13);var n=a.j80(0,2);a.W80(13);var r=a.j80(0,1);i=Math.round(e.top+e.height/n)+"0.5"*r,e.ctx.beginPath(),e.ctx.moveTo(e.x-2,i),e.ctx.lineTo(e.x,i),e.ctx.stroke(),e.ctx.closePath()},t.roundRect=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S=R;a="f",a+="lu",a+="s",a+="h",n="u",n+="nde",n+="fined",r="unde",r+="fined",9===arguments.length&&(e={ctx:arguments[0],x:arguments[1],top:arguments[2],width:arguments[3],height:arguments[4],radius:arguments[5],fill:arguments[6],stroke:arguments[7],edge:arguments[8]}),s=e.stroke,o=e.x,l=e.top,h=e.width,c=e.height,d=e.radius,u=e.fill,p=e.ctx,typeof s==r&&(s=!0),typeof d===n&&(d=5,h<0&&(d=-5)),m=h<0?-1*d:d,d&&!i&&(S.S80(155),o=S.l80(0,"1",o)),S.X7n(),S.W80(13),g=S.j80(o,d),S.S80(13),f=S.l80(o,h),S.S80(13),v=S.l80(l,m),S.S80(13),y=S.j80(l,c),S.S80(7),b=S.l80(f,d),S.W80(7),x=S.j80(y,m),p.beginPath(),p.moveTo(g,l),p.lineTo(b,l),p.quadraticCurveTo(f,l,f,v),p.lineTo(f,x),p.quadraticCurveTo(f,y,b,y),p.lineTo(g,y),i==a?(p.lineTo(o,y),p.lineTo(o,l)):"arrow"==i?(S.W80(7),p.quadraticCurveTo(o,y,S.j80(o,d),x),C=h<0?1:-1,S.S80(156),p.lineTo(S.l80(C,o,2,c),S.l80(c,2,l,S.S80(137))),S.W80(7),p.lineTo(S.j80(o,d),v),p.quadraticCurveTo(o,l,g,l)):(p.quadraticCurveTo(o,y,o,x),p.lineTo(o,v),p.quadraticCurveTo(o,l,g,l)),p.closePath(),e.backgroundColor&&(p.fillStyle=e.backgroundColor),s&&p.stroke(),u&&p.fill(),e.txt&&t.createLabel(e)},t.ChartEngine.YAxis=function(e){for(var i in e)this[i]=e[i];this.name||(this.name=t.uniqueID()),"none"==this.position&&(this.width=0)},t.extend(t.ChartEngine.YAxis.prototype,{name:null,high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,allowSharing:!0,multiplier:null,bottom:null,top:null,height:null,left:null,renderers:[],studies:[],lowValue:null,highValue:null,semiLog:null,priceTick:null,printDecimalPlaces:null,yAxisPlotter:null,highlight:null},!0),t.ChartEngine.YAxis.defaultShadowBreaks=[[1e3,2],[5,4],[.001,8]],t.ChartEngine.YAxis.smallChartShadowBreaks=[[10,2],[1,4]],t.ChartEngine.YAxis.prototype.maxDecimalPlaces=null,t.ChartEngine.YAxis.prototype.max=null,t.ChartEngine.YAxis.prototype.min=null,t.ChartEngine.YAxis.prototype.decimalPlaces=null,t.ChartEngine.YAxis.prototype.idealTickSizePixels=null,t.ChartEngine.YAxis.prototype.minimumPriceTick=null,t.ChartEngine.YAxis.prototype.fractional=null,t.ChartEngine.YAxis.prototype.displayBorder=!0,t.ChartEngine.YAxis.prototype.displayGridLines=!0,t.ChartEngine.YAxis.prototype.noDraw=null,t.ChartEngine.YAxis.prototype.drawCurrentPriceLabel=!0,t.ChartEngine.YAxis.prototype.drawSeriesPriceLabels=!0,t.ChartEngine.YAxis.prototype.drawPriceLabels=!0,t.ChartEngine.YAxis.prototype.goldenRatioYAxis=!0,t.ChartEngine.YAxis.prototype.yaxisLabelStyle=null,t.ChartEngine.YAxis.prototype.justifyRight=null,t.ChartEngine.YAxis.prototype.flipped=!1,t.ChartEngine.YAxis.prototype.textBackground=!1,t.ChartEngine.YAxis.prototype.priceFormatter=null,t.ChartEngine.YAxis.prototype.bottomOffset=0,t.ChartEngine.YAxis.prototype.topOffset=0,t.ChartEngine.YAxis.prototype.initialMarginTop=10,t.ChartEngine.YAxis.prototype.initialMarginBottom=10,t.ChartEngine.YAxis.prototype.zoom=0,t.ChartEngine.YAxis.prototype.scroll=0,t.ChartEngine.YAxis.prototype.heightFactor=1,Object.defineProperty(t.ChartEngine.YAxis.prototype,"width",{configurable:!0,enumerable:!0,get:function(){return R.X7n(),"none"===this.position?0:this._dynamicWidth||this._width},set:function(e){this._width=e,R.X7n(),this._dynamicWidth<e&&(this._dynamicWidth=NaN)}}),R.W80(34),t.ChartEngine.YAxis.prototype.width=R.j80(2051894976,"60"),t.ChartEngine.YAxis.prototype.smallScreenWidth=50,t.ChartEngine.YAxis.prototype.textStyle=null,t.ChartEngine.YAxis.prototype.position=null,t.ChartEngine.YAxis.prototype.pretty=!0,t.ChartEngine.YAxis.prototype.increments=[1,2.5,5],t.ChartEngine.YAxis.prototype.prettySemiLog=!0,t.ChartEngine.YAxis.prototype.shadowBreaks=t.ChartEngine.YAxis.defaultShadowBreaks,t.ChartEngine.YAxis.prototype.getYAxis=function(e){return R.X7n(),this},t.ChartEngine.YAxis.prototype.isShared=function(e,t){var i,a;if(R.X7n(),i=this.studies.length,a=this.renderers.length,i>1)return!0;if(a&&i)return!0;if(!a)return!1;if(a>1&&t)return!0;for(var n=a-1;n>=0;n--)e.chart.seriesRenderers[this.renderers[n]].params.dependentOf&&a--;return R.W80(157),R.l80(1,a)},t.ChartEngine.YAxis.prototype.setBackground=function(e,i){var a;i||(i={}),i.color||(i.color="auto"),a=[[this.left,this.top],[this.left,this.bottom],[this.left+this.width,this.bottom],[this.left+this.width,this.top]],R.G7n(),t.fillArea(e,a,{color:i.color,opacity:i.opacity})},t.ChartEngine.YAxis.prototype.setBreakpointWidth=function(e){var i;if(e){R.G7n();var{width:a,smallScreenWidth:n}=t.ChartEngine.YAxis.prototype;R.S80(126),i=R.j80(e,"break-sm"),this.width=i?n:a}},t.ChartEngine.prototype.getLabelOffsetInPixels=function(e,t){var i,a;return i=!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars,"roundRectArrow"!=this.yaxisLabelStyle||i&&this.extendLastTick&&0!==e.yaxisPaddingRight?0:(a=this.getCanvasFontSize("stx_yaxis")+6,R.W80(46),R.l80(.66,a))},t.ChartEngine.prototype.flipChart=function(e){this.layout.flipped!=e&&(this.layout.flipped=e,this.chart.yAxis.flipped=e,this.changeOccurred("layout"),this.draw())},t.ChartEngine.prototype.calculateYAxisMargins=function(e){var t=R;if(e.heightFactor){t.W80(1);var i=t.j80(11,12);e.zoom=e.height*(i-e.heightFactor)}e.zoom+=e.initialMarginTop+e.initialMarginBottom,t.S80(158);var a=t.l80(15,4,16,7,62);e.scroll=(e.initialMarginTop-e.initialMarginBottom)/a,e.zoom>e.height&&(e.zoom=0,e.scroll=0)},t.ChartEngine.prototype.resetDynamicYAxis=function(e){var t,i,a,n;if(t="r",t+="esetDynam",t+="icYAxis",!this.runPrepend(t,arguments)){for(var r in i=!1,this.panels)if(a=this.panels[r],(!e||!e.chartName||a.chart.name===e.chartName)&&a.yaxisLHS&&a.yaxisRHS){n=a.yaxisLHS.concat(a.yaxisRHS);for(var s=0;s<n.length;s++)n[s]._dynamicWidth&&(n[s]._dynamicWidth=NaN,i=!0)}!i||e&&e.noRecalculate||this.calculateYAxisPositions(),this.runAppend("resetDynamicYAxis",arguments)}},t.ChartEngine.prototype.notifyBreakpoint=function(e){var i,a,n,r;if(i="b",i+="r",i+="ea",i+="k-md",this.chart.breakpoint!==e&&["break-lg",i,"break-sm"].includes(e)){var{chart:s}=this,{dynamicYAxis:o}=s;for(var l in a=t.ThemeHelper&&new t.ThemeHelper({stx:this}),this.clearStyles(),a&&a.update(this),s.breakpoint=e,this.panels){r=(n=this.panels[l]).yaxisRHS.concat(n.yaxisLHS);for(var h=0;h<r.length;h++)r[h].setBreakpointWidth(e)}o&&this.resetDynamicYAxis({chartName:s.name})}},t.ChartEngine.prototype.adjustYAxisHeightOffset=function(e,t){var i,a;if((i=t.topOffset)+(a=t.bottomOffset)>e.height&&(console.log("The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0."),t.bottomOffset=0,t.topOffset=0),!this.xaxisHeight&&0!==this.xaxisHeight){R.W80(159);var n=R.j80(1499048184,6,6,1249206815,14);this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+("4">>n),(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)}(this.xAxisAsFooter&&e.bottom>this.chart.canvasHeight-this.xaxisHeight||!this.xAxisAsFooter&&e==this.chart.panel)&&(a+=this.xaxisHeight),t.top=e.top+i,t.bottom=e.bottom-a},t.ChartEngine.prototype.plotYAxisGrid=function(e){var t,i;this.runPrepend("plotYAxisGrid",arguments)||(R.G7n(),t=this.getBackgroundCanvas().context,(i=e.yAxis).yAxisPlotter&&i.yAxisPlotter.draw(t,"grid"),this.runAppend("plotYAxisGrid",arguments))},t.ChartEngine.prototype.plotYAxisText=function(e){var t,i,a,n;function r(e){R.G7n(),e.yAxisPlotter&&!e.noDraw&&e.width&&(e.justifyRight?i.textAlign="right":!1===e.justifyRight&&(i.textAlign="left"),e.yAxisPlotter.draw(i,"text"))}if(t="st",t+="x_",t+="yaxi",t+="s",!this.runPrepend("plotYAxisText",arguments)){for(i=this.getBackgroundCanvas().context,this.canvasFont(t,i),this.canvasColor("stx_yaxis",i),i.textBaseline="middle",a=e.yaxisLHS,n=0;n<a.length;n++)i.textAlign="right",r(a[n]);for(a=e.yaxisRHS,n=0;n<a.length;n++)i.textAlign="left",r(a[n]);i.textAlign="left",i.textBaseline="alphabetic",this.runAppend("plotYAxisText",arguments)}},t.ChartEngine.prototype.decimalPlacesFromPriceTick=function(e,t){return t&&(e/=t),e<1e-4?8:e<.01?4:e<.1?2:e<1?1:(R.X7n(),0)},t.ChartEngine.prototype.formatYAxisPrice=function(e,i,a,n,r){var s,o,l,h,c;return null==e||isNaN(e)?"":(i||(i=this.chart.panel),s=n||i.yAxis,(o=a)||0===o||(o=s.printDecimalPlaces),o||0===o||(o=this.decimalPlacesFromPriceTick(s.priceTick,s.idealTickSizePixels)),l=s==i.chart.yAxis?2e4:1e3,R.G7n(),s.priceTick>=l?(e=e.toFixed(o),t.condenseInt(e)):((h=this.internationalizer)&&!1!==r?(o>=(c=h.priceFormatters.length)&&(R.W80(160),o=R.j80(c,"1")),e=h.priceFormatters[o].format(e)):e=e.toFixed(o),e))},t.ChartEngine.prototype.calculateYAxisRange=function(e,t,i,a){var n,r,s,o,l,h,c,d,u,p=R;if(i==Number.MAX_VALUE&&(i=0,a=0),n=e.height,r=null,s=null,this.adjustYAxisHeightOffset(e,t),t.height=t.bottom-t.top,o=Math.round(Math.abs(n/5)),t.zoom>=0&&n-Math.abs(t.scroll)<o){p.S80(88);var m=p.l80(20,18,3,0);p.S80(84);var g=p.j80(7,14,6);t.scroll=(n-o)*(t.scroll<0?m:g)}l=e.chart.name===e.name&&e.yAxis.name===t.name,h=i>0&&(this.layout.semiLog||"log"==this.layout.chartScale)&&!e.chart.isComparison&&"pandf"!=this.layout.aggregationType,(i||0===i)&&(a-i==0?(p.S80(7),1==(c=Math.pow(p.j80("10",0),-(i.toString()+".").split(".")[1].length))&&(c=100),p.W80(13),r=p.l80(i,c),p.S80(7),s=p.l80(i,c)):l&&h&&(a||0===a)?(d=Math.log(i)/Math.LN10,u=Math.log(a)/Math.LN10,r=Math.pow(10,u),s=Math.pow(10,d)):(r=a,s=i),t.high=r,t.low=s),(t.max||0===t.max)&&(t.high=t.max),(t.min||0===t.min)&&(t.low=t.min),t.shadow=t.high-t.low,l&&(t.semiLog!=h&&(this.clearPixelCache(),t.semiLog=h),t.flipped=this.layout.flipped)},t.ChartEngine.prototype.renderYAxis=function(e){var i,a,n,r,s,o,l,h,c;if(i="rende",i+="rYAx",i+="is",a="y",a+="Axi",a+="s",!this.runPrepend("renderYAxis",arguments)){if(this.checkLogScale())throw new Error("reboot draw");this.rendererAction(e,a);var{context:d}=this.getBackgroundCanvas(e);for(var u in this.panels)if((n=this.panels[u]).chart==e){for(r=n.yaxisRHS.concat(n.yaxisLHS),s=0;s<r.length;s++)o=r[s],this.calculateYAxisRange(n,o,o.lowValue,o.highValue),(l=t.getFn("Studies.getYAxisParameters",{})(this,o)).yAxis=o,this.createYAxis(n,l),this.drawYAxis(n,l),t.getFn("Studies.doPostDrawYAxis")(this,o);for(s=0;s<r.length;s++)(o=r[s]).dropzone&&(h=this.canvasStyle("stx-subholder dropzone left"))&&(d.save(),d.strokeStyle=h.borderLeftColor,d.lineWidth=parseFloat(h.borderLeftWidth),d.beginPath(),"all"==o.dropzone?d.strokeRect(o.left,o.top,o.width,o.height):(c=o.left+("left"==o.dropzone?0:o.width),d.moveTo(c,o.top),d.lineTo(c,o.top+o.height),d.stroke()),d.restore());this.displayDragOK&&this.displayDragOK(!0)}this.runAppend(i,arguments)}},t.ChartEngine.prototype.updateFloatHRLabel=function(e){var i,a,n,r,s,o,l;if(this.floatCanvas&&(i=e.yaxisLHS.concat(e.yaxisRHS),a=this.crossYActualPos?this.crossYActualPos:this.cy,this.floatCanvas.isDirty&&t.clearCanvas(this.floatCanvas,this),!this.controls.crossX||"none"!=this.controls.crossX.style.display)){this.controls.crossY&&(n=e.width,"roundRectArrow"==this.yaxisLabelStyle&&(n-=7),this.controls.crossY.style.left=e.left+"px",R.W80(13),this.controls.crossY.style.width=R.j80(n,"px"));for(var h=0;h<i.length;h++)r=i[h],s=this.transformedPriceFromPixel(a,e,r),isNaN(s)||(r.min||0===r.min)&&s<r.min||(r.max||0===r.max)&&s>r.max||(o=null,r!==e.chart.yAxis&&(o=r.decimalPlaces),r.priceFormatter?(o||0===o||(o=this.decimalPlacesFromPriceTick(r.priceTick,r.idealTickSizePixels)),s=r.priceFormatter(this,e,s,o)):s=this.formatYAxisPrice(s,e,o,r),l=this.canvasStyle("stx-float-price"),this.createYAxisLabel(e,s,a,l.backgroundColor,l.color,this.floatCanvas.context,r),this.floatCanvas.isDirty=!0)}},t.ChartEngine.prototype.whichYAxis=function(e,t,i){var a,n,r;if(R.G7n(),void 0===t&&(t=this.cx),void 0===i&&(i=this.cy),a=this.whichPanel(i),e&&e==a){n=e.yaxisLHS.concat(e.yaxisRHS);for(var s=0;s<n.length;s++)if((r=n[s]).left<=t&&r.left+r.width>=t)return r}return null},t.ChartEngine.prototype.yaxisMatches=function(e,i){return!!(e&&e.getYAxis&&i&&i instanceof t.ChartEngine.YAxis)&&e.getYAxis(this).name==i.name},t.ChartEngine.prototype.createYAxisLabel=function(e,i,a,n,r,s,o){var l,h,c,d,u,p,m,g,f,v,y,b=R;if(!1!==(l=o||e.yAxis).drawPriceLabels&&!l.noDraw&&l.width){h=s||this.chart.context,b.W80(13);var x=b.l80(0,2);c=this.getCanvasFontSize("stx_yaxis")+3*x,this.canvasFont("stx_yaxis",h),d=null===l.displayBorder?e.yAxis.displayBorder:l.displayBorder,!1===this.axisBorders&&(d=!1),!0===this.axisBorders&&(d=!0),u=d?3:0,p=3;try{b.W80(161);var C=b.j80(18,234,8,3,8);m=h.measureText(i).width+u+3*C}catch(e){m=l.width}if("left"===(null===l.position?e.chart.yAxis.position:l.position))if(f=l.left+l.width,l.width<0&&(f-=l.width+m),p=-3,!1===l.justifyRight){h.textAlign="left",b.W80(162);var S=b.l80(0,16,16);m=l.width*S,g=f-l.width+3}else h.textAlign="right",b.S80(22),m=b.j80(m,1),b.W80(84),g=b.j80(u,f,3);else f=l.left,l.width<0&&(f+=l.width-m),l.justifyRight?(h.textAlign="right",m=l.width,g=l.left+m-3):(h.textAlign="left",b.W80(33),g=b.l80(f,3,u));if(a+c/2>l.bottom){b.S80(56);var T=b.j80(40,4,142,4);a=l.bottom-c/T}a-c/2<l.top&&(a=l.top+c/2),void 0===t[this.yaxisLabelStyle]&&(this.yaxisLabelStyle="roundRectArrow"),v=this.yaxisLabelStyle,l.yaxisLabelStyle&&(v=l.yaxisLabelStyle),y={ctx:h,x:f,y:a,top:a-c/2,width:m,height:c,radius:p,backgroundColor:n,fill:!0,stroke:!1,margin:{left:g-f,top:1},txt:i,color:r},t[v](y)}},t.ChartEngine.prototype.drawCurrentHR=function(){var e,t,i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b;if(e="d",e+="r",e+="awCu",e+="rrentHR",!this.runPrepend("drawCurrentHR",arguments)&&(a=this.mainSeriesRenderer||{},R.G7n(),!a.noCurrentHR)){for(var x in n=a.highLowBars,this.charts)if(r="da",r+="taSegme",r+="nt",l=(o=(s=this.charts[x]).panel).yAxis,!o.hidden&&!1!==l.drawCurrentPriceLabel&&!l.noDraw&&a.params&&((h=l.whichSet)||(h="dataSet"),!this.isHistoricalModeSet||h===r)){if(c=s[h].length,d=this.layout.candleWidth,"dataSegment"==h)for(;c>(s.width-this.micropixels+d/2+1)/d;)c--;if(c&&s[h][c-1]){(u=s.defaultPlotField)&&!n||(u="Close");do{if(m=p=s[h][--c][u],0===c)break}while(null==m);"dataSet"==h&&s.currentQuote?m=s.currentQuote[u]:s[h].length>=2&&(R.S80(7),(g=s[h][R.l80(c,1)])&&(p=g[u])),m<p?(f="stx",f+="_current",f+="_hr",f+="_down",t=this.canvasStyle("stx_current_hr_down").backgroundColor,i=this.canvasStyle(f).color):(t=this.canvasStyle("stx_current_hr_up").backgroundColor,i=this.canvasStyle("stx_current_hr_up").color),s.transformFunc&&(m=s.transformFunc(this,s,m)),y=Math.max(o.yAxis.printDecimalPlaces,o.chart.decimalPlaces),(l.maxDecimalPlaces||0===l.maxDecimalPlaces)&&(y=Math.min(y,l.maxDecimalPlaces)),v=l.priceFormatter?l.priceFormatter(this,o,m,y):this.formatYAxisPrice(m,o,y),b=this.pixelFromTransformedValue(m,o),this.createYAxisLabel(o,v,b,t,i),!0===this.preferences.currentPriceLine&&this.isHome()&&this.plotLine(o.left,o.right,b,b,t,"line",o.chart.context,o,{pattern:"dashed",lineWidth:1,opacity:.8,globalCompositeOperation:"destination-over"})}}this.runAppend(e,arguments)}},t.ChartEngine.prototype.getYAxisByName=function(e,t){var i,a;i=2;for(var n=1;1034500796!==R.r81(n.toString(),n.toString().length,44769);n++){if(""===+e&&(e=this.panels[e]),+e&&-t)return;if(t==e.yAxis.name)return e.yAxis;i+=2}if(-1623233042!==R.r81(i.toString(),i.toString().length,29938)){if("string"==typeof e&&(e=this.panels[e]),!e||!t)return;if(t===e.yAxis.name)return e.yAxis}for(a=0;e.yaxisLHS&&a<e.yaxisLHS.length;a++)if(e.yaxisLHS[a].name===t)return e.yaxisLHS[a];for(a=0;e.yaxisRHS&&a<e.yaxisRHS.length;a++)if(e.yaxisRHS[a].name===t)return e.yaxisRHS[a]},t.ChartEngine.prototype.getYAxisByField=function(e,t){var i,a,n,r,s,o;if(t){for(i in this.layout.studies)if((a=this.layout.studies[i]).panel==e.name&&a.outputMap&&a.outputMap.hasOwnProperty(t))return a.getYAxis(this);for(i in this.chart.seriesRenderers){r=this.chart.seriesRenderers[i];for(var l=0;l<r.seriesParams.length;l++)if(r.params.panel==e.name){if((o=(s=r.seriesParams[l]).field)||r.highLowBars||(o=this.defaultPlotField||"Close"),s.symbol&&s.subField&&(o+="--\x3e"+s.subField),t==o)return r.params.yAxis||e.yAxis;s.field&&s.field==t.split("--\x3e")[0]&&(n=r.params.yAxis||e.yAxis)}}if(n)return n}},t.ChartEngine.prototype.deleteYAxisIfUnused=function(e,t){var i,a,n;if("string"==typeof e&&(e=this.panels[e]),t&&e){for(var r=0;r<t.renderers.length;r++)if((i=this.chart.seriesRenderers[t.renderers[r]])&&i.params.panel==e.name)return;if(t.name!==e.yAxis.name||e.yaxisRHS.length+e.yaxisLHS.length!==1){for(a=0;e.yaxisRHS&&a<e.yaxisRHS.length;a++)e.yaxisRHS[a]===t?e.yaxisRHS[a]=null:n||(n=e.yaxisRHS[a]);for(a=0;e.yaxisLHS&&a<e.yaxisLHS.length;a++)e.yaxisLHS[a]===t?e.yaxisLHS[a]=null:n||(n=e.yaxisLHS[a]);e.yaxisRHS=e.yaxisRHS.filter(s),e.yaxisLHS=e.yaxisLHS.filter(s),n&&t.name===e.yAxis.name&&(e.yAxis=n),this.calculateYAxisPositions()}}function s(e){return R.X7n(),R.S80(113),R.l80(null,e)}},t.ChartEngine.prototype.addYAxis=function(e,t){var i,a,n;if(R.X7n(),"string"==typeof e&&(e=this.panels[e]),t&&e){for(e.yaxisLHS||(e.yaxisLHS=[],e.yaxisRHS=[],"left"==e.yAxis.position||"right"!=e.yAxis.position&&"left"==e.chart.panel.yAxis.position?e.yaxisLHS.push(e.yAxis):e.yaxisRHS.push(e.yAxis)),a=[],i=(n=e.yaxisLHS).length-1;i>=0;i--)if(n[i].name===t.name){if("right"!=t.position)return n[i];a=n.splice(i,1)}for(i=(n=e.yaxisRHS).length-1;i>=0;i--)if(n[i].name===t.name){if("left"!=t.position)return n[i];a=n.splice(i,1)}return"left"===t.position||"right"!=t.position&&"left"==e.chart.panel.yAxis.position?e.yaxisLHS.unshift(t):e.yaxisRHS.push(t),t.setBreakpointWidth(this.chart.breakpoint),t.height=e.yAxis.height,t.idealTickSizePixels=null,a[0]==e.yAxis&&(e.yAxis=t),t.lockScale||this.calculateYAxisMargins(t),"scroll"in t||(R.S80(21),t.scroll=R.j80("0",1973387328)),t}},t.ChartEngine.prototype.calculateYAxisPositions=function(){var e,t,i,a,n,r,s,o,l,h,c,d,u,p,m,g;for(var f in e=[],this.charts)this.charts[f].hidden||this.charts[f].panel.hidden||e.push(f);for(var v in this.panels)(t=this.panels[v]).name===t.chart.name||t.hidden||e.push(v);for(i=0,a=0,r=0;r<e.length;r++)if(s=this.panels[e[r]]){for(s.yaxisLHS||(s.yaxisLHS=[],s.yaxisRHS=[]),l=s.yaxisLHS,h=s.yaxisRHS,(c=s.yAxis.position)&&"none"!=c||(c=s.chart.yAxis.position||"right"),l.length||h.length||("left"==c?l.push(s.yAxis):h.push(s.yAxis)),d=[],u=[],n=l.length-1;n>=0;n--)("right"==l[n].position||"left"!=l[n].position&&"right"==c)&&(d=d.concat(l.splice(n,1)));for(n=h.length-1;n>=0;n--)("left"==h[n].position||"right"!=h[n].position&&"left"==c)&&(u=u.concat(h.splice(n,1)));for(s.yaxisLHS=u.concat(l),s.yaxisRHS=h.concat(d),s.yAxis.width||0===s.yAxis.width||(s.yAxis.width=this.yaxisWidth),s.yaxisTotalWidthRight=0,s.yaxisTotalWidthLeft=0,p=s.yaxisLHS.concat(s.yaxisRHS),n=0;n<p.length;n++)!(o=p[n]).noDraw&&o.width&&("left"==o.position||"left"==c&&!o.position?s.yaxisTotalWidthLeft+=o.width:s.yaxisTotalWidthRight+=o.width);s.yaxisTotalWidthLeft>i&&(i=s.yaxisTotalWidthLeft),s.yaxisTotalWidthRight>a&&(a=s.yaxisTotalWidthRight)}for(r=0;r<e.length;r++)if(s=this.panels[e[r]]){for(m=s.name===s.chart.name,g=i,n=s.yaxisLHS.length-1;n>=0;n--)(o=s.yaxisLHS[n]).noDraw||(g-=o.width,o.left=g);for(g=this.width-a,n=0;n<s.yaxisRHS.length;n++)(o=s.yaxisRHS[n]).noDraw||(o.left=g,g+=o.width);void 0!==this.yaxisLeft&&(s.chart.yaxisPaddingRight=this.yaxisLeft),s.yaxisCalculatedPaddingRight=a,(s.chart.yaxisPaddingRight||0===s.chart.yaxisPaddingRight)&&(s.yaxisCalculatedPaddingRight=s.chart.yaxisPaddingRight),s.yaxisCalculatedPaddingLeft=i,(s.chart.yaxisPaddingLeft||0===s.chart.yaxisPaddingLeft)&&(s.yaxisCalculatedPaddingLeft=s.chart.yaxisPaddingLeft),m||s.chart.panel.hidden?(s.left=s.yaxisCalculatedPaddingLeft,s.right=this.width-s.yaxisCalculatedPaddingRight):(s.left=s.chart.panel.left,s.right=s.chart.panel.right),s.width=s.right-s.left,s.handle&&(s.handle.style.left=s.left+"px",s.handle.style.width=s.width+"px"),(m||s.chart.panel.hidden)&&(s.chart.panel.left=s.chart.left=s.left,s.chart.panel.right=s.chart.right=s.right,s.chart.panel.width=s.chart.width=Math.max(s.right-s.left,0))}this.setMaxTicks(this.chart.maxTicks),R.X7n(),this.adjustPanelPositions()},t.ChartEngine.prototype.getYAxisCurrentPosition=function(e,t){var i;if(R.X7n(),!e.width)return"none";i=t.yaxisLHS;for(var a=0;a<i.length;a++)if(i[a].name==e.name)return"left";return"right"},t.ChartEngine.prototype.setYAxisPosition=function(e,t){e.position=t,e.setBreakpointWidth(this.chart.breakpoint),this.calculateYAxisPositions(),this.draw()},t.ChartEngine.prototype.electNewYAxisOwner=function(e){var t,i;R.X7n(),R.S80(21),(t=e.studies[R.l80("0",1693810592)])&&t!=e.name||(t=e.renderers[0]),t&&t!=e.name||(t=e.studies[1]),t||(t=e.renderers[1]);for(var a=0;a<e.studies.length;a++)(i=this.layout.studies[e.studies[a]]).parameters&&i.parameters.yaxisDisplayValue==e.name&&(i.parameters.yaxisDisplayValue=t);return t}},I=e=>{var t,i,a=R;a.L2D=function(e){if(a)return a.t2D(e)},a.R2D=function(e){if(a&&e)return a.E2D(e)},a.h2D=function(e){if(a)return a.E2D(e)},a.m2D=function(e){if(a.G7n(),a&&e)return a.E2D(e)},a.g2D=function(e){if(a.G7n(),a)return a.E2D(e)},t=e.CIQ,i="valid",t.valid=0,t.ChartEngine.prototype.consolidatedQuote=function(e,i){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D;if(n="conso",n+="l",n+="id",n+="atedQuote",this.runPrepend(n,arguments))return e;if(!e||!e.length)return[];if(r=this.layout,s=this.chart,o=this,!s.market)return l="Cannot consolidate: no market iterator available.  Please make sure market mod",l+="ule is enabled.",console.log(l),e;function w(e,i,n){var s,l,h,c,d,u,p,m;if(i||(i={DT:n,Date:t.yyyymmddhhmmssmmm(n),consolidatedTicks:0}),i.displayDate||o.setDisplayDate(i),s=1,r.adj&&e.Adj_Close&&(s=e.Adj_Close/e.Close),((l=e.High||e.Close)||0===l)&&l*s>(i.High||-Number.MAX_VALUE)&&(a.W80(46),i.High=a.j80(s,l)),((h=e.Low||e.Close)||0===h)&&h*s<(i.Low||Number.MAX_VALUE)&&(a.S80(46),i.Low=a.l80(s,h)),((c=e.Open||e.Close)||0===c)&&(i.Open||0===i.Open||(a.W80(46),i.Open=a.j80(s,c))),void 0!==e.Volume){a.S80(2);var g=a.j80(14,7837309568,5877982190);i.Volume=(i.Volume||"0">>g)+e.Volume}void 0!==e.Close&&null!==e.Close&&(i.Close=e.Close*s),d=2;for(var f=1;1465955038!==a.g81(f.toString(),f.toString().length,1645);f++)void 0!==e.Adj_Close&&null!==e.Adj_Close&&(i.Adj_Close=e.Adj_Close),d+=2;for(var v in-1420894841!==a.g81(d.toString(),d.toString().length,68701)&&(void 0!==e.Adj_Close&&1!==e.Adj_Close||(i.Adj_Close=e.Adj_Close)),i.ratio=s,e)u="As",u+="k",u+="L",u+="2",p="A",p+="s",p+="k",m="B",m+="i",m+="d",e[v]&&void 0!==e[v].Close?i[v]=w(e[v],i[v],n):i[v]?[m,"BidL2",p,u].indexOf(v)>-1&&(i[v]=e[v]):i[v]=e[v];return i.consolidatedTicks++,i}for(h=r.periodicity,c=r.interval,d=r.timeUnit,i||(i={}),i.periodicity&&i.interval&&(h=i.periodicity,c=i.interval,d=i.timeUnit),u=1,!(p=t.ChartEngine.isDailyInterval(c))&&s.useInflectionPointForIntraday&&(u=h),(!(m=s.inflectionPoint)||m<e[0].DT)&&(m=new Date(+e[0].DT),p||s.market.market_def||m.setHours(0,-m.getTimezoneOffset(),0,0)),g=[],f={begin:m,interval:c,multiple:h/u,timeUnit:d},"tick"==c&&(a.W80(4),m.setHours(0,0,a.j80(2147483647,"0"),0),f={begin:m,interval:"day",multiple:1}),v=s.market.newIterator(t.clone(f));v.previous(u)>e[0].DT;);for(y=v.previous(u),b=v.next(u),x=0,C=0;x<e.length;)if(S="t",S+="i",S+="c",S+="k",(T=e[x]).DT<y)console.log("Warning: out-of-order quote in dataSet, disregarding: "+T.DT),x++;else{if(T.DT>=b){if(y=b,b=v.next(u),!g[C])continue}else{if("tick"==c&&T.consolidatedTicks>0){g[C]=T,x++;continue}if(!g[C]||c!=S||g[C].consolidatedTicks<h){(D=w(T,g[C],"tick"==c?T.DT:y))&&(g[C]=D),x++;continue}}C++}return this.runAppend("consolidatedQuote",arguments),g},t[a.Z2D("5cdf")?"ChartEngine":""][a.g2D("baa4")?"prototype":""][a.o2D("8546")?"createDataSet":""]=function(e,n,r){a.G2D=function(e){if(a&&e)return a.E2D(e)},a.x2D=function(e){if(a.X7n(),a&&e)return a.E2D(e)},a.B2D=function(e){if(a)return a.t2D(e)},a.c2D=function(e){if(a.X7n(),a)return a.E2D(e)};var s=-(a.d2D("c322")?1060398982:9001701305),o=a.m2D("a67f")?611470195:367269136,l=a.c2D("38c5")?3361949744:1754641761,h=-(a.D2D("f127")?1936784779:1446524387);if(a.p8q(a.z2D("b67d")?0:7,!1,a.B2D("13aa")?183569:564448)===s||a.n8q(a.x2D("f1ba")?0:1,!1,a.h2D("89bc")?571235:531182)===o||a.p8q(13,!!a.M2D("5ac3"),976616)===l||a.p8q(0,!1,650685)===h||-1232396546===a.p8q(a.R2D("ffcc")?4:8,!!a.G2D("ed5c"),a.L2D("9887")?891895:394510)||-1465256149===a.p8q(0,!1,612935)){var c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,R,z,U,Z,W,Y,B,Q,X,G,K,$;if(r||(r={}),d=[e,c=this.chart,Object.assign({},r)],this.runPrepend("createDataSet",d))return;if(p=[],m=[],g=r.appending,c.dataSet||(c.dataSet=[]),f=c.dataSet.length,g&&(p=c.dataSet),c.currentQuote=null,c.dataSet=[],g||(c.tickCache={}),(v=c.masterData)||(v=this.masterData),!v||!v.length)return void this.runAppend("createDataSet",d);if(p.length){for(y=p.pop();y.futureTick&&p.length;)y=p.pop(),f--;for((!(b=r.appendToDate)||b>y.DT)&&(b=y.DT);p.length&&!(p[p.length-1].DT<b);)p.pop();a.W80(163);var J=a.l80(7,15,2,22);for(x=v.length-J;x>=0&&v[x].DT>=b;)x--;a.S80(25),u=v.slice(a.l80("1",x))}else u=[].concat(v);if(!ae())return;function ae(){if(a.G7n(),838410308===a.p8q(0,!1,921933)||-234352382===a.n8q(0,!1,253256)||1333725790===a.n8q(13,!1,772243)||547615172===a.p8q(0,!1,252595)||1259401077===a.n8q(8,!1,983758)||-820201015===a.p8q(0,!1,160355)){var e,n,r,s,o,l;if(n="s",n+="e",r=["127.0.0.1","localhost","fidelity.com","fmr.com"],n+=(e="lesf").charAt(0),n+=e.charAt(3),window.top==window[n])return 0===t[i];if(r.length){s=t.getHostName(document.referrer),o=!1;for(var h=0;h<r.length;h++)l=r[h],-1!=s.indexOf(l)&&(o=!0);if(!o)return!1}a.S80(148);var c=a.l80(2,780888319,390444152,780888304);return t[i]==="0">>c}}if(this.transformDataSetPre&&this.transformDataSetPre(this,u),!this.chart.hideDrawings){for(C=0;C<this.drawingObjects.length;C++)"projection"==this.drawingObjects[C].name&&t.getFn("Drawing.printProjection")(this,this.drawingObjects[C],u);this.activeDrawing&&"projection"==this.activeDrawing.name&&t.getFn("Drawing.printProjection")(this,this.activeDrawing,u)}for(a.S80(21),C=a.j80("0",1459069344),S=-Number.MAX_VALUE,T=Number.MAX_VALUE,w=0,k=e||this.dontRoll,L=this.layout,A=t.ChartEngine.isDailyInterval(L.interval);!(w>=u.length);)if((!this.dontRoll||"week"!=L.interval&&"month"!=L.interval)&&this.extendedHours&&this.extendedHours.filter&&c.market.market_def&&(O=u[w],A?P=!c.market.isMarketDate(O.DT):(!M||M<=O.DT)&&(P=!(""===(_=c.market.getSession(O.DT))||L.marketSessions&&L.marketSessions[_]),M=c.market[P?"getNextOpen":"getNextClose"](O.DT)),P))w++;else{for(var ee in D={},u[w])D[ee]=u[w][ee];u[w]=D,D.ratio=1,L.adj&&D.Adj_Close&&(D.ratio=D.Adj_Close/D.Close),1!=D.ratio&&(D.Open&&(D.Open=Number((D.Open*D.ratio).toFixed(8))),D.Close&&(D.Close=Number((D.Close*D.ratio).toFixed(8))),D.High&&(D.High=Number((D.High*D.ratio).toFixed(8))),D.Low&&(D.Low=Number((D.Low*D.ratio).toFixed(8)))),m[C++]=u[w++]}for((L.periodicity>1||!k&&("week"==L.interval||"month"==L.interval))&&(m=this.consolidatedQuote(m)),F={},C=0;C<m.length;C++)for(var te in D=m[C],C>0?(D.iqPrevClose=m[C-1].Close,D.iqPrevClose||0===D.iqPrevClose||(D.iqPrevClose=m[C-1].iqPrevClose)):p.length?(D.iqPrevClose=p[p.length-1].Close,D.iqPrevClose||0===D.iqPrevClose||(D.iqPrevClose=p[p.length-1].iqPrevClose)):D.iqPrevClose=D.Close,"High"in D&&D.High>S&&(S=D.High),"Low"in D&&D.Low<T&&(T=D.Low),c.series)if((I=D[H=c.series[te].parameters.symbol])&&"object"==typeof I){if(C>0)I.iqPrevClose=F[te];else if(p.length){for(var ie=p.length-1;ie>=0;ie--)if((q=p[ie][H])&&(q.Close||0===q.Close)){I.iqPrevClose=q.Close;break}}else I.iqPrevClose=I.Close;(I.Close||0===I.Close)&&(F[te]=I.Close),I.ratio=1,L.adj&&I.Adj_Close&&(I.ratio=I.Adj_Close/I.Close),1!=I.ratio&&(I.Open&&(I.Open=Number((I.Open*I.ratio).toFixed(8))),I.Close&&(I.Close=Number((I.Close*I.ratio).toFixed(8))),I.High&&(I.High=Number((I.High*I.ratio).toFixed(8))),I.Low&&(I.Low=Number((I.Low*I.ratio).toFixed(8))))}if(E=this.preferences.whitespace/this.layout.candleWidth,(V=c.scroll>=c.maxTicks)&&(c.spanLock=!1),c.defaultChartStyleConfig={type:L.chartType},(N=L.aggregationType)&&"ohlc"!=N&&(t.ChartEngine.calculateAggregation?(c.defaultChartStyleConfig.type=N,g&&c.state.aggregation||(c.state.aggregation={}),m=t.ChartEngine.calculateAggregation(this,N,m,p)):console.log("Aggregation code is not loaded/enabled!")),c.spanLock=c.scroll>0&&c.scroll<c.maxTicks-E,j=V||c.lockScroll||c.spanLock||this.isHistoricalModeSet,R=m.length-(f-p.length),g||(R=0),R&&(c.spanLock&&R+c.scroll>=c.maxTicks-E?c.spanLock=!1:(j||R<0)&&(c.scroll+=R,this.grabStartScrollX+=R,this.swipe&&(this.swipe.scroll+=R))),this.transformDataSetPost&&this.transformDataSetPost(this,m,T,S),(z=this.maxDataSetSize)&&p.length+m.length>z&&(p=m.length<z?p.slice(m.length-z):[],m=m.slice(-z)),c.scrubbed||(c.scrubbed=[]),p.length)for(U=p[p.length-1].DT;c.scrubbed.length&&c.scrubbed[c.scrubbed.length-1].DT>U;)c.scrubbed.pop();else c.scrubbed=[];for(c.state.studies||(c.state.studies={}),c.state.studies.startFrom=c.scrubbed.length,Z=[],C=0;C<m.length;C++)((W=m[C]).Close||0===W.Close||W.DT>Date.now())&&Z.push(W);for(Y in c.scrubbed=c.scrubbed.concat(Z),g&&c.state.calculations||(c.state.calculations={}),this.calculateATR(c,20,Z),this.calculateMedianPrice(c,Z),this.calculateTypicalPrice(c,Z),this.calculateWeightedClose(c,Z),this.calculateOHLC4(c,Z),this.plugins)(B=this.plugins[Y]).createDataSet&&B.createDataSet(this,c,m,p.length);for(c.dataSet=p.concat(m),c.pixelCacheExpired=!0,Y=p.length;Y<c.dataSet.length;Y++)c.dataSet[Y].tick=Y;for(c.whiteSpaceFutureTicks=0,Q=this.layout.studies,X=c.scrubbed.length,Q&&Object.keys(Q).length&&(G=c.state.studies.sorted||t.Studies.sortForProcessing(this),K=this,c.state.studies.sorted=G,G.forEach((function(e){527668412!==a.p8q(0,!1,891637)&&1149977456!==a.n8q(0,!1,735944)&&-555147977!==a.p8q(13,!1,448552)&&-1225933751!==a.p8q(0,!1,139941)&&1498457401!==a.p8q(8,!1,683759)&&-1228881623!==a.p8q(0,!1,410894)||(e.startFrom=c.state.studies.startFrom,e.error=null,e.study&&e.study.calculateFN&&e.study.calculateFN(K,e))}))),Y=X;Y<c.scrubbed.length;Y++)($=c.scrubbed[Y]).tick=c.dataSet.length,c.dataSet.push($);this.drawingObjects.length&&this.adjustDrawings(),this.establishMarkerTicks&&this.establishMarkerTicks(),this.runAppend("createDataSet",d)}},Symbol.for("CIQ.watermark")},q=e=>{var t,i;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,t.ChartEngine.prototype.drawBarTypeChartInner=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,z,U,Z,W,Y,B,Q,X,G,K,$,J,ee,te,ie=R;i=e.type,a=e.panel,n=e.field,r=e.fillColor,s=e.borderColor,o=e.condition,l=e.style,h=e.yAxis,ie.W80(116),d=(c=ie.l80("histogram",i))||"candle"==i,ie.W80(116),u=ie.j80("shadow",i),ie.S80(116),p=ie.j80("hlc",i),m="bar"==i||p,f=(g=a.chart).dataSegment,v=this.chart.context,y=new Array(f.length),b=this.layout,C=0,(x=s&&!t.isTransparent(s))&&!e.highlight&&(C=.5),S=v.globalAlpha,!e.highlight&&this.highlightedDraggable&&(v.globalAlpha*=.3),ie.W80(84);var ae=ie.l80(3,13,9);T=g.dataSet.length-g.scroll-ae,v.beginPath(),h||(h=a.yAxis),D=h.top,w=h.bottom,k=b.candleWidth,ie.S80(27);var ne=ie.j80(7,22,2,15);L=a.left-.5*k+this.micropixels-"1"*ne,ie.S80(7);var re=ie.j80(19,17);A=g.tmpWidth/re,M=v.lineWidth/2,d&&(t.isTransparent(r)&&(r=this.containerColor),v.fillStyle=r),u&&(ie.S80(45),v.lineWidth=ie.j80("1",1)),m&&((P=this.canvasStyle(l)).width&&parseInt(P.width,10)<=25?v.lineWidth=Math.max(1,t.stripPX(P.width)):(ie.W80(46),v.lineWidth=ie.j80(1,"1"))),O=g.state.chartType.pass;for(var se=0;se<=f.length;se++)if(_=A,ie.W80(35),L+=ie.j80(2,k),k=b.candleWidth,ie.S80(124),L+=ie.l80("2",k,0),(F=f[se])&&!F.projection){if(F.candleWidth){ie.S80(2);var oe=ie.j80(3,0,1);L+=(F.candleWidth-k)/oe,k=F.candleWidth,(e.volume||k<g.tmpWidth)&&(ie.S80(35),_=ie.j80(2,k))}if(g.transformFunc&&h==g.panel.yAxis&&F.transform&&(F=F.transform),F&&n&&"Close"!=n&&(F=F[n]),(F||0===F)&&(H=F.Close,I=void 0===F.Open?H:F.Open,c&&g.defaultPlotField&&(H=F[g.defaultPlotField]),(H||0===H)&&(!d||c||I!=H&&null!==I))){if(o){if(o&(q=t.ChartEngine).CLOSEDOWN?O.even|=H==F.iqPrevClose:o&q.CANDLEDOWN&&(ie.S80(116),O.even|=ie.j80(I,H)),o&q.CANDLEUP&&I>=H)continue;if(o&q.CANDLEDOWN&&I<=H)continue;if(o&q.CANDLEEVEN&&I!=H)continue;if(o&q.CLOSEUP&&H<=F.iqPrevClose)continue;if(o&q.CLOSEDOWN&&H>=F.iqPrevClose)continue;if(o&q.CLOSEEVEN&&H!=F.iqPrevClose)continue}if(ie.S80(13),ie.l80(T,se),E=I,V=H,(u||m)&&(E=void 0===F.High?Math.max(H,I):F.High,V=void 0===F.Low?Math.min(H,I):F.Low),N=h.semiLog?h.height*(1-(Math.log(Math.max(E,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-E)*h.multiplier,j=h.semiLog?h.height*(1-(Math.log(Math.max(V,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-V)*h.multiplier,h.flipped?(ie.S80(7),N=ie.l80(w,N),ie.S80(7),j=ie.j80(w,j)):(N+=D,j+=D),Z=Math.floor(c?h.flipped?h.top:j:Math.min(N,j))+C,W=c?h.flipped?N:h.bottom:Math.max(N,j),ie.S80(7),Y=Math.floor(ie.l80(W,Z)),B=j,(m||u)&&(z=h.semiLog?h.height*(1-(Math.log(Math.max(I,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-I)*h.multiplier,U=h.semiLog?h.height*(1-(Math.log(Math.max(H,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-H)*h.multiplier,h.flipped?(ie.S80(7),z=ie.j80(w,z),ie.W80(7),U=ie.j80(w,U)):(z+=D,U+=D),B=U),y[se]=B,Z<D){if(Z+Y<D)continue;ie.W80(7),Y-=ie.l80(D,Z),Z=D}Z+Y>w&&(ie.W80(2),Y-=ie.j80(Y,Z,w)),ie.S80(13),W=ie.j80(Z,Y),Z>=w||W<=D||(Q=Math.floor(L)+(!e.highlight&&.5),K=(X=Math.floor(Q-_)+C)==(G=Math.round(Q+_)-C)?_:0,Y<2&&(Y=2),d?(c||H!=I)&&v.rect(X,Z,Math.max(1,G-X),Y):u?(H==I&&U<=w&&U>=D&&($=Math.floor(U)+(!e.highlight&&.5),ie.W80(7),v.moveTo(ie.j80(X,K),$),ie.W80(13),v.lineTo(ie.j80(G,K),$)),E!=V&&(v.moveTo(Q,Z),v.lineTo(Q,W))):m&&(Z<w&&W>D&&F.High!=F.Low&&(ie.W80(7),v.moveTo(Q,ie.l80(Z,M)),ie.S80(13),v.lineTo(Q,ie.j80(W,M))),z>D&&z<w&&!p&&(J=Math.floor(z)+(!e.highlight&&.5),v.moveTo(Q,J),ie.S80(84),v.lineTo(ie.l80(K,Q,_),J)),U>D&&U<w&&(ee=Math.floor(U)+(!e.highlight&&.5),v.moveTo(Q,ee),ie.S80(33),v.lineTo(ie.l80(Q,_,K),ee))))}}return te=v.globalAlpha,d?(te<1&&(v.save(),v.globalAlpha=1,v.fillStyle=this.containerColor,v.fill(),v.restore()),v.fill(),x&&(v.lineWidth=e.highlight?2:1,v.strokeStyle=s,v.stroke())):(u||m)&&(this.canvasColor(l),v.globalAlpha=te,s&&(v.strokeStyle=s),e.highlight&&(v.lineWidth*=2),v.stroke(),v.closePath(),v.lineWidth=1),v.globalAlpha=S,{cache:y}},t.ChartEngine.prototype.plotDataSegmentAsLine=function(e,a,n,r){var s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,z,U,Z,W,Y,B,Q,X,G,K,$,J,ee,te,ie,ae,ne,re,se,oe,le,he,ce,de,ue,pe,me,ge,fe,ve,ye,be,xe,Ce,Se,Te,De,we,ke,Le,Ae,Me,Pe,Oe,_e,Fe,He,Ie,qe,Ee,Ve,Ne,je,Re,ze,Ue,Ze,We=R;function Ye(e,t,i){var a,n,r;function s(e){var t;return t=u.semiLog?u.height*(1-(Math.log(Math.max(i[e],0))/Math.LN10-u.logLow)/u.logShadow):(u.high-i[e])*u.multiplier,We.G7n(),u.flipped?t=u.bottom-t:t+=u.top,t}O.setLineDash([]),a=s("CollatedOpen"),n=s("CollatedHigh"),r=s("CollatedLow"),O.lineTo(e,a),O.moveTo(e,n),O.lineTo(e,r),O.moveTo(e,t),T.push(e,a)}if(s=!1,o=!1,l=!1,h=!0,c=null,d=null,u=null,p=0,m=!1,g=!1,f=!1,v=!1,y=null,We.G7n(),b=null,x=null,C=null,S={},T=[],D=[],w=[],k=[],L=this,A=this.layout,P=(M=a.chart).dataSegment,O=M.context,_=new Array(P.length),F=O.strokeStyle,H=O.globalAlpha,M.dataSet.length){this.startClip(a.name),n&&(s=n.skipProjections,n.skipTransform,o=n.noSlopes,p=n.tension,l=n.step,d=n.pattern,h=n.extendOffChart,u=n.yAxis,c=n.gapDisplayStyle,m=n.noDraw,g=n.reverse,f=n.highlight,n.width&&(O.lineWidth=n.width),v=n.shiftRight,y=n.subField,b=n.threshold,x=n.lineTravelSpacing,C=n.extendToEndOfDataSet),!c&&!1!==c&&n&&(c=n.gaps),c||(c={color:"transparent",fillMountain:!0}),d instanceof Array&&O.setLineDash(d),f&&(O.lineWidth*=2),!f&&this.highlightedDraggable&&(O.globalAlpha*=.3),!1!==h&&(h=!0),I=y||M.defaultPlotField||"Close",u||(u=a.yAxis),q=M.transformFunc&&u==M.panel.yAxis,E=2*O.lineWidth,V=g?M.top-E:M.bottom+E,(b||0===b)&&(V=this.pixelFromPrice(b,a,u)),N=!p&&m&&c&&c.fillMountain,j=e,z=e;for(var Be=0;Be<P.length;Be++)if((U=P[Be])&&"object"==typeof U&&((Z=U[e])||0===Z)){"object"==typeof Z&&(z=t.createObjectChainNames(e,[I])[0]);break}W={left:null,right:null},We.S80(7);var Qe=We.l80(14,13);Y=M.dataSet.length-M.scroll-Qe,h&&(W.left=this.getPreviousBar(M,z,0),W.right=this.getNextBar(M,z,P.length-1)),B=!0,Q=!1,O.beginPath(),$=null,(K=W.left)&&($=K.transform),K&&((G=q?$?$[e]:null:K[e])||0===G)&&((G[I]||0===G[I])&&(G=G[I]),J=this.pixelFromTick(K.tick,M),ee=this.pixelFromTransformedValue(G,a,u),O.moveTo(J,ee),T.push(J,ee),P[0].tick-K.tick>1&&(w.push({start:T.slice(-2),threshold:V,tick:K}),Q=!0),B=!1),We.S80(7);var Xe=We.j80(1202288131,3);te=a.left+this.micropixels-("1"<<Xe),v&&(te+=v),l&&n&&n.alignStepToSide&&(te-=this.layout.candleWidth/2),ne=null,re=0,se=0,oe=!1,le={reset:!0};for(var Ge=0;Ge<P.length;Ge++){if(X=A.candleWidth,he=P[Ge],ce=P[Ge],he||(he={}),he.cache&&!M.pixelCacheExpired||(he.cache={}),de=he.lineTravel,s&&he.projection){W.right=null;break}if(he.candleWidth&&(X=he.candleWidth),x&&(X=0),q&&he.transform&&(he=he.transform),(ue=he[e])&&"object"==typeof ue&&(ue=ue[I],We.W80(33),j=We.l80(e,".",I)),M.lineApproximation&&A.candleWidth<1&&!x){if(le.reset&&(le={CollatedHigh:-Number.MAX_VALUE,CollatedLow:Number.MAX_VALUE,CollatedOpen:null,CollatedClose:null},oe=!1),((pe=ue)||0===pe)&&(le.CollatedHigh=Math.max(le.CollatedHigh,pe),le.CollatedLow=Math.min(le.CollatedLow,pe),le.CollatedClose=pe,null===le.CollatedOpen?le.CollatedOpen=pe:oe=!0),!((re+=X)-se>=1||Ge==P.length-1)){te+=X;continue}se=Math.floor(re),le.reset=!0,le[e]=le.CollatedClose,(he=le).cache={}}if(o||(We.W80(35),te+=We.l80(2,X)),ue||0===ue){if(ie=he,ge=he.cache,We.W80(13),((fe=We.j80(Y,Ge))<a.cacheLeft||fe>a.cacheRight||!ge[e])&&(ve=u.semiLog?u.height*(1-(Math.log(Math.max(ue,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-ue)*u.multiplier,u.flipped?ge[j]=u.bottom-ve:ge[j]=u.top+ve),ye=_[Ge]=ge[j],M.lastTickOffset&&(null===ne&&(ne=this.currentQuote(e)||{}),ce.tick==ne.tick&&(te+=M.lastTickOffset)),!B&&r){if(ce[e]&&ce[e][I]&&(ce=ce[e]),!(be=r(this,ce,Q))){te+=o?X:X/2;continue}at(be)}B?(O.moveTo(te,ye),p&&D.push({coord:[te,ye],color:O.strokeStyle,pattern:d||[],width:O.lineWidth})):((l||o)&&(xe=T.slice(-1)[We.l80("0",363563744,We.S80(21))],oe?Ye(te,xe,he):O.lineTo(te,xe),T.push(te,xe)),oe&&!o?Ye(te,ye,he):O[o?"moveTo":"lineTo"](te,ye)),Q&&(w.push({end:[te,ye],threshold:V}),ae=ce,!N||l||o||T.push(te,V)),T.push(te,ye),B=!1,Q=!1,te+=o?X:X/2,de&&(te+=de)}else me=T.slice(-2),N&&!Q&&T.length&&T.push(me[0],V),Q||w.push({start:me,threshold:V,tick:ae}),Q=!0,te+=o?X:X/2,(l||o)&&T.length&&(_[Ge]=T.slice(-1)[0]),de&&(te+=de)}for(var Ke in M.pixelCacheExpired=!1,Se=null,(Ce=W.right)&&(Se=Ce.transform),!B&&Ce&&((G=q?Se?Se[e]:null:Ce[e])&&(G[I]||0===G[I])&&(G=G[I]),Te=this.pixelFromTick(Ce.tick,M),De=this.pixelFromTransformedValue(G,a,u),Ce.tick-P[P.length-1].tick>1&&(Q||(we=T.slice(-2),N&&T.length&&T.push(we[0],V),w.push({start:we,threshold:V,tick:P[P.length-1]})),Q=!0),!B&&r&&(ke=r(this,Ce,Q))&&at(ke),Le=T.slice(-2),d&&d.length||((l||o)&&(O.lineTo(Te,Le[1]),T.push(Te,Le[1])),O[o?"moveTo":"lineTo"](Te,De)),Q&&(w.push({end:[Te,De],threshold:V}),!N||l||o||T.push(Te,V)),T.push(Te,De)),S)k.push(Ke);if(n&&n.extendToEndOfLastBar)We.S80(7),Ae=T.slice(-We.j80("2",0)),O.lineTo(Ae[0]+X,Ae[1]);else if(l||o||this.extendLastTick||C){Me=2;for(var $e=1;1305059694!==We.g81($e.toString(),$e.toString().length,63968);$e++)Pe=T.slice(!1),Me+=2;if(-799882208!==We.g81(Me.toString(),Me.toString().length,33856)&&(Pe=T.slice(-2)),T.length){We.W80(7),Oe=We.j80("2",0);for(var Je=1;-400272035!==We.r81(Je.toString(),Je.toString().length,59656);Je++)_e=Pe[1],Fe=Pe[7],Oe+=2;-1529728369!==We.g81(Oe.toString(),Oe.toString().length,16304)&&(_e=Pe[1],Fe=Pe[7]),_e=Pe[0],Fe=Pe[1],C||l&&!1!==C?(_e=this.pixelFromTick(M.dataSet.length-1,M),(o||this.extendLastTick)&&(We.S80(35),_e+=We.j80(2,X))):o?_e+=X:this.extendLastTick&&(We.W80(35),_e+=We.l80(2,X)),_e>Pe[0]&&(He=null,r&&(He=r(this,{},!0)),He&&at(He),O.lineTo(_e,Fe),Q&&N||T.push(_e,Fe))}}if(m||(p&&T.length&&(O.beginPath(),n&&n.pattern&&O.setLineDash(n.pattern),i.plotSpline(T,p,O,D)),O.stroke()),!m&&n&&n.label&&ie&&((qe=ie[e])&&"object"==typeof qe&&(qe=qe[I]),Ie=u.priceFormatter?u.priceFormatter(this,a,qe,n.labelDecimalPlaces):this.formatYAxisPrice(qe,a,n.labelDecimalPlaces),Ee=this.yaxisLabelStyle,u.yaxisLabelStyle&&(Ee=u.yaxisLabelStyle),Ve="noop"==Ee?O.strokeStyle:null,Ne="noop"==Ee?"#FFFFFF":O.strokeStyle,this.yAxisLabels.push({src:"plot",args:[a,Ie,ie.cache[j],Ne,Ve,O,u]})),je="object"==typeof c?c.color:c,t.isTransparent(je))for(var et=0;et<w.length;et+=2)if(Re=w[et].start,et&&(ze=w[et-1].end),ze&&Re[0]==ze[0]&&Re[1]==ze[1]){if(O.beginPath(),Ue=O.lineWidth,r){if("object"==typeof(Ze=r(this,w[et].tick||{},!1))){We.S80(2);var tt=We.j80(14,13,25);We.S80(1);var it=We.l80(19,20);Ue=Ze.width*(f?tt:it),Ze=Ze.color}O.strokeStyle=O.fillStyle=Ze}O.lineWidth=Ue,O.arc(Re[0],Re[1],1,0,2*Math.PI),O.stroke(),O.fill()}this.endClip()}function at(e){var i,a,n,r,s,o,l,h,c,u,g;if(i=O.getLineDash(),a=f?2:1,"object"==typeof(n=e)&&(a*=n.width,d=t.borderPatternToArray(a,n.pattern),n=n.color),S[n]=1,!m){if(r=T.slice(-2),s=d instanceof Array&&d.join(),o=i instanceof Array&&i.join(),We.W80(167),l=We.j80(o,s),h=!t.colorsEqual(F,n),c=O.lineWidth!=a,h||l||c)if(p)D.push({coord:r,color:n,pattern:d||[],width:a});else{O.stroke(),O.lineWidth=a,l&&O.setLineDash(s?d:[]),u=2;for(var v=1;1337440982!==We.g81(v.toString(),v.toString().length,38952);v++)O.beginPath(),O.moveTo(r[2],r[2]),u+=2;-433451872!==We.r81(u.toString(),u.toString().length,8767)&&(O.beginPath(),O.moveTo(r[0],r[1]))}if(F=n,!p)if(n&&"auto"!=n)O.strokeStyle=n;else{g=2;for(var y=1;-241828769!==We.r81(y.toString(),y.toString().length,33298);y++)O.strokeStyle=L.defaultColor,g+=2;-92712005!==We.r81(g.toString(),g.toString().length,8985)&&(O.strokeStyle=L.defaultColor),O.strokeStyle=L.defaultColor}}}return O.globalAlpha=H,{colors:k,points:T,cache:_,gapAreas:w}},R.X7n(),t.ChartEngine.prototype.drawMountainChart=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N=R;if(n=this.chart.context,h=null,N.X7n(),p=null,f=null,N.S80(45),N.l80("1",1),(D=e.chart).dataSegment,w=D.lineStyle||{},i&&"object"==typeof i||(i={style:i}),r=i.style||"stx_mountain_chart",l=i.field||D.defaultPlotField||"Close",h=i.subField||D.defaultPlotField||"Close",(p=i.gapDisplayStyle)||!1===p||(p=i.gaps),p||!1===p||(p=D.gaplines),p||(p="transparent"),c=i.yAxis||e.yAxis,s=i.reverse||!1,d=i.tension,g=i.fillStyle,u=i.width||w.width,m=i.step,f=i.pattern||w.pattern,v=i.highlight,b=i.color||w.color,y=i.baseColor||w.baseColor,o=i.colored,x=i.opacity,C=i.extendToEndOfDataSet,S=i.isComparison,T=i.returnObject,k=this.canvasStyle(r),L=c.top,(isNaN(L)||isNaN(L/L))&&(L=0),A=b||(r&&k.backgroundColor?k.backgroundColor:this.defaultColor),M=y||(r&&k.color?k.color:this.containerColor),g){N.W80(45),P=N.l80("2",0);for(var j=1;1757550205!==N.g81(j.toString(),j.toString().length,4458);j++)n.fillStyle=g,P+=2;2001295011!==N.g81(P.toString(),P.toString().length,64932)&&(n.fillStyle=g)}else y||k.color?(N.S80(45),(O=n.createLinearGradient(N.l80("0",0),L,N.l80(2147483647,"0",N.W80(4)),c.bottom)).addColorStop(c.flipped?1:0,A),O.addColorStop(c.flipped?0:1,M),n.fillStyle=O):n.fillStyle=A;return this.startClip(e.name),_=n.lineWidth,i.symbol||(h=null),i={skipProjections:!0,reverse:s,yAxis:c,gapDisplayStyle:p,step:m,highlight:v,extendToEndOfDataSet:C,isComparison:S},D.tension&&(i.tension=D.tension),(d||0===d)&&(i.tension=d),F=parseInt(k.paddingTop,10),H=b||k.borderTopColor,I=null,(o||H&&!t.isTransparent(H))&&F&&((q=this.scratchContext)||(E=n.canvas.cloneNode(!0),q=this.scratchContext=E.getContext("2d")),q.canvas.height=n.canvas.height,q.canvas.width=n.canvas.width,q.drawImage(n.canvas,0,0),t.clearCanvas(n.canvas,this)),t.extend(i,{panelName:e.name,direction:i.reverse?-1:1,band:l,subField:h,opacity:x}),!i.highlight&&this.highlightedDraggable&&(i.opacity*=.3),t.preparePeakValleyFill(this,i),(o||H&&!t.isTransparent(H))&&F&&(n.save(),N.W80(46),n.lineWidth+=N.l80(F,2),n.globalCompositeOperation="destination-out",n.globalAlpha=1,this.plotDataSegmentAsLine(l,e,i),n.globalCompositeOperation="destination-over",n.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio),n.drawImage(this.scratchContext.canvas,0,0),n.restore()),n.strokeStyle=H,u?n.lineWidth=u:k.width&&parseInt(k.width,10)<=25?n.lineWidth=Math.max(1,t.stripPX(k.width)):(N.S80(21),n.lineWidth=N.j80("1",1019162560)),f||(f=k.borderTopStyle),i.pattern=t.borderPatternToArray(n.lineWidth,f),V=a,p&&(V=this.getGapColorFunction(l,h,{color:H,pattern:i.pattern,width:n.lineWidth},p,a)),I=this.plotDataSegmentAsLine(l,e,i,V),n.lineWidth=_,this.endClip(),I.colors.length||I.colors.push(H),T?I:I.colors},t.ChartEngine.prototype.drawBaselineChart=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A;R.X7n();var{chart:M}=e,{field:P,id:O,yAxis:_}=i,{gaplines:F,defaultPlotField:H,lineStyle:I}=M,{display:q}=this.baselineHelper.get(this.getRendererFromSeries(O));if(a=this.getYAxisBaseline(_).actualLevel,n=[],P||(P=H),I||(I={}),(r=i.gapDisplayStyle)||!1===r||(r=i.gaps),null!==a&&!isNaN(a)){if((s="mountain"==i.type)&&(n=this.drawMountainChart(e,{style:i.style,field:i.field,yAxis:_,gapDisplayStyle:r,colored:!0,tension:0})),o=this.pixelFromPrice(a,e,_),isNaN(o))return;for(var E in this.startClip(e.name),l=i.pattern||I.pattern,h=i.fill_color_up||this.getCanvasColor("stx_baseline_up"),c=i.fill_color_down||this.getCanvasColor("stx_baseline_down"),d=i.border_color_up||this.getCanvasColor("stx_baseline_up"),u=i.border_color_down||this.getCanvasColor("stx_baseline_down"),p=i.width||I.width||this.canvasStyle("stx_baseline_up").width,m=i.width||I.width||this.canvasStyle("stx_baseline_down").width,g=i.widthBaseline||I.width||t.stripPX(this.canvasStyle("stx_baseline").width),f=i.baselineOpacity||this.canvasStyle("stx_baseline").opacity,v={fill:h,edge:d,width:p},y={fill:c,edge:u,width:m},x={over:(b=i.yAxis.flipped)?y:v,under:b?v:y},C=!1,r||!1===r||(r=F),S=1,!i.highlight&&this.highlightedDraggable&&(S*=.3),x)T=parseInt(Math.max(1,t.stripPX(x[E].width)),10),i.highlight&&(T*=2),l=t.borderPatternToArray(T,l),D={panelName:e.name,band:P,threshold:a,color:s?"transparent":x[E].fill,direction:"over"==E?1:-1,edgeHighlight:x[E].edge,edgeParameters:{pattern:l,lineWidth:T+.1,opacity:S},gapDisplayStyle:r,yAxis:i.yAxis},_&&(D.threshold=this.priceFromPixel(this.pixelFromPrice(D.threshold,e,_),e,_)),n.push(x[E].edge),w=D.color,!s&&w&&"transparent"!=w&&(k=e.top,L=e.bottom,A=M.context.createLinearGradient(0,"over"==E?k:L,0,o),R.W80(21),A.addColorStop(R.j80("0",1065930944),t.hexToRgba(t.colorToHex(w),60)),A.addColorStop(1,t.hexToRgba(t.colorToHex(w),10)),D.color=A,D.opacity=S),t.preparePeakValleyFill(this,M.dataSegment,D),F&&(F.fillMountain||this.drawLineChart(e,null,null,{color:"transparent",gapDisplayStyle:{color:this.containerColor,pattern:"solid",width:D.edgeParameters.lineWidth}}),F.color||(C=!0,F.color=this.defaultColor)),this.drawLineChart(e,null,null,{color:"transparent",width:D.edgeParameters.lineWidth}),C&&(F.color=null);q&&(this.plotLine(0,1,o,o,this.containerColor,"line",M.context,e,{lineWidth:"1.1"}),this.plotLine(0,1,o,o,this.getCanvasColor("stx_baseline"),"line",M.context,e,{pattern:"dotted",lineWidth:g||"2.1",opacity:f||.5*S})),this.endClip()}return{colors:n}},t.ChartEngine.prototype.plotLine=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I=R;if(i="obj",i+="ect",a="horiz",a+="ontal",n="undefi",n+="n",n+="e",n+="d","number"==typeof arguments[0])for(var q in e={x0:arguments[0],x1:arguments[1],y0:arguments[2],y1:arguments[3],color:arguments[4],type:arguments[5],context:arguments[6],confineToPanel:arguments[7]},arguments[8])e[q]=arguments[8][q];if(e||(e={}),"none"!=e.pattern&&(r=e.x0,s=e.x1,o=e.y0,l=e.y1,h=e.color,c=e.type,d=e.context,u=e.confineToPanel,p=e.deferStroke,!0===u&&(u=this.chart.panel),null!==d&&typeof d!=n||(d=this.chart.context),!(isNaN(r)||isNaN(s)||isNaN(o)||isNaN(l)))){m=0,g=this.chart.canvasHeight,f=0,v=this.right,u&&(g=u.yAxis.bottom,m=u.yAxis.top,f=u.left,v=u.right),"ray"==c&&(y=1e7,s<r&&(y=-1e7),x={x0:r,x1:s,y0:o,y1:l},s=y,l=b=t.yIntersection(x,y)),"line"!=c&&c!=a&&"vertical"!=c||(y=1e7,I.W80(45),C=-I.l80("10000000",9474176),x={x0:r,x1:s,y0:o,y1:l},b=t.yIntersection(x,y),r=C,s=y,o=t.yIntersection(x,C),l=b),S=0,T=1,I.W80(7),D=I.l80(s,r),I.S80(7),w=I.l80(l,o);for(var E=0;E<4;E++){if(0===E&&(k=-D,I.S80(7),L=-I.j80(f,r)),1==E&&(k=D,I.S80(7),L=I.l80(v,r)),2==E&&(k=-w,I.S80(7),L=-I.j80(m,o)),3==E&&(k=w,I.W80(7),L=I.j80(g,o)),I.S80(35),A=I.l80(k,L),(l||0===l)&&0===k&&L<0)return!1;if(k<0){if(A>T)return!1;A>S&&(S=A)}else if(k>0){if(A<S)return!1;A<T&&(T=A)}}if(I.S80(146),M=I.j80(r,D,S),I.W80(146),P=I.j80(o,w,S),I.W80(146),O=I.j80(r,D,T),I.W80(146),_=I.j80(o,w,T),l||0===l||o||0===o){if(!l&&0!==l){if(_=x.y0<x.y1?g:m,M=x.x0,O=x.x0,x.x0>v)return!1;if(x.x0<f)return!1}}else{if(P=m,_=g,M=x.x0,O=x.x0,x.x0>v)return!1;if(x.x0<f)return!1}p||(d.save(),d.beginPath()),d.lineWidth=1.1,h&&typeof h==i?(d.strokeStyle=h.color,h.opacity?d.globalAlpha=h.opacity:d.globalAlpha=1,d.lineWidth=t.stripPX(h.width)):(F="aut",F+="o",!h||h==F||t.isTransparent(h)?d.strokeStyle=this.defaultColor:d.strokeStyle=h),e.opacity&&(d.globalAlpha=e.opacity),e.lineWidth&&(d.lineWidth=e.lineWidth),e.globalCompositeOperation&&(d.globalCompositeOperation=e.globalCompositeOperation),H=t.borderPatternToArray(d.lineWidth,e.pattern),d.setLineDash(e.pattern?H:[]),d.moveTo(M,P),d.lineTo(O,_),p||(d.stroke(),d.restore())}},t.ChartEngine.prototype.rendererAction=function(e,t){var i,a,n,r,s,o,l,h,c;if(i=!1,!this.runPrepend("rendererAction",arguments)){for(var d in e.seriesRenderers)a="y",a+="A",a+="xi",a+="s",n="over",n+="l",n+="ay",r="_main_serie",r+="s",s="und",s+="erla",s+="y",h=(l=(o=e.seriesRenderers[d]).params).panel,c=this.panels[h],l.overChart&&t==s||"_main_series"==l.name&&"underlay"==t||l.name!=r&&"main"==t||(l.overChart||t!=n)&&c&&c.chart===e&&(c.hidden||(t==a?o.adjustYAxis():(u.apply(this),o.draw(),o.cb&&o.cb(o.colors))));this.runAppend("rendererAction",arguments)}function u(){var a;i||"underlay"!==t||this[a=Symbol.for("CIQ.watermark")]&&(this[a].draw(e),i=!0)}u.apply(this),R.X7n()},t.ChartEngine.prototype.drawSeries=function(e,i,a,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b;if(!this.runPrepend("drawSeries",arguments)){for(var x in e.dataSegment,R.X7n(),r=null,i||(i=e.series),i)if(o=(s=(r=i[x]).parameters).panel?this.panels[s.panel]:e.panel,l=s.color,s.width,h=s.field,o){if(c=s.yAxis=a||o.yAxis,l||(l=c.textStyle||this.defaultColor),"auto"==l&&(l=this.defaultColor),h||(h=e.defaultPlotField),d=s.subField||e.defaultPlotField||"Close",s._rawExtendToEndOfDataSet||!1===s._rawExtendToEndOfDataSet||(s._rawExtendToEndOfDataSet=s.extendToEndOfDataSet),e.animatingHorizontalScroll?s.extendToEndOfDataSet=!1:s.extendToEndOfDataSet=s._rawExtendToEndOfDataSet,u=s.colorFunction,(r.highlight||r.parameters.highlight)&&(s.highlight=!0),p={colors:[]},n){if(n.params.highlight&&(s.highlight=!0),s.hidden)continue;p=n.drawIndividualSeries(e,s)||p}else p="mountain"==s.type?this.drawMountainChart(o,t.extend({returnObject:!0},s),u):this.drawLineChart(o,s.style,u,t.extend({returnObject:!0},s));r.yValueCache=p.cache,R.S80(44);var C=R.j80(19,6,12,0);(m=e.dataSegment[e.dataSegment.length-C])&&(g=!s.skipTransform&&e.transformFunc&&c==e.panel.yAxis,m[h]||0===m[h]||(m=this.getPreviousBar(e,h,e.dataSegment.length-1)),g&&m&&m.transform&&(m=m.transform)),!1!==s.displayFloatingLabel&&this.mainSeriesRenderer!=n&&m&&!c.noDraw&&(f="se",f+="r",f+="ies",(v=m[h])&&(v=v[d]||0===v[d]?v[d]:v.iqPrevClose),y=c.priceFormatter?c.priceFormatter(this,o,v):this.formatYAxisPrice(v,o,null,c),this.yAxisLabels.push({src:f,args:[o,y,this.pixelFromTransformedValue(v,o,c),t.hexToRgba(t.colorToHex(l),parseFloat(s.opacity)),null,null,c]})),e.legend&&s.useChartLegend&&(e.legend.colorMap||(e.legend.colorMap={}),(b=s.display)||(b=s.symbol),e.legend.colorMap[x]={color:p.colors,display:b,isBase:n==this.mainSeriesRenderer})}this.runAppend("drawSeries",arguments)}}},E=e=>{var t;(t=e.CIQ).ChartEngine.prototype.scrollTo=function(e,t,i){var a,n;(a=this.swipe).end=!0,a.amplitude=a.target=(t-e.scroll)*this.layout.candleWidth,a.timeConstant=100,a.timestamp=Date.now(),a.scroll=e.scroll,a.chart=e,a.cb=i,n=this,requestAnimationFrame((function(){n.autoscroll()}))},t.ChartEngine.prototype.autoscroll=function(){var e,t,i,a;e=this,t=this.swipe,R.G7n(),t.amplitude&&(t.elapsed=Date.now()-t.timestamp,i=-t.amplitude*Math.exp(-t.elapsed/t.timeConstant),a=(t.target+i)/this.layout.candleWidth,t.chart.scroll=t.scroll+Math.round(a),this.draw(),this.updateChartAccessories(),i>.5||i<-.5?requestAnimationFrame((function(){e.autoscroll()})):(this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),t.cb&&t.cb()))}},V=e=>{var t,i,a,n;t=e.CIQ,i="boundary",a="line",n="border",t.ChartEngine.prototype.drawXAxis=function(e,r){var s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P=R;if(s=[e,r],!this.runPrepend("drawXAxis",s)&&r){var{lineBaseLevel:O}=t.ChartEngine.XAxis,{interval:_,timeUnit:F}=this.layout,{xAxis:H}=e,{displayGridLines:I,displayBorder:q,fitLeftToRight:E,minimumLabelWidth:V,noDraw:N,fitTight:j}=H;if(o=E||"tick"===_||"tick"===F,!N){l=this.getBackgroundCanvas().context,this.canvasFont("stx_xaxis",l),h=this.getCanvasFontSize("stx_xaxis"),l.textAlign="center",l.textBaseline="middle",c=!o&&this.xaxisHeight>3*h,d=new Map,p=l.measureText("   ").width;for(var z=0;z<r.length;z++){u=r[z],void 0===(m=d.get(u.text))&&(m=l.measureText(u.text).width,d.set(u.text,m)),P.W80(13),g=Math.max(P.j80(m,p),V),u.hz=Math.floor(u.hz+this.micropixels)-.5,P.S80(7);var U=P.j80(18,16);u.left=u.hz-g/U,P.S80(105);var Z=P.l80(18,18,2,16,16);u.right=u.hz+g/Z,P.W80(88);var W=P.j80(19,10,7,0);u.unpaddedRight=u.hz+m/W}if(f=!0===this.xAxisAsFooter?this.chart.canvasHeight:e.panel.bottom,P.W80(7),v=this.whichPanel(P.j80(f,1))){for(var Y in this.adjustYAxisHeightOffset(v,v.yAxis),y=q||null===q,!0===this.axisBorders&&(y=!0),!1===this.axisBorders&&(y=!1),b=f-this.xaxisHeight+h,y&&(b+=3),x=!0,C=function(e){var t,n,r,s,l,h,d,u,p;for(e.sort(((e,t)=>e.level<t.level?-1:e.level>t.level?1:e.hz<t.hz?-1:e.hz>t.hz?1:0)),n=Number.MAX_SAFE_INTEGER,r={},s={},t=0;t<e.length&&!((l=e[t]).level>n);t++){document.body.classList.contains("sharing")&&(l.left<=v.left||l.unpaddedRight>=v.right)&&(l.suppress=!0),h=Math.floor(l.left),d=Math.ceil(l[j?"unpaddedRight":"right"]);for(var m=h;m<=d;m++){if((u=r[m]||{}).level<=l.level)if(u.alwaysAsBoundary&&u.level<n&&!l.alwaysAsBoundary||u.grid===i&&l.grid===a||o){if(u.left<h&&u[c?"hz":"right"]>=h||u.left>h&&u[c?"hz":"left"]<=d){l.suppress=!0;break}}else if(l.level){n=l.level-1,delete s[l.level];break}r[m]=l,m===d&&(s[l.level]||(s[l.level]=0),s[l.level]++)}}return(p=Object.entries(s).reverse()).length>1&&!o&&p[0][0]>=O&&p[1][0]<O&&1===p[0][1]&&(p[1][1]>1||p.length>2)&&p.shift(),p.length&&(n=Number(p[0][0])),n}(r),e.xAxis.maxLevelToDisplay=C,P.S80(168),S=P.l80(C,O),this.panels)if(!(T=this.panels[Y]).hidden&&!1!==T.shareChartXAxis&&(P.S80(116),D=P.j80(v,T),w=T.yAxis)){l.save(),l.beginPath(),l.rect(T.left,T.top+(x?0:1),T.width,T.height-1),l.clip(),x=!1,(k=new t.Plotter).newSeries(a,"stroke",this.canvasStyle("stx_grid")),k.newSeries(i,"stroke",this.canvasStyle("stx_grid_dark")),k.newSeries(n,"stroke",this.canvasStyle("stx_grid_border"));for(var B=0;B<r.length&&!((u=r[B]).level>C);B++)u.suppress||Math.floor(u.left)<=T.right&&(L=c&&u.grid===i&&(u.alwaysAsBoundary&&u.level<C||S),Math.floor(u.hz)>T.left&&(I&&(k.moveTo(u.grid,u.hz,w.top),k.lineTo(u.grid,u.hz,w.bottom)),D&&y&&(k.moveTo(n,u.hz,w.bottom+.5),k.lineTo(n,u.hz,w.bottom+6),L&&k.dashedLineTo(n,u.hz,w.bottom+6+h+3,[1,3]))),D&&u.right>T.left&&(this.canvasColor(u.grid==i&&S||u.alwaysAsBoundary&&u.level<C?"stx_xaxis_dark":"stx_xaxis",l),!S&&u.boundaryOnlyText&&(u.text=u.boundaryOnlyText),l.fillText(u.text,u.hz,b+(L?h+3:0))));y&&(A=Math.round(w.bottom)+.5,M=Math.round(T.right)+.5,k.moveTo(n,T.left,A),k.lineTo(n,M,A)),k.draw(l),l.restore()}l.textAlign="left",this.runAppend("drawXAxis",s)}}}},t.ChartEngine.prototype.createSpacedDateXAxis=function(e){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y=R;e||(e=this.chart);var{lineBaseLevel:b}=t.ChartEngine.XAxis,{dataSegment:x,lineApproximation:C,market:S,maxTicks:T,xaxis:D,xAxis:w}=e,{candleWidth:k,interval:L,timeUnit:A}=this.layout;y.S80(4),D.length=y.j80(2147483647,"0");for(var M=0;M<T;M++){if((r=x[M])&&M&&!D.length){S&&(n=this.standardMarketIterator(r.DT,w.adjustTimeZone?this.displayZone:null));for(var P=M;P>0;P--)s={},!n||C&&k<1||(s.DT=n.previous()),D.unshift(s);n=null}if(r||M&&D.length){if(o=r&&r.DT,r&&r.displayDate&&w.adjustTimeZone&&(o=r.displayDate),!o){if(!S)continue;if("tick"==L&&!w.futureTicksInterval)break;if(C&&k<1)break;if(!w.futureTicks)break;n||(n=this.standardMarketIterator(x[M-1].DT,w.adjustTimeZone?this.displayZone:null)),o=n.next()}l={DT:o,data:null},M<x.length&&(l.data=r),D.push(l)}}h=[],e.tzOffsetCache||(e.tzOffsetCache=new Map),e.tzOffsetCache.size>2e4&&e.tzOffsetCache.clear(),c=e.tzOffsetCache,u=((d=S&&S.market_def||{}).normal_daily_open||"00:00").split(":"),y.W80(169);var O=y.j80(2,45,13,1,56);return y.X7n(),p=Number(u[0])*O,d.hour_aligned||(p+=Number(u[1])),m=n=>{var r,s,o,l,d,u;r="year"===n||L!==n&&A!==n?i:a,s=t.ChartEngine.XAxis.setPropertiesForInterval[n],o=e.left,y.X7n(),D.forEach(((e,i)=>{var m,g,f,v,x,C,T,D,w;y.X7n(),m=e.data&&e.data.candleWidth||k,g=e.DT,f=2;for(var L=1;-423575550!==y.r81(L.toString(),L.toString().length,11416);L++)f+=2;if(y.r81(f.toString(),f.toString().length,91862),g)switch(n){case"year":v=g.getFullYear();break;case"month":v=g.getMonth();break;case"week":case"day":v=g.getDate();break;case"minute":y.S80(13);var A=y.l80(3,57);v=g.getHours()*A+g.getMinutes();break;case"second":v=g.getSeconds();break;case"millisecond":case"tick":v=g.getMilliseconds()}if(r===a&&(y.S80(35),o+=y.j80(2,m)),void 0!==v&&(r===a||l!==v)){if(x=new t.ChartEngine.XAxisLabel({hz:o,grid:r,raw:v}),"minute"===n){if(!d||d.getDate()!==g.getDate()){y.S80(26),C=-y.j80("293176532",0),y.S80(26),T=y.l80("2",0);for(var M=1;1164362006!==y.r81(M.toString(),M.toString().length,58452);M++)d=g,T+=2;if(y.r81(T.toString(),T.toString().length,21401)!==C&&(d=g),w=`${+g}|${D=S&&S.market_tz}|${this.displayZone}`,void 0===(u=c.get(w))){y.W80(70);var P=y.j80(15,780225,60015,14);u=(t.convertTimeZone(g,this.displayZone,D).getTime()-g)/P,c.set(w,u)}}y.S80(7),x.marketOpenOffset=y.l80(u,p)}s&&s(x,e,S,this),x.grid==a&&x.level<b&&(x.level+=b),(i||r===a)&&h.push(x),l=v}r===a?(y.W80(35),o+=y.l80(2,m)):o+=m}))},(v=(f=["year","month","week","month","day","minute","second","millisecond","tick"]).indexOf(g=A||L))>0&&("tick"!==g&&m(f[v-1]),m(f[v])),h}},N=e=>{var t;R.X7n(),(t=e.CIQ).ChartEngine.prototype.createYAxis=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D=R;if(a="c",a+="reateYAx",a+="is",!this.runPrepend(a,arguments)){if(n=e.chart,r=e.name==n.name,i||(i={}),i.noChange=!1,s=i.yAxis?i.yAxis:e.yAxis,t.ChartEngine.enableCaching&&s.high==e.cacheHigh&&s.low==e.cacheLow){D.S80(13);var w=D.j80(0,1);o=n.dataSet.length-n.scroll-w,D.S80(2);var k=D.j80(14,0,13);l=o+n.maxTicks+k,e.cacheLeft=o,e.cacheRight=l,i.noChange=!0}else e.cacheLeft=1e6,e.cacheRight=-1,e.cacheHigh=s.high,e.cacheLow=s.low;if(h=n.xAxis.idealTickSizePixels||n.xAxis.autoComputedTickSizePixels,s.goldenRatioYAxis&&s.idealTickSizePixels!=h/1.618&&(i.noChange=!1),!i.noChange){if(d="pr",d+="oj",d+="ection",this.adjustYAxisHeightOffset(e,s),u=s.height=s.bottom-s.top,p=(s.high-s.low)/(u-s.zoom),!s.semiLog)if(i.ground)s.high=s.high+s.zoom*p;else{D.W80(43);var L=D.j80(19,22,22,20);s.high=s.high+(s.zoom/L+s.scroll)*p,D.S80(15);var A=D.j80(40,3,14);s.low=s.low-(s.zoom/A-s.scroll)*p}(s.min||0===s.min)&&(s.low=s.min),(s.max||0===s.max)&&(s.high=s.max),s.shadow=s.high-s.low,!s.semiLog||this.activeDrawing&&this.activeDrawing.name==d||(m=function(){var e;s.logHigh=Math.log(s.high)/Math.LN10,D.X7n(),e=Math.max(s.low,1e-9),s.logLow=Math.log(e)/Math.LN10,s.low<=0&&(s.logLow=0),s.logShadow=s.logHigh-s.logLow},s.semiLog&&m(),g=s.height/(s.height-s.zoom),s.flipped?(s.high=this.transformedPriceFromPixel(s.bottom+g*(s.zoom/2+s.scroll),e,s),s.low=this.transformedPriceFromPixel(s.top-g*(s.zoom/2-s.scroll),e,s)):(s.high=this.transformedPriceFromPixel(s.top-g*(s.zoom/2+s.scroll),e,s),s.low=this.transformedPriceFromPixel(s.bottom+g*(s.zoom/2-s.scroll),e,s)),s.shadow=s.high-s.low,s.semiLog&&m()),s.goldenRatioYAxis&&r&&s==e.yAxis?(D.S80(35),s.idealTickSizePixels=D.j80(1.618,h),0===s.idealTickSizePixels&&(f=this.getCanvasFontSize("stx_yaxis"),D.S80(46),s.idealTickSizePixels=D.j80(5,f))):s.idealTickSizePixels||(v="s",v+="tx_yaxis",f=this.getCanvasFontSize(v),r?(D.W80(46),s.idealTickSizePixels=D.l80(5,f)):(D.S80(46),s.idealTickSizePixels=D.j80(2,f))),y=Math.round(u/s.idealTickSizePixels),c=i.range?i.range[1]-i.range[0]:s.shadow,D.S80(35),s.priceTick=Math.floor(D.l80(y,c)),b=1;for(var M=0;M<10&&!(s.priceTick>0);M++)b*=10,s.priceTick=Math.floor(c/y*b)/b;if(10==M&&(s.priceTick=1e-8),s.priceTick=Math.round(c/y*b)/b,x=Math.round(c/s.priceTick),i.range&&x<c&&!s.noEvenDivisorTicks){for(;x>=1&&c%x!=0;)x--;D.W80(35),s.priceTick=D.l80(x,c)}if(s.minimumPriceTick){C=s.minimumPriceTick,f=this.getCanvasFontSize("stx_yaxis");for(var P=0;P<100&&(D.S80(35),u/D.l80(C,c)<2*f);P++)C+=s.minimumPriceTick;P<100&&(s.priceTick=C)}}if((s.priceTick<=0||s.priceTick===1/0)&&(s.priceTick=1),s.multiplier=s.height/s.shadow,D.X7n(),s.multiplier==1/0&&(s.multiplier=0),s.decimalPlaces||0===s.decimalPlaces)s.printDecimalPlaces=s.decimalPlaces;else if(r){S=0;for(var O=0;O<e.yAxis.shadowBreaks.length;O++)T=e.yAxis.shadowBreaks[O],e.yAxis.shadow<T[0]&&(S=T[1]);s.printDecimalPlaces=S}else s.printDecimalPlaces=null;this.runAppend("createYAxis",arguments)}},t.ChartEngine.prototype.drawYAxis=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,z,U,Z,W,Y,B=R;if(i||(i={}),a=i.yAxis?i.yAxis:e.yAxis,!e.hidden&&!a.noDraw&&a.width){if(t.Comparison&&a.priceFormatter==t.Comparison.priceFormat||((n=a.fractional)?(a.originalPriceFormatter||(a.originalPriceFormatter={func:a.priceFormatter}),n.resolution||(n.resolution=a.minimumPrice),n.formatter||(n.formatter="'"),a.priceFormatter||(a.priceFormatter=function(e,t,i){var a,r,s,o;if(n){a="",i<0&&(a="-",i=Math.abs(i)),r=Math.floor(Math.round(i/n.resolution)*n.resolution),s=Math.round((i-r)/n.resolution),o=Math.floor(s),B.W80(86);var l=B.l80(1,12,20,23);B.W80(64),B.j80(16,397,5170),B.S80(39),B.j80(2,8,1223,1507,1529),B.W80(2),B.l80(2,7535,22),B.W80(88);var h=B.j80(8,6,12,4942);B.S80(148),B.l80(1,453,449,449),B.W80(64);var c=B.j80(9,1486,29);B.W80(7);var d=B.j80(1520,10);return B.S80(8),B.j80(2526,7600,7589,5,16),B.S80(13),B.j80(1553,3107),a+r+n.formatter+(o<l?"0":"")+o+(s-o>=.5?h===c?d:"+":"")}})):a.originalPriceFormatter&&(a.priceFormatter=a.originalPriceFormatter.func,a.originalPriceFormatter=null)),r=this.colorOrStyle(a.textStyle||"stx_yaxis"),o=0,(s=this.highlightedDraggable)&&this.yaxisMatches(s,a)?o=.15:a.highlight&&(o=.1),o&&(l=r.constructor==String?r:r.color,a.setBackground(this,{color:l,opacity:o})),a.pretty)return this.drawYAxisPretty(e,i);if(!this.runPrepend("drawYAxis",arguments)){if(!i.noDraw&&!a.noDraw){if(!(h=a.yAxisPlotter)||!i.noChange){if(c="l",c+="e",c+="ft",d="s",d+="tx_grid_b",d+="order",u="b",u+="or",u+="de",u+="r",p="f",p+="i",p+="l",p+="l",m="t",m+="ex",m+="t",g="g",g+="r",g+="id",h=a.yAxisPlotter=new t.Plotter,f=e.chart,v=e.name==f.name&&a.name===e.yAxis.name,!a.priceTick)return;if(y=a.shadow,b=i.range){B.S80(9);var Q=B.j80(3,4,15,0);y=b[Q]-b[0]}if(x=y/a.priceTick,x=Math.round(x),a.semiLog&&(C=Math.log(this.valueFromPixel(a.flipped?a.top:a.bottom,e))/Math.LN10,S=(a.logHigh-a.logLow)/x),h.newSeries(g,"stroke",this.canvasStyle("stx_grid")),h.newSeries(m,p,r),h.newSeries(u,"stroke",this.canvasStyle(d)),T=0,D=b?b[1]:a.high,w=b?b[0]:a.low,k=null===a.displayBorder?f.panel.yAxis.displayBorder:a.displayBorder,!1===this.axisBorders&&(k=!1),!0===this.axisBorders&&(k=!0),M=(A=f.dynamicYAxis)?a.width:NaN,L="left"==(P=this.getYAxisCurrentPosition(a,e))?a.left+a.width:a.left,O=Math.round(L)+.5,_=k?3:0,P==c&&(_=k?-3:0),v)if(a.shadow<1){B.W80(170);var X=B.l80(255,20,12,7,13);B.W80(140);var G=B.j80(6,15,45,7,18);T=(parseInt(w/a.priceTick,X)+G)*a.priceTick-w}else T=a.priceTick-Math.round(w%a.priceTick*e.chart.roundit)/e.chart.roundit;else T=D%a.priceTick;F=this.getCanvasFontSize("stx_yaxis");for(var K=0;K<x;K++)H="t",H+="e",H+="x",H+="t",I="l",I+="e",I+="f",I+="t",a.semiLog?(B.W80(146),E=B.l80(C,S,K),B.W80(4),q=Math.pow(B.l80(2147483647,"10"),E)):q=v?w+K*a.priceTick+T:D-K*a.priceTick-T,V=this.pixelFromTransformedValue(q,e,a),(N=Math.round(V)+.5)+F/2>e.bottom||N-F/2<e.top||Math.abs(N-a.bottom)<1||(a.flipped&&(N=a.top+a.bottom-N),a.displayGridLines&&(j="g",j+="r",j+="i",j+="d",h.moveTo("grid",e.left+1,N),h.lineTo(j,e.right-1,N)),k&&(B.S80(7),h.moveTo("border",B.l80(O,.5),N),B.W80(13),h.lineTo("border",B.l80(O,_),N)),q=a.priceFormatter?a.priceFormatter(this,e,q):this.formatYAxisPrice(q,e,null,a),z=a.textBackground?this.containerColor:null,U=3,B.S80(33),Z=B.l80(L,_,U),P==I?(Z=a.left+U,!1!==a.justifyRight&&(Z=a.left+a.width+_-U)):a.justifyRight&&(Z=L+a.width),h.addText(H,q,Z,N,z,null,F),A&&(M=Math.max(M,f.context.measureText(q).width+Math.abs(_)+U)));if(k&&(W="b",W+="orde",W+="r",Y=Math.round(a.bottom)+.5,h.moveTo("border",O,a.top),h.lineTo("border",O,Y),h.draw(this.getBackgroundCanvas(f).context,W)),A&&M>a.width)throw a._dynamicWidth=M,this.calculateYAxisPositions(),new Error("reboot draw");if(!A&&a._dynamicWidth)throw this.resetDynamicYAxis({chartName:f.name}),new Error("reboot draw")}a==e.yAxis&&this.plotYAxisGrid(e)}this.runAppend("drawYAxis",arguments)}}},t.ChartEngine.prototype.drawYAxisPretty=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,z,U,Z,W,Y,B,Q,X,G,K,$,J,ee,te,ie=R;if(a="dra",a+="wY",a+="A",a+="xis",!this.runPrepend(a,arguments)&&(i||(i={}),n=i.yAxis||e.yAxis,!e.hidden&&!n.noDraw&&n.width)){if(!i.noDraw){if(!(r=n.yAxisPlotter)||!i.noChange){if(s="f",s+="ill",o="t",o+="e",o+="x",o+="t",l="g",l+="rid",r=n.yAxisPlotter=new t.Plotter,h=e.chart,!n.priceTick)return;if(isNaN(n.high)||isNaN(n.low))return;if(c=n.shadow,i.range){ie.S80(147);var ae=ie.j80(502468639,8,10049372800,10049372808);c=i.range["1"<<ae]-i.range[0]}d=(n.height-(i.range?n.zoom:0))/n.idealTickSizePixels,d=Math.round(d),u=n.textStyle||"stx_yaxis",r.newSeries(l,"stroke",this.canvasStyle("stx_grid")),r.newSeries(o,s,this.colorOrStyle(u)),r.newSeries("border","stroke",this.canvasStyle("stx_grid_border")),m=(p=i.range)?p[1]:n.high,g=p?p[0]:n.low,f=null===n.displayBorder?h.panel.yAxis.displayBorder:n.displayBorder,!1===this.axisBorders&&(f=!1),!0===this.axisBorders&&(f=!0),b=(y=h.dynamicYAxis)?n.width:NaN,v="left"==(x=this.getYAxisCurrentPosition(n,e))?n.left+n.width:n.left,C=Math.round(v)+.5,S=f?3:0,"left"==x&&(S=f?-3:0),T=this.getCanvasFontSize("stx_yaxis"),w=(D=n.increments).length,ie.W80(7),k=ie.j80("0",0),L=1,A=0,M=0,P=0,O=Number.MAX_VALUE;for(var ne=0;ne<100;ne++){ie.W80(1);var re=ie.j80(6,16);if(A=D[k]*Math.pow(re,P),ie.S80(35),L=Math.floor(ie.j80(A,c)),ie.W80(7),(_=Math.abs(ie.j80(d,L)))>O)break;if(O=_,L==d){M=A;break}L>d?++k>=w&&(k=0,P++):--k<0&&(ie.S80(7),k=ie.l80(w,1),P--),M=A}if(F=Math.ceil(g/M)*M,H=0,n.bottom-this.pixelFromTransformedValue(F,e,n)>n.idealTickSizePixels&&n.semiLog&&n.prettySemiLog&&m-g>10){for(I=Math.ceil(g),q=0;F-I>=1e4&&q<=15;)F/=10,I/=10,q++;for(F=Math.ceil(F),I=Math.ceil(I);I<F&&F%I!=0;++I);F*=Math.pow(10,q),(I*=Math.pow(10,q))<F&&(F===M&&(M=I,H=I),F=I)}if(n.height>n.zoom){E=0,V=Number.MAX_VALUE,h.context.save(),this.canvasFont("stx_yaxis",h.context),N=n.shadow/M+2;for(var se=0;se<N&&(ie.W80(146),!((j=ie.j80(F,M,E))>m));se++)if(M+=H,E++,V-(z=this.pixelFromTransformedValue(j,e,n))<T+1&&H>0){V=Number.MAX_VALUE,M=H,H*=2,se=E=0,ie.W80(171);var oe=ie.j80(3,154,5,2,15);N=n.shadow/M+oe,r.reset()}else if(V=z,!((U=Math.round(z)+.5)+T/2>n.bottom||U-T/2<n.top||Math.abs(U-n.bottom)<1)){if(n.displayGridLines&&(Z="gr",Z+="i",Z+="d",r.moveTo("grid",e.left+1,U),r.lineTo(Z,e.right-1,U)),f&&(W="b",W+="o",W+="rde",W+="r",ie.W80(7),r.moveTo(W,ie.l80(C,.5),U),ie.S80(13),r.lineTo("border",ie.l80(C,S),U)),j=n.priceFormatter?n.priceFormatter(this,e,j):this.formatYAxisPrice(j,e,null,n),Y=n.textBackground?this.containerColor:null,B=Q=3,ie.W80(33),X=ie.j80(v,S,B),"left"==x){ie.S80(2);var le=ie.j80(8,17,22);X=n.left+le,!1!==n.justifyRight&&(X=n.left+n.width+S-B)}else n.justifyRight&&(X=v+n.width-Q);r.addText("text",j,X,U,Y,null,T),y&&(ie.W80(13),G=ie.l80(j,""),b=Math.max(b,h.context.measureText(G).width+Math.abs(S)+B))}if(h.context.restore(),se>=N){K=-1973398821,$=843485778,J=2;for(var he=1;ie.g81(he.toString(),he.toString().length,32071)!==K;he++)ie.W80(172),console.log(ie.l80(N,"")),J+=2;ie.r81(J.toString(),J.toString().length,95823)!==$&&(ie.W80(172),console.log(ie.l80(N,""))),ie.S80(13),console.log(ie.j80("drawYAxisPretty: assertion error. zz reached ",N))}}if(f&&(ee="bo",ee+="rder",te=Math.round(n.bottom)+.5,r.moveTo("border",C,n.top),r.lineTo("border",C,te),r.draw(this.getBackgroundCanvas(h).context,ee)),y&&b>n.width)throw n._dynamicWidth=b,this.calculateYAxisPositions(),new Error("reboot draw");if(!y&&n._dynamicWidth)throw this.resetDynamicYAxis({chartName:h.name}),new Error("reboot draw")}n==e.yAxis&&this.plotYAxisGrid(e)}this.runAppend("drawYAxis",arguments)}}},(e=>{function t(){}R.G7n(),e.timezoneJS={},e.CIQ=t,t.inheritsFrom=function(e,t,i){var a;a=t.prototype||Object.getPrototypeOf(t),e.prototype=!1!==i&&"function"==typeof t?new t:Object.create(a),Object.defineProperties(e.prototype,{constructor:{configurable:!0,enumerable:!1,value:e,writable:!0},parent:{configurable:!0,enumerable:!1,value:a,writable:!0}})},t.extend=function(e,i,a){var n,r;for(n in i)e!==(r=i[n])&&void 0!==r&&(null===r||!0===a?e[n]=r:r.constructor==Array?e[n]=r.slice():r.constructor==Object?e[n]=t.extend("object"==typeof e[n]&&null!==e[n]?e[n]:{},r):e[n]=r);return R.G7n(),e},t.activateImports=function(...t){var i;(i=this).activatedImports||(i.activatedImports={}),t.forEach((t=>{R.G7n(),"function"==typeof t&&(t.__guid in i.activatedImports||(t.__guid=i.uniqueID(!0),i.activatedImports[t.__guid]=t.__name||t.name,t(e)))}))}})(j={}),r(),s(j),o(j),l(j),h(j),c(j),d(j),u(j),p(j),m(j),g(j),f(j),v(j),y(j),b(j),x(j),C(j),S(j),T(j),D(j),w(j),k(j),L(j),A(j),M(j),P(j),O(j),_(j),F(j),R.X7n(),H(j),I(j),q(j),E(j),V(j),N(j);var{CIQ:z,SplinePlotter:U,timezoneJS:Z,$$:W,$$$:Y}=j},261:(e,t,i)=>{i.d(t,{Pz:()=>a.Pz});var a=i(316),n=[];a.Pz.UI||(a.Pz.UI={}),a.Pz.UI.stxtap=function(e,t,i){e&&(a.Pz.installTapEvent(e),"string"==typeof i&&(e=e.querySelector(i)),e&&e.addEventListener("stxtap",t))},a.Pz.UI.addResizeListener=function(e,t){a.Pz.UI.getUIManager().registerForResize(e),e.resizeHandle=a.Pz.resizeObserver(e,t,null,250)},a.Pz.UI.removeResizeListener=function(e){a.Pz.UI.getUIManager().unregisterForResize(e),a.Pz.resizeObserver(e,null,e.resizeHandle)},a.Pz.UI.containerExecute=function(e,t,i){var a=i;i&&a.constructor!==Array&&(a=Array.prototype.slice.call(arguments,2));for(var n=e.parentElement;n;){if(n[t]&&n[t].constructor==Function)return n[t].apply(n,a);n=n.parentElement}return null},a.Pz.UI.animatePrice=function(e,t,i,a){e[0]&&(e=e[0]),e.timeoutHandle&&(clearTimeout(e.timeoutHandle),e.timeoutHandle=null),e.classList.remove("cq-stable","cq-up","cq-down"),t>i?e.classList.add("cq-up"):t<i&&e.classList.add("cq-down"),a&&(e.timeoutHandle=setTimeout((function(){e.classList.add("cq-stable").classList.remove("cq-up","cq-down")}),0))},a.Pz.UI.makeFromTemplate=function(e,t){"string"==typeof e&&(e=document.querySelector(e)),e[0]&&a.Pz.UI.$(e)[0]==e[0]&&(e=e[0]);var i,n=e.content;n.childNodes.length?i=document.importNode(n,!0):(n=document.createElement("DIV"),Array.from(e.children).forEach(function(e){return function(t){e.appendChild(t.cloneNode(!0))}}(n)),i=n.cloneNode(!0));var r=Array.from(i.children);return t&&r.forEach(function(t){return function(i){!0===t?e.parentElement.appendChild(i):t[0]?t[0].appendChild(i):t.appendChild(i)}}(t)),a.Pz.UI.$(r)},a.Pz.UI.splitMethod=function(e){if(!e)return null;var t=e.indexOf("("),i=e.lastIndexOf(")");if(-1==t||-1==i)return console.log("malformed stxtap attribute: "+e),null;var a,n=null,r=e.substring(0,t),s=r.indexOf(".");-1==s?a=r:(n=r.substring(0,s),a=e.substring(s+1,t));var o=e.substring(t+1,i).match(/('[^']+'|[^,]+)/g),l=new RegExp("^[0-9]+([,.][0-9]+)?$","g"),h=new RegExp("^\\d+$"),c=[];if(o)for(var d=0;d<o.length;d++){for(var u=o[d];" "==u.charAt(0);)u=u.substring(1);if(-1!=u.indexOf('"')||-1!=u.indexOf("'"))c.push(u.substring(1,u.length-1));else if("true"==u)c.push(!0);else if("false"==u)c.push(!1);else if("null"==u)c.push(null);else if(h.test(u))c.push(parseInt(u,10));else if(l.test(u))c.push(parseFloat(u));else{for(var p=u.split("."),m=window,g=0;g<p.length;g++)m=m[p[g]];c.push(m)}}return{helperName:n,functionName:a,args:c}},a.Pz.UI.observeProperty=function(e,t,i){if(t&&e&&i){e in t||(t[e]=void 0),a.Pz.UI.observables||(a.Pz.UI.observables={});var n,r=a.Pz.UI.observables;r[e]||(r[e]=[]);for(var s=0;s<r[e].length;s++){var o=r[e][s];o.obj==t&&(n=o)}n||(n={obj:t,value:t[e],listeners:[]},r[e].push(n)),n.listeners.push(i),i({obj:t,property:e,value:n.value}),Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n.value},set:function(i){if(n.value!==i){n.value=i;for(var a={obj:t,property:e,value:i},r=0;r<n.listeners.length;r++)n.listeners[r](a)}}})}},a.Pz.UI.unobserveProperty=function(e,t,i){if(e&&t&&a.Pz.UI.observables){var n=a.Pz.UI.observables[e];if(n){for(var r=n.length-1;r>=0;r--){var s=n[r];if(s.obj==t){if(i)for(var o=s.listeners,l=o.length;l>=0;l--)o[l]===i&&o.splice(l,1);i&&s.listeners.length||(Object.defineProperty(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s.value}),n.splice(r,1))}}n.length||delete a.Pz.UI.observables[e]}}},a.Pz.UI.getMyContext=function(e,t){for(t&&(e=e.closest("cq-context, *[cq-context]")||e);e;){if(e.context)return e.context;if(e.CIQ&&e.CIQ.UI)return e.CIQ.UI.context;e=e.parentElement}return null},a.Pz.UI.contextsForEach=function(e){document.querySelectorAll("cq-context,*[cq-context]").forEach((function(t){e.apply(t.CIQ.UI.context)}))},a.Pz.UI.release=!1,a.Pz.UI.bypassBindings=!1,a.Pz.UI.begin=function(e){a.Pz.UI.release=!0,setTimeout((function(){o.nextTick(),e&&e()}),0)},a.Pz.UI.activatePluginUI=function(e,t){const{uiContext:i={},container:a}=e,n=i.topNode||a.closest("cq-context");n&&n.setAttribute(t.toLowerCase()+"-active","")},a.Pz.UI._webcomponents={list:{}},a.Pz.UI.addComponentDefinition=function(e,t){const i=!!a.Pz.UI.registerComponentsImmediately;a.Pz.ensureDefaults(a.Pz.UI._webcomponents,{registered:i}),a.Pz.UI._webcomponents.list[e]={tag:e,classDefinition:t,registered:i},i&&customElements.define(e,t)},a.Pz.UI.registerComponents=function({except:e=[]}={}){const{exceptions:t={}}=a.Pz.UI._webcomponents;e.forEach((e=>t[e]=!0)),a.Pz.UI._webcomponents.exceptions=t;const{list:i}=a.Pz.UI._webcomponents;Object.keys(i).filter((t=>!e.includes[t])).forEach((e=>{const a=i[e];!a||a.registered||t[e]||(customElements.define(e,a.classDefinition),a.registered=!0)}))},a.Pz.UI.ensureComponentsRegistered=function(){a.Pz.UI.registerComponents()},a.Pz.UI.components=function(e){return Object.values(a.Pz.UI._webcomponents.list).filter((({tag:t,classDefinition:i})=>!e||e===t||e===i.name||e===i))},a.Pz.UI.componentMarkup=function(e,t){const i=this.components(e);if(void 0===t){if(!i.length)return;const t=i.map(n);return e?t[0]:t}const[a]=i;if(a&&a.classDefinition.markup)return a.classDefinition.markup=t,n(a);function n(e){const{tag:t,registered:i,classDefinition:{markup:a,name:n}}=e;return{tag:t,name:n,registered:i,markup:a}}},a.Pz.UI.markupDependencies=function(){const e=a.Pz.UI.componentMarkup(),t={};e.forEach((e=>{if(e.markup)for(let i in a.Pz.UI._webcomponents.list){const n=a.Pz.UI._webcomponents.list[i];e.markup.indexOf("</"+n.tag+">")>-1&&(t[e.tag]||(t[e.tag]=[]),t[e.tag].push(n.tag))}}));const i={};for(let e in t)t[e].forEach((e=>{i[e]=(i[e]||0)+1}));return{dependencies:t,timesNeeded:i}},a.Pz.UI.addInheritance=function(e,t){for(var i in t.prototype)try{e.prototype[i]=t.prototype[i]}catch(e){}};var r={};a.Pz.UI.supportedInputType=function(e){if(!r[e]){var t=document.createElement("input");t.setAttribute("type",e),r[e]=t.type}return r[e]},a.Pz.UI.Context=function(e,t,i){this.params=i||{},this.stx=e,e&&(e.uiContext=this),this.node=a.Pz.UI.$(t),this.topNode=this.node[0],a.Pz.isMobile&&t.setAttribute("ciq-mobile","");var n=a.Pz.UI.Context.assembleContext(t);this.advertised={};for(var r=t.CIQ.UI.context=this,s=[],o=0;o<n.Components.length;o++)s.push(n.Components[o].tagName.toLowerCase());s.length&&this.topNode.querySelectorAll(s.join(",")).forEach((function(e){e.setContextPrivate(r)}))};var s=a.Pz.UI.Context;s.assembleContext=function(e){return e.CIQ||(e.CIQ={}),e.CIQ.UI||(e.CIQ.UI={}),e.CIQ.UI.Components||(e.CIQ.UI.Components=[]),e.CIQ.UI},s.prototype.changeSymbol=function(e,t){console.log("Please implement CIQ.UI.Context.prototype.changeSymbol")},s.prototype.setLookupDriver=function(e){this.lookupDriver=e,e.deprecated&&console.warn("Using deprecated Lookup Driver, please see documentation: CIQ.ChartEngine.Driver.Lookup")},s.prototype.advertiseAs=function(e,t){this.advertised[t]=e},s.prototype.getAdvertised=function(e){return this.advertised[e]},s.prototype.setLoader=function(e){this.loader=e},s.prototype.isModal=function(){return""!==this.stx.openDialog},s.prototype.isLegendKeyboardActive=function(){const e=document.querySelectorAll("cq-study-legend");if(e.length)for(let t=0;t<e.length;t++)if(e[t].classList.contains("ciq-active")&&e[t].keyboardNavigation)return!0;return!1};class o extends HTMLElement{constructor(){super(),this.node=a.Pz.UI.$(this),this.eventListeners=[]}connectedCallback(){this.attached||(o.buildReverseBindings(this),this.attached=!0)}disconnectedCallback(){if(this.attached=!1,this.context)for(var e=0;e<this.eventListeners.length;e++)this.context.stx.removeEventListener(this.eventListeners[e])}addDefaultMarkup(e,t){const i=e||this;if((e=>0===e.children.length)(i)&&(i.constructor.markup||t)){const e=+new Date;if(i.innerHTML=t||i.constructor.markup,o.buildReverseBindings(i),a.Pz.debug){const t=+new Date-e;o.createMarkupTime=t+(o.createMarkupTime||0),console.log("Building markup "+this.constructor.name+" "+(this.getAttribute("cq-name")||"")+" built in="+t,"total="+o.createMarkupTime)}a.Pz.I18N&&a.Pz.I18N.localized&&a.Pz.I18N.translateUI(null,i)}}channelWrite(e,t,i){const{obj:n,prop:r}=a.Pz.UI.BaseComponent.getChannel(e,i,this);n&&(n[r]=t)}channelMergeObject(e,t,i){const{obj:n,prop:r}=a.Pz.UI.BaseComponent.getChannel(e,i,this);n&&(n[r]=Object.assign({},n[r],t))}channelRead(e,t){const{obj:i,prop:n}=a.Pz.UI.BaseComponent.getChannel(e,t,this);if(i)return i&&i[n]}channelSubscribe(e,t,i){const{obj:n,prop:r}=a.Pz.UI.BaseComponent.getChannel(e,i,this);if(n)return a.Pz.UI.observeProperty(r,n,s),()=>{a.Pz.UI.unobserveProperty(r,n,s)};function s({value:e}){t(e)}}qs(e,t){return"thisChart"===t&&(t=this.getContextContainer()),(t||document).querySelector(e)}qsa(e,t){return"thisChart"===t&&(t=this.getContextContainer()),Array.prototype.slice.call((t||document).querySelectorAll(e)||[])}getContextContainer(e){return e?o.selfOrParentElement(e,"cq-context"):(this.contextContainer||(this.contextContainer=o.selfOrParentElement(this,"cq-context")),this.contextContainer)}getChartContainer(e){return o.selfOrParentElement(e||this,"ciq-chart")}static getHelper(e,t,i){if(e){if(!t&&!(t=e.getAttribute(i)))return null;var n,r=t.indexOf("("),s=t.substring(0,r),o=t.indexOf(".");if(-1==r||-1!=s.indexOf(".")){var l=-1===o?t:t.substring(0,o),h=e.context;if(h||(e.context||(e.context=a.Pz.UI.getMyContext(e)),h=e.context),!h){const t=e.closest("cq-context, [cq-context]");return t?(t.bindingInitiated&&console.log("No context attached to "+e.tagName+". A context is required when binding to a helper."),null):(console.log(e.tagName+" is not inside cq-context element. A context element is required when binding to a helper."),null)}n=a.Pz.UI.getMyContext(e,!0).getAdvertised(l)}else for(var c=t.substring(0,r),d=e.parentElement;d;){if("function"==typeof d[c])return d;d=d.parentElement}return n}}static activate(e,t,i,n){var r=n?"stxsetget":"stxtap",s=a.Pz.UI.splitMethod(e.getAttribute(r));if(s){var l=s.helperName,h=s.functionName;n&&(h="set"+h);var c=[{node:e,e:t,params:i}].concat(s.args);if(l){var d=o.getHelper(e,null,r);if(!d[h])return void console.log("Method '"+h+"' not found in helper",d);d[h].apply(d,c)}else for(var u=e.parentElement;u;)"function"==typeof u[h]&&u[h].apply(u,c),u=u.parentElement}}makeTap(e,t){o.makeTap(e,t)}static makeTap(e,t){e.selectFC=t,a.Pz.UI.stxtap(e,t)}static bindNode(e,t){var i,n=e.getAttribute("stxbind"),r=e.getAttribute("stxtap"),s=e.getAttribute("stxsetget");if(n&&""!==n){if(!(i=o.getHelper(e,n,"stxbind")))return!1;!function(t){var i,a=n.indexOf("(");i=n.substring(n.indexOf(".")+1),-1!==a&&(i=n.substring(0,a)),t&&t[i](e)}(i)}function l(e){return function(i){o.activate(e,i,t,!1)}}if(r&&""!==r&&("INPUT"!=e.tagName||"text"!==e.type&&"number"!==e.type?o.makeTap(e,l(e)):o.inputEntry(e,l(e))),s){if(!(i=o.getHelper(e,s,"stxsetget")))return!1;!function(i){function n(){return function(i){o.activate(e,i,t,!0)}}var r=a.Pz.UI.splitMethod(s);if(r){var l=[e].concat(r.args).concat(t),h="get"+r.functionName;i&&i[h]&&i[h].apply(i,l),"text"===e.type||"number"===e.type?o.inputEntry(e,n()):o.makeTap(e,n())}else console.log("Syntax error "+s)}(i)}return!0}static scheduleForBinding(e,t){o.scheduledBindings.push({node:e,parentTag:t}),o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.nextTick,0)}inputEntry(e,t){o.inputEntry(e,t)}static inputEntry(e,t){e.addEventListener("keypress",(function(e){switch(e.which){case 13:case 9:t()}}))}addClaim(e){n.find((t=>{if(t.helper==e)return!0}))||n.push({helper:e})}removeClaim(e){for(var t=0;t<n.length;t++)if(n[t].helper===e)return void n.splice(t,1)}static buildReverseBindings(e){if(!a.Pz.UI.bypassBindings){var t,i=function(e){if(e.hasAttribute("stxbind")||e.hasAttribute("stxtap")||e.hasAttribute("stxsetget"))return NodeFilter.FILTER_ACCEPT},n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,a.Pz.isIE?i:{acceptNode:i},!1);for(t=n.nextNode();t;)o.scheduleForBinding(t,e),t=n.nextNode()}}static nextTick(){if(a.Pz.UI.release){clearTimeout(o.timeout);for(var e=o.scheduledBindings,t=e.length-1;t>=0;t--){var i=e[t];i.node.ciqAlreadyBound||(i.node.ciqAlreadyBound=o.bindNode(i.node,{parent:i.parentTag}))}}}static selfOrParentElement(e,t){let i=e;for(;i;){if(i.classList.contains(t)||null!==i.getAttribute(t)||i.nodeName.toLowerCase()===t)return i;i=i.parentElement}}static toPropAndObject(e,t){const i=e.split(".");return{prop:i.pop(),obj:i.reduce(((e,t)=>void 0!==e[t]?e[t]:e[t]={}),t)}}static getChannel(e,t,i){if(!e)return console.warn("Missing channel path"),{};if(!t&&!i)return console.warn("Chart engine not provided while retrieving ",e),{};t||i.stx||(i.container||(i.container=a.Pz.UI.getMyContext(i)),i.stx=i.container.stx);const{obj:n,prop:r}=o.toPropAndObject(e,t||i.stx);return{obj:n,prop:r}}findFocused(e){return Array.from(e||[]).filter((e=>e.matches("[cq-focused]")))}findKeyboardActive(e){return Array.from(e).filter((e=>e.matches("[cq-keyboard-active]")))}focusNextItem(e,t,i){const n=this.findFocused(e);let r=-1;if(n.length)for(r=0;r<e.length&&e[r]!==n[0];r++);const s=r;if(t)do{if(r--,r<0){if(!i)break;r=e.length-1}if(r==s)break}while(!a.Pz.trulyVisible(e[r])||"false"===e[r].getAttribute("keyboard-selectable"));else do{if(r++,r>=e.length){if(!i)break;r=0}if(r==s)break}while(!a.Pz.trulyVisible(e[r])||"false"===e[r].getAttribute("keyboard-selectable"));return r>-1&&r<e.length&&e[r]!==n[0]&&(this.removeFocused(e),this.focusItem(e[r]),e[r])}focusItem(e){e.setAttribute("cq-focused","true"),this.highlightItem(e),"INPUT"==e.tagName&&this.clickItem(e)}removeFocused(e){e||(e=this.querySelectorAll("[cq-focused]")),e.forEach((e=>{e.removeAttribute("cq-focused"),e.blur()}))}highlightItem(e){if(!e||!this.keyboardNavigation||!this.keyboardNavigation.highlightPosition)return;const{x:t,y:i,width:a,height:n}=e.getBoundingClientRect();this.keyboardNavigation.highlightPosition({element:e,position:{x:t,y:i,width:a,height:n}})}highlightFocusedItem(e){let t=this.findFocused(e);t.length&&this.highlightItem(t[0])}clickItem(e,t,i){if(e)return e.selectFC?e.selectFC.call(e,t):(e.focus(),e.setAttribute("cq-keyboard-active","true"),i&&(e.keyboardOriginationElement=i),e.dispatchEvent(new Event("pointerdown")),e.dispatchEvent(new Event("pointerup"))),!0}deactivateItem(e){e.blur(),e.removeAttribute("cq-keyboard-active")}clickFocusedItem(e,t){let i=this.findFocused(e);i.length&&this.clickItem(i[0],t)}}o.scheduledBindings=[],a.Pz.UI.BaseComponent=o;class l extends o{constructor(){super(),this.injections=[]}connectedCallback(){this.attached||(this.setContextHolder(),super.connectedCallback())}disconnectedCallback(){if(this.context){var e;for(e=0;e<this.injections.length;e++)this.context.stx.removeInjection(this.injections[e]);for(this.injections=[],e=0;e<this.eventListeners.length;e++)this.context.stx.removeEventListener(this.eventListeners[e]);this.eventListeners=[]}this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}setContextHolder(){var e=this.closest("cq-context,*[cq-context]");if(e){var t=e,i=s.assembleContext(t);i.Components.push(this),i.context&&this.setContextPrivate(i.context)}else console.log("No cq-context found for "+this.tagName)}setContext(e){}setContextPrivate(e){var t,i;this.context=e,this.uiManager=a.Pz.UI.getUIManager(),this.hasAttribute("cq-marker")&&!this.convertedToMarker&&(this.convertedToMarker=!0,this.marker=new a.Pz.Marker({stx:e.stx,node:this,xPositioner:"none",yPositioner:"none",label:"component",permanent:!0})),this.timeout=setTimeout((t=this,i=e,function(){t.setContext(i),t.timeout=null}))}addInjection(e,t,i){this.injections.push(this.context.stx[e](t,i))}}function h(e,t){var i=t.stx,n=a.Pz.UI.$(e||t.topNode);this.node=n[0],this.context=t,this.editing=null,this.drawingContext=document.querySelector("cq-drawing-context"),this.cvpController=n.find("cq-cvp-controller"),this.toolbar=n.find("cq-toolbar"),this.toolbar.length||(this.toolbar=n.find("cq-drawing-settings"));var r=this;Array.from(this.toolbar).forEach((function(e){e.addEventListener("change",function(e,t){return function(){t.editing&&(t.editing.name===e.currentVectorParameters.vectorType?(t.editing.copyConfig(),e.draw(),e.changeOccurred("vector")):t.endEdit(null,"tool"))}}(i,r))})),this.count=i.drawingObjects.length,t.advertiseAs(this,"DrawingEdit"),i.addEventListener("drawing",function(e){return function(t){var i=t.drawings.length;e.count!==i&&(e.endEdit(null,"count"),e.count=i)}}(this)),i.addEventListener("drawingEdit",function(e){return function(t){!0===t.forceEdit?(e.endEdit(null,"edit"),e.showToolbar(t.drawing),e.beginEdit(t.drawing)):e.showContext(t)}}(this)),n.find("cq-toolbar .ciq-drawing-edit-only").each((function(e,t){t.querySelector(".ciq-btn")&&["mouseenter","mouseleave"].forEach((function(e){t.addEventListener(e,function(e,t){return function(i){var a="mouseenter"===i.type;t.editing&&t.editing.highlighted!==a&&(t.editing.highlighted=a,e.draw())}}(i,r))}))}))}a.Pz.UI.ContextTag=l,a.Pz.UI.ModalTag=class extends l{constructor(){super()}connectedCallback(){this.attached||(this.onpointerover=function(){this.modalBegin()},this.onpointerout=function(){this.modalEnd()},super.connectedCallback())}modalBegin(){this.context&&this.context.stx.modalBegin()}modalEnd(){this.context&&(this.uiManager.activeMenuStack.length||this.context.stx.modalEnd())}},a.Pz.UI.DialogContentTag=class extends o{constructor(){super()}close(){var e=this.closest("cq-dialog");e&&e.close(),Array.from(this.querySelectorAll("cq-swatch")).forEach((function(e){e.colorPicker&&e.colorPicker.close()}))}open(e){e&&e.context&&this.setContext(e.context);var t=this.tagName.toLowerCase(),i=this.closest("cq-dialog,cq-menu");i.addActiveAttribute(t),i.open(e)}setContext(e){this.node.find("[stxtap],[stxbind],[stxsetget]").each((function(){this.context=e})),this.context=e}},a.Pz.UI.defaultSwatchColors=["#8ec648","#00afed","#ee652e","#912a8e","#fff126","#e9088c","#ea1d2c","#00a553","#00a99c","#0056a4","#f4932f","#0073ba","#66308f","#323390"],a.Pz.UI.pickSwatchColor=function(e,t){if(!e.context)return;if(!t)return;const{stx:i}=e.context,{chart:n,crossSection:r}=i,s=new Set;let o=t.style.backgroundColor;if(r)for(const e in r.curves){let t=r.curves[e];s.add(a.Pz.convertToNativeColor(t.color))}else for(const e in n.series){var l=n.series[e];l.parameters.isComparison&&s.add(a.Pz.convertToNativeColor(l.parameters.color))}if(""===o||s.has(o))for(var h=0;h<e.swatchColors.length;h++){const i=e.swatchColors[h];if(!s.has(i))return t.style.backgroundColor=i,void(t.value=i)}},a.Pz.UI.Helper=function(e,t){this.node=e,this.context=t},a.Pz.UI.Helper.prototype.addInjection=function(e,t,i){this.injections=this.injections||[],this.injections.push(this.context.stx[e](t,i))},a.Pz.UI.Helper.prototype.addObserver=function({base:e,path:t,listener:i}){const{obj:n,member:r}=a.Pz.deriveFromObjectChain(e,t);a.Pz.UI.observeProperty(r,n,i),this.observers=this.observers||[],this.observers.push({base:e,path:t,listener:i,isEngine:e instanceof a.Pz.ChartEngine})},a.Pz.UI.Helper.prototype.changeContext=function(e){this.stx&&(this.stx=e.stx),this.context&&(this.context=e),this.implementation&&this.implementation.stx&&(this.implementation.stx=e.stx),(this.observers||[]).forEach((t=>{const{path:i,listener:n,isEngine:r}=t;!function(e,t,i){let{obj:n,member:r}=a.Pz.deriveFromObjectChain(e,t);a.Pz.UI.unobserveProperty(r,n,i)}(t.base,i,n),function(e,t,i){let{obj:n,member:r}=a.Pz.deriveFromObjectChain(e,t);a.Pz.UI.observeProperty(r,n,i)}(r?e.stx:e,i,n)})),this.stx&&(this.stx=e.stx),this.context&&(this.context=e)},a.Pz.UI.Helper.prototype.destroy=function(){if(this.injections)for(var e=0;e<this.injections.length;e++)this.context.stx.removeInjection(this.injections[e]);this.injections=[],(this.observers||[]).forEach((({base:e,path:t,listener:i})=>{const{obj:n,member:r}=a.Pz.deriveFromObjectChain(e,t);a.Pz.UI.unobserveProperty(r,n,i)})),this.observers=[]},a.Pz.UI.HeadsUp=function(e,t,i){this.params=i||{},void 0===this.params.autoStart&&(this.params.autoStart=!0),this.node=e,e.remove(),this.context=t,this.injections=[],this.maxVolume={lastCheckDate:null,value:0},this.params.autoStart&&this.begin()},a.Pz.inheritsFrom(a.Pz.UI.HeadsUp,a.Pz.UI.Helper),a.Pz.UI.HeadsUp.prototype.begin=function(){var e;this.injections.length||a.Pz.Marker&&(a.Pz.Marker.HeadsUp||(a.Pz.Marker.HeadsUp=function(e,t){this.className||(this.className="CIQ.Marker.HeadsUp"),a.Pz.Marker.call(this,e),this.prevTick=null,this.showClass=t},a.Pz.inheritsFrom(a.Pz.Marker.HeadsUp,a.Pz.Marker,!1),a.Pz.Marker.HeadsUp.placementFunction=function(e){function t(e,t,i,a){return Math.round(i-e.pixelFromPrice(a,t))}var i=e.panel,n=i.chart,r=e.stx,s=r.chart.highLowBars;e.showClass||(e.showClass="stx-show");for(var o=0;o<e.arr.length;++o){var l=e.arr[o],h=l.node,c=h.classList;if(i.hidden||!r.insideChart)return void c.remove(e.showClass);if(l.params.x<0||l.params.x>=n.dataSet.length)return void c.remove(e.showClass);if(r.currentVectorParameters.vectorType)return void c.remove(e.showClass);var d=n.dataSet[l.params.x],u=r.pixelFromTick(l.params.x);if(!d||u<n.left||u>n.right)return void c.remove(e.showClass);if(!d[r.chart.defaultPlotField]&&0!==d[r.chart.defaultPlotField])return void c.remove(e.showClass);c.add(e.showClass);var p,m=a.Pz.elementDimensions(h);l.clientWidth||(l.clientWidth=m.width),l.clientHeight||(l.clientHeight=m.height),l.clientWidth>u?(c.remove("stx-left"),c.add("stx-right"),Object.assign(l.node.style,{left:u+"px",right:"auto"})):(c.add("stx-left"),c.remove("stx-right"),Object.assign(l.node.style,{right:r.chart.canvasWidth-u+"px",left:"auto"}));var g=l.params.chartContainer?r.chart.canvasHeight:i.bottom;g-(p=t(r,i,g,s?r.getBarBounds(d)[i.yAxis.flipped?"low":"high"]:d[r.chart.defaultPlotField]))-l.clientHeight+r.top<0?(c.add("stx-below"),p=(s?t(r,i,g,r.getBarBounds(d).low):p)-l.clientHeight):c.remove("stx-below");var f=p+"px";l.node.style.bottom!=f&&(l.node.style.bottom=f)}}),this.params.followMouse?(this.node.style.top="auto",e={stx:this.context.stx,label:"headsup",xPositioner:"bar",chartContainer:!0,x:0,node:this.node},this.marker=new a.Pz.Marker.HeadsUp(e,this.params.showClass),this.addInjection("append","handleMouseOut",function(e){return function(){e.followMouse(-1)}}(this))):this.params.staticNode||(Object.assign(this.node.style,{top:"",left:""}),e={stx:this.context.stx,label:"headsup",xPositioner:"none",chartContainer:!1,node:this.node},a.Pz.extend(e,this.params),this.marker=new a.Pz.Marker(e)),this.calculateMaxVolume(),this.addInjection("prepend","headsUpHR",function(e){return function(){e.position()}}(this)),this.addInjection("append","createXAxis",function(e){return function(){e.position()}}(this)),this.addInjection("append","createDataSet",function(e){return function(t,i,a){e.calculateMaxVolume(a.appending)}}(this)))},a.Pz.UI.HeadsUp.prototype.end=function(){this.marker&&this.marker.remove(),this.destroy(),this.marker=null},a.Pz.UI.HeadsUp.prototype.calculateMaxVolume=function(e){e||(this.maxVolume={lastCheckDate:null,value:0});var t=this.context.stx.chart.dataSet;if(t&&t.length){for(var i=t.length-1;i>=0;i--){var a=t[i];if(a.DT<this.maxVolume.lastCheckDate)break;a.Volume>this.maxVolume.value&&(this.maxVolume.value=a.Volume)}this.maxVolume.lastCheckDate=t[t.length-1].DT}},a.Pz.UI.HeadsUp.prototype.position=function(){var e=this.context.stx,t=e.barFromPixel(e.cx);this.tick=e.tickFromPixel(e.cx);var i=e.chart.xaxis[t],n=e.chart.defaultPlotField,r=e.chart.highLowBars;n&&!r||(n="Close");var s=this.node,o=this;function l(t){var i=e.layout.chartScale,a=e.chart.panel,n=e.chart.yAxis;return(n.originalPriceFormatter&&n.originalPriceFormatter.func?n.originalPriceFormatter.func(e,a,t):n.priceFormatter&&"percent"!=i&&"relative"!=i?n.priceFormatter(e,a,t):e.formatYAxisPrice(t,a)).replace(/(\.[0-9]*[1-9])0+$|\.0*$/,"$1")}if(this.tick!=this.prevTick||i&&+i.DT==+e.chart.endPoints.end){this.timeout&&clearTimeout(this.timeout);var h=(this.params.followMouse,0);this.timeout=setTimeout((function(){var t=a.Pz.UI.$(s);function r(e){return a.Pz.isValidNumber(parseFloat(e))?e:"N/A"}if(o.timeout=null,t.find("cq-hu-price").text("N/A"),t.find("cq-hu-open").text("N/A"),t.find("cq-hu-close").text("N/A"),t.find("cq-hu-high").text("N/A"),t.find("cq-hu-low").text("N/A"),t.find("cq-hu-date").text("N/A"),t.find("cq-hu-volume").text("N/A"),t.find("cq-volume-rollup").text(""),i&&i.data){var h=a.Pz.clone(i.data);void 0===h.Open&&(h.Open=h.Close),void 0===h.High&&(h.High=Math.max(h.Open,h.Close)),void 0===h.Low&&(h.Low=Math.min(h.Open,h.Close)),t.find("cq-hu-open").text(l(r(h.Open))),t.find("cq-hu-price").text(l(r(h[n]))),t.find("cq-hu-close").text(l(r(h.Close))),t.find("cq-hu-high").text(l(r(h.High))),t.find("cq-hu-low").text(l(r(h.Low)));var c=a.Pz.condenseInt(h.Volume),d=c.charAt(c.length-1);d>"9"&&(c=c.substring(0,c.length-1),t.find("cq-volume-rollup").text(d.toUpperCase())),t.find("cq-hu-volume").text(c);var u=h.displayDate;u||(u=h.DT),e.internationalizer?a.Pz.ChartEngine.isDailyInterval(e.layout.interval)?t.find("cq-hu-date").text(e.internationalizer.yearMonthDay.format(u)):t.find("cq-hu-date").text(e.internationalizer.yearMonthDay.format(u)+" "+e.internationalizer.hourMinute.format(u)):a.Pz.ChartEngine.isDailyInterval(e.layout.interval)?t.find("cq-hu-date").text(a.Pz.mmddyyyy(a.Pz.yyyymmddhhmm(u))):t.find("cq-hu-date").text(a.Pz.mmddhhmm(a.Pz.yyyymmddhhmmssmmm(u)));var p=t.find("cq-volume-visual");if(p.length){var m=o.maxVolume.value?h.Volume/o.maxVolume.value:0;p.css({width:Math.round(100*m)+"%"})}}}),h)}this.prevTick=this.tick,this.params.followMouse&&(e.openDialog&&(this.tick=-1),this.followMouse(this.tick))},a.Pz.UI.HeadsUp.prototype.followMouse=function(e){this.marker.params.x=e,this.marker.render()},a.Pz.UI.DrawingEdit=h,a.Pz.inheritsFrom(h,a.Pz.UI.Helper),h.prototype.showContext=function(e){e.context=this.context,e.x=a.Pz.ChartEngine.crosshairX,e.y=a.Pz.ChartEngine.crosshairY,this.count=this.context.stx.drawingObjects.length,this.drawingContext&&this.drawingContext.open&&this.drawingContext.open(e)},h.prototype.getToolActivator=function(e){var t=this.toolbar.find('cq-item[cq-tool="'+e+'"]');return t.length||(t=this.toolbar.find("cq-item[stxtap=\"tool('"+e+"')\"]")),{node:t[0]}},h.prototype.showToolbar=function(e){var t=this.getToolActivator(e.name);this.node,this.toolbar.each((function(){var i=e.lineWidth,n=e.pattern,r=e.parameters&&e instanceof a.Pz.Drawing.fibonacci;r&&(i=e.parameters.fibs[0].parameters.lineWidth,n=e.parameters.fibs[0].parameters.pattern),this.tool(t,e.name),this.sync(Object.assign({},e,{lineWidth:i,pattern:n,annotation:{font:e.font?a.Pz.clone(e.font):{}},currentColor:e.color})),this.dirty(!1),r&&(this.context.stx.currentVectorParameters.fibonacci=a.Pz.clone(e.parameters)),"volumeprofile"===e.name&&(this.context.stx.currentVectorParameters.volumeProfile.priceBuckets=e.priceBuckets)}))},h.prototype.beginEdit=function(e){this.editing=e,this.beforeEdit=e.serialize(),this.toolbar.attr("cq-drawing-edit",e.name);var t=new CustomEvent("drawing-edit-begin",{bubbles:!0,cancelable:!0,detail:{drawing:e,tool:e.name}});this.node.dispatchEvent(t)},h.prototype.endEdit=function(e,t){var i=this.context.stx,a=null,n=null;if(this.editing){n=this.editing.name,a=new CustomEvent("drawing-edit-end",{bubbles:!0,cancelable:!0,detail:{action:t,drawing:this.editing,tool:n}});var r=i.drawingObjects.indexOf(this.editing),s=i.exportDrawings();r>-1&&this.beforeEdit&&(s[r]=this.beforeEdit,i.undoStamp(s,i.exportDrawings())),"close"===t&&this.editing.highlighted&&(this.editing.highlighted=!1,i.draw())}this.editing=null,this.beforeEdit=null,this.toolbar.attr("cq-drawing-edit","none"),"close"===t&&(n&&(e=this.getToolActivator(n),this.toolbar.each((function(){this.tool(e,n)}))),i.changeVectorType(n)),a&&this.node.dispatchEvent(a)},h.prototype.edit=function(){var e=this;if(this.drawingContext){var t=this.drawingContext.drawing,i=a.Pz.UI.getMyContext(t.stx.container).topNode,n=document.querySelector("cq-drawing-context").parentNode,r=i.querySelector("cq-drawing-settings"),s={left:n.offsetLeft,top:n.offsetTop};this.drawingContext.close(),e.endEdit(null,"edit"),e.showToolbar(t,s),e.beginEdit(t),r&&!/break.*sm\b/.test(e.context.topNode.className)&&r.detach(s.left,s.top)}},h.prototype.text=function(){this.drawingContext&&(this.drawingContext.close(),this.endEdit(null,"text"),this.drawingContext.drawing.edit&&this.drawingContext.drawing.edit(null,!0))},h.prototype.clone=function(){var e=this.context.stx;if(this.endEdit(null,"clone"),this.drawingContext){this.drawingContext.close();var t=this.drawingContext.drawing,i=new a.Pz.Drawing[t.name],n=t.serialize();i.reconstruct(e,n),i.repositioner=t.repositioner,i.highlighted=!0,t.highlighted=!1,this.count+=1,e.addDrawing(i),e.activateRepositioning(i)}},h.prototype.reorderLayer=function(e,t){var i=this.context.stx;if(this.endEdit(null,"reorderLayer"),this.drawingContext){this.drawingContext.close();var a=i.drawingObjects.length-1,n=i.drawingObjects.indexOf(this.drawingContext.drawing),r=NaN;if(-1===n)return;switch(t){case"up":n<a&&(r=n+1);break;case"down":n>0&&(r=n-1);break;case"top":n<a&&(r=a);break;case"bottom":n>0&&(r=0)}if(r!=r)return;var s=i.exportDrawings();i.drawingObjects.splice(n,1),i.drawingObjects.splice(r,0,this.drawingContext.drawing),i.undoStamp(s,i.exportDrawings()),i.draw(),i.changeOccurred("vector")}},h.prototype.remove=function(){var e=this.context.stx;if(this.endEdit(null,"remove"),this.drawingContext){if(this.drawingContext.drawing.permanent)return;var t=e.exportDrawings();this.count-=1,e.removeDrawing(this.drawingContext.drawing),e.undoStamp(t,e.exportDrawings()),this.drawingContext.close()}},a.Pz.UI.StudyEdit=function(e,t){this.context=t,this.node=e||t.topNode,this.contextDialog=[];for(var i=document.querySelectorAll("cq-study-context"),a=0;a<i.length;a++)this.contextDialog.push(i[a]);t.advertiseAs(this,"StudyEdit"),this.initialize()},a.Pz.inheritsFrom(a.Pz.UI.StudyEdit,a.Pz.UI.Helper),a.Pz.UI.StudyEdit.prototype.remove=function(){a.Pz.Studies.removeStudy(this.params.stx,this.params.sd),this.contextDialog.forEach((function(e){e.close&&e.close()}))},a.Pz.UI.StudyEdit.prototype.edit=function(){this.contextDialog.forEach((function(e){e.close&&e.close()})),this.editPanel(this.params)},a.Pz.UI.StudyEdit.prototype.editPanel=function(e){const{stx:t,config:i}=this.context;e.context=this.context,e.x=null,e.y=null;const{channelWrite:n}=a.Pz.UI.BaseComponent.prototype;i?n((i.channels||{}).dialog||"channel.dialog",{type:"study",params:e},t):document.querySelector("cq-study-dialog").open(e)},a.Pz.UI.StudyEdit.prototype.editOverlay=function(e){this.params=e,e.context=this.context,e.forceEdit?this.editPanel(e):this.contextDialog.forEach((function(t){e.x=a.Pz.ChartEngine.crosshairX,e.y=a.Pz.ChartEngine.crosshairY,t.open&&t.open(e)}))},a.Pz.UI.StudyEdit.prototype.initialize=function(){var e=this.context.stx,t=this;function i(e){return function(){e.apply(t,arguments)}}e.addEventListener("studyOverlayEdit",i(t.editOverlay)),e.addEventListener("studyPanelEdit",i(t.editPanel))},a.Pz.UI.Layout=function(e,t){this.params=t||{},this.params.activeClassName||(this.params.activeClassName="ciq-active"),this.context=e,e.advertiseAs(this,"Layout")},a.Pz.inheritsFrom(a.Pz.UI.Layout,a.Pz.UI.Helper),a.Pz.UI.Layout.prototype.getChartType=function(e,t){var i=this.context.stx,a=this.params.activeClassName,n=function(i){var n=i.obj;n.aggregationType&&"ohlc"!=n.aggregationType?t!==n.aggregationType?e.classList.remove(a):e.classList.add(a):t!==n.chartType?e.classList.remove(a):e.classList.add(a)};this.addObserver({base:i,path:"layout.chartType",listener:n}),this.addObserver({base:i,path:"layout.aggregationType",listener:n})},a.Pz.UI.Layout.prototype.setChartType=function(e,t){!{heikinashi:!0,kagi:!0,linebreak:!0,pandf:!0,rangebars:!0,renko:!0}[t]?this.context.stx.setChartType(t):this.context.stx.setAggregationType(t)},a.Pz.UI.Layout.prototype.getChartScale=function(e,t){var i=this.context.stx,a=this.params.activeClassName;this.addObserver({base:i,path:"layout.chartScale",listener:function(i){i.value==t?e.classList.add(a):e.classList.remove(a)}})},a.Pz.UI.Layout.prototype.setChartScale=function(e,t){var i=this.context.stx,a=i.layout.chartScale;a==t?i.setChartScale(null):a&&"linear"!=a||i.setChartScale(t)},a.Pz.UI.Layout.prototype.getFlippedChart=function(e){var t=this.context.stx,i=this.params.activeClassName;this.addObserver({base:t,path:"layout.flipped",listener:function(t){t.value?e.classList.add(i):e.classList.remove(i)}})},a.Pz.UI.Layout.prototype.setFlippedChart=function(e){var t=this.context.stx;t.flipChart(!t.layout.flipped)},a.Pz.UI.Layout.prototype.getExtendedHours=function(e){var t=this.context.stx,i=this.params.activeClassName;this.addObserver({base:t,path:"layout.extended",listener:function(t){t.value?e.classList.add(i):e.classList.remove(i)}})},a.Pz.UI.Layout.prototype.setExtendedHours=function(e){var t=this.context.stx;if(t.layout.extended=!t.layout.extended,t.changeOccurred("layout"),!t.layout.extended||t.chart.market.market_def&&t.chart.market.sessions.length||a.Pz.alert("There are no Extended Hours for this instrument."),t.extendedHours){var i=this.context.loader;i&&i.show(),t.extendedHours.set(t.layout.extended,null,(function(){i&&i.hide()}))}},a.Pz.UI.Layout.prototype.getAnimation=function(e){var t=this.context.stx,i=this.params.activeClassName;a.Pz.UI.observeProperty("animation",t.layout,(function(t){t.value?e.classList.add(i):e.classList.remove(i)}))},a.Pz.UI.Layout.prototype.setAnimation=function(e){const{stx:t}=this.context;t.layout.animation=!t.layout.animation,t.changeOccurred("layout")},a.Pz.UI.Layout.prototype.getRangeSlider=function(e){var t=this.context.stx,i=this.params.activeClassName;this.addObserver({base:t,path:"layout.rangeSlider",listener:function(t){t.value?e.classList.add(i):e.classList.remove(i)}})},a.Pz.UI.Layout.prototype.setRangeSlider=function(e){var t=this.context.stx;t.layout.rangeSlider=!t.layout.rangeSlider,t.slider&&t.slider.display(t.layout.rangeSlider),t.changeOccurred("layout")},a.Pz.UI.Layout.prototype.getOutliers=function(e){var t=this.context.stx,i=this.params.activeClassName;this.addObserver({base:t,path:"layout.outliers",listener:function(t){t.value?e.classList.add(i):e.classList.remove(i)}})},a.Pz.UI.Layout.prototype.setOutliers=function(e){var t=this.context.stx;t.layout.outliers=!t.layout.outliers,t.draw(),t.changeOccurred("layout")},a.Pz.UI.Layout.prototype.getAggregationType=function(e,t){var i=this.context.stx,a=this.params.activeClassName;this.addObserver({base:i,path:"layout.aggregationType",listener:function(i){i.value==t?e.classList.add(a):e.classList.remove(a)}})},a.Pz.UI.Layout.prototype.setAggregationType=function(e,t){this.context.stx.layout.aggregationType==t?this.context.stx.setAggregationType(null):this.context.stx.setAggregationType(t)},a.Pz.UI.Layout.prototype.getAggregationEdit=function(e,t){var i=this.context.stx,n=a.Pz.deriveFromObjectChain(i.layout,t);this.addObserver({base:i,path:"layout."+n.member,listener:function(t){var a=t.value;!a&&i.chart.defaultChartStyleConfig[e.name]?e.value=i.chart.defaultChartStyleConfig[e.name]:e.value=a}})},a.Pz.UI.Layout.prototype.setAggregationEdit=function(e,t){var i=this.context.stx;function n(){i.changeOccurred("layout"),i.createDataSet(),i.draw()}if("auto"===t){"kagi"===i.layout.aggregationType?i.layout.kagi=null:"renko"===i.layout.aggregationType?i.layout.renko=null:"linebreak"===i.layout.aggregationType?i.layout.priceLines=null:"rangebars"===i.layout.aggregationType?i.layout.rangebars=null:"pandf"===i.layout.aggregationType&&(i.layout.pandf||(i.layout.pandf={box:null,reversal:null}),i.layout.pandf.box=null,i.layout.pandf.reversal=null),n();const t=e.params.parent;if(!t)return;Array.from(t.querySelectorAll(".ciq"+i.layout.aggregationType+" input")).forEach((function(e){var t=e.name;"box"!=t&&"reversal"!=t||(t="pandf."+t);var n=a.Pz.deriveFromObjectChain(i.layout,t);n&&!n.obj[n.member]&&i.chart.defaultChartStyleConfig[e.name]&&(e.value=i.chart.defaultChartStyleConfig[e.name])}))}else{var r=a.Pz.deriveFromObjectChain(i.layout,t);r.obj[r.member]=e.node.value,n()}},a.Pz.UI.Layout.prototype.showAggregationEdit=function(e,t){const{context:i}=this;if(i.config){const{channelWrite:e}=a.Pz.UI.BaseComponent.prototype;e((i.config.channels||{}).dialog||"channel.dialog",{type:"aggregation",params:{context:i,aggregationType:t}},i.stx)}else document.querySelector("cq-aggregation-dialog").open({context:this.context,aggregationType:t})},a.Pz.UI.Layout.prototype.clearStudies=function(e){if(a.Pz.Studies){var t=this.context.stx;for(var i in t.layout.studies){var n=t.layout.studies[i];n.customLegend||n.permanent||a.Pz.Studies.removeStudy(t,n)}t.draw()}},a.Pz.UI.Layout.prototype.setPeriodicity=function(e,t,i,a){var n=this;n.context.loader&&n.context.loader.show(),n.context.stx.setPeriodicity({period:t,interval:i,timeUnit:a},(function(){n.context.loader&&n.context.loader.hide()}))},a.Pz.UI.Layout.prototype.showPeriodicity=function(e,t){var i="",{period:n,interval:r,timeUnit:s}=e.getPeriodicity();i=n*=r,"day"==s?i+="D":"week"==s?i+="W":"month"==s?i+="M":"second"==s?i+="s":"millisecond"==s?i+="ms":n>=60&&n%15==0?i=n/60+"H":"tick"==s?i=(n>1?n:"")+"T":i+="m",t.selector.innerHTML="",t.selector.appendChild(a.Pz.translatableTextNode(e,i))},a.Pz.UI.Layout.prototype.periodicity=function(e){const{stx:t}=this.context,i=()=>{this.showPeriodicity(this.context.stx,{selector:e})};this.addObserver({base:t,path:"layout.interval",listener:i}),this.addObserver({base:t,path:"layout.periodicity",listener:i}),this.addObserver({base:t,path:"layout.timeUnit",listener:i})},a.Pz.UI.Layout.prototype.setLanguage=function(){const{config:e,stx:t}=this.context;if(e){const{channelWrite:i}=a.Pz.UI.BaseComponent.prototype;i((e.channels||{}).dialog||"channel.dialog",{type:"language",params:{context:t.uiContext}},t)}else document.querySelector("cq-language-dialog").open()},a.Pz.UI.Layout.prototype.getLanguage=function(e){this.context.stx,a.Pz.UI.observeProperty("language",a.Pz.I18N,(function(t){a.Pz.I18N.languages||(a.Pz.I18N.languages={en:"English"});var i=e.querySelector("cq-language-name");if(i){i.innerText=a.Pz.I18N.languages[a.Pz.I18N.language];var n=e.querySelector("cq-flag");n&&n.setAttribute("cq-lang",a.Pz.I18N.language)}}))};class c extends a.Pz.UI.Helper{constructor(e){super(),this.context=e,e.advertiseAs(this,"Channel")}write(e,t,i){o.prototype.channelWrite(`channel.${t}`,i,this.context.stx)}}a.Pz.UI.Channel=c,a.Pz.UI.Layout.prototype.toggleHelp=function(){let{topNode:e,stx:t}=this.context;const i="ciq-show-help";e.classList.contains(i)?e.classList.remove(i):(e.querySelectorAll("cq-help").forEach((e=>e.verifyHelpContent())),e.classList.add(i),a.Pz.Help.MessageShown||t.dispatch("notification",{message:a.Pz.Help.Message,displayTime:10,position:"bottom"}))},a.Pz.UI.Markers=function(e,t){this.context=e,t||(t={}),this.menuItemSelector=t.menuItemSelector,this.activeClassName=t.activeClassName||"ciq-active",this.implementation=t.implementation,e.advertiseAs(this,"Markers")},a.Pz.inheritsFrom(a.Pz.UI.Markers,a.Pz.UI.Helper),a.Pz.UI.Markers.prototype.showMarkers=function(e,t,i){var a=this.activeClassName,n=this.context.topNode;if(n.parentElement){n=n.parentElement.closest("cq-context")||n;var r=this.implementation;r&&(r.showMarkers(),t&&r.showMarkers(t,i),Array.from(n.querySelectorAll(this.menuItemSelector)).forEach((function(t){var i=t.querySelector(".ciq-checkbox");e.node==t?t.classList.add(a):i||t.classList.remove(a)})))}},a.Pz.UI.Keystroke=function(e,{keysToRepeat:t=[]}={}){this.cb=e,this.shift=!1,this.ctrl=!1,this.cmd=!1,this.alt=!1,this.capsLock=!1,this.downValue="",this.keysToRepeat=t,this.recentKeys={},this.commandKeys={},this.initialize()},a.Pz.UI.Keystroke.noKeyCapture=!1,a.Pz.UI.Keystroke.prototype.androidWorkaroundKeyup=function(e){var t,i=e.target.value;t=i.length>this.downValue.length?i.charAt(i.length-1):"Delete",this.key=t,this.cb({key:t,e,keystroke:this})},a.Pz.UI.Keystroke.prototype.mapKey=function(e){return{Shift:"shift",Control:"ctrl",Alt:"alt",Meta:"cmd",Win:"cmd"}[e]||e},a.Pz.UI.Keystroke.prototype.keyup=function(e){if(this.implementAndroidWorkaround)return this.androidWorkaroundKeyup(e),void(this.implementAndroidWorkaround=!1);const{recentKeys:t}=this,{key:i,code:a}=e,n=this.mapKey(i),r=i!==n,s=(new Date).getTime();if(t[a]||(t[a]={}),t[a].keyup=s,r)return this.commandKeys[a].pressed=!1,Object.values(this.commandKeys).some((({command:e,pressed:t})=>t&&e===n))||(this[n]=!1),this.cb({key:i,e,keystroke:this});let o=[];Object.entries(this.commandKeys).forEach((([e,{command:i}])=>{let n=t[e]||{},r=t[a]||{};n.keydown<r.keydown&&r.keydown<n.keyup&&n.keyup+500>s&&(o.push(e),this[i]=!0)})),o.length&&setTimeout((()=>{o.forEach((e=>{t[e].keydown<s&&(this[this.commandKeys[e].command]=!1)}))})),this.keysToRepeat.includes(i)?this.key=null:(this.key=i,this.cb({key:i,e,keystroke:this}))},a.Pz.UI.Keystroke.prototype.keydown=function(e){if(this.noKeyCapture)return;if(229==e.which&&a.Pz.isAndroid)return void(this.implementAndroidWorkaround=!0);const{key:t,code:i}=e,n=this.mapKey(t),r=t!==n;this.recentKeys[i]||(this.recentKeys[i]={}),this.recentKeys[i].keydown=(new Date).getTime(),r&&(this.commandKeys[i]={command:n,pressed:!0}),"Tab"==t&&e.preventDefault(),this.key=t,r?this[n]=!0:"CapsLock"===t?this.capsLock=!this.capsLock:this.keysToRepeat.includes(t)&&(this.key=null,this.cb({key:t,e,keystroke:this}))},a.Pz.UI.Keystroke.prototype.keypress=function(e){if(!this.noKeyCapture){var t=e.which;t<32||t>222||(this.key=e.key)}},a.Pz.UI.Keystroke.prototype.initialize=function(){var e=this;["keyup","keydown","keypress"].forEach((function(t){document.addEventListener(t,(function(i){"keydown"===t&&(e.downValue=i.target.value),e[t](i)}))})),window.addEventListener("blur",(function(t){e.ctrl=!1,e.cb({key:"Control",e:t,keystroke:e})}))},a.Pz.UI.KeystrokeHub=function(e,t,i){e=a.Pz.UI.$(e||"document")[0],this.infocus=!1;var n=this;e===document||e===document.body||e===window?this.infocus=!0:(e.addEventListener("mouseout",(function(){n.infocus=!1})),e.addEventListener("mouseover",(function(){n.infocus=!0}))),this.context=t,this.params=i||{},({hotkeyConfig:this.hotkeyConfig}=t.config||{}),this.uiManager=a.Pz.UI.getUIManager(),this.uiManager.keystrokeHub=this,this.keystroke=new a.Pz.UI.Keystroke((function(){n.handler.apply(n,arguments)}),{keysToRepeat:this.hotkeyConfig.keysToRepeat}),this.tabOrder=[null],this.tabIndex=0,this.yNormalizationThreshold=this.context.topNode.getBoundingClientRect().height/25,this.tabElementSelectors=["cq-lookup","cq-comparison[cq-marker]","cq-study-legend[cq-panel-only]","cq-menu.ciq-menu",".ciq-toggles cq-toggle","cq-chartcontrol-group cq-toggle",".chartControls .chartSize span","cq-show-range div","cq-share-button","ciq-data-table-container button","[keyboard-navigation='true']"],this.tabActiveElement=null,this.tabActiveModals=[],this.keyControlElement=null,this.highlightElement=null;const{channelSubscribe:r}=a.Pz.UI.BaseComponent.prototype;r((this.context.config.channels||{}).keyboardNavigation||"channel.keyboardNavigation",(e=>{e&&"registerElements"===e.action&&this.setTabOrderElements()}),this.context.stx)},a.Pz.inheritsFrom(a.Pz.UI.KeystrokeHub,a.Pz.UI.Helper),a.Pz.UI.KeystrokeHub.defaultHotKeys=function(e,t,i={}){const{hotkeyConfig:n={},keystroke:r,context:s}=t,{hotkeys:o=[]}=n,{stx:l}=s,{code:h,keyCode:c}=i||{},d=h&&h.includes("Numpad");return"Unidentified"===e&&(e=String.fromCharCode(c)),o.slice().reverse().reduce((function(e,{action:t,commands:i,options:a}){return e.concat(i.map((e=>({action:t,command:e,options:a}))))}),[]).map((function({action:e,command:t,options:i}){return{action:e,options:i,modifiers:(t="+"===t?["+"]:"++"===t.slice(-2)?t.slice(0,-2).split("+").concat("+"):t.split("+")).slice(0,-1),commandKey:t.slice(-1)[0],specificity:t.length}})).filter((function({modifiers:t,commandKey:i}){let a=(d?[h]:[h,e]).includes(i),n=!t.length||t.every((e=>r[r.mapKey(e)]));return a&&n})).sort((function(e,t){return t.specificity-e.specificity})).some((function({action:e,options:t}){return"string"==typeof e?a.Pz.UI.KeystrokeHub.executeHotkeyCommand({stx:l,action:e,options:t}):"function"==typeof e?!1!==e({stx:l,options:t}):void 0}))},a.Pz.UI.KeystrokeHub.addHotKeyHandler=function(e,t,i){a.Pz.UI.observeProperty("uiContext",i,(({value:i})=>{i&&setTimeout((()=>{const n=a.Pz.getFromNS(i.config,"hotkeyConfig.hotkeys",[]).find((({action:t})=>t===e));n&&(n.action=t)}))}))},a.Pz.UI.KeystrokeHub.executeHotkeyCommand=function({stx:e,action:t,options:i={}}){const{crosshair:n,candleWidth:r}=e.layout,{left:s,right:o,panel:l}=e.chart,h=e.height-e.xaxisHeight,{percent:c=0,bars:d=0}=i,u=document.body.keystrokeHub,{topNode:p}=e.uiContext,m=({axis:t,direction:i=1}={})=>{const{cx:a,cy:n}=e;let l=0;if("x"===t&&(l=r*d),"y"===t&&(l=h*c),a||0===a||(e.cx=Math.round(e.width/2)),n||0===n||(e.cy=Math.round(h/2)),l){let a=e["c"+t]+l*i;a=Math.max(a,"x"===t?s+1:0),a=Math.min(a,"x"===t?o-1:h),e["c"+t]=Math.round(a)}e.mousemoveinner(e.resolveX(e.cx),e.resolveY(e.cy)),e.draw()},g=({direction:t=1,page:i}={})=>{const{dataSet:a,scroll:n,maxTicks:r}=e.chart;let s=i?r:d;s*=t,n+s>=a.length?e.chart.scroll=a.length:e.chart.scroll+=s,e.draw(),e.headsUpHR()},f=(t=1)=>{let i=h*c*t;e.chart.yAxis.scroll+=i,e.draw()},v=(t=1)=>{[...l.yaxisLHS,...l.yaxisRHS].forEach((e=>{let i=e.zoom+25*t;i<e.height&&(e.zoom=i)})),e.draw()};switch(t){case"up":n?m({axis:"y",direction:-1}):f();break;case"down":n?m({axis:"y"}):f(-1);break;case"right":n?m({axis:"x"}):g({direction:-1});break;case"left":n?m({axis:"x",direction:-1}):g();break;case"pageRight":g({direction:-1,page:!0});break;case"pageLeft":g({page:!0});break;case"zoomInXAxis":if(!e.allowZoom||e.activeDrawing&&!e.allowDrawingZoom)return;e.zoomIn();break;case"zoomOutXAxis":if(!e.allowZoom||e.activeDrawing&&!e.allowDrawingZoom)return;e.zoomOut();break;case"zoomInYAxis":v(-1);break;case"zoomOutYAxis":v();break;case"toggleCrosshairs":const t=p.querySelector('cq-toggle[cq-member="crosshair"]');t?t.dispatchEvent(new Event("stxtap")):e.layout.crosshair=!e.layout.crosshair,m();break;case"toggleContinuousZoom":e.continuousZoom&&e.continuousZoom.smartZoomToggle();break;case"symbolLookup":let i=p.querySelector(".ciq-search cq-lookup cq-lookup-input input");i&&i.focus();break;case"home":e.home(),e.headsUpHR();break;case"end":e.chart.scroll=e.chart.dataSet.length,e.draw(),e.headsUpHR();break;case"delete":if(a.Pz.ChartEngine.drawingLine)e.undo();else{if(!e.anyHighlighted)return!1;e.deleteHighlighted()}break;case"escape":if(a.Pz.ChartEngine.drawingLine)e.undo();else if(e.repositioningAnchorSelector)a.Pz.Studies.cancelRepositionAnchor(e);else{const e=a.Pz.UI.getUIManager();if(u.tabActiveModals.length){if(u.tabActiveModals[0].processEsc&&u.tabActiveModals[0].processEsc(u))break;e&&e.closeMenu(u.tabActiveModals[0]),u.tabActiveModals[0]&&u.setKeyControlElement(u.tabActiveModals[0])}else e&&e.closeMenu()}break;case"keyboardNavigateDeselect":u.tabOrderDeselect();break;case"keyboardNavigateNext":if(u.tabActiveModals.length)return!1;u.tabIndexNext();break;case"keyboardNavigatePrevious":if(u.tabActiveModals.length)return!1;u.tabIndexNext(!0);break;case"keyboardNavigateClick":if(u.tabActiveModals.length)return!1;u.tabOrderClickSelected();break;default:return!1}return!0},a.Pz.UI.KeystrokeHub.prototype.resetTabNavigation=function(){this.tabOrder=[null],this.tabIndex=0,this.yNormalizationThreshold=this.context.topNode.getBoundingClientRect().height/25,this.tabActiveElement=null,this.tabActiveModals=[],this.keyControlElement=null,this.highlightElement=null,this.context.topNode.addEventListener("pointerdown",(()=>this.tabOrderDeselect())),this.context.topNode.addEventListener("pointermove",(()=>this.context.topNode.classList.remove("disable-mouse-pointer"))),this.context.stx.append("resizeChart",(()=>{this.highlightAlign()})),this.setTabOrderElements()},a.Pz.UI.KeystrokeHub.prototype.setTabOrderElements=function(){let e=null;0!==this.tabIndex&&(e=this.tabOrder[Math.abs(this.tabIndex)].element),this.tabOrder=[null];for(let e=0;e<this.tabElementSelectors.length;e++){const t=this.context.topNode.querySelectorAll(this.tabElementSelectors[e]);for(let e=0;e<t.length;e++){const i=t[e];"false"!==i.getAttribute("keyboard-navigation")&&(i.addEventListener("stxtap",function(e){let t=this.tabOrder.findIndex((t=>t&&t.element===e));return t!=this.tabIndex&&(this.tabOrderDeselect(),this.tabIndex=-t),!0}.bind(this,i)),this.tabOrder.push({element:i}))}}this.sortTabOrderElements(e)},a.Pz.UI.KeystrokeHub.prototype.sortTabOrderElements=function(e){const t=this.tabIndex<0;e||0===this.tabIndex||this.tabOrder[Math.abs(this.tabIndex)]&&(e=this.tabOrder[Math.abs(this.tabIndex)].element),this.tabOrder.forEach((e=>{if(!e)return;const{x:t,y:i,width:a,height:n}=e.element.getBoundingClientRect();e.position={x:t,y:i,width:a,height:n}})),this.tabOrder.sort(((e,t)=>{if(null!==e&&null!==t)return Math.floor(e.position.y/this.yNormalizationThreshold)-Math.floor(t.position.y/this.yNormalizationThreshold)||e.position.x-t.position.x})),e&&this.tabOrder.forEach(((i,a)=>{i&&i.element==e&&(this.tabIndex=t?-a:a)}))},a.Pz.UI.KeystrokeHub.prototype.setKeyControlElement=function(e,t){(this.keyControlElement||e)&&(this.disableKeyControlElement(this.keyControlElement,t),e&&(this.keyControlElement=e,this.keyControlElement.keyboardNavigation=this,"function"==typeof this.keyControlElement.onKeyboardSelection&&this.keyControlElement.onKeyboardSelection()))},a.Pz.UI.KeystrokeHub.prototype.disableKeyControlElement=function(e,t){e&&(t||"function"!=typeof e.onKeyboardDeselection||e.onKeyboardDeselection(),e.keyboardNavigation=null)},a.Pz.UI.KeystrokeHub.prototype.tabOrderDeselect=function(e){const{tabOrder:t,tabIndex:i}=this;i<=0||(t[i]&&this.disableKeyControlElement(t[i].element),e||(this.tabActiveElement=null,this.tabIndex=-this.tabIndex,this.highlightHide(),this.context.topNode.classList.remove("disable-mouse-pointer")))},a.Pz.UI.KeystrokeHub.prototype.tabOrderSelect=function(){const{tabOrder:e,tabIndex:t}=this;t<=0?this.highlightHide():this.highlightPosition(e[t])},a.Pz.UI.KeystrokeHub.prototype.tabOrderClickSelected=function(){const{tabOrder:e,tabIndex:t}=this;e.length<=1||t<=0||(this.setKeyControlElement(e[t].element),e[t].element.dispatchEvent(new Event("pointerdown")),e[t].element.dispatchEvent(new Event("pointerup")))},a.Pz.UI.KeystrokeHub.prototype.tabIndexNext=function(e){if(this.tabOrder.length<=1)return;let t=function(e,t){!0===t?e.tabIndex--:e.tabIndex++,e.tabIndex>=e.tabOrder.length&&(e.tabIndex=1),e.tabIndex<1&&(e.tabIndex=e.tabOrder.length-1)};for(this.sortTabOrderElements(),this.tabIndex<0?this.tabIndex=Math.abs(this.tabIndex):(this.tabOrderDeselect(!0),t(this,e));!a.Pz.trulyVisible(this.tabOrder[this.tabIndex].element)||"false"===this.tabOrder[this.tabIndex].element.getAttribute("keyboard-selectable");)t(this,e);this.tabOrderSelect()},a.Pz.UI.KeystrokeHub.prototype.addActiveModal=function(e){this.tabActiveModals.indexOf(e)>-1||(this.tabActiveModals.unshift(e),this.tabOrderDeselect(),this.setKeyControlElement(e))},a.Pz.UI.KeystrokeHub.prototype.removeActiveModal=function(e){let{tabActiveModals:t}=this,i=t.indexOf(e);i>-1&&(t.splice(i,1),t[0]?this.setKeyControlElement(t[0]):this.setKeyControlElement())},a.Pz.UI.KeystrokeHub.prototype.highlightPosition=function(e){if(!e||!e.element||!e.position){const{tabOrder:t,tabIndex:i}=this;if(i<=0)return;e=t[i]}this.tabActiveElement=e,this.highlightAlign()},a.Pz.UI.KeystrokeHub.prototype.highlightAlign=function(){if(this.tabActiveElement){const e=this.tabActiveElement.element.getBoundingClientRect(),t=this.context.topNode.getBoundingClientRect();if(e.width<=0||e.height<=0)return void this.highlightHide();this.highlightCreate(),Object.assign(this.highlightElement.style,{top:e.top-t.top+"px",left:e.left-t.left+"px",width:e.width+"px",height:e.height+"px"})}},a.Pz.UI.KeystrokeHub.prototype.highlightCreate=function(){return this.highlightElement?this.highlightElement.classList.remove("disabled"):(this.highlightElement=document.createElement("cq-keyboard-selected-highlight"),this.context.topNode.appendChild(this.highlightElement)),this.context.topNode.classList.add("disable-mouse-pointer"),this.highlightElement},a.Pz.UI.KeystrokeHub.prototype.highlightHide=function(){this.highlightElement&&this.highlightElement.classList.add("disabled")},a.Pz.UI.KeystrokeHub.prototype.setActiveContext=function(e){e.topNode.querySelector("cq-context")||(this.context=e)},a.Pz.UI.KeystrokeHub.prototype.processKeyStrokeClaims=function(e,t,i,a){for(var r=n.length-1;r>-1;r--){var s=n[r].helper.keyStroke(e,t,i,a);if(s)return s.allowDefault||i.preventDefault(),!0}return!1},a.Pz.UI.KeystrokeHub.prototype.handler=function(e){var t=this.context.stx;if(t.editingAnnotation)return;if(!this.infocus)return;var i=e.e,n=e.key,r=e.keystroke,s=e.e.target.tagName;switch(n){case"Shift":t.shift=r.shift;break;case"Control":case"Alt":t.ctrl=r.ctrl;break;case"Meta":case"Win":t.cmd=r.cmd;break;case"CapsLock":this.capsLock=!this.capsLock}let o="Escape"===i.key||"Esc"===i.key||"Tab"===i.key;if(this.params.cb&&("INPUT"===s&&o||"INPUT"!==s)&&"TEXTAREA"!==s&&!this.context.isLegendKeyboardActive()&&(!this.context.isModal()||o)&&this.params.cb(n,this,i))return i.preventDefault();a.Pz.ChartEngine.drawingLine||this.processKeyStrokeClaims(this,n,i,r)};class d extends HTMLElement{constructor(){super(),this.activeMenuStack=[],this.registeredForResize=[],this.keystrokehub=null,a.Pz.installTapEvent(document.body,{preventUnderlayClick:!1});var e=this;document.body.addEventListener("stxtap",(function(){e.closeTopMenu()}))}connectedCallback(){var e=this;this.resize=function(){for(var t=e.registeredForResize,i=0;i<t.length;i++)"function"==typeof t[i].resize&&t[i].resize()},window.addEventListener("resize",this.resize),document.body.contains(this)&&(a.Pz.UI.registerComponentsImmediately=!0,a.Pz.UI.ensureComponentsRegistered())}disconnectedCallback(){window.removeEventListener("resize",this.resize)}closeMenu(e){var t=this.activeMenuStack,i=[];if(e)for(i.push(e),e=e.parentElement;e;)e.matches("cq-menu")&&e.active&&i.push(e),e=e.parentElement;else i=t;for(var a=0;a<i.length;a++)i[a].hide&&i[a].hide();this.activeMenuStack=t.filter((function(e){return e.active})),this.ifAllClosed()}closeTopMenu(){var e=this.activeMenuStack;if(e.length){var t=e[e.length-1],i=this;t.isDialog&&!t.active||(e.pop(),t.hide(),t.onClose&&t.onClose(),setTimeout((function(){i.ifAllClosed()}),0));var n=t.getAttribute("cq-close-top");n&&a.Pz.climbUpDomTree(t.parentElement,n).forEach((function(e){i.closeMenu(e)}))}}findLifts(e){return a.Pz.UI.$(Array.from(e.querySelectorAll("*[cq-lift]")).filter((function(t){return t.closest("cq-menu,cq-dialog")==e})))}ifAllClosed(){this.activeMenuStack.length||Array.from(document.querySelectorAll("cq-context,*[cq-context]")).forEach((function(e){e.CIQ&&e.CIQ.UI&&e.CIQ.UI.context&&e.CIQ.UI.context.stx&&e.CIQ.UI.context.stx.modalEnd()}))}initializeMenuListeners(e){e.callbackListeners.menu=[]}lift(e){var t=e;if(t){t.remember={parentNode:t.parentNode,css:{position:t.style.position,display:t.style.display,left:t.style.left,top:t.style.top,height:t.style.height,width:t.style.width,opacity:t.style.opacity}};var i=t.getBoundingClientRect(),a=t.scrollHeight;t.remove(),t.reduceMenuHeight=5,Object.assign(t.style,{position:"absolute",display:"block",left:i.left+"px",top:i.top+"px",height:a+"px",opacity:1}),document.body.appendChild(t),void 0!==t.resize&&t.resize(),Array.from(t.querySelectorAll("cq-scroll")).forEach((function(e){e.resize()}))}}openMenu(e,t){setTimeout((function(){var t=e.querySelector("input[cq-focus]:first-child");t&&t.focus()}),0),this.activeMenuStack.push(e),e.show(t),Array.from(document.querySelectorAll("cq-context,*[cq-context]")).forEach((function(t){if(t.CIQ&&t.CIQ.UI&&t.CIQ.UI.context&&t.CIQ.UI.context.stx){const{stx:i}=t.CIQ.UI.context;i.modalBegin(),i.callbackListeners.menu&&i.dispatch("menu",{stx:i,menu:e})}}))}registerForResize(e){this.registeredForResize.push(e)}restoreLift(e){if(e){var t=e.remember;e.remove(),Object.assign(e.style,t.css),t.parentNode.appendChild(e)}}topMenu(){var e=this.activeMenuStack;return e.length?e[e.length-1]:null}unregisterForResize(e){for(var t=this.registeredForResize,i=0;i<t.length;i++)if(t[i]===e)return void t.splice(i,1)}}a.Pz.UI.UIManager=d,a.Pz.UI.getUIManager=function(){if(a.Pz.UI._uiManager)return a.Pz.UI._uiManager;let e=document.querySelector("cq-ui-manager");return e||(e=new a.Pz.UI.UIManager,e.connectedCallback()),a.Pz.UI._uiManager=e,e},customElements.define("cq-ui-manager",d);const{qs:u,qsa:p,channelWrite:m,channelRead:g,channelSubscribe:f}=a.Pz.UI.BaseComponent.prototype;a.Pz.UI.Chart=class{createChartAndUI({container:e,config:t}){e||(e=document.body),t&&!t.chartId&&(t.chartId=e.id);const i=function(e){return e.nodeName.match(/cq-context/i)||e.getAttribute("cq-container")?e:e.querySelector("cq-context, [cq-context]")}(e),n=u("cq-context",i),r=a.Pz.getFromNS(n,"CIQ.UI.context"),s=u(r?"[cq-context-engine]":".chartContainer",i),o=a.Pz.ChartEngine.create({container:s,config:t,deferLoad:!0});s.stx=o;let l=e.closest("cq-context");l&&(l=l.parentElement.closest("cq-context"),l&&a.Pz.UI.stxtap(e,(({target:e})=>{const t=e.closest("cq-context");if(t){const e=t.CIQ.UI.context;l.switchContext(e)}}))),a.Pz.UI.scrollbarStyling=t.scrollbarStyling,a.Pz.UI.ensureComponentsRegistered();let h=new a.Pz.UI.Context(o,i);if(h.config=t,e.context=h,r){e.switchContext=function(e){let t=e.CIQ.UI.context;const i=e.CIQ.UI.context;return a=>{var n;a!==t&&(t=a,function(e,t){return e.split(/, |,/g).reduce(((e,i)=>{const a=t.querySelector(i),n=Array.from(a.querySelectorAll("*"));return e.concat(n)}),[])}(".ciq-nav, .ciq-footer",e).filter((e=>"cq-themes"!==e.localName&&"cq-info-toggle-dropdown"!==e.localName&&"cq-side-nav"!==e.localName&&!e.classList.contains("shortcuts-ui"))).forEach((e=>function(e,t){e.changeContext?e.changeContext(t):(e.stx&&(e.stx=t.stx),e.context&&(e.context=t))}(e,a))),n=a,Object.values(i.advertised).forEach((e=>{e.changeContext&&e.changeContext(n)})),Array.from(e.querySelectorAll("cq-context-wrapper")).forEach((e=>{const t=e.querySelector("cq-context").CIQ.UI.context;e.classList.toggle("active",a===t)})))}}(e),setTimeout((()=>{e.switchContext(r)}));const t=Array.from(e.querySelectorAll("cq-context")).map((e=>e.querySelector(".chartContainer"))).concat(h.stx.container);e.getChartContainers=()=>t,e.getCharts=()=>t.map((({stx:e})=>e))}return new a.Pz.UI.Layout(h),new a.Pz.UI.Channel(h),this.initLookup(h),this.initDialogHandler(h),this.initContainerListeners(h),this.initEventMarkers(h),r?(a.Pz.UI.BaseComponent.buildReverseBindings(i),h):(new a.Pz.UI.StudyEdit(null,h),this.initDrawingTools(h),this.initDrawingEditListeners(h),this.initColorPicker(),this.initExtensions({stx:o,uiContext:h,config:t,type:"plugins"}),this.loadChart(h),t.language&&a.Pz.I18N.setLanguage(o,t.language),a.Pz.UI.BaseComponent.buildReverseBindings(i),i.bindingInitiated=!0,a.Pz.UI.begin(t.onWebComponentsReady),h.uiManager=a.Pz.UI.getUIManager(),h.uiManager.initializeMenuListeners(o),window.setTimeout((function(){document.body.keystrokeHub.resetTabNavigation()}),0),h)}initContainerListeners(e){const{config:{channels:{breakpoint:t="channel.breakpoint",sidenavSize:i="channel.sidenavSize",sidepanelSize:n="channel.sidepanelSize",drawingPalettes:r="channel.drawingPalettes",pluginPanelHeight:s="channel.pluginPanelHeight"}={}}={},stx:o,topNode:l}=e;a.Pz.UI.addResizeListener(l,(()=>this.notifySizeChanges(e))),this.notifySizeChanges(e),f(t,this.breakpointSetter(e),o),f(i,this.sidenavSizeSetter(e),o),f(n,this.sidepanelSizeSetter(e),o),f(r,this.chartPositionSetter(e),o),f(s,this.chartAreaTopSetter(e),o);const h=this.initKeystrokeHub(e),c=this.getKeystrokeHubSetter(e,h);l.addEventListener("mouseover",c)}initLookup(e){const{config:t,topNode:i}=e;this.initKeystrokeHub(e),e.changeSymbol=function(i,n){const{stx:r,loader:s}=e;s&&s.show(),i.symbol==i.symbol.toLowerCase()&&(i.symbol=i.symbol.toUpperCase());const{removeSeries:o,loadError:l}=t.onNewSymbolLoad||{};o&&Object.values(r.chart.series).filter(o).forEach((e=>r.removeSeries(e.id))),r.loadChart(i,{masterData:i._masterData},(function(i){s&&s.hide(),i?l&&l(i,e):(n&&n(r),t.restore&&a.Pz.ChartEngine.restoreDrawings(r,r.chart.symbol,t.chartId))}))},t.lookupDriver&&e.setLookupDriver(new t.lookupDriver)}initKeystrokeHub(e){return document.body.keystrokeHub||(document.body.keystrokeHub=new a.Pz.UI.KeystrokeHub(document.body,e,{cb:a.Pz.UI.KeystrokeHub.defaultHotKeys})),document.body.keystrokeHub}getKeystrokeHubSetter(e,t){return function(){t.context!==e&&t.setActiveContext(e)}}initDialogHandler(e){const{config:{channels:t={},dialogs:i={}}={},stx:n}=e;f(t.dialog||"channel.dialog",(function({type:e=null,params:t={}}={}){if(!e)return;const n=i[e]||i[a.Pz.makeCamelCase(e)];if(!n)return;let r=u(n.tag);if(!r){const e=function(){let e=u(".cq-dialogs");return e||(e=document.createElement("div"),e.classList.add("cq-dialogs"),document.body.append(e),e)}(),t=document.createElement("cq-dialog");r=document.createElement(n.tag),Object.entries(n.attributes||{}).forEach((([e,t])=>r.setAttribute(e,t))),t.append(r),e.append(t)}r&&r.open&&r.open(t)}),n)}initDrawingTools(e){const{stx:t,config:{channels:i={}}={},topNode:a}=e;f(i.drawing||"channel.drawing",(function(e){a.classList[e?"add":"remove"]("toolbar-on"),t.resizeChart()}),t)}initDrawingEditListeners(e){const{config:{channels:t={}}={},stx:i}=e,n=new a.Pz.UI.DrawingEdit(null,e);let r=!0;const s=t.drawing||"channel.drawing";n.node.addEventListener("drawing-edit-begin",(function(e){g(s,i)||(r=!1,m(s,!0,i))}),!1),n.node.addEventListener("drawing-edit-end",(function({detail:e}){r||("edit"!==e.action&&(r=!0),"close"===e.action&&m(s,!1,i))}),!1)}initColorPicker(){document.querySelector("cq-color-picker")||document.body.append(document.createElement("cq-color-picker"))}loadChart(e){const{stx:t,topNode:i,config:{chartId:n,initialSymbol:r,restore:s,onChartReady:o,initialData:l}={},loader:h}=e;function c(){if(t.crossSection&&t.setChartType("crosssection"),!r)return void d();const i="string"==typeof r?{symbol:r}:r;i._masterData=l,e.changeSymbol(i,d)}function d(){o&&setTimeout((()=>o(t)))}h&&h.show(),s?(a.Pz.ChartEngine.restorePreferences(t,n||i.id),a.Pz.ChartEngine.restoreLayout(t,(function(){h&&h.hide(),t.chart.symbol?d():c()}),n)):c()}notifySizeChanges(e){const{stx:t,topNode:{clientWidth:i,clientHeight:a,classList:n},config:{channels:r={}}={}}=e,s=g(r.containerSize||"channel.containerSize",t);if(s&&s.width===i&&s.height===a)return;const o=this.getBreakpoint(i,a);n.contains(o[1])||m(r.breakpoint||"channel.breakpoint",o[1],t),o[0]!==t.chart.breakpoint&&window.setTimeout((()=>{m(r.breakpoint||"channel.breakpoint",o[0],t),t.notifyBreakpoint(o[0]),t.resizeChart()})),m(r.containerSize||"channel.containerSize",{width:i,height:a},t),t.resizeChart()}getBreakpoint(e,t){let i="break-sm";if(e>768?i="break-lg":e>584&&(i="break-md"),void 0===t)return i;let a="break-height-sm";return t>768?a="break-height-lg":t>400&&(a="break-height-md"),[i,a]}initEventMarkers(e){const t=e.config;if(a.Pz.UI.Markers){const i=t.eventMarkersImplementation&&new t.eventMarkersImplementation(e.stx),n=t.selector.markersMenuItem;new a.Pz.UI.Markers(e,{menuItemSelector:n,implementation:i})}}initExtensions({stx:e,uiContext:t,config:i,type:n}){const r=i[n];Object.entries(r).filter((([,e])=>!!e)).forEach((([i,r])=>{const s=r.moduleName||a.Pz.capitalize(i);try{if(!a.Pz[s])return void(a.Pz.debug&&console.log(`${s} not available for ${n} with params:`,r));const i=Object.assign({stx:e,context:t},r),o=new a.Pz[s](i);a.Pz.UI.activatePluginUI(e,s),r.postInstall&&r.postInstall({uiContext:t,extension:o})}catch(e){a.Pz.debug&&console.error("Error configuring "+n+" using params ",r,"error",e)}}))}chartPositionSetter(e){const t=u(".chartContainer",e.topNode);return function(e){if(!e)return;const{top:i,left:a}=e;t.style.marginTop=i+"px",t.style.marginLeft=a+"px"}}sidenavSizeSetter(e){const t=u(".ciq-chart-area",e.topNode),i=e.stx;return function(e){t.style.left=e+"px",i.resizeChart()}}chartAreaTopSetter(e){const t=u(".ciq-chart-area",e.topNode);return function(i){const a=Object.values(i||{}).reduce(((e,t)=>e+t),0);t.style.marginTop=a+"px",e.stx.resizeChart()}}sidepanelSizeSetter(e){const t=u(".ciq-chart-area",e.topNode),i=u("cq-analystviews",e.topNode)||u("cq-tradingcentral",e.topNode),a=e.stx;return function(e){t.style.right=e+"px",i&&(i.style.marginRight=e+"px"),a.resizeChart()}}breakpointSetter(e){return function(t){const{classList:i}=e.topNode;[["break-lg","break-md","break-sm"],["break-height-lg","break-height-md","break-height-sm"]].forEach((e=>{e.includes(t)&&i.remove(...e)})),e.topNode.classList.add(t)}}};class v{constructor(e,t){void 0!==t&&console.log("CIQ.UI.$() only accepts one input parameter.");let i=[];if(e instanceof v)return e;e instanceof Node?i.push(e):e instanceof NodeList?i=Array.from(e):e instanceof Array?i=e:"string"==typeof e&&(i=i=Array.from(document.querySelectorAll(e)));const a=this.length=i.length;for(let e=0;e<a;e++)this[e]=i[e]}_(e,t){const i=[],a=e=>{t&&!e.matches(t)||i.includes(e)||i.push(e)};for(let t=0;t<this.length;t++){const i=this[t];Array.from(e(i)).forEach(a)}return new v(i)}addClass(e){return"string"==typeof e&&(e=e.split(" ")),e.forEach((e=>this._((t=>(t.classList.add(e),[t]))))),this}append(e,t){if(void 0!==t&&console.log("CIQ.UI.$#append only accepts one argument."),e instanceof Array)for(let t=0;t<e.length;t++)this.append(e[t]);else{if("string"==typeof e)return this._((t=>(t["<"===e[0]?"innerHTML":"innerText"]+=e,[t])));if(e instanceof HTMLElement||e instanceof Text){const t=this._((t=>(t.appendChild(e.cloneNode(!0)),[t]))),i=t[t.length-1];return i.replaceChild(e,i.lastChild),t}if(e instanceof v)return this.append(Array.from(e))}return this}attr(e,t){if("object"==typeof e)return this._((t=>(Object.keys(e).forEach((i=>t.setAttribute(i,e[i]))),[t])));if(void 0===t){if(!this[0])return;const t=this[0].getAttribute(e);if(null===t)return;return t}return this._((i=>(i.setAttribute(e,t),[i])))}children(e){return this._((e=>e.children),e)}css(e,t){return"object"==typeof e?this._((t=>(Object.assign(t.style,e),[t]))):void 0===t?this[0]?getComputedStyle(this[0])[e]:void 0:this._((i=>(i.style[e]=t,[i])))}each(e){for(let t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this}empty(){return this._((e=>(e.innerHTML="",[e])))}find(e){return e?this._((t=>t.querySelectorAll(e))):new v([])}hasClass(e){return this._((t=>t.classList.contains(e)&&[t])).length>0}hide(){return this._((e=>("none"!==e.style.display&&(e.style.displayCache=e.style.display,e.style.display="none"),[e])))}html(e){return this.prop("innerHTML",e)}nextAll(e){return this._((e=>{const t=Array.from(e.parentNode.children);return t.slice(t.indexOf(e)+1)}),e)}not(e){return this._((t=>!t.matches(e)&&[t]))}parent(e){return this._((e=>[e.parentNode]),e)}parents(e){return this._((t=>a.Pz.climbUpDomTree(t.parentElement,e)))}prop(e,t){return"object"==typeof e?this._((t=>(Object.keys(e).forEach((i=>t[i]=e[i])),[t]))):void 0===t?this[0]?this[0][e]:void 0:this._((i=>(i[e]=t,[i])))}remove(e){return Array.from(this).forEach((t=>{e&&!t.matches(e)||t.parentNode.removeChild(t)})),this}removeAttr(e){return"string"==typeof e&&(e=e.split(" ")),e.forEach((e=>this._((t=>(t.removeAttribute(e),[t]))))),this}removeClass(e){return"string"==typeof e&&(e=e.split(" ")),e?e.forEach((e=>this._((t=>(t.classList.remove(e),[t]))))):this._((e=>(e.className="",[e]))),this}show(){return this._((e=>("none"===e.style.display&&(void 0===e.style.displayCache?e.style.display="block":(e.style.display=e.style.displayCache,e.style.displayCache=void 0)),[e])))}text(e){return this.prop("innerText",e)}val(e){return this.prop("value",e)}}a.Pz.UI.$=function(e,t){return!t&&"function"==typeof $&&$.fn?(y||(console.log("Using jQuery."),y=!0),$(e)):new v(e)};let y=!1,b={CIQ:a.Pz};"undefined"!=typeof __TREE_SHAKE__&&__TREE_SHAKE__||b.CIQ.activateImports((e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.BaseComponent{connectedCallback(){this.type=this.getAttribute("cq-type")||"helicopter",this.init()}init(){if(this.attached)return;const{markups:e}=this.constructor;this.addDefaultMarkup(this,e[this.type])}}i.markups={helicopter:'\n\t\t<div class="stx-marker-templates" style="left: -1000px; visibility:hidden;">\n\t\t\t\x3c!-- Abstract Markers. You can remove this unless you actually need a helicopter. Seriously though, markers can be anything you want them to be! --\x3e\n\t\t\t<div class="abstract">\n\t\t\t\t<div class="stx-marker abstract">\n\t\t\t\t\t<div class="stx-marker-content">\n\t\t\t\t\t\t<div class="sample">\n\t\t\t\t\t\t\t<div stage>\n\t\t\t\t\t\t\t\t<div helicopter>\n\t\t\t\t\t\t\t\t\t<div propeller style="height: 160px;">\n\t\t\t\t\t\t\t\t\t\t<div spinner style="-webkit-transform-origin: 40px 0 0; transform-origin: 40px 0 0;">\n\t\t\t\t\t\t\t\t\t\t\t<div style="-webkit-transform: rotateY(0deg) translateX(40px); transform: rotateY(0deg) translateX(40px);"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div style="-webkit-transform: rotateY(-90deg) translateX(40px); transform: rotateY(-90deg) translateX(40px);"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div style="-webkit-transform: rotateY(-180deg) translateX(40px); transform: rotateY(-180deg) translateX(40px);"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div style="-webkit-transform: rotateY(-270deg) translateX(40px); transform: rotateY(-270deg) translateX(40px);"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div heli-body></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="text">This is an example of a complex marker which can contain html, video, images, css, and animations.</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'},t.UI.addComponentDefinition("cq-abstract-marker",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.Marker){class e extends t.UI.ModalTag{constructor(){super()}close(){this.node.css({display:"none"});var e=this;this.nameValueStore.get("cq-advertisement",(function(t,i){if(!t){var a=new Date;e.sleepAmount||(e.sleepAmount={units:1,unitType:"day"});var n=e.sleepAmount.units,r=e.sleepAmount.unitType;"minute"==r?a.setMinutes(a.getMinutes()+n):"hour"==r?a.setHours(a.getHours()+n):"day"==r?a.setDate(a.getDate()+n):"week"==r?a.setDate(a.getDate()+7*n):"month"==r&&a.setMonth(a.getMonth()+n);var s=a.getTime();i&&"object"==typeof i||(i={}),i[e.selector]=s,e.nameValueStore.set("cq-advertisement",i)}}))}makeMarker(){this.markerExists||(new t.Marker({stx:this.context.stx,xPositioner:"none",label:"advertisement",permanent:!0,node:this.node[0]}),this.markerExists=!0)}setContext(e){const{config:{nameValueStore:t}}=e;this.setNameValueStore(t)}setNameValueStore(e){!e&&t.NameValueStore&&(e=t.NameValueStore),this.nameValueStore=e?new e:{get:function(){},set:function(){}}}setSleepAmount(e,t){this.sleepAmount={units:e,unitType:t}}show(e,t=!1){if(this.selector&&this.node.find(this.selector).removeClass("ciq-show"),this.selector=e,!this.selector){var i=this.node.find("div:first-of-type");this.selector="."+i.attr("class")}this.ignoreSleep=t;var a=this;function n(){a.makeMarker(),a.node.css({display:"block"}),a.node.find(a.selector).addClass("ciq-show"),a.node.css({height:"0px"}),setTimeout((function(){a.node.css({height:a.node[0].scrollHeight+"px"})}),0)}t?n():this.nameValueStore.get("cq-advertisement",(function(e,t){if(!e){t&&"object"==typeof t||(t={});var i=t[a.selector];i&&i>Date.now()||n()}}))}watchForRemoteClose(e){e||(e=1e3);var t=this;setInterval((function(){"none"!=t.node.css("display")&&t.nameValueStore.get("cq-advertisement",(function(e,i){if(!e){i&&"object"==typeof i||(i={});var a=i[t.selector];a&&a>Date.now()&&t.close()}}))}),e)}}t.UI.addComponentDefinition("cq-advertisement",e)}else console.error("advertisement component requires first activating markers feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{open(e){this.addDefaultMarkup(),super.open(e);var i=this.context.stx,a=e.aggregationType,n={kagi:{title:"Set Reversal Percentage"},renko:{title:"Set Brick Size"},linebreak:{title:"Set Price Lines"},rangebars:{title:"Set Range"},pandf:{title:"Set Point & Figure Parameters"}};i.layout.aggregationType!=a&&i.setAggregationType(a);var r=n[a],s=this.node;for(var o in s.find(".title").text(i.translateIf(r.title)),n)s.find(".ciq"+o).css(a===o?{display:""}:{display:"none"});s.find(".ciq"+a+" input").each((function(){var e=this.name;"box"!=e&&"reversal"!=e||(e="pandf."+e);var a=t.deriveFromObjectChain(i.layout,e);a&&(a.obj[a.member]||0===a.obj[a.member])?this.value=a.obj[a.member]:i.chart.defaultChartStyleConfig[this.name]&&(this.value=i.chart.defaultChartStyleConfig[this.name])}))}}i.markup='\n\t\t<h4 class="title"></h4>\n\t\t<cq-close></cq-close>\n\t\t<div style="text-align:center;margin-top:10px;">\n\t\t\t<div class="ciqkagi">\n\t\t\t\t<i>Enter value and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="kagi" stxtap="Layout.setAggregationEdit(\'kagi\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="ciqrenko">\n\t\t\t\t<i>Enter value and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="renko" stxtap="Layout.setAggregationEdit(\'renko\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="ciqlinebreak">\n\t\t\t\t<i>Enter value and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="priceLines" stxtap="Layout.setAggregationEdit(\'priceLines\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="ciqrangebars">\n\t\t\t\t<i>Enter value and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="range" stxtap="Layout.setAggregationEdit(\'rangebars\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="ciqpandf">\n\t\t\t\t<i>Enter box size and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="box" stxtap="Layout.setAggregationEdit(\'pandf.box\')">\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<i>Enter reversal and hit "Enter"</i>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="reversal" stxtap="Layout.setAggregationEdit(\'pandf.reversal\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<p>or</p>\n\t\t\t<div class="ciq-btn" stxtap="Layout.setAggregationEdit(\'auto\')">Auto Select</div>\n\t\t</div>\n\n\t',t.UI.addComponentDefinition("cq-aggregation-dialog",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.Marker){class e extends t.UI.ModalTag{constructor(){super(),this.messages={sources:{simulator:"Simulated data.",demo:"Demo data.",xignite:'<a target="_blank" href="https://www.xignite.com">Market Data</a> by Xignite.',fis_mm:'<a target="_blank" href="https://www.fisglobal.com/">Market Data</a> by FIS MarketMap.',Twiggs:'Twiggs MF Formula courtesy <a target="_blank" href="https://www.incrediblecharts.com/indicators/twiggs_money_flow.php">IncredibleCharts</a>.'},exchanges:{RANDOM:"Data is randomized.","REAL-TIME":"Data is real-time.",DELAYED:"Data delayed 15 min.",RATES:"Yield data latest from source, bid/ask simulated.",BATS:"BATS BZX real-time.",EOD:"End of day data."}}}insert(e,i){if(t.Marker){var a=t.UI.makeFromTemplate(this.template);return a.marker=new t.Marker({stx:e,node:a[0],xPositioner:"none",yPositioner:"none",label:"component",panelName:i,permanent:!0}),a}}setContext(e){this.addDefaultMarkup(),this.template=this.node.find("template"),this.marker=this.insert(e.stx,"chart");var t=this;this.addInjection("append","createDataSet",(function(){return t.displayAttribution(this)})),this.displayAttribution()}displayAttribution(e){e||(e=this.context.stx);var i,a,n=e.chart,r=e.layout,s=this.marker;for(var o in n.attribution&&((i=this.messages.sources[n.attribution.source])||(i=""),(a=this.messages.exchanges[n.attribution.exchange])||(a=""),i+a!=s.attr("lastAttrib")&&(s.find("cq-attrib-source").html(i),s.find("cq-attrib-quote-type").html(a),t.I18N&&t.I18N.localized&&t.I18N.translateUI(null,s[0]),s.attr("lastAttrib",i+a))),r.studies){var l=r.studies[o],h=l.type;if(this.messages.sources[h]){if(l.attribution&&l.attribution.marker.params.panelName==l.panel)continue;i=this.messages.sources[h]||"",a=this.messages.exchanges[h]||"";var c=this.insert(e,l.panel);c.find("cq-attrib-source").html(i),c.find("cq-attrib-quote-type").html(a),t.I18N&&t.I18N.localized&&t.I18N.translateUI(null,c[0]),l.attribution=c}}}}e.markup="\n\t\t<template>\n\t\t\t<cq-attrib-container>\n\t\t\t\t<cq-attrib-source></cq-attrib-source>&nbsp;\n\t\t\t\t<cq-attrib-quote-type></cq-attrib-quote-type>\n\t\t\t</cq-attrib-container>\n\t\t</template>\n\t",t.UI.addComponentDefinition("cq-attribution",e)}else console.error("attribution component requires first activating markers feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(){this.contextSet||(this.contextSet=!0,this.addDefaultMarkup())}}i.markup='\n\t\t<cq-study-legend cq-chart-legend cq-marker-label="Plots" cq-clone-to-panels="Plots" cq-panel-only cq-marker cq-hovershow cq-content-keys="cq-label,cq-comparison-label">\n\t\t\t<cq-comparison>\n\t\t\t\t<cq-comparison-key cq-panel-only cq-all-series>\n\t\t\t\t\t<template cq-comparison-item>\n\t\t\t\t\t\t<cq-comparison-item>\n\t\t\t\t\t\t\t<cq-swatch cq-overrides="auto"></cq-swatch>\n\t\t\t\t\t\t\t<cq-comparison-label>AAPL</cq-comparison-label>\n\t\t\t\t\t\t\t\x3c!-- cq-comparison-price displays the current price with color animation --\x3e\n\t\t\t\t\t\t\t<cq-comparison-price cq-animate></cq-comparison-price>\n\t\t\t\t\t\t\t\x3c!-- cq-comparison-tick-price displays the price for the active crosshair item --\x3e\n\t\t\t\t\t\t\t\x3c!-- <cq-comparison-tick-price></cq-comparison-tick-price>\t--\x3e\n\t\t\t\t\t\t\t<cq-comparison-loader></cq-comparison-loader>\n\t\t\t\t\t\t\t<div class="stx-btn-ico ciq-close" keyboard-selectable-child="true"></div>\n\t\t\t\t\t\t</cq-comparison-item>\n\t\t\t\t\t</template>\n\t\t\t\t</cq-comparison-key>\n\t\t\t</cq-comparison>\n\t\t\t<template cq-study-legend>\n\t\t\t\t<cq-item>\n\t\t\t\t\t<cq-label></cq-label>\n\t\t\t\t\t<span class="ciq-edit" keyboard-selectable-child="true"></span>\n\t\t\t\t\t<div class="ciq-icon ciq-close"></div>\n\t\t\t\t</cq-item>\n\t\t\t</template>\n\t</cq-study-legend>\n\t',t.UI.addComponentDefinition("cq-chart-legend",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ModalTag{get displayExchange(){return this.getAttribute("display-exchange")}constructor(){super(),this.previousClose=null}begin(){const e=this;this.addInjection("append","createDataSet",(function(){e.update()})),this.update()}disconnectedCallback(){this.context&&t.UI.unobserveProperty("symbolObject",this.context.stx.chart,this.listener),super.disconnectedCallback()}initialize(e){this.params=e||{},void 0===this.params.autoStart&&(this.params.autoStart=!0),this.marker=null,this.params.autoStart&&this.begin()}setContext(e){var i=this,a=this.context.stx;this.addDefaultMarkup(),this.symbolDiv=this.querySelector("cq-symbol"),this.symbolDescriptionDiv=this.querySelector("cq-symbol-description"),this.currentPriceDiv=this.querySelector("cq-current-price"),this.todaysChangeDiv=this.querySelector("cq-todays-change"),this.todaysChangePctDiv=this.querySelector("cq-todays-change-pct"),this.chartPriceDiv=this.querySelector("cq-chart-price"),this.changeDiv=this.querySelector("cq-change"),this.exchangeDiv=this.querySelector(".exchange"),this.listener=function(e){const{exchangeDiv:t}=i;if(i.previousClose=a.mostRecentClose("iqPrevClose"),t){const{value:{exchDisp:a}}=e;i.displayExchange&&a?t.innerText=`Exchange: ${a}`:e.value.static?t.innerText="STATIC":t.innerText=""}},t.UI.observeProperty("symbolObject",a.chart,this.listener),this.initialize()}update(){const{stx:e}=this.context,{chart:{symbol:i,symbolDisplay:a},internationalizer:n}=e,{symbolDiv:r,symbolDescriptionDiv:s,exchangeDiv:o,currentPriceDiv:l,changeDiv:h,chartPriceDiv:c,todaysChangeDiv:d,todaysChangePctDiv:u}=this;var p=-1==["false","0",null].indexOf(this.getAttribute("cq-browser-tab")),m=this.closest("cq-context-wrapper");!m||m&&m.classList.contains("active")||(p=!1);const g=c&&l;let f=!1,v=!1,y=i?"add":"remove";if(this.classList[y]("stx-show"),r.innerText!==i&&(r.innerText=i,v=!0),s&&s.innerText!==(a||i)&&(s.innerText=a||i),e.isHistoricalModeSet)return""!==l.innerText&&(l.innerText=""),void(h.style.display="none");let b="",x=0,C="";const S=e.getFirstLastDataRecord(e.chart.dataSet,"Close",!0);let T="",D="";if(S&&(T=S.Close),g){""!==T&&(D=e.formatYAxisPrice(T,e.chart.panel,e.chart.decimalPlaces));let i=parseFloat(l.innerText);if(l.innerText!==D){l.innerText=D,f=!0;var w=this.currentPriceDiv.getAttribute("cq-animate");void 0!==w&&t.UI.animatePrice(l,T,i,"fade"==w)}}if((g||p)&&i&&(v||f)){let a=S&&S.iqPrevClose;a||0===a||(a=this.previousClose),h&&(T||0===T)?(b=t.fixPrice(T-a),x=b/a*100,C=a<=0||T<0?"N/A":n?n.percent2.format(x/100):x.toFixed(2)+"%",h.style.display=""):h&&(h.style.display="none");const r=Math.abs(b),s=e.formatYAxisPrice(r,e.chart.panel,e.chart.decimalPlaces);r&&d.innerText!==s&&(d.innerText=s),u&&u.innerText!==C&&(u.innerText=C),""!==C&&b<0?c.classList.add("stx-down"):c.classList.remove("stx-down"),""!==C&&b>0?c.classList.add("stx-up"):c.classList.remove("stx-up"),T=void 0!==T?T:"",b=void 0!==b?b:"",this.title=i+"   "+D+"    ",b>0?this.title+=" "+s:b<0&&(this.title+=" "+s),p&&(document.title=this.title)}}}i.markup='\n\t\t<cq-symbol></cq-symbol>\n\t\t<cq-menu class="ciq-menu ciq-period">\n\t\t\t<span><cq-clickable stxbind="Layout.periodicity">1D</cq-clickable></span>\n\t\t\t<cq-menu-dropdown>\n\t\t\t\t<cq-menu-container cq-name="menuPeriodicity"></cq-menu-container>\n\t\t\t</cq-menu-dropdown>\n\t\t</cq-menu>\n\t\t<cq-chart-price>\n\t\t\t<cq-current-price cq-animate></cq-current-price>\n\t\t\t<cq-change>\n\t\t\t\t<div class="ico"></div>\n\t\t\t\t<cq-todays-change></cq-todays-change> (\n\t\t\t\t<cq-todays-change-pct></cq-todays-change-pct>)\n\t\t\t</cq-change>\n\t\t</cq-chart-price>\n\t\t<div class="exchange"></div>\n\t',t.UI.addComponentDefinition("cq-chart-title",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ModalTag{connectedCallback(){this.attached||super.connectedCallback()}setContext(e){this.addDefaultMarkup();var i=this.node;i[0].addEventListener("touchstart",(function(e){e.stopPropagation()}),{passive:!1}),i[0].addEventListener("mousedown",(function(e){e.stopPropagation()}));var a=i.find("input");t.UI.stxtap(a[0],(function(){this.focus()}))}}i.markup='\n\t\t<cq-menu class="ciq-search" keyboard-navigation="false">\n\t\t\t<cq-lookup cq-keystroke-claim cq-uppercase></cq-lookup>\n\t\t</cq-menu>\n\t\t<cq-toggle class="ciq-draw" cq-member="drawing"><span></span><cq-tooltip>Draw</cq-tooltip></cq-toggle>\n\t\t<cq-toggle class="ciq-CH" cq-member="crosshair"><span></span><cq-tooltip>Crosshair</cq-tooltip></cq-toggle>\n\t\t<cq-toggle class="ciq-DT" cq-member="tableView"><span></span><cq-tooltip>Table View</cq-tooltip></cq-toggle>\n\t\t<cq-menu class="ciq-menu ciq-period">\n\t\t\t<span><cq-clickable stxbind="Layout.periodicity">1D</cq-clickable></span>\n\t\t\t<cq-menu-dropdown>\n\t\t\t\t<cq-menu-container cq-name="menuPeriodicity"></cq-menu-container>\n\t\t\t</cq-menu-dropdown>\n\t\t</cq-menu>\n\t',t.UI.addComponentDefinition("cq-chartcontrol-group",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{connectedCallback(){if(!this.attached){super.connectedCallback();var e=this;t.UI.stxtap(this,(function(){e.runMethod()}))}}runMethod(){var e=this.node.attr("cq-selector"),t=this.node.attr("cq-method");const{context:i}=this;if(/-dialog/.test(e)&&"open"===t&&i.config){const t=(i.config.channels||{}).dialog||"channel.dialog";this.channelWrite(t,{type:e.replace(/cq-|-dialog/g,""),params:{context:i,caller:this}},i.stx)}else{var a=this;document.querySelectorAll(e).forEach((function(e){e[t]&&e[t].call(e,{context:a.context,caller:a})}))}}}t.UI.addComponentDefinition("cq-clickable",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.BaseComponent{connectedCallback(){if(!this.attached){var e=this;t.UI.stxtap(this,(function(t){e.tap(),t.stopPropagation()})),super.connectedCallback()}}tap(){t.UI.containerExecute(this,"close")}}t.UI.addComponentDefinition("cq-close",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ModalTag{constructor(){super(),this.swatchColors=[],this.loading=[]}connectedCallback(){this.attached||(super.connectedCallback(),this.swatchColors=["#8ec648","#00afed","#ee652e","#912a8e","#fff126","#e9088c","#ea1d2c","#00a553","#00a99c","#0056a4","#f4932f","#0073ba","#66308f","#323390"])}configureUI(){var e=this.node,i=e.find("cq-accept-btn");this.template=e.find("*[cq-comparison-item]");var a=e.find("cq-swatch").attr("cq-colors");a&&(this.swatchColors=a.split(","));for(var n=0;n<this.swatchColors.length;n++)this.swatchColors[n]=t.convertToNativeColor(this.swatchColors[n]);var r=e.find("cq-lookup");r.length&&r[0].setCallback(function(e){return function(){e.selectItem.apply(e,arguments)}}(this)),t.UI.stxtap(i[0],(function(e){r[0].forceInput(),e.stopPropagation()})),this.addClaim(this);const s=document.body.keystrokeHub;if(!s)return;let o=this.querySelector("cq-menu.cq-comparison-new");if(o){let e=o.hide.bind(o);o.hide=()=>{const t=document.body.keystrokeHub;t.removeActiveModal(this),t.tabOrderSelect(),e()}}t.UI.stxtap(this,(function(e){this.keyboardNavigation&&(o&&o.open(),s.addActiveModal(this)),e.stopPropagation()}))}keyStroke(e,t,i){if(!this.keyboardNavigation)return;const a=this.querySelectorAll("cq-lookup, cq-swatch, cq-accept-btn, [keyboard-selectable='true']");if(!a.length)return;const n=this.findFocused(a);switch(t){case"Enter":if(!n[0])return;this.clickItem(n[0],i,this);break;case"Tab":n[0]&&"CQ-LOOKUP"==n[0].tagName&&(this.keyboardNavigation.disableKeyControlElement(n[0],!0),e.tabActiveElement.element.blur(),n[0].overrideIsActive=!0);let t=this.focusNextItem(a,!1,!0);"CQ-LOOKUP"==t.tagName&&(t.keyboardNavigation=this.keyboardNavigation,t.onKeyboardSelection&&t.onKeyboardSelection(),t.overrideIsActive=!1);break;case"Esc":case"Escape":this.removeFocused(a);let r=this.querySelector("cq-menu.cq-comparison-new");r&&r.hide();break;default:i.preventDefault()}}onKeyboardSelection(){let e=this.querySelector("cq-lookup");e.setAttribute("cq-focused","true"),e.overrideIsActive=!1,e.keyboardNavigation=this.keyboardNavigation,e.onKeyboardSelection&&e.onKeyboardSelection()}pickSwatchColor(){t.UI.pickSwatchColor(this,this.querySelector("cq-swatch"))}position(){var e=this.context.stx,t=e.barFromPixel(e.cx);this.tick=e.tickFromPixel(e.cx);var i=e.chart.xaxis[t],a=this;this.tick!=this.prevTick&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){var t;for(var n in a.timeout=null,e.chart.series){t||(t=a.node.find("cq-comparison-key"));var r=t.find('cq-comparison-item[cq-symbol="'+n+'"] cq-comparison-tick-price');if(""!==r.text()&&r.text(""),r.length&&i&&i.data){var s=e.chart.series[n].parameters.symbol,o=e.padOutPrice(i.data[s]);r.text()!==o&&r.text(o);var l=i.data[s];null!==l&&("object"==typeof l&&(l=l.Close),o=e.padOutPrice(l),r.text()!==o&&r.text(o))}}}),0)),this.prevTick=this.tick}removeSeries(e,t){this.context.stx.removeSeries(e)}renderLegend(){function e(e,t,i){return function(){e.nomore=!0,i.parameters.permanent||e.removeSeries(t,i),e.modalEnd()}}this.pickSwatchColor();var i=this.closest(".stx-holder"),a=t.cqvirtual(this.querySelector("cq-comparison-key"));if(a){var n=function(e){a.appendChild(e)},r=this.context.stx;r.getDefaultColor();var s=a.hasAttribute("cq-panel-only"),o=!a.hasAttribute("cq-all-series");for(var l in r.chart.seriesRenderers){var h=r.chart.seriesRenderers[l];if(h!=r.mainSeriesRenderer&&(!o||h.params.isComparison)&&(!s||i&&h.params.panel==i.panel.name))for(var c=0;c<h.seriesParams.length;c++){var d=h.seriesParams[c],u=t.UI.makeFromTemplate(this.template),p=u.find("cq-comparison-swatch"),m=u.find("cq-swatch"),g=u.find("cq-comparison-label"),f=u.find("cq-comparison-description"),v=u.find("cq-comparison-loader"),y=u.find(".ciq-close"),b=r.chart.series[d.id],x=b.parameters,C=x.color||h.colors[b.id].color,S="auto"==C;S&&(C=r.defaultColor),p.css({background:C}),m.length&&(m[0].seriesId=d.id,m[0].setColor(C,!1,S)),x.opacity&&(p.css({opacity:x.opacity}),m.css({opacity:x.opacity})),g.text(r.translateIf(b.display)),f.text(r.translateIf(b.description)),u.attr("cq-symbol",b.id);var T=x.symbol,D=r.mostRecentClose(T);if(D||0===D){var w=u.find("cq-comparison-price");w.length&&w.text(r.padOutPrice(D))}this.loading[x.symbolObject.symbol]?v.addClass("stx-show"):v.removeClass("stx-show"),x.error&&u.attr("cq-error",!0),!x.color||x.permanent?y.hide():t.UI.stxtap(y[0],e(this,b.id,b)),Array.from(u).forEach(n)}}t.climbUpDomTree(t.cqrender(a),"cq-study-legend").forEach((function(e){e.displayLegendTitle&&e.displayLegendTitle()}))}}setColor(e,t){t.seriesId&&this.context.stx.modifySeries(t.seriesId,{color:e})}startPriceTracker(e){var t=this;this.addInjection("append","createDataSet",(function(){e&&t.updatePrices(),this.chart.dataSet&&this.chart.dataSet.length?"true"!==t.node.attr("cq-show")&&t.node.attr("cq-show","true"):t.hasAttribute("cq-show")&&t.removeAttribute("cq-show")}))}startTickPriceTracker(){this.prevTick=null,this.addInjection("prepend","headsUpHR",function(e){return function(){e.position()}}(this))}selectItem(e){var t=this.context,i=this,a=this.node.find("cq-swatch"),n="auto",r=null,s=1;if(a[0]){var o=a[0].style;n=o.backgroundColor,r=o.borderTopStyle,s=o.width||1}var l=t.stx;this.loading[e.symbol]=!0;for(var h={name:"comparison "+e.symbol,symbolObject:e,isComparison:!0,color:n,pattern:r,width:s||1,data:{useDefaultQuoteFeed:!0},forceData:!0},c=l.getSeries({symbolObject:e}),d=0;d<c.length;d++)if(c[d].parameters.isComparison)return void(this.loading[e.symbol]=!1);e.symbol&&e.symbol.trim().length>0&&(!t.stx.chart.symbol||t.stx.chart.symbol.toLowerCase()!==e.symbol.toLowerCase())?l.addSeries(e.symbol,h,(function(e,t){e&&(t.parameters.error=!0),i.loading[t.parameters.symbolObject.symbol]=!1,i.renderLegend()})):this.loading[e.symbol]=!1}setContext(e){this.node.attr("cq-show","true"),this.configureUI();var i=this,a=this.context.stx;function n(e){i.renderLegend()}if(a.chart,["layout","symbolImport","symbolChange","theme"].forEach((function(e){a.addEventListener(e,n)})),this.context.stx.append("modifySeries",(function(){i.renderLegend()})),this.renderLegend(),this.template.length){var r=t.UI.makeFromTemplate(this.template);this.startPriceTracker(r.find("cq-comparison-price").length),r.find("cq-comparison-tick-price")&&this.startTickPriceTracker()}}updatePrices(){var e,i=this.context.stx,a=i.isHistoricalModeSet,n=t.ChartEngine.isDailyInterval(i.layout.interval);for(var r in i.chart.series){e||(e=this.node.find("cq-comparison-key"));var s=e.find('cq-comparison-item[cq-symbol="'+r+'"] cq-comparison-price');if(s.length){i.chart.series[r].parameters.symbol;var o=i.chart.series[r].lastQuote;if(!o||!o.DT||!o.Close&&0!==o.Close)continue;if(!n&&i.chart.market&&null===i.chart.market.getSession(o.DT))continue;var l=o.Close,h=i.chart.series[r].parameters.subField||"Close",c=parseFloat(s.text());l&&(l[h]||0===l[h])&&(l=l[h]),!l&&0!==l&&i.chart.series[r].lastQuote&&(l=i.chart.series[r].lastQuote[h]);var d=i.padOutPrice(a?"":l);if(s.text()!==d&&s.text(d),a)return;void 0!==s.attr("cq-animate")&&t.UI.animatePrice(s,l,c)}}}}t.UI.addComponentDefinition("cq-comparison",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(){this.contextSet||(this.contextSet=!0,this.addDefaultMarkup())}}i.markup='\n\t\t<cq-comparison cq-marker>\n\t\t\t<cq-menu class="cq-comparison-new" cq-focus="input">\n\t\t\t\t<cq-comparison-add-label class="ciq-no-share">\n\t\t\t\t\t<cq-comparison-plus></cq-comparison-plus><span>Compare</span><span>...</span>\n\t\t\t\t</cq-comparison-add-label>\n\t\t\t\t<cq-comparison-add>\n\t\t\t\t\t<cq-comparison-lookup-frame>\n\t\t\t\t\t\t<cq-lookup cq-keystroke-claim cq-uppercase></cq-lookup>\n\t\t\t\t\t</cq-comparison-lookup-frame>\n\t\t\t\t\t<cq-swatch cq-no-close></cq-swatch>\n\t\t\t\t\t<span><cq-accept-btn class="stx-btn">ADD</cq-accept-btn></span>\n\t\t\t\t</cq-comparison-add>\n\t\t\t</cq-menu>\n\t\t</cq-comparison>\n\t',t.UI.addComponentDefinition("cq-comparison-lookup",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{get active(){return this.context.stx.currentVectorParameters["active"+this._scope]}set active(e){this.context.stx.currentVectorParameters["active"+this._scope]=e}get color(){return this.context.stx.currentVectorParameters["color"+this._scope]}set color(e){this.context.stx.currentVectorParameters["color"+this._scope]=e}get lineWidth(){return this.context.stx.currentVectorParameters["lineWidth"+this._scope]}set lineWidth(e){this.context.stx.currentVectorParameters["lineWidth"+this._scope]=e}get pattern(){return this.context.stx.currentVectorParameters["pattern"+this._scope]}set pattern(e){this.context.stx.currentVectorParameters["pattern"+this._scope]=e}connectedCallback(){if(!this.attached){Object.defineProperty(this,"_scope",{configurable:!0,enumerable:!1,value:this.getAttribute("cq-cvp-header")||"",writable:!1});var e=document.querySelector('template[cq-cvp-controller], template[cvp-controller="true"]');if(0===this.children.length&&e){t.UI.makeFromTemplate(e,this);var i=this.querySelector(".ciq-heading");i&&(i.innerHTML=this._scope)}super.connectedCallback()}}emit(e,t){this.toolbar?this.toolbar.emit():this.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}))}getColor(e){var i=t.UI.$(e.node||this.node.find("cq-line-color")),a=this.color;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var n=t.getBackgroundColor(this.parentNode);if(!a||Math.abs(t.hsl(n)[2]-t.hsl(a)[2])<.2){var r=t.chooseForegroundColor(n);i.css({border:"solid "+r+" 1px"}),a||i.css({background:"linear-gradient(to bottom right, "+r+","+r+" 49%, "+n+" 50%, "+n+")"})}else i.css({border:""})}pickColor(e){var i=t.UI.$(e.node),a=document.querySelector("cq-color-picker"),n=this,r=i.attr("cq-overrides");if(!a)return console.error("CVPController.prototype.pickColor: no <cq-color-picker> available");r&&(e.overrides=r.split(",")),a.callback=function(t){n.color=t,n.getColor(e),n.emit("change",{color:t})},e.context=this.context,a.display(e)}setContext(){this.setStyle(),this.toolbar&&this.toolbar.dirty(!1)}setStyle(e,t,i){t=t||"1",i=i||"dotted",this.lineWidth=parseInt(t,10),this.pattern=i;var a=this.node.find("*[cq-cvp-line-style]");this.lineStyleClassName&&a.removeClass(this.lineStyleClassName),i&&"none"!==i?(this.lineStyleClassName="ciq-"+i+"-"+this.lineWidth,a.addClass(this.lineStyleClassName)):this.lineStyleClassName=null,this.emit("change",{lineWidth:t,pattern:i})}sync(e){var t=e["active"+this._scope],i=e["color"+this._scope],a=e["lineWidth"+this._scope],n=e["pattern"+this._scope],r="ciq-active",s=this.node.find(".ciq-checkbox");t?s.addClass(r):s.removeClass(r),this.active=!!t,this.color=i||"",this.getColor({}),this.setStyle(null,a,n)}toggleActive(e){var i=t.UI.$(e.node),a="ciq-active";this.active?(this.active=!1,i.removeClass(a)):(this.active=!0,i.addClass(a)),this.emit("change",{active:this.active})}}t.UI.addComponentDefinition("cq-cvp-controller",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{constructor(){super(),this.fileMap=new Map,this.swatchColors=t.UI.defaultSwatchColors}abortImport(e){const i="CQ-CLOSE"===e.target.nodeName,a=[...this.fileMap.keys()],n=e=>t=>t.name===e;for(let t of this.form.querySelectorAll("fieldset[name]")){let r=t.getAttribute("fields");if(e&&e.target.getAttribute("fields")!==r&&!i)continue;let s=a.findIndex(n(r));this.form.removeChild(t.parentElement),this.fileMap.delete(a[s])}i&&(this.fileInput.value=""),this.fileMap.size||(this.fileInput.value="",this.loadDataBtn.style.display="inline-block",this.importBtn.style.display="none",this.querySelector("cq-section.loader").style.display="flex",this.warn("","",!0),t.UI.containerExecute(this,"resize")),this.resetTabSelect()}close(){this.abortImport({target:this.querySelector("cq-close")}),this.channelWrite("channel.dataLoader",!1,this.context.stx),this.loadDataBtn.style.display=this.fileInput.value?"none":"inline",this.querySelector("cq-section.loader").style.display="flex",this.warn("","",!0),super.close()}getFormData(){const e=(e,t)=>i=>{const a=e.elements[i];let n;if(a)n="checkbox"===a.type?a.checked:a.value;else{const t=e.querySelector(`[name='${i}']`);t&&(n=t.value)}t.formData.append(i,n)};for(let t of this.fileMap){const[i,a]=t;let n=this.querySelector(`[name='${i.name}'] fieldset`);a.formData=new FormData,["name","display","periodicity","panel","color"].forEach(e(n,a))}}hide(){this.channelWrite("channel.dataLoader",!1,this.context.stx)}importData(e){e.preventDefault();const{dialog:t}=this;if(!t.validate()())return;let{context:{stx:i},fileMap:a}=t;t.getFormData(),a.forEach((e=>{i.dataLoader.importData(e)})),t.close()}async loadData(){if(this.validateFileInput()(),!this.warning.getAttribute("cq-active")){for(const e of this.fileInput.files){let i=new t.CSVReader(e);this.fileMap.set(e,i),await i.parse(e)}this.loadDataBtn.style.display="none",this.querySelector("cq-section.loader").style.display="none",this.showData()}}resetTabSelect(){const{uiManager:{keystrokeHub:e}}=this.context;e.highlightAlign()}showData(){const{context:{stx:e,config:i={}},keystrokeHub:a}=this,n=e=>i=>{i.setAttribute("fields",e),i.addEventListener("pointerup",(e=>{e.preventDefault(),t.UI.containerExecute(i,"abortImport",[e])}))};let r=!1,s=this.querySelector("template");for(const o of this.fileMap){const[l,h]=o,c=l.name,d=s.content.cloneNode(!0);d.firstElementChild.id+=`${c}`,d.firstElementChild.setAttribute("name",c);const u=d.querySelector("fieldset");u&&(u.setAttribute("fields",c),u.setAttribute("name","fields")),d.querySelector("legend.file-name").innerText=`File: ${c}`;const p=d.querySelector(".data-name input");p.setAttribute("placeholder",c),p.value=c;const m=d.querySelector(".ciq-select[name='periodicity']"),g=i.menuPeriodicity?i.menuPeriodicity:function(){const t=e.getPeriodicity();return[{value:t,label:`${t.period}, ${t.timeUnit}`}]}();g.filter((e=>e.label)).forEach((e=>{const t=document.createElement("option");t.value=t.innerText=e.label,t.value=JSON.stringify(e.value),m.append(t)}));const f=d.querySelector("thead tr");let{fields:v=[]}=h;v.forEach((e=>{const t=document.createElement("th");t.innerText=e,f.append(t)}));const y=d.querySelector("[name=display]"),b=d.querySelector(".secondary-options");r?(y.value="secondary",b.style.display="block"):r=!0,y.addEventListener("change",(function(e){let t="secondary"===this.value.toLowerCase();b.style.display=t?"block":"none",a.highlightAlign()})),d.querySelectorAll(".abort").forEach(n(c)),t.UI.pickSwatchColor(this,d.querySelector("cq-swatch")),this.form.append(d),this.form.querySelectorAll("input:not([type=submit]").forEach((e=>{e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()}))}))}this.importBtn.style.display="inline",t.UI.containerExecute(this,"resize"),this.resetTabSelect()}setContext(e){this.context=e,this.addDefaultMarkup(),this.form=this.querySelector("form"),this.fileInput=this.querySelector("input[type=file]"),this.loadDataBtn=this.querySelector("button.load"),this.importBtn=this.querySelector("button.import"),this.controls=this.querySelector("div.ciq-dialog-cntrls"),this.warning=this.querySelector(".invalid-warning"),this.warningTitle=this.warning.querySelector(".invalid-warning-title"),this.warningText=this.warning.querySelector(".invalid-warning-text"),this.form.dialog=this,this.form.addEventListener("submit",this.importData),this.form.addEventListener("change",this.validate()),this.fileInput.addEventListener("change",this.validateFileInput()),this.keystrokeHub=e.uiManager.keystrokeHub}validate(){const e=this;return function(i){let a;e.getFormData();let n=!0;for(const i of e.fileMap){const[,s]=i,{formData:o,fields:l}=s,h=o.get("display"),c=o.get("periodicity");if(!l.includes("DT")&&!l.includes("Date")||!l.some((e=>"Close"===e||"Value"===e)))return n=!1,r({messageTitle:"Invalid Data fields",messageText:'Your data contains invalid schema to display. It must include a "DT" column and either a "Close" or "Value" column.'},n);if("secondary"===h){if(!t.equals(JSON.parse(c),e.context.stx.getPeriodicity()))return n=!1,r({messageTitle:"Mis-matched periodicities:",messageText:"Having mixed periodicities can result in chart displaying incorrect time scales. Check your data and try again."},n)}else{if(a)return n=!1,r({messageTitle:"Multiple Main series",messageText:"Detected multiple data files set to display main data. Only one data file can be main."},n);a=!0}}return r({messageTitle:"",messageText:""},n);function r({messageTitle:t,messageText:i},a){return e.warn(t,i,a),e.resetTabSelect(),a}}}validateFileInput(){const e=this;return function(t){const a=e.files||e.fileInput.files;let n=!0,r="",s="";Object.values(a).forEach((function(e){const{name:t}=e,a=t.lastIndexOf(".")>0&&t.slice(t.lastIndexOf("."),t.length);(a&&".csv"!==a||-1==i.mimeTypes.indexOf(e.type))&&(r="Invalid File Type",s="Data Importer requires a text/csv file to work. Please select a CSV file.",n=!1)})),a.length||(r="Please select a file!",s="Data Importer requires a text/csv file to work. Please select a CSV file.",n=!1),e.warn(r,s,n),e.resetTabSelect()}}warn(e,t,i){this.warningTitle.innerText=e,this.warningText.innerText=t,i?this.warning.removeAttribute("cq-active"):this.warning.setAttribute("cq-active",!0)}}i.mimeTypes=["text/csv","application/csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"],i.markup='\n<h4 class="title">Import Data</h4>\n<cq-close></cq-close>\n<cq-scroll cq-no-maximize>\n\t<cq-section class="loader">\n\t\t<label for="fileSelector">Choose one or more CSV files to load data into the chart:</label>\n\t\t<input name="fileSelector" type="file" multiple accept=".csv" />\n\t</cq-section>\n\t<cq-section class="ciq-dialog-cntrls">\n\t\t<button class="ciq-btn load" stxtap="loadData()">Open Files</button>\n\t</cq-section>\n\t<cq-section>\n\t\t<form class="import-data" id="data-wizard"></form>\n\t</cq-section>\n\t<template class="table">\n\t\t<cq-section class="data-table">\n\t\t\t<fieldset form="data-wizard" name="file-fields">\n\t\t\t<legend class="file-name"></legend>\n\t\t\t<div class="data-name"><label for="name">Name for imported data:</label><input type="text" name="name" required /></div>\n\t\t\t<div class="data-periodicity">\n\t\t\t\t<label for="periodicity">Data Periodicity:</label>\n\t\t\t\t<span class="select-holder">\n\t\t\t\t\t<select name="periodicity" class="ciq-select" form="data-wizard" required>\n\t\t\t\t</span>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class="data-fields">\n\t\t\t\t<label>Data Fields:</label>\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr></tr>\n\t\t\t\t\t</thead>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class="data-display">\n\t\t\t\t<label>Display As:</label>\n\t\t\t\t<span class="select-holder">\n\t\t\t\t\t<select name="display" form="data-wizard" class="ciq-select" required>\n\t\t\t\t\t<option value="main">Main Series</option>\n\t\t\t\t\t<option value="secondary">Secondary Series</option>\n\t\t\t\t\t</select>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div class="content-justify-end">\n\t\t\t\t<fieldset class="secondary-options">\n\t\t\t\t<legend>Secondary Series Options:</legend>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label>Add in new panel: </label><input type="checkbox" name="panel" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label>Color: </label><cq-swatch name="color"></cq-swatch>\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="buttons">\n\t\t\t<button class="ciq-btn-negative abort">Remove</button>\n\t\t</div>\n\t\t</fieldset>\n\t\t</cq-section>\n\t</template>\n\t<cq-section>\n\t\t<div class="invalid-warning">\n\t\t\t<div class="invalid-warning-title"></div>\n\t\t\t<div class="invalid-warning-text"></div>\n\t\t</div>\n\t</cq-section>\n\t<cq-section class="ciq-dialog-cntrls">\n\t\t<button class="ciq-btn import" form="data-wizard" type="submit">Confirm</button>\n\t</cq-section>\n\n</cq-scroll>\n',t.UI.addComponentDefinition("cq-data-dialog",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.BaseComponent{constructor(){super(),this.activeAttributes={}}connectedCallback(){if(!this.attached){this.isDialog=!0,super.connectedCallback();var e=this;t.UI.stxtap(this,(function(t){e.tap(t)}));var i=t.UI.getUIManager();i.registerForResize(this),this.uiManager=i,this.hasAttribute("cq-no-claim")||this.addClaim(this)}}disconnectedCallback(){this.hasAttribute("cq-no-claim")||this.removeClaim(this),this.uiManager.unregisterForResize(this),super.disconnectedCallback()}getKeyboardSelectableItems(){return this.querySelectorAll("[keyboard-selectable='true'], input, .ciq-select, cq-swatch, .ciq-btn, .ciq-btn-negative, cq-scroll li")}keyStroke(e,t,i){if(e.tabActiveModals[0]!==this)return;let{shiftKey:a}=i||{};const n=this.getKeyboardSelectableItems();if("Tab"===t){const t=this.focusNextItem(n,a,!0),i=this.querySelector("cq-scroll");t&&i&&(i.scrollToElement(t),setTimeout((()=>e.highlightAlign())))}else if("Enter"==t){const e=this.findFocused(n)[0];e&&(this.clickItem(e,i,this),"function"==typeof e.click&&e.click())}}onKeyboardSelection(){this.keyboardNavigation.highlightHide()}onKeyboardDeselection(){this.keyboardNavigation&&null!==this.keyboardNavigation&&this.keyboardNavigation.highlightAlign()}clickItem(e,t,i){if(e&&this.keyboardNavigation){const t=e.querySelector("cq-menu-dropdown");t&&(t.keyboardOriginationElement=i,this.keyboardNavigation.setKeyControlElement(t))}super.clickItem(e,t,this)}processEsc(e){return!!this.closeActiveMenu()&&(e.tabActiveModals[0]&&e.setKeyControlElement(e.tabActiveModals[0]),!0)}closeActiveMenu(){const e=this.querySelector("*.stxMenuActive");if(e){const i=t.UI.getUIManager();return i&&i.closeMenu(e),!0}return!1}addActiveAttribute(e){this.activeAttributes[e]=!0}center(){var e=this.parentElement;"BODY"==e.tagName&&(e=window);var i=50;t.guaranteedSize(e).height>2*t.elementDimensions(this,{padding:1,border:1}).height&&(i=33);var a={top:i+"%",left:"50%",transform:"translate(-50%, -50%)"};Object.assign(this.style,a)}close(){this.uiManager.closeMenu(this),this.onClose&&this.onClose()}hide(){if(this.node.find(":invalid").length)return;for(var e in this.node.children().each((function(){"function"==typeof this.hide&&this.hide()})),this.active=!1,this.uiManager.overlay&&this.uiManager.overlay.hasAttribute("cq-active")&&this.uiManager.overlay.removeAttribute("cq-active"),this.activeAttributes)this.hasAttribute(e)&&this.removeAttribute(e);this.activeAttributes={},this.node.find("input").each((function(){this==document.activeElement&&this.blur()})),this.removeFocused();const t=document.body.keystrokeHub;t&&t.removeActiveModal(this)}open(e){this.uiManager.openMenu(this,e),t.I18N&&t.I18N.localized&&t.I18N.translateUI(null,this.node[0]);const{context:i}=e||{};if(!i||!i.config)return void(this.onClose=null);const{config:{channels:a},stx:n}=i;this.onClose=()=>{this.channelWrite(a.dialog||"channel.dialog",{},n),this.onClose=null,this.firstElementChild.hide&&this.firstElementChild.hide()}}resize(){this.node.find("cq-scroll").each((function(){this.resize&&this.resize()})),this.params&&this.params.x?this.stxContextMenu():this.center()}show(e){this.params=e,e||(e=this.params={});var i=this,a=e.context||t.UI.getMyContext(this);if(this.uiManager.overlay||e.bypassOverlay||(this.uiManager.overlay=document.createElement("cq-dialog-overlay"),a&&a.node.append(this.uiManager.overlay)),i.active=!0,setTimeout((function(){for(var t in i.uiManager.overlay&&!e.bypassOverlay&&"true"!==i.uiManager.overlay.getAttribute("cq-active")&&i.uiManager.overlay.setAttribute("cq-active","true"),i.activeAttributes["cq-active"]=!0,i.activeAttributes)"true"!==i.node.attr(t)&&i.node.attr(t,"true");i.resize()})),a&&a.config&&a.config.themes){let e=Object.keys(a.config.themes.builtInThemes);this.classList.remove(...e);let t=e.find((e=>!0===a.topNode.classList.contains(e)));t&&this.classList.add(t)}const n=document.body.keystrokeHub;n&&n.addActiveModal(this)}stxContextMenu(){var e=this.parentElement;"BODY"==e.tagName&&(e=window);var i=t.guaranteedSize(e),a=i.width,n=i.height,r=t.elementDimensions(this,{padding:1,border:1}),s=r.width,o=r.height,l=this.params.x,h=this.params.y,c=!1;this.node.find("cq-menu.stxMenuActive").each((function(){if(this.querySelector(".context-menu-right")){var e=t.UI.$(this).nextAll().length+1,i=t.elementDimensions(this,{padding:1,border:1}),a=t.elementDimensions(this.querySelector(".context-menu-right"),{padding:1,border:1});s+=r.width,o+=a.height-i.height*e,c=!0}})),l+s>a&&(l=a-s),h+o>n&&(h=n-o),h<0&&(h=0),c&&(this.params.x=l,this.params.y=h),Object.assign(this.style,{top:h+"px",left:l+"px"})}tap(e){this.uiManager.topMenu()!==this&&e.currentTarget.active||e.stopPropagation()}}t.UI.addComponentDefinition("cq-dialog",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.BaseComponent{connectedCallback(){this.attached||(super.connectedCallback(),this.init())}init(){this.addDefaultMarkup(),this.textRange=this.querySelector(".ciq-double-slider-text"),this.lowSlider=this.querySelector(".ciq-double-slider-range[range='low']"),this.highSlider=this.querySelector(".ciq-double-slider-range[range='high']"),this.backing=this.querySelector("cq-double-slider-range"),this.name=this.getAttribute("name")||t.uniqueID(),["min","max","step","low","high"].forEach((e=>{this.hasAttribute(e)&&(this[e]=Number(this.getAttribute(e)))})),this.setBounds(this);const e=this;function i(t,i){let a=t.value;if(i){const t=i.touches[0],n=e.highSlider.getBoundingClientRect();let{height:r,width:s}=getComputedStyle(e.highSlider);r=parseFloat(r),s=parseFloat(s);let o=1;o=r>s?Math.max(0,Math.min(r,t.pageY-n.top))/r:Math.max(0,Math.min(s,t.pageX-n.left))/s,a=e.min+o*(e.max-e.min)}e.whichSlider||(e.whichSlider=2*a>(isNaN(e.high)?e.max:e.high)+(isNaN(e.low)?e.min:e.low)+1?e.highSlider:e.lowSlider),e.whichSlider===e.lowSlider?e.low=e.lowSlider.value=Math.min(void 0===e.high?e.max:e.high,a):e.whichSlider===e.highSlider&&(e.high=e.highSlider.value=Math.max(void 0===e.low?e.min:e.low,a)),e.setValue(e)}[this.highSlider,this.lowSlider].forEach((a=>{["mousedown","pointerdown"].forEach((t=>{a.addEventListener(t,(t=>{e.whichSlider=null}))})),a.addEventListener("input",(()=>i(a))),t.touchDevice&&(a.addEventListener("touchstart",(t=>{e.whichSlider=null,e.engaged=!0,i(a,t)}),{passive:!1}),a.addEventListener("touchmove",(t=>{e.engaged&&i(a,t)}),{passive:!1}),a.addEventListener("touchend",(t=>{e.engaged=!1}),{passive:!1}))}))}setBounds(e){Array.from(this.querySelectorAll('input[type="range"]')).forEach((t=>{["min","max","step"].forEach((i=>{(e[i]||0===e[i])&&(t.setAttribute(i,e[i]),this[i]=e[i])}))})),this.updateVisual()}setValue(e){const i={};e&&(void 0!==e.low&&(i.low=void 0===this.min?e.low:Math.max(this.min,e.low)),void 0!==e.high&&(i.high=void 0===this.max?e.high:Math.min(this.max,e.high))),t.equals(this.value,i)||(this.value=i),this.low=i.low,this.high=i.high,this.updateVisual()}updateVisual(){this.setAttribute("min",this.min),this.setAttribute("max",this.max),this.setAttribute("low",this.low),this.setAttribute("high",this.high),this.setAttribute("step",this.step);const e=getComputedStyle(this.textRange),t=e.color,i=e.borderLeftColor;let a=this.low;(isNaN(a)||a<this.min)&&(a=this.min);let n=this.high;(isNaN(n)||n>this.max)&&(n=this.max),this.lowSlider.value=a,this.highSlider.value=n,void 0!==a&&(a=Number(this.lowSlider.value)),void 0!==n&&(n=Number(this.highSlider.value));const r=a-this.min,s=n-this.min;this.textRange.innerHTML=a+"-"+n;const o=this.max-this.min,l=[r/o*100,s/o*100];this.backing.style.background=`linear-gradient(to right,\n\t\t\t${i} 0% ${l[0]}%,\n\t\t\t${t} ${l[0]}% ${l[1]}%,\n\t\t\t${i} ${l[1]}% 100%)`}}i.markup='\n\t\t<cq-double-slider-text class="ciq-double-slider-text"></cq-double-slider-text>\n\t\t<cq-double-slider-range class="ciq-double-slider-range"></cq-double-slider-range>\n\t\t<input type="range" class="ciq-double-slider-range" range="low">\n\t\t<input type="range" class="ciq-double-slider-range" range="high">\n',t.UI.addComponentDefinition("cq-double-slider",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{open(e){this.addDefaultMarkup(),this.classList.add("ciq-context-menu"),this.drawing=e.drawing;var t=this.node.find("[cq-edit-text]");return this.drawing.edit?t.show():t.hide(),super.open(e)}}i.markup='\n\t\t<div stxtap="DrawingEdit.text()" cq-edit-text>Edit Text</div>\n\t\t<div stxtap="DrawingEdit.edit()">Edit Settings</div>\n\t\t<div stxtap="DrawingEdit.clone()">Clone Drawing</div>\n\t\t<cq-menu stxtap="resize()" cq-close-top="cq-dialog[cq-drawing-context]">\n\t\t\t<cq-menu-dropdown cq-no-scroll="true" class="context-menu-right">\n\t\t\t\t<cq-item stxtap="DrawingEdit.reorderLayer(\'top\')">Bring to Top</cq-item>\n\t\t\t\t<cq-item stxtap="DrawingEdit.reorderLayer(\'up\')">Bring Forward</cq-item>\n\t\t\t\t<cq-item stxtap="DrawingEdit.reorderLayer(\'down\')">Send Backward</cq-item>\n\t\t\t\t<cq-item stxtap="DrawingEdit.reorderLayer(\'bottom\')">Send to Bottom</cq-item>\n\t\t\t</cq-menu-dropdown>\n\t\t\t\x3c!-- element here so that <cq-menu-dropdown> can keep "top: auto;" --\x3e\n\t\t\t<div>Layer Management<div class="context-button-right-arrow"></div></div>\n\t\t</cq-menu>\n\t\t<div stxtap="DrawingEdit.remove()">Delete Drawing</div>\n\t',t.UI.addComponentDefinition("cq-drawing-context",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{add(){var e=this.node.find("[cq-custom-fibonacci-setting] input").val();if(e&&(e=parseFloat(e)/100,!isNaN(e))){for(var i,a,n=this.context.stx.currentVectorParameters.fibonacci.fibs||[],r=0;r<n.length;r++)if((i=n[r]).level>e){(a=t.clone(i)).level=e,a.display=!0,a.parameters&&(a.parameters.opacity=.25),n.splice(r,0,a);break}a||(i=n.length?t.clone(n[0]):{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},(a=t.clone(i)).level=e,a.display=!0,n.push(a)),this.open()}}close(){if(this.opener){var e=new Event("change",{bubbles:!0,cancelable:!0});this.opener.dispatchEvent(e),this.context.stx.currentVectorParameters.fibonacci.fibsAlreadySet=!0}super.close()}open(e){this.addDefaultMarkup(),super.open(e),e&&(this.opener=e.caller);var i,a=this.context.stx.currentVectorParameters,n=a.vectorType,r=this.node;if(a.fibonacci&&"fibtimezone"!=n){r.find(".title").text("Fibonacci Settings");var s=a.fibonacci.fibs||[];(i=r.find("cq-fibonacci-settings")).children(":not(template)").remove();for(var o=0;o<s.length;o++){var l=s[o];if(!("fibarc"===n&&l.level<0)){var h=t.UI.makeFromTemplate(this.node.find("template"),i),c=100*l.level;h.find(".ciq-heading").text(c.toFixed(1)+"%");var d=h.find("input");l.display&&d.prop("checked",!0),this.setChangeEvent(d,"fib",l.level),h.find(".stx-data").append(d)}}}else r.find(".title").text("Settings"),(i=r.find("cq-fibonacci-settings")).children(":not(template)").remove();this.node.find("[cq-custom-fibonacci-setting] input").val("")}setChangeEvent(e,t,i){var a=this;e[0].addEventListener("change",(function(){var e=a.context.stx.currentVectorParameters,t=e.vectorType;if(e.fibonacci&&"fibtimezone"!=t){var n=e.fibonacci.fibs||[];if("checkbox"==this.type)for(var r=0;r<n.length;r++){var s=n[r];s.level===i&&(s.display=!!this.checked)}}}))}}i.markup='\n\t\t<h4 class="title">Settings</h4>\n\t\t<cq-scroll cq-no-maximize>\n\t\t\t<cq-fibonacci-settings>\n\t\t\t\t<template cq-fibonacci-setting>\n\t\t\t\t\t<cq-fibonacci-setting>\n\t\t\t\t\t\t<div class="ciq-heading"></div>\n\t\t\t\t\t\t<div class="stx-data">\n\t\t\t\t\t\t\t<input type="checkbox">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</cq-fibonacci-setting>\n\t\t\t\t</template>\n\t\t\t</cq-fibonacci-settings>\n\t\t\t<div cq-custom-fibonacci-setting>\n\t\t\t\t<input class="ciq-heading" type="text">%\n\t\t\t\t<div class="ciq-btn stx-data" stxtap="add()">Add</div>\n\t\t\t</div>\n\t\t</cq-scroll>\n\t\t<div class="ciq-dialog-cntrls">\n\t\t\t<div class="ciq-btn" stxtap="close()">Done</div>\n\t\t</div>\n\t',t.UI.addComponentDefinition("cq-fib-settings-dialog",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(e){const{stx:i}=e;i.callbackListeners.floatingWindow||(i.callbackListeners.floatingWindow=[]),i.addEventListener("floatingWindow",(e=>{const i=this["on"+t.capitalize(e.type)];if(i)return i.call(this,e),!0}))}onShortcut({container:e,title:t,tag:i,content:a,width:n,status:r,onClose:s}){this.shortcutWindow?this.shortcutWindow.toggle(r).ensureVisible():(this.shortcutWindow=this.constructor.windowImplementation.get({tag:i,content:a,title:t,container:e||document.body,onClose:s}),this.shortcutWindow.toggle(!0).update({width:n}).positionRelativeTo())}onDocumentation({container:e,title:i,tag:a,content:n,actionButtons:r,width:s,status:o,onClose:l}){function h(e,t){return()=>{"close"===e?t.toggle(!1):"function"==typeof e&&e()}}this.documentationWindow=this.constructor.windowImplementation.get({tag:a,content:n+"<br/>",title:i,container:e||document.body,onClose:l});for(let e of r){let i=document.createElement("button");i.innerText=e.label,i.style.marginTop="1em",i.style.marginRight="1em",t.safeClickTouch(i,h(e.action,this.documentationWindow)),this.documentationWindow.bodyEl.appendChild(i)}t.I18N&&t.I18N.localized&&t.I18N.translateUI(null,this.documentationWindow.w),this.documentationWindow.toggle(!0).update({width:s}).positionRelativeTo()}}class a{constructor({content:e,title:t,tag:i,minWidth:a,minHeight:n,container:r,onClose:s}){const o=document.createElement("div");o.innerHTML=this.constructor.markup,o.classList.add("ciq-window"),document.body.append(o),o.tag=i,o.docWindow=this,Object.assign(this,{isDragging:!1,isResizing:!1,isOpen:!1,xDiff:0,yDiff:0,x:50,y:50,w:o}),this.bindEvents(),this.titleEl=o.querySelector(".ciq-window-title"),this.bodyEl=o.querySelector(".ciq-window-body"),this.titleBarEl=o.querySelector(".ciq-window-bar"),this.setProps({title:t,content:e,minWidth:a,minHeight:n,container:r,onClose:s}),this.render()}setProps({title:e,content:t,minWidth:i,minHeight:a,container:n,onClose:r}){const{w:s,titleEl:o,bodyEl:l}=this;void 0!==e&&(o.textContent=e),void 0!==t&&(l.innerHTML=t),void 0!==i&&(s.style.minWidth=i+"px"),void 0!==a&&(s.style.minHeight=a+"px"),n&&(this.container=n),void 0!==r&&(this.onClose=r)}bindEvents(){const{w:e}=this,t=t=>e.querySelector(t);t(".ciq-window-bar").addEventListener("mousedown",this.onStartDrag.bind(this));const i=this.toggleCollapse.bind(this);t(".ciq-window-bar").addEventListener("dblclick",i),t(".ciq-window-collapse").addEventListener("click",i),"top, right, bottom, left, top-right, bottom-right, bottom-left, top-left".split(/, /).forEach((e=>{t(`.ciq-window-resize-${e}`).addEventListener("mousedown",(function(e){if(0!==e.button)return;const t=e.target.className.replace(/ciq-window-resize-/,"");a.isResizing=t,a.downX=e.pageX,a.downY=e.pageY,a.startWidth=a.width,a.startHeight=a.height,a.startLeft=a.x,a.startTop=a.y}))})),document.addEventListener("mousemove",this.onMouseMove.bind(this)),document.addEventListener("mouseup",this.onMouseUp.bind(this)),t(".ciq-window-close").addEventListener("click",this.toggle.bind(this,!1)),window.addEventListener("resize",this.ensureVisible.bind(this));const a=this}update({x:e,y:t,width:i,height:a}){return Object.assign(this,{x:e,y:t,width:i,height:a}),this.render(),this}positionRelativeTo({container:e,location:t="center"}={}){const{x:i,y:a,width:n,height:r}=(e||this.container||document.body).getBoundingClientRect();return this.width>n-20&&(this.width=n-20),this.height>r-20&&(this.height=r-20),"center"===t&&(this.x=i+n/2-this.width/2,this.y=a+r/2-this.height/2),this.render(),this}ensureVisible(){if(!this.isOpen)return;const{x:e,y:t,width:i}=this.w.getBoundingClientRect(),{innerWidth:a,innerHeight:n}=window;t>n-20&&(this.y=n-20),e>a-i&&(this.x=a-i),this.render()}render(){const{x:e,y:t}=this;Object.assign(this.w.style,{display:this.isOpen?"":"none",transform:"translate("+e+"px, "+t+"px)"}),this.w.classList.toggle("ciq-wdragging",this.isDragging||this.isResizing)}get width(){return this.w.offsetWidth}set width(e){e&&(this.w.style.width=e+"px")}get height(){return this.w.offsetHeight}set height(e){e&&(this.w.style.height=e+"px")}clampX(e){return Math.min(Math.max(e,0),window.innerWidth-this.w.offsetWidth)}clampY(e){return Math.min(Math.max(e,0),window.innerHeight-this.titleBarEl.offsetHeight-8)}onMouseMove(e){const{isDragging:t,isResizing:i}=this;if(!t&&!i)return;const a=e.pageX-this.downX,n=e.pageY-this.downY;t&&(this.x=this.clampX(a),this.y=this.clampY(n));const{startWidth:r,startHeight:s}=this;let o,l;/left/.test(i)&&(l=this.startWidth-a,this.width=l,this.x=this.startLeft+a),/top/.test(i)&&(o=this.startHeight-n,this.height=o,this.y=this.startTop+n),i&&/right|bottom/.test(i)&&(this.width=/right/.test(i)?a+r:l||r,this.height=/bottom/.test(i)?n+s:o||s,this.x+this.width-2>window.innerWidth&&(this.width=window.innerWidth-this.x-2),this.y+this.height-2>window.innerHeight&&(this.height=window.innerHeight-this.y-2)),this.render()}onStartDrag(e){0===e.button&&(this.isDragging=!0,this.downX=e.pageX-this.x,this.downY=e.pageY-this.y)}onMouseUp(){this.isDragging=!1,this.isResizing=!1,this.render()}toggle(e){const t=void 0===e?!this.isOpen:e,i=this.isOpen!==t;return this.isOpen=t,i&&!this.isOpen&&this.onClose&&(this.onClose(),this.isCollapsed&&this.toggleCollapse()),this.render(),this}toggleCollapse(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?(this.prevHeight=this.height,this.w.classList.add("ciq-window-collapsed"),this.height=this.titleBarEl.offsetHeight,this.onCollapse&&this.onCollapse()):(this.height=this.prevHeight,this.w.classList.remove("ciq-window-collapsed")),this.w.querySelector(".ciq-window-collapse").title=this.isCollapsed?"Expand":"Collapse",this.render()}}a.markup='\n<div class="ciq-window-bar" title="Drag to reposition. Double click to collapse">\n<div class="ciq-window-title"></div>\n<span class="ciq-window-collapse" title="Collapse"></span>\n<span class="ciq-window-close" title="Click to close">\n</span>\n</div>\n<div class="ciq-window-body"></div>\n<div class="ciq-window-resize-left"></div>\n<div class="ciq-window-resize-top"></div>\n<div class="ciq-window-resize-right"></div>\n<div class="ciq-window-resize-bottom"></div>\n<div class="ciq-window-resize-bottom-right"></div>\n<div class="ciq-window-resize-bottom-left"></div>\n<div class="ciq-window-resize-top-left"></div>\n<div class="ciq-window-resize-top-right"></div>\n',a.get=function(e){let t;return e.tag&&(t=Array.from(document.querySelectorAll(".ciq-window")).find((t=>t.tag===e.tag)),t)?(t.docWindow.setProps(e),t.docWindow):new this(e)},i.windowImplementation=a,t.UI.addComponentDefinition("cq-floating-window",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.BaseComponent{connectedCallback(){this.attached||(this.innerHTML=this.render(),this.generateTable(2,2),this.highlightTable(1,1))}get maxcols(){return this.getAttribute("maxcols")||4}set maxcols(e){this.setAttribute("maxcols",e)}get maxrows(){return this.getAttribute("maxrows")||4}set maxrows(e){this.setAttribute("maxrows",e)}generateTable(e,t){var i=this;function a(e){let t=parseInt(e.target.dataset.column)+1;t>i.maxcols&&(t=i.maxcols);let a=parseInt(e.target.dataset.row)+1;a>i.maxrows&&(a=i.maxrows),i.generateTable(t,a),i.highlightTable(parseInt(e.target.dataset.column),parseInt(e.target.dataset.row))}let n=this.querySelector("table");if(n){this.cleanTable(e,t),e=e||1,t=t||1;for(let i=1;i<=t;i++){let r;n.childNodes[i-1]?r=n.childNodes[i-1]:(r=document.createElement("tr"),n.appendChild(r));for(let n=1;n<=e;n++)if(!r.childNodes[n-1]){let s=document.createElement("td");s.dataset.row=i,s.dataset.column=n,s.dataset.rows=t,s.dataset.columns=e,s.addEventListener("mouseenter",a),s.addEventListener("click",function(e){this.triggerUpdateGridEvent(e.target.dataset.column,e.target.dataset.row)}.bind(this)),s.appendChild(document.createElement("div")),r.appendChild(s)}}}}triggerUpdateGridEvent(e,t){document.querySelector("body").dispatchEvent(new CustomEvent("update-grid",{detail:{columns:e,rows:t},bubbles:!0,composed:!0}))}highlightTable(e,t){for(let i of this.querySelectorAll("td"))i.dataset.column<=e&&i.dataset.row<=t?i.classList.add("highlight"):i.classList.remove("highlight");this.querySelector(".row.count").innerHTML=t,this.querySelector(".column.count").innerHTML=e}cleanTable(e,t){let i=this.querySelector("table");for(;i.childNodes.length>t;)i.removeChild(i.lastChild);for(let t of i.childNodes)for(;t.childNodes.length>e;)t.removeChild(t.lastChild)}render(){return'\n\t\t\t\t<style>\n\t\t\t\t\tcq-grid-size-picker, cq-grid-size-picker tr, cq-grid-size-picker td{\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker tr{\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\tline-height: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker td{\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\theight: 19px;\n\t\t\t\t\t\twidth: 19px;\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker td div{\n\t\t\t\t\t\tpointer-events: none;\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\theight: 15px;\n\t\t\t\t\t\twidth: 15px;\n\t\t\t\t\t\tmargin: 2px;\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\tborder: solid 1px #ccc;\n\t\t\t\t\t\tborder-color: var(--grid-size-border-color, #ccc);\n\t\t\t\t\t\tbackground: #eee; /* keep a hard coded style in case the var function is unavailable */\n\t\t\t\t\t\tbackground-color: var(--grid-size-background-color, #eee);\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker td:hover div, cq-grid-size-picker td.highlight div{\n\t\t\t\t\t\tborder-color: #666;\n\t\t\t\t\t\tborder-color: var(--grid-size-border-hl-color, #666);\n\t\t\t\t\t\tbackground: #ccc;\n\t\t\t\t\t\tbackground-color: var(--grid-size-background-hl-color, #ccc);\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker p{\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tline-height: 1em;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tmargin: 5px 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker .multiply{\n\t\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t}\n\t\t\t\t</style>\n\n\t\t\t\t<table class="grid-size-picker"></table>\n\t\t\t\t<p><span class="row count">1</span> <span class="multiply">+</span> <span class="column count">1</span></p>\n\t\t\t'}}t.UI.addComponentDefinition("cq-grid-size-picker",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(){if(!this.hasAttribute("cq-filter"))return;const e=this.getAttribute("cq-filter")||"Search";this.createFilter(e)}createFilter(e){const t=document.createElement("div");t.classList.add("searchFilter"),this.appendChild(t);const i=document.createElement("input");i.type="search",i.placeholder=e,t.appendChild(i),this.searchWrapper=t;const a=this.nextElementSibling;let n="";const r=({target:{value:e}})=>{const t=new RegExp(e,"i"),r=this.qsa;r("cq-item",a).forEach((s=>{const o=e&&!t.test(s.textContent)?"add":"remove";s.classList[o]("item-hidden"),n!==e&&(n=e,this.removeFocused.apply(a),r("cq-keyboard-selected-highlight").forEach((e=>{e.classList.add("disabled")})),i.focus())}))};i.addEventListener("input",r),i.addEventListener("keyup",r);const s=this.getAttribute("cq-filter-min")||15,o=()=>{const e=this.qsa("cq-item",a).length;t.classList[e>s?"add":"remove"]("active")};void 0!==typeof MutationObserver?(new MutationObserver(o).observe(this.parentElement,{childList:!0,subtree:!0}),o()):t.classList.add("active")}}t.UI.addComponentDefinition("cq-heading",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(e){this.addDefaultMarkup();const i=new t.UI.HeadsUp(this,e,{followMouse:!0,autoStart:!1});let a=e.config&&e.config.channels?e.config.channels.headsUp:"layout.headsUp";this.channelSubscribe(a,(e=>{i["dynamic"===e||(e||{}).dynamic?"begin":"end"]()}))}}i.markup='\n\t\t<svg version="1.1" x="0px" y="0px" viewBox="0 0 215 140" enableBackground="new 0 0 215 140">\n\t\t\t<defs>\n\t\t\t\t<filter id="ciq-hu-shadow" height="130%">\n\t\t\t\t\t<feGaussianBlur in="SourceAlpha" stdDeviation="1"></feGaussianBlur>\n\t\t\t\t\t<feOffset dx="0" dy="1" result="offsetblur"></feOffset>\n\t\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t\t<feFuncA type="linear" slope="0.2"></feFuncA>\n\t\t\t\t\t</feComponentTransfer>\n\t\t\t\t\t<feMerge>\n\t\t\t\t\t\t<feMergeNode></feMergeNode>\n\t\t\t\t\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t\t\t\t\t</feMerge>\n\t\t\t\t</filter>\n\t\t\t</defs>\n\t\t\t<polygon\n\t\t\t\tclass="ciq-hu-bg" style="stroke-width: 1;"\n\t\t\t\tpoints="198.4,124.4 1,124.4 1,1 214,1 214,137.8"\n\t\t\t\tfilter="url(#ciq-hu-shadow)"\n\t\t\t\t/>\n\t\t\t<path class="ciq-hu-stroke"\n\t\t\t\tfill="#398DFF"\n\t\t\t\td="M213,2v133.6l-13.7-11.8l-0.6-0.5H198H2V2H213 M215,0H0v125.4h198l17,14.6V0L215,0z">\n\t\t\t</path>\n\t\t</svg>\n\t\t<div>\n\t\t\t<cq-hu-col1>\n\t\t\t\t<cq-hu-date></cq-hu-date>\n\t\t\t\t<cq-hu-price></cq-hu-price>\n\t\t\t\t<cq-volume-grouping>\n\t\t\t\t\t<div>Volume</div>\n\t\t\t\t\t<div><cq-volume-visual></cq-volume-visual></div>\n\t\t\t\t\t<div><cq-hu-volume></cq-hu-volume><cq-volume-rollup></cq-volume-rollup></div>\n\t\t\t\t</cq-volume-grouping>\n\t\t\t</cq-hu-col1>\n\t\t\t<cq-hu-col2>\n\t\t\t\t<div>Open</div><cq-hu-open></cq-hu-open>\n\t\t\t\t<div>Close</div><cq-hu-close></cq-hu-close>\n\t\t\t\t<div>High</div><cq-hu-high></cq-hu-high>\n\t\t\t\t<div>Low</div><cq-hu-low></cq-hu-low>\n\t\t\t</cq-hu-col2>\n\t\t</div>\n\t',t.UI.addComponentDefinition("cq-hu-dynamic",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(e){this.addDefaultMarkup();const i=new t.UI.HeadsUp(this,e,{autoStart:!0});let a=e.config&&e.config.channels?e.config.channels.headsUp:"layout.headsUp";this.channelSubscribe(a,(e=>{i["static"===e||(e||{}).static?"begin":"end"]()}))}}i.markup="\n\t\t<div>\n\t\t\t<div>Price</div><cq-hu-price></cq-hu-price>\n\t\t\t<div>Open</div><cq-hu-open></cq-hu-open>\n\t\t\t<div>Close</div><cq-hu-close></cq-hu-close>\n\t\t</div>\n\t\t<div>\n\t\t\t<div>Vol</div>\n\t\t\t<cq-volume-section>\n\t\t\t\t<cq-hu-volume></cq-hu-volume>\n\t\t\t\t<cq-volume-rollup></cq-volume-rollup>\n\t\t\t</cq-volume-section>\n\t\t\t<div>High</div><cq-hu-high></cq-hu-high>\n\t\t\t<div>Low</div><cq-hu-low></cq-hu-low>\n\t\t</div>\n\t",t.UI.addComponentDefinition("cq-hu-static",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{connectedCallback(){this.attached||(this.addDefaultMarkup(),["mousedown","pointerdown","touchstart"].forEach((e=>this.addEventListener(e,this.mouseTouchDown,{passive:!1}))),["mouseup","pointerup","touchend","touchmove"].forEach((e=>this.addEventListener(e,this.mouseTouchUp,{passive:!1}))),super.connectedCallback())}disconnectedCallback(){["mousedown","pointerdown","touchstart"].forEach((e=>this.removeEventListener(e,this.mouseTouchDown))),["mouseup","pointerup","touchend","touchmove"].forEach((e=>this.removeEventListener(e,this.mouseTouchUp))),super.disconnectedCallback()}setContext(){const e="help-active";let{topNode:i,stx:a}=this.context;t.Help&&!i.hasAttribute(e)&&i.setAttribute(e,""),this.ensureMessagingAvailable(a)}mouseTouchDown(e){t.Help&&t.Help.Content&&t.Help.Content[this.getAttribute("help-id")]&&!this.pressTimer&&(this.pressTimer=setTimeout((()=>{this.pressTimer=null,setTimeout((()=>this.classList.remove("pressing")),1e3),this.press()}),this.context.stx.longHoldTime),this.classList.add("pressing"))}mouseTouchUp(e){this.pressTimer&&(clearTimeout(this.pressTimer),this.pressTimer=null,this.classList.remove("pressing"))}ensureMessagingAvailable(e){setTimeout((()=>{const t=e.uiContext.topNode;t.querySelector("cq-floating-window")||t.append(document.createElement("cq-floating-window"))}))}verifyHelpContent(){t.Help&&t.Help.Content&&(t.Help.Content[this.getAttribute("help-id")]?this.classList.add("help-available"):this.classList.remove("help-available"))}press(){if(!t.Help||!t.Help.Content)return;let{config:e,stx:i}=this.context,a=this.getAttribute("help-id")||"default",n=t.Help.Content[a]||t.Help.Content.default;if(n){n.actions||(n.actions=[t.Help.Actions.close,t.Help.Actions.enable]),n.actionButtons=[];for(let e of n.actions){let{label:t,action:i}=e;"function"==typeof i&&(i=r(e,this.parentElement)),n.actionButtons.push({label:t,action:i})}i.dispatch("floatingWindow",{type:"documentation",title:n.title,content:n.content,actionButtons:n.actionButtons,container:i.container.querySelector(".stx-subholder"),onClose:()=>!0,width:500,status:!0,tag:"help"})}function r(e,t){return()=>e.action(t)}}}i.markup='\n\t\t<div class="ciq-help-widget"></div>\n\t\t<div class="press-indicator">\n\t\t\t\x3c!-- 1x1 transparent image to maintain aspect ratio when sizing by height --\x3e\n\t\t\t<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n\t\t</div>\n\t',t.UI.addComponentDefinition("cq-help",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(e){let i=this.constructor.markup;const a=this.getAttribute("cq-toggles");a&&(i=i.replace(/dynamic,static,null/,a)),this.addDefaultMarkup(this,i),this.tooltip=this.querySelector("cq-tooltip");let n=e.config?e.config.channels:{headsUp:"layout.headsUp",crosshair:"layout.crosshair"};this.channelSubscribe(n.headsUp,(()=>this.applyValues(n))),this.channelSubscribe(n.crosshair,(e=>{(t.isMobile||e)&&"dynamic"===this.channelRead(n.headsUp)&&setTimeout((()=>this.channelWrite(n.headsUp,"static")))})),this.initInfoComponents(e)}setTooltip(e){const{context:{stx:t},tooltip:i}=this;i.innerText=t.translateIf(`Info ${e||"off"}`)}initInfoComponents(e){const t=this.querySelector("cq-toggle").getAttribute("cq-toggles");["dynamic","static"].forEach((function(i){if(new RegExp(i).test(t)&&!e.topNode.querySelector(`cq-hu-${i}`)){const t=document.createElement(`cq-hu-${i}`);e.topNode.append(t)}}))}applyValues(e){const i=this.channelRead(e.crosshair),a=this.channelRead(e.headsUp);"dynamic"===a&&(i||t.isMobile)&&setTimeout((()=>this.channelWrite(e.headsUp,"static"))),t.isMobile&&"static"===a&&setTimeout((()=>this.channelWrite(e.crosshair,!0))),this.setTooltip(a)}}i.markup='\n\t\t<cq-toggle\n\t\t\tclass="ciq-HU"\n\t\t\tcq-member="headsUp"\n\t\t\tcq-toggles="dynamic,static,null">\n\t\t\t<span></span>\n\t\t\t<cq-tooltip>Info</cq-tooltip>\n\t\t</cq-toggle>\n\t',t.UI.addComponentDefinition("cq-info-toggle",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{set(e){const{toggleEl:t,options:i,selected:a,stx:n}=this,{crossX:r,crossY:s}=n.controls,{obj:o}=t.params,l={};i.forEach((t=>{const[i,n]=t.getAttribute("cq-member").split("-"),r=t===a&&!0===e;l[i]=n?Object.assign(l[i]||{},{[n]:r}):r})),this.connectedCharts().forEach((e=>{Object.entries(l).forEach((([t,i])=>{e.layout[t]="object"==typeof i?Object.assign({},e.layout[t],i):i})),e.changeOccurred("layout")})),"class"===t.params.action&&t.classList[e?"add":"remove"](t.params.value),t.currentValue=e,t.updateClass(),this.applyValues(this.channels);const h=this.context.topNode.getCharts;if(e){const e=h?this.connectedCharts().find((e=>e.container.closest("cq-context-wrapper.active"))):n;this.positionCrosshair(e)}}connectedCharts(){return this.context.topNode.getCharts?this.context.topNode.getCharts():[this.stx]}positionCrosshair(e){if(!e)return;const{dataSegment:t}=e.chart;if(e.container.classList.contains("stx-crosshair-on")||!t.length)return;const{index:i,Close:a}=function(e){let t=e.length;for(;t--&&e[t];){const{Close:i}=e[t];if(i||0===i)return{index:t,Close:i}}return-1}(t);if(i<0)return;const n=e.pixelFromBar(i),r=e.pixelFromPrice(a);e.mousemoveinner(n+e.left,r+e.top)}setSelected(e){const{options:t}=this;this.selected=e,t.forEach((t=>{t.classList[t===e?"add":"remove"]("ciq-active")}))}setContext(e){this.tooltip=this.querySelector("cq-tooltip"),this.toggleEl=this.querySelector("cq-toggle"),this.optionsMenu=this.querySelector("cq-menu-dropdown"),this.options=Array.from(this.optionsMenu.querySelectorAll("cq-item"));let{config:{channels:i={}}={}}=e;i.headsUp||(i.headsUp="layout.headsUp"),i.crosshair||(i.crosshair="layout.crosshair"),this.channels=i,this.channelSubscribe(i.headsUp,(()=>this.applyValues(i)));const a=this.channelRead(i.headsUp)||{},n=this.channelRead(i.crosshair);let r=!1;const s=e=>{this.setSelected(e.target),this.set(!0),this.stx.changeOccurred("layout")};this.options.forEach((e=>{const[,t]=e.getAttribute("cq-member").split("-");!t&&n&&(r=!0),a[t]&&this.setSelected(e),e.selectFC=function(){s({target:this})}})),this.toggleEl.isInfoToggle=!0,this.toggleEl.currentValue=this.selected||r,this.selected||this.setSelected(this.options[0]),t.UI.stxtap(this.optionsMenu,s),t.isMobile&&(this.querySelector("cq-menu").style.display="none"),this.initInfoComponents(e),this.applyValues(i)}setTooltip(e){const{context:{stx:t},tooltip:i}=this;if(!this.options.some((e=>"crosshair"===e.getAttribute("cq-member")))){const e=this.toggleEl.currentValue?"On":"Off";i.innerText=t.translateIf(`Info ${e}`)}}initInfoComponents(e){Array.from(e.topNode.querySelectorAll(".ciq-chart-area")).forEach((e=>{this.options.forEach((t=>{const[,i]=t.getAttribute("cq-member").split("-");if(i&&!e.querySelector(`cq-hu-${i}`)){const t=document.createElement(`cq-hu-${i}`);e.append(t)}}))}))}applyValues(e){const i=this.channelRead(e.crosshair),a=this.channelRead(e.headsUp)||{},{dynamic:n,floating:r,crosssection:s}=a,{channelWrite:o}=this,l=this.connectedCharts();if(t.isMobile){const t=this.context.topNode.querySelector("cq-hu-static");t&&(t.style.display=r?"none":"");const s=this.context.topNode.querySelector("cq-hu-dynamic");if(s&&(s.style.display="none"),n)return h(e.headsUp,Object.assign({},a,{dynamic:!1,floating:!0})),void this.applyValues(e);const o=this.querySelector("cq-item[cq-member*='headsUp-']:not([cq-member*='-dynamic'])");if(o&&!Object.values(a).includes(!0)&&(this.setSelected(o),i)){const[,t]=o.getAttribute("cq-member").split("-");if(t){const i={};return i[t]=!0,h(e.headsUp,Object.assign({},a,i)),void this.applyValues(e)}}}function h(e,t){l.forEach((i=>o(e,t,i)))}i||!a.static&&!s||h(e.crosshair,!0)}getCurrentValue(e){const{options:t}=this,{obj:i}=e;for(let e=0;e<t.length;e++){const[a,n]=t[e].getAttribute("cq-member").split("-");if(!n&&i[a]||i[a]&&i[a][n])return!0}return!1}}t.UI.addComponentDefinition("cq-info-toggle-dropdown",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;let i=!1;class a extends HTMLElement{connectedCallback(){if(this.hasAttribute("attached"))return;this.setAttribute("attached","");var e=this;const a=this.getAttribute("env-container")||"body",n=this.getAttribute("tmpl-src");var r=this.querySelector("cq-context");r||(r=this.appendChild(document.createElement("cq-context")));const s=this.hasAttribute("no-save");this.style.visibility="hidden",t.loadUI(n,r,(function(t){if(t)return;var n=e.querySelector("cq-chart-title");n&&n.removeAttribute("cq-browser-tab");for(var r=e.querySelectorAll("cq-ui-manager, cq-dialog, cq-color-picker"),o=0;o<r.length;o++){var l=r[o];l.parentNode.removeChild(l),i||document.querySelector(a).appendChild(l)}i=!0;const h={extendedHours:!0,rangeSlider:!0,inactivityTimer:!0,fullScreen:!1,initialSymbol:e.getAttribute("symbol")||void 0,restore:!s};e.signalEvent=new CustomEvent("signal-chart-ready",{detail:{node:e,params:h}}),e.setAttribute("cq-event-flag",""),e.style.visibility="",document.body.dispatchEvent(e.signalEvent)}))}disconnectedCallback(){this.stx.destroy()}}customElements.define("cq-instant-chart",a)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.I18N){class e extends t.UI.DialogContentTag{close(){const e=document.querySelector("cq-language-dialog");e&&e.closest("cq-dialog,cq-menu").close()}open(e){this.addDefaultMarkup(),super.open(e);const i=this.node.find("cq-languages");i.children(":not(template)").remove();const a=this.node.find("template"),{languages:n}=t.I18N;if(n){for(let e in n){const s=t.UI.makeFromTemplate(a,i);s.find("cq-language-name").text(n[e]),s.find("cq-flag").attr("cq-lang",e),t.UI.stxtap(s[0],r(e))}if(document.body.keystrokeHub){let{tabActiveModals:e}=document.body.keystrokeHub;e[0]&&document.body.keystrokeHub.setKeyControlElement(e[0])}}function r(e){return function(){t.UI.contextsForEach((function(){const{stx:i}=this;i.preferences.language=e,i.changeOccurred("preferences"),t.I18N.localize(i,e),i.draw()}))}}}}e.markup='\n\t\t<h4 class="title">Choose language</h4>\n\t\t<cq-close></cq-close>\n\t\t<cq-languages>\n\t\t\t<template><div keyboard-selectable="true"><cq-flag></cq-flag><cq-language-name></cq-language-name></div></template>\n\t\t</cq-languages>\n\t',t.UI.addComponentDefinition("cq-language-dialog",e)}else console.error("languageDialog component requires first activating i18n feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(e){this.context.setLoader(this)}show(){this.classList.add("stx-show")}hide(){this.classList.remove("stx-show")}}t.UI.addComponentDefinition("cq-loader",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.ChartEngine.Driver)if(t.ChartEngine.Driver.Lookup){class e extends t.UI.ContextTag{constructor(){super(),this.usingEmptyDriver=!1,this.currentFilter=null,this.filterElements=null,this.params={},this.overrideIsActive=!1}acceptText(e,i){var a=this;this.params.driver||(this.context.lookupDriver?this.setDriver(this.context.lookupDriver):(this.setDriver(new t.ChartEngine.Driver.Lookup),this.usingEmptyDriver=!0));var n=this.params.driver.exchanges,r=this.getAttribute("cq-exchanges");r&&(this.params.driver.exchanges=r.split(",")),this.params.driver.acceptText(e,i,null,(function(e){a.params.driver.exchanges=n,a.results(e)}))}attachDriver(e){this.driver=e}close(){this.keyboardNavigation&&(this.highlightItem(this.input[0]),setTimeout(this.highlightItem.bind(this,this.input[0]),250),this.removeFocused(this.filterElements),this.resultList[0].keyboardNavigation=null),this.closest("cq-dialog,cq-menu").close()}forceInput(){var e=this.input[0];this.selectItem({symbol:e.value}),t.blur(e),this.close(),e.value=""}initialize(){this.addDefaultMarkup();var e=this.node;if(this.resultList=e.find("cq-scroll"),this.input=e.find("input"),!this.input.length){var i=document.createElement("input");i.setAttribute("type","hidden"),i.value="",this.input=e.append(i)}t.UI.stxtap(this.input[0],(function(){this.focus()}));var a=this;Array.from(this.input).forEach((function(e){e.addEventListener("paste",(function(e){var t=e.target;setTimeout((function(){a.acceptText(t.value,a.currentFilter)}),0)}))}));var n=this.querySelector("cq-lookup-filters");if(n){var r=n.querySelectorAll("cq-filter");r.forEach((function(e){t.UI.stxtap(e,(function(){r.forEach((function(e){e.classList.remove("true")})),this.classList.add("true");var e=this.querySelector("translate");a.currentFilter=e?e.getAttribute("original"):this.innerHTML,a.acceptText(a.input.val(),a.currentFilter)}))}))}void 0!==e.attr("cq-keystroke-claim")&&this.addClaim(this)}isActive(){return""!==this.input[0].value}keyStroke(e,i,a,n){if(n.ctrl||n.cmd)return!1;if("Meta"==i||"Win"==i)return!1;var r=this.input[0],s=!1,o=document.activeElement===r;if(!o&&(a.altKey||document.activeElement&&("INPUT"==document.activeElement.tagName||"TEXTAREA"==document.activeElement.tagName)))return!1;var l=!1,h=!1;if(t.climbUpDomTree(this,".stxMenuActive").length&&(h=!0),(o||h)&&(l=!0),!l){if(void 0===this.node.attr("cq-keystroke-default"))return;if(!h&&this.uiManager.topMenu())return}if((" "===i||"Spacebar"===i)&&""===r.value)return!1;var c=this,d=this.findFocused(this.filterElements);switch(i){case"Delete":case"Backspace":case"Del":r.value.length&&(window.getSelection().toString()?r.value="":(o||(r.value=r.value.substring(0,r.value.length-1)),r.value.length&&c.acceptText(r.value,c.currentFilter)),s=!0),"Backspace"==i&&(s=!0);break;case"Escape":case"Esc":r.value="",this.close(),t.blur(r),s=!0;break;case"Enter":var u=this.resultList;if(o=u.length&&u[0].focused(),""===r.value&&!o||this.overrideIsActive)break;if(o&&o.selectFC)o.selectFC.apply(o,{});else{var p=r.value;-1==["false","0",null].indexOf(this.getAttribute("cq-uppercase"))&&(p=p.toUpperCase()),this.selectItem({symbol:p})}t.blur(r),this.close(),r.value="",s=!0;break;case"ArrowRight":case"Right":d.length&&(this.resultList[0].keyboardNavigation&&(this.resultList[0].keyboardNavigation=null),this.focusNextItem(this.filterElements),this.clickFocusedItem(this.filterElements,a));break;case"ArrowLeft":case"Left":this.resultList[0].keyboardNavigation&&(this.resultList[0].keyboardNavigation=null),d.length&&(this.focusNextItem(this.filterElements,!0),this.clickFocusedItem(this.filterElements,a));break;case"ArrowDown":case"Down":if(!this.keyboardNavigation)break;if((d=this.findFocused(this.filterElements)).length)this.resultList[0].keyboardNavigation||this.resultList[0].querySelector("cq-item")&&(this.resultList[0].keyboardNavigation=this.keyboardNavigation);else for(let e=0;e<this.filterElements.length;e++){let t=this.filterElements[e];if(t.classList.contains("true")){this.focusItem(t);break}}t.blur(r);break;case"ArrowUp":case"Up":if(!this.keyboardNavigation)break;if(this.resultList[0].keyboardNavigation){var m=this.resultList[0].querySelector("cq-item:first-of-type");m&&m.hasAttribute("cq-focused")&&(m.removeAttribute("cq-focused"),this.resultList[0].keyboardNavigation=null,this.highlightFocusedItem(this.filterElements))}else d.length&&(this.removeFocused(d),this.highlightItem(r),t.focus(r));break;default:1===i.length&&(o||(r.value=r.value+i),c.acceptText(r.value,c.currentFilter),s=!0)}return s?(!this.usingEmptyDriver&&(r.value.length||"Escape"!=i&&"Esc"!=i&&"Enter"!=i&&o)?this.open():this.close(),!o||{allowDefault:!0}):void 0}open(){window.setTimeout(this.highlightItem.bind(this,this.input[0]),250),this.closest("cq-dialog,cq-menu").open()}onKeyboardDeselection(){t.blur(this.input[0]),this.close(),this.keyboardNavigation&&this.keyboardNavigation.highlightPosition(),this.resultList[0].keyboardNavigationWait=!1}onKeyboardSelection(){this.highlightItem(this.input[0]),t.focus(this.input[0]),this.resultList[0].keyboardNavigationWait=!0,this.open()}results(e){function i(e,i){return function(a){t.blur(e.input[0]),e.selectItem(i),e.input[0].value=""}}this.resultList=t.UI.$(this.resultList),this.resultList.empty();for(var a=0;a<e.length;a++){for(var n=e[a],r="",s=0;s<n.display.length;s++)r+="<SPAN>"+n.display[s]+"</SPAN>";var o=document.createElement("cq-item");o.innerHTML=r,this.resultList.append(o),o.selectFC=i(this,n.data),t.UI.stxtap(o,o.selectFC)}var l=this.resultList;l[0]&&l[0].top(),this.highlightFocusedItem(this.filterElements)}selectItem(e,t){this.params.cb&&this.params.cb(e,t)}setCallback(e){this.params.cb=e}setContext(e){this.initialize();const t=this.querySelector("cq-lookup-input input"),{config:i,stx:a}=e;if(!i)return;const{channels:n={}}=i;this.channelSubscribe(n.breakpoint||"channel.breakpoint",(e=>{var i=a.crossSection?a.crossSection.symbolInputType:"Symbol";"break-lg"===e&&(i="Enter "+i),t.setAttribute("placeholder","break-sm"===e?"":i)})),this.filterElements=this.querySelectorAll("cq-lookup-filters cq-filter"),!this.params.cb&&e.changeSymbol&&(this.params.cb=e.changeSymbol)}changeContext(e){this.params.cb&&e.changeSymbol&&(this.params.cb=e.changeSymbol)}setDriver(e){this.params.driver=e}}e.markup='\n\t\t<cq-lookup-input cq-no-close>\n\t\t\t<input type="text" spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="none" name="symbol" placeholder="">\n\t\t\t<cq-lookup-icon></cq-lookup-icon>\n\t\t</cq-lookup-input>\n\t\t<cq-lookup-results>\n\t\t\t<cq-lookup-filters cq-no-close>\n\t\t\t\t<cq-filter class="true">ALL</cq-filter>\n\t\t\t\t<cq-filter>STOCKS</cq-filter>\n\t\t\t\t<cq-filter>FX</cq-filter>\n\t\t\t\t<cq-filter>INDEXES</cq-filter>\n\t\t\t\t<cq-filter>FUNDS</cq-filter>\n\t\t\t\t<cq-filter>FUTURES</cq-filter>\n\t\t\t</cq-lookup-filters>\n\t\t\t<cq-scroll></cq-scroll>\n\t\t</cq-lookup-results>\n\t',t.UI.addComponentDefinition("cq-lookup",e)}else console.error("lookup component requires first activating symbolLookupBase feature.");else console.error("lookup component requires first activating quoteFeed feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends HTMLElement{constructor(){super(),this.activeClassName="stxMenuActive",this.active=!1}get focusElement(){return this.getAttribute("cq-focus")}connectedCallback(){if(!this.attached&&(this.uiManager=t.UI.getUIManager(),this.attached=!0,!this.hasAttribute("readonly"))){var e=this;this.addEventListener("stxtap",(function(t){e.captureTap(t)}),!0),t.UI.stxtap(this,(function(t){e.tap(t)}))}}captureTap(e){var i=Array.from(t.climbUpDomTree(e.target));this.noClose=i.filter((function(e){var t=e.getAttribute("cq-no-close");return null!==t&&!1!==t})).length,this.noClose||(this.noClose=i.filter((function(e){return e.matches("cq-separator,cq-heading")})).length)}close(){this.uiManager.closeMenu(this)}hide(){if(!this.active)return;this.unlift(),this.classList.remove(this.activeClassName),this.active=!1,this.querySelectorAll("input").forEach((function(e){e==document.activeElement&&e.blur()}));const e=this.querySelector("cq-menu-dropdown");if(e&&(e.disablekeyboardNavigation(),t.UI.BaseComponent.prototype.removeFocused(e.querySelectorAll("[cq-focused]"))),document.body.keystrokeHub){let{tabActiveModals:e}=document.body.keystrokeHub;e[0]&&document.body.keystrokeHub.setKeyControlElement(e[0])}const i=this.querySelector("cq-lookup");i&&i.close()}lift(){const e=t.UI.getMyContext(this),i=this.lifts=this.uiManager.findLifts(this);for(let t=0;t<i.length;t++){if(e&&e.config&&e.config.themes){let a=Object.keys(e.config.themes.builtInThemes);i[t].classList.remove(...a);let n=a.find((t=>!0===e.topNode.classList.contains(t)));n&&i[t].classList.add(n)}this.uiManager.lift(i[t])}}onKeyboardDeselection(){this.close()}open(e){for(var t=this.uiManager.activeMenuStack,i=0;i<t.length;i++)if(t[i]===this)return;this.uiManager.openMenu(this,e)}show(e){if(!this.active&&(this.active=!0,this.classList.add(this.activeClassName),this.lift(),this.querySelectorAll("cq-scroll, cq-menu-dropdown").forEach((function(e){e.resize&&e.resize()})),this.keyboardNavigation)){const e=this.querySelector("cq-menu-dropdown");e&&this.keyboardNavigation.setKeyControlElement(e,!0)}}tap(e){e.stopPropagation();var i=this.uiManager;if(this.active)this.noClose||i.closeMenu(this);else{if(e.target.closest("cq-menu-dropdown"))return;for(var a=!1,n=t.climbUpDomTree(this.parentElement,"cq-menu,cq-dialog"),r=0;r<n.length;r++)n[r].active&&(a=!0);if(a||i.closeMenu(),this.open(),this.focusElement&&!t.isMobile){const e=this.querySelector(this.focusElement);e&&e.focus()}}}unlift(){var e=this.lifts;if(e){for(var t=0;t<e.length;t++)this.uiManager.restoreLift(e[t]);this.lifts=null}}}t.UI.addComponentDefinition("cq-menu",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(e){const i=this.getAttribute("cq-name");if(i&&e.config){const a=e.config.getMenu(i);if(this.addDefaultMarkup(this,a&&a.join("")),!this.innerHTML){const e=t.UI.BaseComponent.selfOrParentElement(this,"cq-menu-dropdown-section");e&&(e.style.display="none")}}}}t.UI.addComponentDefinition("cq-menu-container",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{constructor(){super()}connectedCallback(){super.connectedCallback(),this.messageQueue=[],this.displayTime=+this.getAttribute("defaultDisplayTime")||10,this.messagePosition=this.getAttribute("defaultPosition")||"top",this.messageTransition=this.getAttribute("defaultTransition")||"",this.displayTimer=null,this.contextNode=null}setContext(){const{stx:e}=this.context;this.contextNode=this.context.topNode,e.addEventListener("notification",(e=>{e&&e.remove?this.dismissMessage(e.message):this.newMessage(e)})),e.append("resizeChart",(()=>this.handleResize()))}handleResize(){for(let e=0;e<this.messageQueue.length;e++)this.messageQueue[e].isDisplayed&&this.positionElement(this.messageQueue[e])}positionElement(e){const t=this.context.stx.chart.canvas.getBoundingClientRect(),i=this.contextNode.getBoundingClientRect(),a=e.classList.contains("align-bottom");let n=t.top-i.top,r=t.left-i.left;Object.assign(e.style,{top:a?n+t.height+"px":n+"px",left:r+.5*t.width+"px"})}createMessageElement(e){if(!e.message)return;let{message:i,position:a,type:n,transition:r,displayTime:s,priority:o,callback:l}=e;s=parseInt(s),0!==s&&(s=s||this.displayTime),a=a||this.messagePosition,r=r||this.messageTransition,o=o||0,i.length>160&&(i=i.slice(0,160)+"...");let h=document.createElement("div");return h.innerHTML='\n\t\t\t<div class="cq-message-container">\n\t\t\t\t<div class="cq-message-icon"></div>\n\t\t\t\t<div class="cq-message-text"></div>\n\t\t\t</div>',h.querySelector(".cq-message-text").appendChild(t.translatableTextNode(this.context.stx,i)),h.classList.add("cq-toast-message"),h.classList.add("type-"+n),r&&h.classList.add("animate","transition-"+r),"bottom"==a&&h.classList.add("align-bottom"),h.displayTime=s,h.priority=o,h.message=i,t.safeClickTouch(h,function(e,t,i){i.stopPropagation(),t&&t(),this.removeMessageNode(e)}.bind(this,h,l)),this.positionElement(h),h}displayNextMessage(){if(this.messageQueue.length&&!this.contextNode.querySelector(".cq-toast-message")){let e=this.messageQueue[0];this.contextNode.appendChild(e),e.isDisplayed=!0,0!==e.displayTime&&(this.displayTimer=window.setTimeout(this.removeMessageNode.bind(this,e),1e3*e.displayTime))}}removeMessageNode(e){if(e.classList.contains("hide"))return;e.classList.add("hide");let t=e.classList.contains("animate")?500:0;window.setTimeout((()=>{e.remove(),this.messageQueue.splice(this.messageQueue.indexOf(e),1),this.displayTimer&&(this.displayTimer=window.clearTimeout(this.displayTimer)),this.displayNextMessage()}),t)}recallMessageNode(e){e.isDisplayed&&(this.displayTimer&&(this.displayTimer=window.clearTimeout(this.displayTimer)),e.isDisplayed=!1,this.context.topNode.removeChild(e))}newMessage(e){if("string"==typeof e&&this.context.config&&this.context.config.systemMessages&&(e=this.context.config.systemMessages[e]),!e)return;for(const t of this.messageQueue)if(t.message===e.message)return;let t=this.createMessageElement(e);if(t){const e=this.messageQueue.findIndex((e=>e.priority<t.priority));e>=0?(this.messageQueue[e].isDisplayed&&this.recallMessageNode(this.messageQueue[e]),this.messageQueue.splice(e,0,t)):this.messageQueue.push(t),this.displayNextMessage()}}dismissMessage(e){for(const t of this.messageQueue)t.message===e&&this.removeMessageNode(t)}}t.UI.addComponentDefinition("cq-message-toaster",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{constructor(){super(),this.dragMargin=10}connectedCallback(){this.attached||super.connectedCallback()}init(){this.isDragging=!1,this.minHeight=parseInt(this.getAttribute("min-height"),10),isNaN(this.minHeight)&&(this.minHeight=25),this.paletteDock=this.parentElement.parentElement,this.dragStrip=this.querySelector(".drag-strip"),this.resizeStrip=this.querySelector(".resize-strip"),this.dragStrip&&(this.dragStrip.addEventListener("mousedown",this.handleDragResize.bind(this,"dragging")),this.dragStrip.addEventListener("touchstart",this.handleDragResize.bind(this,"dragging"),{passive:!1})),this.resizeStrip&&(this.resizeStrip.addEventListener("mousedown",this.handleDragResize.bind(this,"resizing")),this.resizeStrip.addEventListener("touchstart",this.handleDragResize.bind(this,"resizing"),{passive:!1})),this.paletteDock.paletteSubscribe&&(this.sendMessage=this.paletteDock.paletteSubscribe(this.handleMessage.bind(this)))}get hide(){return this.getAttribute("hide")}set hide(e){this.setAttribute("hide",e)}get docked(){return this.getAttribute("docked")}set docked(e){this.setAttribute("docked",e)}get orientation(){return this.getAttribute("orientation")}set orientation(e){this.setAttribute("orientation",e)}static get observedAttributes(){return["docked","hide"]}attributeChangedCallback(e,t,i){"docked"===e&&("false"===i?(this.setTransform(100,70),this.setHeightByScale(.8)):this.style.transform="")}handleDragResize(e,t){this.paletteDock.hasOwnProperty("dragging")&&this.paletteDock.startDrag(this,e)}handleMessage(e,t){return{id:e,message:t}}detach(e,t){let i=document.body.classList.contains("break-sm");if("true"===this.docked&&!i){this.docked="false",e=e||10,t=t||10;let i={top:0,left:0,width:0,height:0};this.paletteDock.getBounds&&(i=this.paletteDock.getChartBoundsOffset()),e>i.left+i.width-this.clientWidth&&(e=i.left+i.width-this.clientWidth),this.setTransformPosition(e,t),this.paletteDock.setChartDimensions(),this.paletteDock.setVerticalPaletteHeight()}}dock(){"false"===this.docked&&(this.docked="true",this.paletteDock.setChartDimensions(),this.paletteDock.setVerticalPaletteHeight())}getHeight(){return this.clientHeight}getWidth(){return this.clientWidth}checkPosition(){let e={top:0,left:0,width:0,height:0};this.paletteDock.getBounds&&(e=this.paletteDock.getChartBoundsOffset());const t=this.style.transform.split(/\w+\(|\);?/)[1].split(/,\s?/g).map((function(e){return parseInt(e)}));t[0]+=e.left+.5*this.dragStrip.clientWidth,t[1]+=e.top+.5*this.dragStrip.clientHeight,this.setTransformPosition(t[0],t[1])}setTransformPosition(e,t){let i={top:0,left:0,width:0,height:0};this.paletteDock.getBounds&&(i=this.paletteDock.getChartBoundsOffset());let a=Math.floor(t-i.top-.5*this.dragStrip.clientHeight),n=Math.floor(e-i.left-.5*this.dragStrip.clientWidth);a=Math.min(Math.max(a,this.dragMargin),i.height-(this.dragStrip.clientHeight+this.dragMargin)),n=Math.min(Math.max(n,this.dragMargin),i.width-(this.dragStrip.clientWidth+this.dragMargin)),this.setTransform(n,a)}setTransform(e,t){this.style.transform="translate3d("+e+"px,"+t+"px, 0px)"}setHeightToPosition(e){let t={top:0,left:0,width:0,height:0};this.paletteDock.getBounds&&(t=this.paletteDock.getBounds());let i=this.getBoundingClientRect(),a=e-i.top;"vertical"===this.orientation&&a>this.minHeight&&a+(i.top-t.top)<t.height&&this.setHeight(a)}setHeightByScale(e){this.style.height=Math.floor(parseInt(this.style.height,10)*e)+"px"}setHeight(e){this.style.height=e+"px"}}t.UI.addComponentDefinition("cq-palette",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{constructor(){super(),this.dragging=!1,this.paletteRegistry=[],this.mouseOutCk=!1}connectedCallback(){this.attached||super.connectedCallback()}initListeners(){const{stx:e,config:t={}}=this.context,i=this,a=i.handleResize.bind(this);this.setVerticalPaletteHeight(),this.addEventListener("touchend",(e=>this.stopDrag(e))),this.addEventListener("touchmove",(function(e){i.dragging&&e.touches[0]&&(e.stopPropagation(),i.dragging.classList.contains("dragging")&&i.dragging.setTransformPosition(e.touches[0].clientX,e.touches[0].clientY),i.dragging.classList.contains("resizing")&&i.dragging.setHeightToPosition(e.touches[0].clientY))}),{passive:!1}),this.addEventListener("mouseup",(e=>this.stopDrag(e))),this.addEventListener("mouseleave",(function(e){i.context.stx.showCrosshairs(),i.mouseOutCk=setTimeout((()=>i.stopDrag()),500)})),this.addEventListener("mouseenter",(function(e){i.context.stx.undisplayCrosshairs(),i.dragging&&(1!==e.buttons?i.stopDrag():clearTimeout(i.mouseOutCk))})),this.addEventListener("mousemove",(function(e){i.dragging&&(e.stopPropagation(),i.dragging.classList.contains("dragging")&&i.dragging.setTransformPosition(e.clientX,e.clientY),i.dragging.classList.contains("resizing")&&i.dragging.setHeightToPosition(e.clientY))})),this.addEventListener("mousedown",this.stopContext.bind(this)),e.append("resizeChart",(()=>a({resizeChart:!1})));const n=(t.channels||{}).drawing||"channel.drawing";this.channelSubscribe(n,(function(t){i.setChartDimensions(),e.resizeChart()}))}setContext(){this.initListeners()}palettePublish(e,t){for(var i=0;i<this.paletteRegistry.length;i++)this.paletteRegistry[i](e,t)}paletteSubscribe(e){return this.paletteRegistry.push(e),this.palettePublish.bind(this)}getBounds(){return this.parentNode.getBoundingClientRect()}getChartBounds(){let e=this.parentNode.getBoundingClientRect(),t={top:0,left:0,height:e.height,width:e.width};for(var i=this.querySelectorAll('[docked="true"]'),a=0;a<i.length;a++){var n=i[a];"vertical"===n.orientation?(t.width-=n.getWidth(),t.left+=n.getWidth()):"horizontal"===n.orientation&&(t.height-=n.getHeight(),t.top+=n.getHeight())}return t}getChartBoundsOffset(){let e=this.parentNode.getBoundingClientRect(),t=this.getChartBounds();return t.top+=e.top,t.left+=e.left,t}startContext(){this.classList.add("context")}stopContext(){this.classList.remove("context"),this.palettePublish("context","stop")}startDrag(e,t){for(var i=this.querySelectorAll('[docked="false"]'),a=0;a<i.length;a++)i[a].style.zIndex=1;t=t||"dragging",this.dragging=e,this.classList.add("dragging"),this.dragging.classList.add(t),this.dragging.style.zIndex=10}stopDrag(e){e&&e.preventDefault(),this.classList.remove("dragging"),this.dragging=!1,this.resizing=!1,this.node.find('[docked="false"]').each((function(){this.node.removeClass("dragging resizing")}))}startResize(e){this.resizing=e,this.classList.add("dragging"),this.dragging.classList.add("dragging")}handleResize({resizeChart:e=!0}={}){this.palettePublish("dockWillResize"),this.setChartDimensions(),this.setVerticalPaletteHeight();let t=document.body.classList.contains("break-sm");for(var i=this.querySelectorAll('[docked="false"]'),a=0;a<i.length;a++){var n=i[a];t?n.dock():n.checkPosition()}this.palettePublish("dockDidResize"),e&&this.context.stx.resizeChart()}setVerticalPaletteHeight(){this.node.find("[orientation=vertical]").each(function(e,t){"true"===t.getAttribute("docked")&&(t.style.height=this.parentNode.clientHeight+"px")}.bind(this))}setChartDimensions(){const e=this.context.stx.chart.container,{top:t,left:i,width:a,height:n}=this.getChartBounds(),{config:r}=this.context;r&&r.channels?this.channelWrite(r.channels.drawingPalettes||"channel.drawingPalettes",{top:t,left:i,width:a,height:n}):(e.style.width=a+"px",e.style.height=n+"px",e.style.top=t+"px",e.style.left=i+"px");for(var s=this.querySelectorAll('[orientation="horizontal"]'),o=0;o<s.length;o++){var l=s[o];l.style.left=i+1+"px",l.style.width=a+"px"}for(var h=this.querySelectorAll('[orientation="vertical"]'),c=0;c<h.length;c++){var d=h[c];"false"===d.docked?d.style.top=t+"px":d.style.top=0}}dockAllPalettes(){for(var e=this.querySelectorAll('[docked="false"]'),t=0;t<e.length;t++)e[t].dock()}}t.UI.addComponentDefinition("cq-palette-dock",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{pairUp(e){this.undo=e,this.undo.redoButton=this;var i=this;t.UI.stxtap(this,(function(){i.undo.redo()}))}}t.UI.addComponentDefinition("cq-redo",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.BaseComponent{connectedCallback(){if(!this.attached&&(super.connectedCallback(),this.hasAttribute("cq-no-claim")||this.addClaim(this),!this.hasAttribute("cq-no-scroll"))){this.style.overflowY="auto",this.uiManager=t.UI.getUIManager(),this.uiManager.length>0&&(this.uiManager=this.uiManager[0]),this.addEventListener(t.wheelEvent,(function(e){e.stopPropagation()}),{passive:!1});var e=this;t.UI.addResizeListener(this,(function(){e.resize()})),this.resize()}}disconnectedCallback(){t.UI.removeResizeListener(this),super.disconnectedCallback()}focused(){var e=this.node.find("cq-item[cq-focused]");return e.length?e[0]:null}keyStroke(e,i,a){const n=document.querySelectorAll(".stxMenuActive *");if(!this.keyboardNavigation&&!Array.from(n).includes(this))return;if(!t.trulyVisible(this))return!1;if(this.keyboardNavigationWait&&!this.keyboardNavigation)return;const r=this.querySelectorAll("[keyboard-selectable='true'], cq-item:not(.item-hidden), li");if(r.length){if(" "==i||"Spacebar"==i||"Enter"==i){const e=this.findFocused(r);if(!e||!e.length)return;const t=e[0].querySelectorAll("[keyboard-selectable-child='true'][cq-focused]");t.length?this.clickItem(t[0],a):this.clickItem(e[0],a)}else if("ArrowDown"==i||"Down"==i)this.focusNextItem(r);else if("ArrowUp"==i||"Up"==i)this.focusNextItem(r,!0);else if("ArrowRight"==i||"Right"==i){const e=this.findFocused(r);if(!e||!e.length)return;const t=e[0].querySelectorAll("[keyboard-selectable-child='true']");t.length&&this.focusNextItem(t)}else if("ArrowLeft"==i||"Left"==i){const e=this.findFocused(r)[0];if(!e)return;const t=e.querySelectorAll("[keyboard-selectable-child='true']");t.length&&!this.focusNextItem(t,!0)&&(this.removeFocused(t),this.focusItem(e))}return!0}}focusItem(e){this.scrollToElement(e),super.focusItem(e)}onKeyboardDeselection(){this.keyboardNavigation&&null!==this.keyboardNavigation&&this.keyboardNavigation.highlightPosition()}resize(){var e=this.node,i=t.UI.getMyContext(this);if(!e.parents(".sharing").length&&!this.hasAttribute("cq-no-resize")){this.hasAttribute("cq-no-maximize")&&(this.noMaximize=!0);var a,n,r=this.getBoundingClientRect(),s=this.reduceMenuHeight||45;if(i&&i.topNode){var o=i.topNode.getBoundingClientRect();a=o.height,n=o.top}else a=window.innerHeight,n=0;if(a){var l=a-(r.top-n)-s,h=e.parents(".stx-holder,.stx-subholder,.chartContainer");h.length&&h.each((function(){var e=this.getBoundingClientRect().top+t.elementDimensions(this).height;l=Math.min(l,e-r.top-5)}));for(var c=e.nextAll(),d=0;d<c.length;d++){var u=c[d];u&&!t.trulyVisible(u)||(l-=t.elementDimensions(u,{border:1,padding:1,margin:1}).height)}this.noMaximize||e.css({height:l+"px"}),e.css({"max-height":l+"px"}),this.refresh()}}}scrollToElement(e){var t=this.clientHeight,i=this.scrollTop,a=e.offsetTop+e.clientHeight;e.offsetTop>i&&a<t+i||(this.scrollTop=Math.max(a-t,0),this.refresh())}top(){this.scrollTop=0,this.refresh()}refresh(){t.UI.scrollbarStyling&&t.UI.scrollbarStyling.refresh(this)}}t.UI.addComponentDefinition("cq-scroll",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext(){this.addDefaultMarkup(),t.safeClickTouch(this,(()=>this.tap()))}tap(e){const{context:t}=this;if(t.config)this.channelWrite(t.config.channels.dialog,{type:"share",params:{context:t}},t.stx);else{const e=document.querySelector("cq-share-dialog");e&&e.open&&e.open({context:t})}}}i.markup="<div>Share</div>",t.UI.addComponentDefinition("cq-share-button",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.Share){class e extends t.UI.DialogContentTag{open(e){this.addDefaultMarkup(),this.setState("share-create"),super.open(e)}close(){this.setState("share-create"),super.close()}setState(e){if(this.addDefaultMarkup(),this.node.find("div[cq-share-dialog-div]")[0].className=e,document.body.keystrokeHub){let{tabActiveModals:e}=document.body.keystrokeHub;e[0]&&document.body.keystrokeHub.setKeyControlElement(e[0])}}share(){var e=this.context.stx,i=this;i.setState("share-generate");var a=document.querySelector("cq-share-dialog .share-link-div");if(a&&(a.innerHTML=""),t.UI.bypassBindings=!0,t.Share.createImage(e,{hide:[".stx_chart_controls",".stx-btn-panel",".stx_jump_today",".stx-baseline-handle",".ciq-edit",".ciq-close","cq-marker-label"]},(function(n){t.UI.bypassBindings=!1;var r=t.uniqueID(),s="https://share.chartiq.com",o=e.getStartDateOffset(),l={layout:e.exportLayout(),drawings:e.exportDrawings(),xOffset:o,startDate:e.chart.dataSegment[o].Date,endDate:e.chart.dataSegment[e.chart.dataSegment.length-1].Date,id:r,symbol:e.chart.symbol},h=s+"/upload/"+r,c={id:r,image:n,config:l};i.setState("share-upload"),t.Share.uploadImage(n,h,c,(function(e,n){i.setState("share-copy"),null!==e?t.alert("error: "+e):a&&(a.innerHTML=s+n)}))})),document.body.keystrokeHub){let{tabActiveModals:e}=document.body.keystrokeHub;e[0]&&document.body.keystrokeHub.setKeyControlElement(e[0])}}copy(){var e=document.querySelector("cq-share-dialog .share-link-div");if(e){var i=e.innerText,a=document.createElement("input");if(a.type="text",a.value=i,a.contentEditable=!0,a.readOnly=!0,document.body.appendChild(a),a.focus(),a.select(),!t.isIE){var n=document.createRange();n.selectNodeContents(a);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),a.setSelectionRange(0,i.length)}document.execCommand("copy"),document.body.removeChild(a),this.setState("share-copied")}}}e.markup='\n\t\t<h4 class="title">Share Your Chart</h4>\n\t\t<cq-close></cq-close>\n\t\t<div cq-share-dialog-div>\n\t\t\t<cq-separator></cq-separator>\n\t\t\t<cq-share-create class="ciq-btn" stxtap="share()">Create Image</cq-share-create>\n\t\t\t<cq-share-generating>Generating Image</cq-share-generating>\n\t\t\t<cq-share-uploading>Uploading Image</cq-share-uploading>\n\t\t\t<div class="share-link-div"></div>\n\t\t\t<cq-share-copy class="ciq-btn" stxtap="copy()">Copy Link to Clipboard</cq-share-copy>\n\t\t\t<cq-share-copied>Link Copied!</cq-share-copied>\n\t',t.UI.addComponentDefinition("cq-share-dialog",e)}else console.error("shareDialog component requires first activating share feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{set(e,t,i,a,n,r){var s=this;s.context.loader&&s.context.loader.show();var o={multiplier:t,base:i};a&&(o.periodicity={interval:a,period:n||1,timeUnit:r}),s.context.stx.setSpan(o,(function(){s.context.loader&&s.context.loader.hide()}))}setContext(e){const t=e.config&&e.config.getMenu("rangeMenu");this.addDefaultMarkup(this,t&&t.join(""))}}i.markup='\n\t\t<div stxtap="set(1,\'today\');">1D</div>\n\t\t<div stxtap="set(5,\'day\',30,2,\'minute\');">5D</div>\n\t\t<div stxtap="set(1,\'month\',30,8,\'minute\');">1M</div>\n\t\t<div class="hide-sm" stxtap="set(3,\'month\');">3M</div>\n\t\t<div class="hide-sm" stxtap="set(6,\'month\');">6M</div>\n\t\t<div class="hide-sm" stxtap="set(1,\'YTD\');">YTD</div>\n\t\t<div stxtap="set(1,\'year\');">1Y</div>\n\t\t<div class="hide-sm" stxtap="set(5,\'year\',1,1,\'week\');">5Y</div>\n\t\t<div class="hide-sm" stxtap="set(1,\'all\');">All</div>\n\t',t.UI.addComponentDefinition("cq-show-range",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{setContext({config:{channels:e={}}={},stx:t}){const i=this.querySelector("div"),a=this.getAttribute("cq-on")||"sidenavOn",n=this.getAttribute("cq-off")||"sidenavOff",r=e.breakpoint||"channel.breakpoint",s=e.sidenav||"layout.sidenav",o=e.sidenavSize||"channel.sidenavSize",l=e.tfc||"channel.tfc",h=()=>{const e="break-sm"===this.channelRead(r),t=e&&this.channelRead(s)===a;i.classList.remove("sidenav","ciq-toggles"),i.classList.add(e?"sidenav":"ciq-toggles"),i.classList[t?"add":"remove"]("active"),this.channelWrite(o,t?i.offsetWidth:0)};this.channelSubscribe(s,h),this.channelSubscribe(r,h),this.channelSubscribe(l,(e=>{e&&this.channelWrite(s,n)}))}}t.UI.addComponentDefinition("cq-side-nav",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{constructor(){super(),this.callbacks=[]}setContext(e){const{config:t,stx:i}=e;if(!t)return;const{channels:a={}}=t,n=this.resizeMyself.bind(this),{node:r}=this;function s(){setTimeout(n)}this.channelSubscribe(a.breakpoint||"channel.breakpoint",s),this.channelSubscribe(a.tfc||"channel.tfc",(function(e){e?r.attr("cq-active",!0):r.removeAttr("cq-active"),s()}),i)}close(){this.node.removeAttr("cq-active"),this.node.children().each((function(){this.sidePanelActiveClass?this.classList.remove(this.sidePanelActiveClass):this.removeAttribute(this.sidePanelActiveAttribute)}));var e=this;setTimeout((function(){e.resizeMyself()}),0)}nonAnimatedWidth(){var e=0;return Array.from(this.children).forEach((function(i){e+=t.elementDimensions(i).width})),e}open(e){this.close();var t=this.node.find(e.selector);e.className?(t.addClass(e.className),t.each((function(){this.sidePanelActiveClass=e.className}))):(t.attr(e.attribute,"true"),t.each((function(){this.sidePanelActiveAttribute=e.attribute}))),this.node.attr("cq-active","true");var i=this;setTimeout((function(){i.resizeMyself()}),0)}registerCallback(e){this.callbacks.push(e)}resizeMyself(){var e=this.nonAnimatedWidth();this.node.css({width:e+"px"});for(var t=0;t<this.callbacks.length;t++)this.callbacks[t].call(this,e);const{config:i,stx:a}=this.context||{};if(!i)return;const n=(i.channels||{}).sidepanelSize||"channel.sidepanelSize";this.channelWrite(n,e,a)}}t.UI.addComponentDefinition("cq-side-panel",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{disconnectedCallback(){this.context&&t.UI.unobserveProperty("studyLibraryHash",this.context.stx.chart,this.listener),super.disconnectedCallback()}initialize(e){this.addDefaultMarkup(),this.params=e||{},this.alwaysDisplayDialog=this.params.alwaysDisplayDialog||!1,this.excludedStudies=this.params.excludedStudies||[],this.params.template||(this.params.template="template"),this.params.template=this.node.find(this.params.template),this.renderMenu();var i=this,a=this.context.stx;this.listener=function(e){i.renderMenu()},t.UI.observeProperty("studyLibraryHash",a.chart,this.listener)}setContext({config:e}){e&&e.menuStudiesConfig&&this.initialize(Object.assign({},e.menuStudiesConfig))}renderMenu(){if(t.Studies){var e,i=this.context.stx,a=[];for(var n in t.Studies.studyLibrary)!(e=t.Studies.studyLibrary[n])||this.excludedStudies[n]||this.excludedStudies[e.name]||void 0!==e.siqList||(e.name||(e.name=n),a.push(n));a.sort((function(e,i){var a=t.Studies.studyLibrary[e],n=t.Studies.studyLibrary[i];return a.name<n.name?-1:a.name>n.name?1:0}));for(var r=this.node,s=this,o=function(e,i){return function(i){!function(e,i){const{alwaysDisplayDialog:a={},context:{stx:n}}=s;function r(e,t,a){if(!0===e)return d(t,a),!0;if("object"==typeof e)for(let n in e)if(n==i&&e[n])return d(t,a),!0}if(r(s.params.dialogBeforeAddingStudy,{stx:n,name:i},!0))return;const o=a[i]?{interactiveAdd:!1}:null,l=t.Studies.addStudy(n,i,null,null,o);r(s.alwaysDisplayDialog,{sd:l,stx:n})}(i.target,e),s.dispatchEvent(new Event("resize"))}},l=r.find("cq-studies-content");l.length>0&&l[0].firstChild;)l[0].removeChild(l[0].firstChild);for(var h=0;h<a.length;h++){var c=t.UI.makeFromTemplate(this.params.template);e=t.Studies.studyLibrary[a[h]],c.append(t.translatableTextNode(i,e.name)),this.makeTap(c[0],o(a[h],this.context)),r.find("cq-studies-content").append(c)}}function d(e,t){const{context:i}=s;if(i.config)s.channelWrite(i.config.channels.dialog,{type:"study",params:Object.assign({},e,{context:i,addWhenDone:t})},i.stx);else{e.context=s.context;const i=document.querySelector("cq-study-dialog");i.addWhenDone=t,i.open(e)}}}}i.markup="\n\t\t<template>\n\t\t\t<cq-item></cq-item>\n\t\t</template>\n\t\t<cq-studies-content></cq-studies-content>\n\t",t.UI.addComponentDefinition("cq-studies",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{setContext(e){this.addDefaultMarkup(),this.classList.add("ciq-context-menu"),super.setContext(e)}}i.markup='\n\t\t<div stxtap="StudyEdit.edit()">Edit Settings...</div>\n\t\t<div stxtap="StudyEdit.remove()">Delete Study</div>\n\t',t.UI.addComponentDefinition("cq-study-context",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.Studies){class e extends t.UI.DialogContentTag{connectedCallback(){this.attached||(super.connectedCallback(),this.queuedUpdates={})}close(){if(this.addWhenDone){var e=this.helper,i=t.Studies.addStudy(e.stx,e.name);t.isEmpty(this.queuedUpdates)||(e.sd=i,e.updateStudy(this.queuedUpdates),this.queuedUpdates={})}}closeActiveMenu(e){const i=document.body.keystrokeHub,a=this.querySelector("*.stxMenuActive"),n=t.UI.getUIManager();a&&i&&i.tabActiveElement&&i.tabActiveElement.element===e&&(i.tabActiveElement=null,i.highlightHide(),n.closeMenu(a))}disconnectedCallback(){t.UI.unobserveProperty("signal",this.helper),super.disconnectedCallback()}formatDateInput(e){return(e=e.replace(/-/g,"")).search(/^\d{8}$/)||(e=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8)),e}formatTimeInput(e){return(e=e.replace(/:/g,"")).search(/^\d{4,6}$/)||(e=e.substring(0,2)+":"+e.substring(2,4)+(4==e.length?"":":"+e.substring(4,6))),e}hide(){t.isEmpty(this.queuedUpdates)||(this.helper.updateStudy(this.queuedUpdates),this.queuedUpdates={}),this.node.find("cq-menu").each((function(){this.unlift&&this.unlift()})),this.node.find("cq-swatch").each((function(){this.colorPicker&&this.colorPicker.close()}))}makeMenu(e,i,a,n){var r=t.UI.makeFromTemplate(this.menuTemplate),s=r.find("cq-menu-dropdown");for(var o in a){var l=document.createElement("cq-item");l.innerText=a[o],l.setAttribute("stxtap","StudyDialog.setSelectOption('"+n+"')"),s.append(l),l.cqMenuWrapper=s.parents("cq-menu")[0],l.setAttribute("name",e),l.setAttribute("value",o),l.context=this.context}return r.find("cq-selected").text(this.helper.stx.translateIf(i)),r[0]}open(e){this.addDefaultMarkup(),this.selectTemplates(),super.open(e),e.axisSelect=this.getAttribute("cq-study-axis"),""===e.axisSelect&&(e.axisSelect=!0),e.panelSelect=this.getAttribute("cq-study-panel"),""===e.panelSelect&&(e.panelSelect=!0),void 0!==e.addWhenDone&&(this.addWhenDone=e.addWhenDone);var i=this;this.context.stx,t.UI.unobserveProperty("signal",this.helper),this.helper=new t.Studies.DialogHelper(e),t.UI.observeProperty("signal",this.helper,(function(t){i.refreshInputs(),i.refreshOutputs(),i.refreshParameters(e)})),this.node.find(".title").text(this.helper.title),this.refreshInputs(!0),this.refreshOutputs(!0),this.refreshParameters(e,!0)}refreshInputs(e){var i=this.node.find("cq-study-inputs");e&&i.empty();for(var a=0;a<this.helper.inputs.length;a++){var n=this.helper.inputs[a],r=t.UI.makeFromTemplate(this.inputTemplate);this.menuTemplate=r.find("template[cq-menu]"),r.find(".ciq-heading").text(n.heading),r[0].setAttribute("fieldname",n.name);var s,o=null,l=this.helper.attributes[n.name];if("number"==n.type)for(s in(o=document.createElement("input")).setAttribute("type","number"),o.value=n.value,this.setChangeEvent(o,"inputs",n.name),l){var h=l[s];(t.isIE||t.isEdge)&&"step"==s&&Math.floor(h)!=h&&(h="any"),"hidden"!==s&&o.setAttribute(s,h)}else if("text"==n.type||"date"==n.type||"time"==n.type)for(s in(o=document.createElement("input")).setAttribute("type",t.UI.supportedInputType(n.type)),"date"==n.type?o.value=this.formatDateInput(n.value):"time"==n.type?o.value=this.formatTimeInput(n.value):o.value=n.value,this.setChangeEvent(o,"inputs",n.name),l)"hidden"!==s&&o.setAttribute(s,l[s]);else if("select"==n.type)o=this.makeMenu(n.name,n.value,n.options,"inputs"),l&&l.readonly&&o.setAttribute("readonly",l.readonly);else if("checkbox"==n.type)for(s in(o=document.createElement("input")).setAttribute("type","checkbox"),n.value&&(o.checked=!0),this.setChangeEvent(o,"inputs",n.name),l)"hidden"!==s&&o.setAttribute(s,l[s]);l&&l.hidden&&r.hide(),o&&r.find(".stx-data").append(o),r[0].originalOuterHTML=r[0].outerHTML;var c=i.find("[fieldname='"+n.name+"']");c.length?c[0].originalOuterHTML!==r[0].originalOuterHTML&&c[0].replaceWith(r[0]):i.append(r)}}refreshOutputs(e){var i=this.node.find("cq-study-outputs");e&&i.empty();for(var a=0;a<this.helper.outputs.length;a++){var n=this.helper.outputs[a],r=t.UI.makeFromTemplate(this.outputTemplate);r[0].initialize({studyDialog:this,output:n.name}),r.find(".ciq-heading").text(n.heading),r[0].setAttribute("fieldname",n.name);var s=r.find("cq-swatch"),o=n.color;"object"==typeof o&&(o=o.color),r[0].originalOuterHTML=r[0].outerHTML;var l=i.find("[fieldname='"+n.name+"']");l.length?l[0].originalOuterHTML!==r[0].originalOuterHTML&&l[0].replaceWith(r[0]):i.append(r),s[0].setColor(o,!1)}}refreshParameters(e,i){var a=this.node.find("cq-study-parameters");i&&a.empty();for(var n=0;n<this.helper.parameters.length;n++){var r=this.helper.parameters[n],s=t.UI.makeFromTemplate(this.parameterTemplate);if(this.menuTemplate=s.find("template[cq-menu]"),this.menuTemplate.length||!r.options){s.find(".ciq-heading").text(r.heading),s[0].setAttribute("fieldname",r.name);var o,l=s.find("cq-swatch"),h=document.createElement("input"),c=!1,d={};if(r.defaultValue.constructor==Boolean)for(o in h.setAttribute("type","checkbox"),r.value&&(h.checked=!0),this.setChangeEvent(h,"parameters",r.name+"Enabled"),l.remove(),d=this.helper.attributes[r.name+"Enabled"])"hidden"!==o&&h.setAttribute(o,d[o]);else if(r.defaultValue.constructor==String){var u=r.name;for(o in r.defaultColor?(s[0].initialize({studyDialog:this,parameter:r.name+"Color",params:e}),c=!0,u+="Value"):l.remove(),r.options?h=this.makeMenu(u,r.value,r.options,"parameters"):h.value=r.value,d=this.helper.attributes[u])"hidden"!==o&&h.setAttribute(o,d[o])}else{if(r.defaultValue.constructor!=Number)continue;for(o in h.setAttribute("type","number"),h.value=r.value,this.setChangeEvent(h,"parameters",r.name+"Value"),s[0].initialize({studyDialog:this,parameter:r.name+"Color",params:e}),c=!0,d=this.helper.attributes[r.name+"Value"]){var p=d[o];(t.isIE||t.isEdge)&&"step"==o&&Math.floor(p)!=p&&(p="any"),"hidden"!==o&&h.setAttribute(o,p)}}d&&d.hidden&&s.not("hr").hide(),s.find(".stx-data").append(h),s[0].originalOuterHTML=s[0].outerHTML;var m=a.find("[fieldname='"+r.name+"']");m.length?m[0].originalOuterHTML!==s[0].originalOuterHTML&&m[0].replaceWith(s[0]):a.append(s),c&&l[0].setColor(r.color,!1)}else s.remove()}}setChangeEvent(e,t,i){var a=this;e.addEventListener("change",(function(){var e={};e[t]={},e[t][i]=this.value,"checkbox"!=this.type&&"radio"!=this.type||(e[t][i]=this.checked),a.updateStudy(e)}))}setContext(e){this.context=e,e.advertiseAs(this,"StudyDialog")}setSelectOption(e,i){var a=t.UI.$(e.node),n=a.attr("name"),r=a.attr("value"),s=a[0].cqMenuWrapper;s.fieldValue=r;var o=s.querySelector("cq-selected");o&&(o.innerText=this.helper.stx.translateIf(r)),i||(i="inputs");var l={};l[i]={},l[i][n]=r,this.closeActiveMenu(a[0]),this.updateStudy(l)}updateStudy(e){this.node.find(":invalid").length||(this.addWhenDone?t.extend(this.queuedUpdates,e):this.helper.libraryEntry.deferUpdate?(t.extend(this.queuedUpdates,{inputs:e.inputs}),this.helper.updateStudy({outputs:e.outputs,parameters:e.parameters})):this.helper.updateStudy(e))}selectTemplates(){this.inputTemplate||(this.inputTemplate=this.querySelector("template[cq-study-input]"),this.outputTemplate=this.querySelector("template[cq-study-output]"),this.parameterTemplate=this.querySelector("template[cq-study-parameters]"))}}e.markup='\n\t\t<h4 class="title">Study here</h4>\n\t\t<cq-scroll cq-no-maximize>\n\t\t\t<cq-study-inputs>\n\t\t\t\t<template cq-study-input>\n\t\t\t\t\t<cq-study-input>\n\t\t\t\t\t\t<div class="ciq-heading"></div>\n\t\t\t\t\t\t<div class="stx-data">\n\t\t\t\t\t\t\t<template cq-menu>\n\t\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t\t<cq-selected></cq-selected>\n\t\t\t\t\t\t\t\t\t<cq-menu-dropdown cq-lift></cq-menu-dropdown>\n\t\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</cq-study-input>\n\t\t\t\t\t<hr>\n\t\t\t\t</template>\n\t\t\t</cq-study-inputs>\n\t\t\t<cq-study-outputs>\n\t\t\t\t<template cq-study-output>\n\t\t\t\t\t<cq-study-output>\n\t\t\t\t\t\t<div class="ciq-heading"></div>\n\t\t\t\t\t\t<cq-swatch cq-overrides="auto"></cq-swatch>\n\t\t\t\t\t</cq-study-output>\n\t\t\t\t\t<hr>\n\t\t\t\t</template>\n\t\t\t</cq-study-outputs>\n\t\t\t<cq-study-parameters>\n\t\t\t\t<template cq-study-parameters>\n\t\t\t\t\t<cq-study-parameter>\n\t\t\t\t\t\t<div class="ciq-heading"></div>\n\t\t\t\t\t\t<div class="stx-data"><cq-swatch cq-overrides="auto"></cq-swatch>\n\t\t\t\t\t\t\t<template cq-menu>\n\t\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t\t<cq-selected></cq-selected>\n\t\t\t\t\t\t\t\t\t<cq-menu-dropdown cq-lift></cq-menu-dropdown>\n\t\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</cq-study-parameter>\n\t\t\t\t\t<hr>\n\t\t\t\t</template>\n\t\t\t</cq-study-parameters>\n\t\t</cq-scroll>\n\t\t<div class="ciq-dialog-cntrls">\n\t\t\t<div class="ciq-btn" stxtap="close()">Done</div>\n\t\t</div>\n\t',t.UI.addComponentDefinition("cq-study-dialog",e)}else console.error("studyDialog component requires first activating studies feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{}t.UI.addComponentDefinition("cq-study-input",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.Studies){class e extends t.UI.ModalTag{connectedCallback(){this.attached||(super.connectedCallback(),void 0!==this.node.attr("cq-clone-to-panels")&&this.closest("cq-context").classList.add("stx-panel-legend"),this.hasAttribute("cq-no-claim")||this.addClaim(this),this.context&&this.context.config&&this.context.config.channels&&this.channelWrite(this.context.config.channels.keyboardNavigation||"channel.keyboardNavigation",{action:"registerElements"}))}disconnectedCallback(){this.context&&this.context.config&&this.context.config.channels&&this.channelWrite(this.context.config.channels.keyboardNavigation||"channel.keyboardNavigation",{action:"registerElements"})}begin(){if(!this.init){var e=this.context.stx,i=this.node;this.template=i.find("template[cq-study-legend]"),this.template.length||(this.template=i.find("template")),this.contentKeys=i.attr("cq-content-keys")||"cq-label",this.eventListeners.push(e.addEventListener("layout",this.renderLegend.bind(this))),this.hasAttribute("cq-marker")&&t.UI.stxtap(this,(function(){this.setActiveState()})),this.renderLegend(),this.init=!0}}setActiveState(e){let t=this.classList.contains("ciq-active");e=void 0===e?!t:e;const i=document.body.keystrokeHub;e?(this.classList.add("ciq-active"),i&&this.keyboardNavigation&&i.addActiveModal(this)):(this.classList.remove("ciq-active"),i&&i.removeActiveModal(this))}keyStroke(e,t,i){if(!this.keyboardNavigation)return;const a=this.querySelectorAll("[keyboard-selectable='true'], cq-item:not(.item-hidden), cq-comparison-item");if(" "==t||"Spacebar"==t||"Enter"==t){const e=this.findFocused(a);if(!e||!e.length)return;const t=e[0].querySelector("[keyboard-selectable-child='true'][cq-focused]");if(t)this.clickItem(t,i);else{const t=e[0].querySelector("cq-swatch");t&&this.clickItem(t,i)}}else if("ArrowDown"==t||"Down"==t)this.focusNextItem(a);else if("ArrowUp"==t||"Up"==t)this.focusNextItem(a,!0);else if("ArrowRight"==t||"Right"==t){const e=this.findFocused(a);if(!e||!e.length)return;const t=e[0].querySelectorAll("[keyboard-selectable-child='true']");t.length&&this.focusNextItem(t)}else if("ArrowLeft"==t||"Left"==t){const e=this.findFocused(a)[0];if(!e)return;const t=e.querySelectorAll("[keyboard-selectable-child='true']");t.length&&!this.focusNextItem(t,!0)&&(this.removeFocused(t),this.focusItem(e))}else if("Tab"===t||"Esc"===t||"Escape"===t){this.removeFocused(a),this.setActiveState(!1);const e=document.body.keystrokeHub;e&&e.tabOrderSelect()}}launchColorPicker(){this.setActiveState(!0)}renderLegend(){var e=this.context.stx;function i(e,i){return function(a){a.stopPropagation(),setTimeout((function(){i.permanent||t.Studies.removeStudy(e.context.stx,i),e.node[0].hasAttribute("cq-marker")&&e.context.stx.modalEnd(),e.renderLegend()}),0)}}function a(t,i){return function(a){var n=e.layout.studies[i];if(!n.permanent&&n.editFunction){a.stopPropagation(),t.uiManager.closeMenu();var r=t.context.getAdvertised("StudyEdit"),s={stx:e,sd:n,inputs:n.inputs,outputs:n.outputs,parameters:n.parameters};r.editPanel(s)}}}this.template.nextAll().remove();var n=this.hasAttribute("cq-overlays-only"),r=this.hasAttribute("cq-panel-only"),s=this.hasAttribute("cq-custom-removal-only"),o=this.node.attr("cq-marker-label"),l=null,h=this.node.parents(".stx-holder")[0];if(h&&(l=h.panel.name),t.Studies)for(var c in e.layout.studies){var d=e.layout.studies[c];if(!d.customLegend&&(!s||d.study.customRemoval)&&(!r||d.panel==l)&&(!n||d.overlay||d.underlay)){var u=t.UI.makeFromTemplate(this.template,!0);u.find("cq-label").html(d.inputs.display);var p=u.find(".ciq-close");d.permanent?p.hide():(p[0].setAttribute("keyboard-selectable-child","true"),t.UI.stxtap(p[0],i(this,d)));var m=u.find(".ciq-edit")[0];if(m&&!d.editFunction)m.style.visibility="hidden";else if(d.editFunction){let e=m||u[0];t.UI.stxtap(e,a(this,c))}}}if(void 0!==o&&!this.node.find("cq-marker-label").length){var g=document.createElement("cq-marker-label");g.innerText=o,this.insertBefore(g,this.firstChild)}this.displayLegendTitle()}displayLegendTitle(){var e;e=this.contentKeys,Array.from(this.querySelectorAll(e)).some((function(e){for(;e;){if("template"===e.nodeName.toLowerCase())return!1;e=e.parentElement}return!0}))?(this.node.css("display",""),this.node.parents("div.stx-panel-legend").css("width","")):(this.node.css("display","none"),this.node.parents("div.stx-panel-legend").css("width","0px")),t.I18N&&t.I18N.localized&&t.I18N.translateUI(null,this.node[0])}setContext(e){if(!this.init){var t=this;void 0!==t.node.attr("cq-clone-to-panels")&&(t.spawnPanelLegend(),e.stx.append("stackPanel",(function(e,i){t.spawnPanelLegend()}))),this.begin()}}changeContext(e){this.eventListeners.forEach((e=>{this.context.stx.removeEventListener(e)})),this.eventListeners=[e.stx.addEventListener("layout",this.renderLegend.bind(this))],this.context=e,this.renderLegend()}spawnPanelLegend(){var e=this.context.stx;function i(e){return function(t){e.setActiveState()}}for(var a in e.panels)if(a!=e.chart.panel.name){var n=e.panels[a].subholder.querySelector(".stx-panel-legend");if(n){var r=n.querySelector(this.nodeName);if(!r){(r=this.cloneNode(!0)).setAttribute("cq-marker-label",this.getAttribute("cq-clone-to-panels")),r.removeAttribute("cq-clone-to-panels"),r.removeAttribute("cq-overlays-only"),r.removeAttribute("cq-marker"),t.UI.stxtap(r,i(r));var s=r.querySelector("cq-marker-label");s&&s.remove();var o=document.createElement("cq-study-legend-fixed-wrapper");o.appendChild(r),n.appendChild(o),r.begin()}}}}}t.UI.addComponentDefinition("cq-study-legend",e)}else console.error("studyLegend component requires first activating studies feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.BaseComponent{initialize(e){this.params=e}setColor(e){if(this.params){var t={outputs:{}};t.outputs[this.params.output]={},t.outputs[this.params.output].color=e,this.params.studyDialog.updateStudy(t)}}}t.UI.addComponentDefinition("cq-study-output",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{initialize(e){this.params=e}setColor(e){if(this.params){var t={parameters:{}};t.parameters[this.params.parameter]=e,this.params.studyDialog.updateStudy(t)}}}t.UI.addComponentDefinition("cq-study-parameter",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends HTMLElement{constructor(){super(),this.defaultColor=null}connectedCallback(){if(!this.attached)if(this.attached=!0,this.getAttribute("cq-static"))this.style.cursor="default";else{var e=this;t.UI.stxtap(this,(function(t){e.launchColorPicker(),t.stopPropagation()}))}}getDefaultColor(){if(this.defaultColor)return this.defaultColor;var e=t.UI.getMyContext(this);return e?e.stx.defaultColor:"transparent"}setColor(e,i,a){var n=t.getBackgroundColor(this.parentNode),r=t.chooseForegroundColor(n),s=t.hsl(n);"auto"==e&&(a=!0),e||(e="transparent");var o=e;"auto"==e?o=this.getDefaultColor():0===e.indexOf("rgba(")&&(o=(o.split(",").slice(0,3).join(",")+")").replace(/rgba/,"rgb"));var l=t.hsl(o),h=t.isTransparent(e);this.style.background=this.value=o,a||Math.abs(s[2]-l[2])<.2||h?(this.style.border="solid "+r+" 1px",h&&(this.style.background="linear-gradient(to bottom right, transparent, transparent 49%, "+r+" 50%, transparent 51%, transparent)")):this.style.border="",a&&(n=t.chooseForegroundColor(o),this.style.background="linear-gradient(to bottom right, "+o+", "+o+" 49%, "+n+" 50%, "+n+")"),!1!==i&&t.UI.containerExecute(this,"setColor",e,this)}launchColorPicker(){t.UI.containerExecute(this,"launchColorPicker");var e=document.querySelector("cq-color-picker");if(e){e.callback=function(e){return function(t){e.setColor(t,null)}}(this);var i=this.getAttribute("cq-overrides");i&&(i=i.split(",")),e.display({node:this,context:t.UI.getMyContext(this),overrides:i}),this.colorPicker=e}}}t.UI.addComponentDefinition("cq-swatch",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.ThemeHelper){class e extends t.UI.DialogContentTag{applyChanges(){(this.context.topNode.getCharts?this.context.topNode.getCharts():[this.context.stx]).forEach((e=>{e&&(this.helper.update(e),e.changeOccurred("theme"))}))}close(){this.helper.settings=this.revert,this.applyChanges(),super.close()}open(e){this.addDefaultMarkup(),super.open(e);var i=e.themeName;this.initiatingMenu=e.initiatingMenu,this.context=e.context,this.helper=new t.ThemeHelper({stx:this.context.stx}),this.revert=t.clone(this.helper.settings);var a=this;function n(e,t,i,n){var r=a.node.find('cq-theme-piece[cq-piece="'+e+'"]');r.length&&(r[0].piece={obj:t,field:i},"color"==n&&r.find("cq-swatch")[0].setColor(t[i],!1))}var r=this.helper.settings;n("cu",r.chartTypes["Candle/Bar"].up,"color","color"),n("cd",r.chartTypes["Candle/Bar"].down,"color","color"),n("wu",r.chartTypes["Candle/Bar"].up,"wick","color"),n("wd",r.chartTypes["Candle/Bar"].down,"wick","color"),n("bu",r.chartTypes["Candle/Bar"].up,"border","color"),n("bd",r.chartTypes["Candle/Bar"].down,"border","color"),n("lc",r.chartTypes.Line,"color","color"),n("mb",r.chartTypes.Mountain,"basecolor","color"),n("mc",r.chartTypes.Mountain,"color","color"),n("bg",r.chart.Background,"color","color"),n("gl",r.chart["Grid Lines"],"color","color"),n("dd",r.chart["Grid Dividers"],"color","color"),n("at",r.chart["Axis Text"],"color","color"),i||(i="My Theme"),this.node.find("cq-action input").val(i)}save(){var e=this.node.find("cq-action input").val(),i={settings:t.clone(this.helper.settings),name:e,builtIn:null};t.UI.contextsForEach((function(){this.stx.updateListeners("theme")}));var a=this;document.querySelectorAll("cq-themes").forEach((function(e){i.builtIn=e.currentLoadedBuiltIn,e.addCustom(i,a.initiatingMenu)})),super.close()}setValue(e,t,i){e[t]=i,this.applyChanges()}}e.markup='\n\t\t<h4 class="title">Create Custom Theme</h4>\n\t\t<cq-close></cq-close>\n\t\t<cq-scroll cq-no-maximize>\n\t\t\t<cq-section>\n\t\t\t\t<cq-placeholder>Candle Color\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="cu"><cq-swatch cq-overrides="Hollow"></cq-swatch></cq-theme-piece>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="cd"><cq-swatch cq-overrides="Hollow"></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Candle Wick\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="wu"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="wd"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Candle Border\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="bu"><cq-swatch cq-overrides="No Border"></cq-swatch></cq-theme-piece>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="bd"><cq-swatch cq-overrides="No Border"></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-separator></cq-separator>\n\t\t\t\t<cq-placeholder>Line/Bar Chart\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="lc"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-separator></cq-separator>\n\t\t\t\t<cq-placeholder>Mountain Base\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="mb"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Mountain Peak\n\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t<cq-theme-piece cq-piece="mc"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t</cq-section>\n\t\t\t<cq-section>\n\t\t\t\t<cq-placeholder>Background\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="bg"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Grid Lines\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="gl"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Date Dividers\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="dd"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Axis Text\n\t\t\t\t\t<cq-theme-piece-container>\n\t\t\t\t\t\t<cq-theme-piece cq-piece="at"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t</cq-theme-piece-container>\n\t\t\t\t</cq-placeholder>\n\t\t\t</cq-section>\n\t\t\t<cq-action>\n\t\t\t\t<input><div stxtap="save()" class="ciq-btn">Save</div>\n\t\t\t</cq-action>\n\t\t</cq-scroll>\n\t',t.UI.addComponentDefinition("cq-theme-dialog",e)}else console.error("themeDialog component requires first activating theme feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.BaseComponent{setBoolean(e){t.UI.containerExecute(this,"setValue",this.piece.obj,this.piece.field,e)}setColor(e){"Hollow"!=e&&"No Border"!=e||(e="transparent",this.node.find("cq-swatch")[0].setColor("transparent",!1)),t.UI.containerExecute(this,"setValue",this.piece.obj,this.piece.field,e)}}t.UI.addComponentDefinition("cq-theme-piece",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{connectedCallback(){this.attached||super.connectedCallback()}setContext({config:e}){if(!e)return;const{chartId:t,themes:{builtInThemes:i,defaultTheme:a}}=e,n=e.themes.nameValueStore||e.nameValueStore;this.initialize({builtInThemes:i,defaultTheme:a,nameValueStore:n,id:t})}addCustom(e,t){this.params.customThemes[e.name]=e,t===this&&(this.currentTheme=e.name),this.configureMenu(),this.persist()}configureMenu(){function e(e,t){return function(i){e.loadBuiltIn(t),e.params.callback&&e.params.callback({theme:e.currentTheme}),e.persist("current")}}function i(e,t){return function(i){e.loadCustom(t),e.params.callback&&e.params.callback({theme:e.currentTheme}),e.persist("current")}}var a,n;this.builtInMenu.children(":not(template)").remove(),this.customMenu.children(":not(template)").remove();var r=this.params.builtInThemes;for(var s in r)a=r[s],(n=t.UI.makeFromTemplate(this.builtInTemplate)).text(a),this.makeTap(n[0],e(this,s)),this.builtInMenu.append(n);if(t.I18N&&t.I18N.localized&&t.I18N.translateUI(null,this.builtInMenu[0]),this.customMenu.length&&this.customTemplate.length){var o=this.params.customThemes;for(var l in o)a=l,(n=t.UI.makeFromTemplate(this.customTemplate)).find("cq-label").text(a),this.makeTap(n.find("cq-item")[0],i(this,l)),n[0].close=function(e,t){return function(){e.removeTheme(t)}}(this,l),this.customMenu.append(n)}}initialize(e){if(this.initialized)return;this.initialized=!0,this.addDefaultMarkup(),this.selectTemplates(this),this.params={},e&&(this.params=e),t.ensureDefaults(this.params,{customThemes:{},builtInThemes:{},nameValueStore:t.NameValueStore&&new t.NameValueStore}),this.params.id&&(this.id="themes_"+this.params.id);let i=this,{nameValueStore:a}=this.params;a?("function"==typeof a&&(a=this.params.nameValueStore=new a),a.get("CIQ.Themes.prototype.custom",((e,t)=>{!e&&t&&(i.params.customThemes=t),a.get(i.id+"CIQ.Themes.prototype.current",((e,t)=>{!e&&t&&t.theme?i.loadTheme(t.theme):i.loadTheme(i.params.defaultTheme),i.configureMenu()}))}))):this.loadTheme(i.params.defaultTheme)}loadBuiltIn(e){this.currentLoadedBuiltIn&&this.removeThemeClass(this.currentLoadedBuiltIn),this.addThemeClass(e),this.currentLoadedBuiltIn=this.currentTheme=e,this.reinitializeChart()}loadCustom(e){this.currentLoadedBuiltIn&&this.removeThemeClass(this.currentLoadedBuiltIn);var t=this.params.customThemes[e];t.builtIn&&this.addThemeClass(t.builtIn),this.currentLoadedBuiltIn=t.builtIn,this.currentTheme=t.name,this.reinitializeChart(t)}loadTheme(e){this.params.customThemes[e]?this.loadCustom(e):this.params.builtInThemes[e]?this.loadBuiltIn(e):this.loadBuiltIn(this.params.defaultTheme)}get contextContainers(){const e=this.context.topNode;return[e].concat(Array.from(e.querySelectorAll("cq-context")))}addThemeClass(e){this.contextContainers.forEach((t=>t.classList.add(e)))}removeThemeClass(e){this.contextContainers.forEach((t=>t.classList.remove(e)))}newTheme(){const{context:e}=this;e.config?this.channelWrite(e.config.channels.dialog,{type:"theme",params:{context:e,initiatingMenu:this}},e.stx):document.querySelector("cq-theme-dialog").open({context:this.context,initiatingMenu:this})}persist(e){this.params.nameValueStore&&(e&&"current"!=e||this.params.nameValueStore.set(this.id+"CIQ.Themes.prototype.current",{theme:this.currentTheme}),e&&"custom"!=e||this.params.nameValueStore.set("CIQ.Themes.prototype.custom",this.params.customThemes))}removeTheme(e){var t=!1;document.querySelectorAll("cq-themes").forEach((function(i){delete i.params.customThemes[e],i.configureMenu(),t||(i.persist(),t=!0)}))}selectTemplates(){this.builtInMenu||(this.builtInMenu=this.node.find("cq-themes-builtin"),this.builtInTemplate=this.builtInMenu.find("template"),this.customMenu=this.node.find("cq-themes-custom"),this.customTemplate=this.customMenu.find("template"))}reinitializeChart(e){(this.context.topNode.getCharts?this.context.topNode.getCharts():[this.context.stx]).forEach((t=>{t&&t.setThemeSettings&&t.setThemeSettings(e?e.settings:null)}))}}i.markup='\n\t\t<cq-themes-builtin cq-no-close>\n\t\t\t<template>\n\t\t\t\t<cq-item></cq-item>\n\t\t\t</template>\n\t\t</cq-themes-builtin>\n\t\t<cq-themes-custom cq-no-close>\n\t\t\t<template>\n\t\t\t\t<cq-theme-custom>\n\t\t\t\t\t<cq-item>\n\t\t\t\t\t\t<cq-label></cq-label>\n\t\t\t\t\t\t<cq-close keyboard-selectable-child="true"></cq-close>\n\t\t\t\t\t</cq-item>\n\t\t\t\t</cq-theme-custom>\n\t\t\t</template>\n\t\t</cq-themes-custom>\n\t\t<cq-item stxtap="newTheme()"><cq-plus></cq-plus>New Theme</cq-item>\n\t',t.UI.addComponentDefinition("cq-themes",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.timeZoneMap){class e extends t.UI.DialogContentTag{open(e){this.addDefaultMarkup(),super.open(e);var i=this.node,a=this;this.context=e.context;var n=this.context.stx;function r(e){return function(i){a.close();var r=t.timeZoneMap[e];t.ChartEngine.defaultDisplayTimeZone=r,n.setTimeZone(n.dataZone,r),n.chart.symbol&&n.draw()}}var s=i.find("ul, .ciq-ul"),o=i.find(".ciq-btn");for(var l in this.template||(this.template=s.find("li.timezoneTemplate")[0].cloneNode(!0)),s.empty(),t.timeZoneMap){var h=l,c=n.translateIf(h),d=this.template.cloneNode(!0);d.style.display="block",d.innerHTML=c,t.safeClickTouch(d,r(h)),s.append(d)}var u=i.find(".currentUserTimeZone");if(n.displayZone){var p=n.displayZone;for(var m in t.timeZoneMap)t.timeZoneMap[m]===n.displayZone&&(p=m);u.text(n.translateIf("Current Timezone is")+" "+n.translateIf(p)),o.show()}else u.text(n.translateIf("Your timezone is your current location")),o.hide()}removeTimezone(){t.ChartEngine.defaultDisplayTimeZone=null;var e=this.context.stx;e.displayZone=null,e.setTimeZone(),e.displayInitialized&&e.draw(),this.close()}}e.markup='\n\t\t<h4 class="title">Choose Timezone</h4>\n\t\t<cq-close></cq-close>\n\n\t\t<p>To set your timezone use the location button below, or scroll through the following list...</p>\n\t\t<p class="currentUserTimeZone"></p>\n\t\t<div class="detect">\n\t\t\t<div class="ciq-btn" stxtap="removeTimezone()">Use My Current Location</div>\n\t\t</div>\n\t\t<div class="timezoneDialogWrapper" style="max-height:360px; overflow: hidden;">\n\t\t\t<cq-scroll cq-no-maximize class="ciq-ul" style="height:360px;">\n\t\t\t\t<li class="timezoneTemplate" style="display:none;cursor:pointer;"></li>\n\t\t\t</cq-scroll>\n\t\t</div>\n\t\t<div class="instruct">(Scroll for more options)</div>\n\t',t.UI.addComponentDefinition("cq-timezone-dialog",e)}else console.error("timezoneDialog component requires first activating timezone feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{constructor(){super(),this.params={member:null,obj:null,action:"class",value:"active",toggles:[],classes:{},callbacks:[]}}disconnectedCallback(){this.disconnectObservable(),super.disconnectedCallback()}disconnectObservable(){const{params:{member:e,obj:i},listener:a}=this;e&&i&&a&&t.UI.unobserveProperty(e,i,a)}begin(){const e=this;this.params.member&&(this.listener=function(t){e.updateFromBinding(e.params)},t.UI.observeProperty(e.params.member,e.params.obj,this.listener)),this.tapInitialized||(t.UI.stxtap(this,(function(){var t=e.params.toggles,i=e.params.obj;if(t.length>1){for(var a=0;a<t.length;a++){var n=t[a];if(e.currentValue==n){a<t.length-1?e.set(t[a+1]):e.set(t[0]);break}}a==t.length&&e.set(t[0])}else e.currentValue?e.set(!1):e.set(!0);const{stx:r}=this.context;r.draw(),i===r.layout&&r.changeOccurred("layout"),i===r.preferences&&r.changeOccurred("preferences")})),this.tapInitialized=!0)}registerCallback(e,t){!1!==t&&(t=!0),this.params.callbacks.push(e),t&&e.call(this,this.currentValue)}set(e){if(this.isInfoToggle)return this.parentElement.set(e);if(this.params.member)this.params.obj[this.params.member]=e;else{this.currentValue=e;for(var t=0;t<this.params.callbacks.length;t++)this.params.callbacks[t].call(this,this.currentValue)}this.updateClass()}setContext({config:e}){this.currentValue|=!1,this.params.obj=this.context.stx.layout;var t=this.node.attr("cq-member");if("headsUp"==t&&this.wrapInInfoToggle(),e&&e.channels&&e.channels[t]&&(t=e.channels[t]),t&&-1!==t.indexOf(".")){var i=t.split(".");this.params.obj=this.context.stx[i[0]],void 0===this.params.obj&&(this.context.stx[i[0]]=this.params.obj={}),t=i[1]}t&&(this.params.member=t);var a=this.node.attr("cq-action");a&&(this.params.action=a);var n=this.node.attr("cq-value");n&&(this.params.value=n);var r=this.node.attr("cq-toggles");r&&(this.params.toggles=r.split(","));for(var s=0;s<this.params.toggles.length;s++){var o=(r=this.params.toggles)[s];"null"===o?r[s]=null:"true"===o||"false"===o?r[s]="true"===o:isNaN(Number(o))||(r[s]=Number(o))}var l=this.node.attr("cq-toggle-classes");if(l){var h=l.split(/, |,/);this.params.removeClasses=l.split(/, | |,/).filter((e=>e)),this.params.classes=this.params.toggles.reduce((function(e,t,i){return e[t]=h[i].split(/ /),e}),{})}if(t&&void 0===this.params.obj[t]){const e=!(!r||!r.length)&&r[r.length-1];this.params.obj[t]=e}this.begin()}changeContext(e){this.disconnectObservable(),this.context=e,this.setContext(e)}updateFromBinding(e){if(this.currentValue=this.isInfoToggle?this.parentElement.getCurrentValue(e):e.obj[e.member],this.params.callbacks.length)for(var t=0;t<this.params.callbacks.length;t++)this.params.callbacks[t].call(this,this.currentValue);else"class"==this.params.action&&(this.currentValue?this.node.addClass(this.params.value):this.node.removeClass(this.params.value));this.updateClass(),"crosshair"==e.member&&!1===this.currentValue&&this.context.stx.doDisplayCrosshairs()}updateClass(){const{removeClasses:e,classes:t}=this.params;if(e&&void 0!==this.currentValue&&(this.classList.remove(...e),t[this.currentValue][0])){let e=t[this.currentValue];this.classList.add(...e)}}wrapInInfoToggle(){if(!this.closest("cq-info-toggle, cq-info-toggle-dropdown")){var e=document.createElement("cq-info-toggle");this.parentNode.replaceChild(e,this),e.appendChild(this)}}}t.UI.addComponentDefinition("cq-toggle",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;if(t.Drawing){class e extends t.UI.ContextTag{connectedCallback(){this.attached||(super.connectedCallback(),this.params={toolSelection:this.node.find("*[cq-current-tool]"),lineSelection:this.node.find("*[cq-line-style]"),fontSizeSelection:this.node.find("*[cq-font-size]"),fontFamilySelection:this.node.find("*[cq-font-family]"),fontStyleToggle:this.node.find("cq-annotation-italic"),fontWeightToggle:this.node.find("cq-annotation-bold"),axisLabelToggle:this.node.find("cq-axis-label .ciq-checkbox"),fillColor:this.node.find("cq-fill-color").not("cq-cvp-controller"),lineColor:this.node.find("cq-line-color").not("cq-cvp-controller"),cvpControllers:this.node.find("cq-cvp-controller")},this.params.cvpControllers.prop("toolbar",this),this.noToolSelectedText="")}clearDrawings(){this.context.stx.clearDrawings(null,!1)}crosshairs(e){var i=t.UI.$(e.node),a=this.context.stx;this.params.toolSelection.html(i.html()),a.changeVectorType(null),a.layout.crosshair=!0,a.doDisplayCrosshairs(),a.findHighlights(!1,!0),a.changeOccurred("layout"),a.draw(),a.updateChartAccessories(),this.node.find("*[cq-section]").removeClass("ciq-active"),this.emit()}defaultElements(e){var t=[];for(var i in e)"color"==i?t.push("cq-line-color"):"fillColor"==i?t.push("cq-fill-color"):"pattern"==i||"lineWidth"==i?t.push("cq-line-style"):"axisLabel"==i?t.push("cq-axis-label"):"font"==i?t.push("cq-annotation"):"parameters"==i&&t.push("cq-clickable");return t}dirty(e){this.node.find("*[cq-toolbar-dirty]")[!1===e?"removeClass":"addClass"]("ciq-active")}emit(){var e=new Event("change",{bubbles:!0,cancelable:!0});this.dirty(),this.dispatchEvent(e)}getFillColor(e){var i=t.UI.$(e.node),a=this.context.stx.currentVectorParameters.fillColor;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var n=t.getBackgroundColor(this.parentNode);if(a&&Math.abs(t.hsl(n)[2]-t.hsl(a)[2])<.2){var r=t.chooseForegroundColor(n);i.css({border:"solid "+r+" 1px"})}else i.css({border:""})}getLineColor(e){var i=t.UI.$(e.node),a=this.context.stx.currentVectorParameters.currentColor;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var n=t.getBackgroundColor(this.parentNode);if(!a||Math.abs(t.hsl(n)[2]-t.hsl(a)[2])<.2){var r=t.chooseForegroundColor(n);i.css({border:"solid "+r+" 1px"}),a||i.css({background:"linear-gradient(to bottom right, "+r+", "+r+" 49%, "+n+" 50%, "+n+")"})}else i.css({border:""})}noTool(){var e=this.context.stx;e.changeVectorType(""),e.layout.crosshair&&(e.layout.crosshair=!1,e.changeOccurred("layout"),e.doDisplayCrosshairs()),e.preferences.magnet&&this.toggleMagnet(this),this.params.toolSelection.text(this.noToolSelectedText),this.params.toolSelection.attr("cq-current-tool",""),this.node.find("*[cq-section]").removeClass("ciq-active"),this.emit()}pickFillColor(e){var i=t.UI.$(e.node),a=document.querySelector("cq-color-picker");if(a){var n=this;a.callback=function(e){n.context.stx.currentVectorParameters.fillColor=e,n.getFillColor({node:i}),n.emit()},a.display({node:i,context:this.context})}else console.log("DrawingToolbar.prototype.pickFillColor: no ColorPicker available")}pickLineColor(e){var i=t.UI.$(e.node),a=document.querySelector("cq-color-picker");if(a){var n=this;a.callback=function(e){n.context.stx.currentVectorParameters.currentColor=e,n.getLineColor({node:i}),n.emit()};var r=i.attr("cq-overrides");r&&(r=r.split(",")),a.display({node:i,context:this.context,overrides:r})}else console.log("DrawingToolbar.prototype.pickLineColor: no ColorPicker available")}restoreDefaultConfig(e,i){var a=this.context.stx;t.Drawing.restoreDefaultConfig(a,a.currentVectorParameters.vectorType,i),this.node.find("*[cq-toolbar-action='restore']").removeClass("ciq-active"),this.sync(),this.dirty(!1)}saveConfig(){var e=this.context.stx;t.Drawing.saveConfig(e,e.currentVectorParameters.vectorType),this.node.find("*[cq-toolbar-action='restore']").addClass("ciq-active"),this.sync(),this.dirty(!1)}setFibs(e,t){var i=this.context.stx.currentVectorParameters.fibonacci;if(i){for(var a=0;a<i.fibs.length;a++)i.fibs[a].parameters.lineWidth=e,i.fibs[a].parameters.pattern=t;i.timezone.parameters.lineWidth=e,i.timezone.parameters.pattern=t}}setFontFamily(e,t){var i=this.context.stx;i.currentVectorParameters.annotation&&(i.currentVectorParameters.annotation.font.family="Default"==t?null:t),this.params.fontFamilySelection.text(t),this.emit()}setFontSize(e,t){var i=this.context.stx;i.currentVectorParameters.annotation&&(i.currentVectorParameters.annotation.font.size=t),this.params.fontSizeSelection.text(t),this.emit()}setContext(e){this.noToolSelectedText=this.params.toolSelection.text(),this.sync(),this.dirty(!1);var t=this;this.eventListeners.push(e.stx.addEventListener("theme",(function(e){var i=t.node.find("*[cq-toolbar-dirty]").hasClass("ciq-active");t.sync(),i||t.dirty(!1)})))}setLine(e,t,i){var a=this.context.stx;a.currentVectorParameters.lineWidth=t,a.currentVectorParameters.pattern=i,this.setFibs(t,i),this.currentLineSelectedClass&&this.params.lineSelection.removeClass(this.currentLineSelectedClass),this.currentLineSelectedClass="ciq-"+i+"-"+parseInt(t,10),"none"==i?this.currentLineSelectedClass=null:this.params.lineSelection.addClass(this.currentLineSelectedClass),this.emit()}sync(e){var i=this.context.stx;e?i.currentVectorParameters=t.extend(i.currentVectorParameters||{},e):e=i.currentVectorParameters;var a=this.params;this.setLine(null,e.lineWidth,e.pattern);var n=i.canvasStyle("stx_annotation"),r=e.annotation&&e.annotation.font,s=r&&r.size||n.fontSize;this.setFontSize(null,s);var o=r&&r.family||n.fontFamily;this.setFontFamily(null,o);var l=r&&r.style||n.fontStyle;a.fontStyleToggle["italic"===l?"addClass":"removeClass"]("ciq-active");var h=r&&r.weight||n.fontWeight;a.fontWeightToggle["bold"===h||h>=700?"addClass":"removeClass"]("ciq-active"),a.axisLabelToggle[e.axisLabel?"addClass":"removeClass"]("ciq-active"),this.getFillColor({node:a.fillColor}),this.getLineColor({node:a.lineColor}),a.cvpControllers.each((function(){this.sync(e)}))}toggleAxisLabel(e){var i=this.context.stx,a=t.UI.$(e.node);!0===i.currentVectorParameters.axisLabel?(i.currentVectorParameters.axisLabel=!1,a.removeClass("ciq-active")):(i.currentVectorParameters.axisLabel=!0,a.addClass("ciq-active")),this.emit()}toggleFontStyle(e,i){var a=this.context.stx,n=t.UI.$(e.node);"italic"==i?"italic"==a.currentVectorParameters.annotation.font.style?(a.currentVectorParameters.annotation.font.style=null,n.removeClass("ciq-active")):(a.currentVectorParameters.annotation.font.style="italic",n.addClass("ciq-active")):"bold"==i&&("bold"==a.currentVectorParameters.annotation.font.weight?(a.currentVectorParameters.annotation.font.weight=null,n.removeClass("ciq-active")):(a.currentVectorParameters.annotation.font.weight="bold",n.addClass("ciq-active"))),this.emit()}toggleMagnet(e){var i=t.UI.$(e.node),a=this.context.stx;a.preferences.magnet?(i.removeClass("active"),a.preferences.magnet=!1):(i.addClass("active"),a.preferences.magnet=!0),t.clearCanvas(a.chart.tempCanvas,a)}tool(e,i){var a=t.UI.$(e.node);if(i||(i=a.getAttribute("cq-tool")),i){var n=this.context.stx;n.clearMeasure(),n.changeVectorType(i),this.params.toolSelection.html(a.html()),this.params.toolSelection.attr("cq-current-tool",i),this.node.find("*[cq-section]").removeClass("ciq-active");var r=!this.node.find("*[cq-toolbar-dirty]").hasClass("ciq-active"),s=t.Drawing.getDrawingParameters(n,i);if(s){this.node.find("*[cq-toolbar-action='save']").addClass("ciq-active");var o=n.preferences.drawings;o&&o[i]&&(this.node.find("*[cq-toolbar-action='restore']").addClass("ciq-active"),r=!0),"fibtimezone"===i&&delete s.parameters;var l=this.params.lineSelection.parent().find(".ciq-none");l.hide();for(var h=this.defaultElements(s),c=0;c<h.length;c++)this.node.find(h[c]).addClass("ciq-active"),"cq-fill-color"==h[c]&&l.show();for(h=t.Drawing[i].prototype.$controls,c=0;h&&c<h.length;c++)this.node.find(h[c]).addClass("ciq-active")}this.sync(),r&&this.dirty(!1)}}}t.UI.addComponentDefinition("cq-toolbar",e)}else console.error("toolbar component requires first activating drawing feature.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{constructor(){super(),this.redoButton=null,this.undostack=[],this.redostack=[],this.contexts=[]}connectedCallback(){if(!this.attached){super.connectedCallback();var e=this;t.UI.stxtap(this,(function(){e.undo()}))}}clear(e){this.setButtonStyle()}handleEvent(e,t,i){this.undostack.push({context:e,drawings:i.before}),this.redostack=[],this.setButtonStyle()}keyStroke(e,t,i,a){return"z"==t&&(a.ctrl||a.cmd)?(a.shift?this.redo():this.undo(),!0):"y"==t&&(a.ctrl||a.cmd)?(this.redo(),!0):void 0}manageContext(e){this.addClaim(this);var t=this;this.eventListeners.push(e.stx.addEventListener("undoStamp",(function(i){t.handleEvent(e,"undoStamp",i)}))),this.contexts.push(e)}redo(){var e=this.redostack.pop();if(e){var t=e.context;this.undostack.push({context:t,drawings:t.stx.exportDrawings()});var i=e.drawings;t.stx.abortDrawings(!0),t.stx.importDrawings(i),t.stx.changeOccurred("vector"),t.stx.draw()}this.setButtonStyle()}setButtonStyle(){this.undostack.length?this.node.attr("cq-active","true"):this.node.removeAttr("cq-active"),this.redoButton&&(this.redostack.length?this.redoButton.setAttribute("cq-active","true"):this.redoButton.removeAttribute("cq-active"))}setContext(e){this.manageContext(this.context);var t=this;this.addInjection("append","initializeChart",(function(){t.undostack=[],t.redostack=[],t.clear()}))}undo(){for(var e=!1,t=0;t<this.contexts.length;t++)this.contexts[t].stx.activeDrawing&&(this.contexts[t].stx.undo(),e=!0);if(!e){var i=this.undostack.pop();if(i){var a=i.context;this.redostack.push({context:a,drawings:a.stx.exportDrawings()});var n=i.drawings;a.stx.abortDrawings(!0),a.stx.importDrawings(n),a.stx.changeOccurred("vector"),a.stx.draw()}this.setButtonStyle()}}}t.UI.addComponentDefinition("cq-undo",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{open(e){this.addDefaultMarkup(),this.querySelector("input").value="",super.open(e)}save(){const e=this.node.find("input").val();if(!e)return;let i=!1;this.updateContext();const a=this.context.stx.exportLayout();document.querySelectorAll("cq-views").forEach((function(n){const r=n.params.viewObj;let s;for(var o=0;o<r.views.length&&(s=r.views[o],e!=t.first(s));o++);o==r.views.length&&(s={},s[e]={},r.views.push(s)),s[e]=a,delete s[e].candleWidth,n.renderMenu(),i||(i=!0,n.params.nameValueStore&&n.params.nameValueStore.set("stx-views",r.views))})),this.close()}updateContext(){let e=this.context.topNode.querySelector("cq-context-wrapper.active cq-context");if(!e){const t=this.context.topNode.parentNode.closest("cq-context");t&&(e=t.querySelector("cq-context-wrapper.active cq-context"))}e&&(this.context=e.CIQ.UI.context)}}i.markup='\n\t\t<h4>Save View</h4>\n\t\t<div stxtap="close()" class="ciq-icon ciq-close"></div>\n\t\t<div style="text-align:center;margin-top:10px;">\n\t\t<i>Enter name of view:</i>\n\t\t<p>\n\t\t\t<input spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="none" maxlength="40" placeholder="Name"><br>\n\t\t</p>\n\t\t<span class="ciq-btn" stxtap="save()">Save</span>\n\t\t</div>\n\t',t.UI.addComponentDefinition("cq-view-dialog",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{initialize(e){this.params=Object.assign({},e);const{config:i}=this.context;let{nameValueStore:a}=i;t.ensureDefaults(this.params,{viewObj:{views:[]},nameValueStore:a&&new a||t.NameValueStore&&new t.NameValueStore,template:"template[cq-view]"}),this.params.template=this.querySelector(this.params.template),this.params.template.remove();var n=this;this.params.nameValueStore&&this.params.nameValueStore.get("stx-views",(function(e,t){!e&&t&&(n.params.viewObj.views=t),n.params.cb&&n.params.cb.call(n),n.renderMenu()}))}connectedCallback(){super.connectedCallback(),this.addDefaultMarkup()}setContext({config:e}){e&&e.menuViewConfig&&this.initialize(e.menuViewConfig)}renderMenu(){var e=this.node,i=this;function a(e){return function(t){t.stopPropagation();var a=!1;document.querySelectorAll("cq-views").forEach((function(t){t.params.viewObj.views.splice(e,1),a||(t.params.nameValueStore&&t.params.nameValueStore.set("stx-views",i.params.viewObj.views),a=!0),t.renderMenu()}))}}function n(e){return function(a){a.stopPropagation(),i.uiManager.closeMenu(),i.context.loader&&i.context.loader.show();var n=t.first(i.params.viewObj.views[e]);setTimeout((function(){var t=i.context.stx;t.importLayout(i.params.viewObj.views[e][n],{managePeriodicity:!0,preserveTicksAndCandleWidth:!0,cb:function(){t.changeOccurred("layout"),i.context.loader&&i.context.loader.hide()}})}),10)}}e.find("cq-views-content cq-item").remove();for(var r=0;r<this.params.viewObj.views.length;r++){var s=t.first(i.params.viewObj.views[r]);if("recent"!=s){var o=t.UI.makeFromTemplate(this.params.template),l=o.find("cq-label"),h=o.find("div");l.length&&(l.addClass("view-name-"+s),l.text(s)),h.length&&t.UI.stxtap(h[0],a(r)),this.makeTap(o[0],n(r)),e.find("cq-views-content").append(o)}}var c=e.find("cq-view-save");if(c){const{context:e}=this,i=this;this.makeTap(c.find("cq-item")[0],(function(a){e.config?i.channelWrite(e.config.channels.dialog,{type:"view",params:{context:e}}):document.querySelector("cq-view-dialog").open({context:e});const n=t.UI.getUIManager(),r=e.topNode.querySelector(".ciq-views");n&&r&&n.closeMenu(r)}))}this.params.renderCB&&this.params.renderCB(e)}}i.markup='\n\t\t<cq-heading>Saved Views</cq-heading>\n\t\t<cq-views-content>\n\t\t\t<template cq-view>\n\t\t\t\t<cq-item>\n\t\t\t\t\t<cq-label></cq-label>\n\t\t\t\t\t<div class="ciq-icon ciq-close" keyboard-selectable-child="true"></div>\n\t\t\t\t</cq-item>\n\t\t\t</template>\n\t\t</cq-views-content>\n\t\t<cq-separator cq-partial></cq-separator>\n\t\t<cq-view-save>\n\t\t\t<cq-item><cq-plus></cq-plus>Save View</cq-item>\n\t\t</cq-view-save>\n\t',t.UI.addComponentDefinition("cq-views",i)}),(e=>{const t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.DialogContentTag{open(e){this.addDefaultMarkup(),super.open(e),e&&(this.opener=e.caller);const{currentVectorParameters:t}=this.context.stx;t.volumeprofile||(t.volumeprofile={});const i=t.volumeProfile,a=this.querySelector('div[fieldname="Price Buckets"] input');a.value=i.priceBuckets,a.addEventListener("change",(({target:e})=>{const t=parseInt(e.value);if(isNaN(t))return;i.priceBuckets=t;const a=new Event("change",{bubbles:!0,cancelable:!0});this.opener.dispatchEvent(a)}))}}i.markup='\n\t<h4 class="title">Volume Profile Settings</h4>\n\t<cq-scroll cq-no-maximize>\n\t\t<div class="ciq-drawing-dialog-setting" fieldname="Price Buckets">\n\t\t\t<div class="ciq-heading">Price Buckets</div>\n\t\t\t<div class="stx-data">\n\t\t\t\t<input type="number" min="1" step="1"\n\t\t\t</div>\n\t\t</div\n\t</cq-scroll>\n\t<div class="ciq-dialog-cntrls">\n\t\t<div class="ciq-btn" stxtap="close()">Done</div>\n\t</div>\n',t.UI.addComponentDefinition("cq-volumeprofile-settings-dialog",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;class i extends t.UI.ContextTag{static get observedAttributes(){return["corrective","decoration","impulse","show-lines"]}get corrective(){return this.getAttribute("corrective")}set corrective(e){e?this.setAttribute("corrective",e.join(" ")):this.removeAttribute("corrective")}get decoration(){return this.getAttribute("decoration")}set decoration(e){e?this.setAttribute("decoration",e):this.removeAttribute("decoration")}get impulse(){return this.getAttribute("impulse")}set impulse(e){e?this.setAttribute("impulse",e.join(" ")):this.removeAttribute("impulse")}get showLines(){return this.hasAttribute("show-lines")}set showLines(e){e?(this.setAttribute("show-lines",""),this.lineToggleCheckbox.classList.add("ciq-active")):this.removeAttribute("show-lines")}get template(){return this.getAttribute("template")}set template(e){return this.setAttribute("template",e)}static templates(){return{"Grand Supercycle":{impulse:["I","II","III","IV","V"],corrective:["a","b","c"],decoration:"enclosed"},Supercycle:{impulse:["I","II","III","IV","V"],corrective:["a","b","c"],decoration:"parentheses"},Cycle:{impulse:["I","II","III","IV","V"],corrective:["a","b","c"],decoration:null},Primary:{impulse:["1","2","3","4","5"],corrective:["A","B","C"],decoration:"enclosed"},Intermediate:{impulse:["1","2","3","4","5"],corrective:["A","B","C"],decoration:"parentheses"},Minor:{impulse:["1","2","3","4","5"],corrective:["A","B","C"],decoration:null},Minute:{impulse:["i","ii","iii","iv","v"],corrective:["a","b","c"],decoration:"enclosed"},Minuette:{impulse:["i","ii","iii","iv","v"],corrective:["a","b","c"],decoration:"parentheses"},"Sub-Minuette":{impulse:["i","ii","iii","iv","v"],corrective:["a","b","c"],decoration:null}}}attributeChangedCallback(e,t,i){if(!this.stx)return;let a,n=this.stx.currentVectorParameters,r=n.waveParameters||{};switch(e){case"template":let e=this.templates[i];e&&(a={decoration:e.decoration});break;case"impulse":a={impulse:i?i.split(" "):i};break;case"corrective":a={corrective:i?i.split(" "):i};break;case"decoration":a={decoration:i};break;case"show-lines":a={showLines:this.showLines}}n.waveParameters=Object.assign(r,a)}constructor(){super(),this.templates=i.templates()}connectedCallback(){if(!this.attached){this.template="Grand Supercycle";var e=document.querySelector('template[cq-wave-parameters], template[cq-wave-parameters="true"]');t.UI.makeFromTemplate(e,this),this.templateHeader=this.querySelector(".ciq-active-template"),this.impulseHeader=this.querySelector(".ciq-active-impulse"),this.correctiveHeader=this.querySelector(".ciq-active-corrective"),this.decorators={blank:this.querySelector(".ciq-btn:nth-of-type(1n)"),parentheses:this.querySelector(".ciq-btn:nth-of-type(2n)"),enclosed:this.querySelector(".ciq-btn:nth-of-type(3n)")},this.lineToggleCheckbox=this.querySelector("span.ciq-checkbox"),super.connectedCallback()}}disconnectedCallback(){super.disconnectedCallback()}activate(){this.stx&&(this.cvp=this.stx.currentVectorParameters,this.update(null,"template",this.template),this.showLines=!0)}setContext(){this.stx=this.context.stx}toggleLines(){let e=this.lineToggleCheckbox,t=e.classList.contains("ciq-active");this.showLines=!t,t?e.classList.remove("ciq-active"):e.classList.add("ciq-active")}update(e,t,i){if("template"===t){this.template=i,this.templateHeader.innerHTML=i;let e=this.templates[this.template];if(e){this.impulse=e.impulse,this.impulseHeader.innerHTML=e.impulse.join(" "),this.corrective=e.corrective,this.correctiveHeader.innerHTML=e.corrective.join(" ");for(let e in this.decorators)this.decorators[e].classList.remove("ciq-active");let t=e.decoration||"blank";this.decorators[t].classList.add("ciq-active"),this.decoration=t}else this.cvp.waveParameters={corrective:this.corrective.split(" "),impulse:this.impulse.split(" "),decoration:this.decoration}}else{if("decoration"===t){for(let e in this.decorators)this.decorators[e].classList.remove("ciq-active");e.node.classList.add("ciq-active"),this.decoration=e.node.getAttribute("decoration")}else if("showLines"===t);else{let e=i?i.split(","):i;this[t]=e,this[t+"Header"].innerHTML=e?e.join(" "):"- - -"}this.templateHeader.innerHTML=this.template="Custom"}}}t.UI.addComponentDefinition("cq-wave-parameters",i)}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;const i=t.UI._webcomponents.list["cq-dialog"];if(i){class e extends i.classDefinition{constructor(){super(),this.params={colorMap:[["#ffffff","#e1e1e1","#cccccc","#b7b7b7","#a0a0a5","#898989","#707070","#626262","#555555","#464646","#363636","#262626","#1d1d1d","#000000"],["#f4977c","#f7ac84","#fbc58d","#fff69e","#c4de9e","#85c99e","#7fcdc7","#75d0f4","#81a8d7","#8594c8","#8983bc","#a187bd","#bb8dbe","#f29bc1"],["#ef6c53","#f38d5b","#f8ae63","#fff371","#acd277","#43b77a","#2ebbb3","#00bff0","#4a8dc8","#5875b7","#625da6","#8561a7","#a665a7","#ee6fa9"],["#ea1d2c","#ee652e","#f4932f","#fff126","#8ec648","#00a553","#00a99c","#00afed","#0073ba","#0056a4","#323390","#66308f","#912a8e","#e9088c"],["#9b0b16","#9e4117","#a16118","#c6b920","#5a852d","#007238","#00746a","#0077a1","#004c7f","#003570","#1d1762","#441261","#62095f","#9c005d"],["#770001","#792e03","#7b4906","#817a0b","#41661e","#005827","#005951","#003b5c","#001d40","#000e35","#04002c","#19002b","#2c002a","#580028"]]}}connectedCallback(){this.attached||(super.connectedCallback(),this.build())}build(){this.addDefaultMarkup();var e=this.node,t=e.attr("cq-colors");if(t){t=t.split(",");var i=Math.ceil(Math.sqrt(t.length));this.params.colorMap=[];for(var a=0,n=[],r=0;r<t.length;r++)a>=i&&(a=0,this.params.colorMap.push(n),n=[]),n.push(t[r]),a++;this.params.colorMap.push(n)}this.cqOverrides=e.find("cq-overrides"),this.template=this.cqOverrides.find("template"),this.initialize()}display(e){var i=t.UI.$(e.node)[0],a=i.getBoundingClientRect();this.node.css({top:"0px",left:"0px"});var n=this.parentNode.getBoundingClientRect(),r=t.elementDimensions(i,{border:!0}),s=a.left-n.left+r.width+10,o=a.top-n.top+15;this.cqOverrides.children(":not(template)").remove();var l=e.context||this.context||t.UI.getMyContext(this),h=function(e,t){return function(){e.pickColor(t)}},c=0;if(e.overrides&&this.template.length){for(var d,u=0;u<e.overrides.length;u++){var p=e.overrides[u];d=t.UI.makeFromTemplate(this.template,!0),l.stx&&(p=l.stx.translateIf(p)),d.text(p),t.UI.stxtap(d[0],h(this,p))}c=t.elementDimensions(d[0]).height}var m=t.elementDimensions(this,{border:!0}),g=t.guaranteedSize(document).width,f=m.width||r.width*this.colors.children()[0].children.length;s+f>g&&(s=g-f-20);var v=t.guaranteedSize(document).height,y=m.height||r.height*this.colors.children().length+c;o+y>v&&(o=v-y-30),this.node.css({left:s+"px",top:o+"px"}),this.classList.contains("stxMenuActive")?l.e&&l.e.stopPropagation():this.open({context:l}),this.keyboardNavigation&&this.keyboardNavigation.highlightAlign()}initialize(){function e(e,t){return function(){e.pickColor(t)}}this.colors=this.node.find("cq-colors"),this.colors.length||(this.colors=this.node),this.colors.empty();for(var i=0;i<this.params.colorMap.length;i++){var a=this.params.colorMap[i],n=document.createElement("ul");this.colors[0].appendChild(n);for(var r=0;r<a.length;r++){var s=document.createElement("li");n.appendChild(s);var o=document.createElement("span");s.appendChild(o),o.style.backgroundColor=a[r],t.UI.stxtap(o,e(this,a[r]))}}this.rowLength=this.params.colorMap[0].length||0}keyStroke(e,t,i){if(e&&e.tabActiveModals[0]!==this)return;const a=this.querySelectorAll("cq-colors span, .ciq-btn");if("Escape"===t||"Esc"===t);else if("ArrowRight"===t)this.focusNextItem(a);else if("ArrowLeft"===t)this.focusNextItem(a,!0);else if("ArrowDown"===t)this.focusNextRow(a);else if("ArrowUp"===t)this.focusNextRow(a,{reverse:!0});else if("Enter"==t){const e=this.findFocused(a);this.clickItem(e[0],i)}}focusNextRow(e,i){const{reverse:a}=i||{},n=this.findFocused(e);let r=-1;if(n.length)for(r=0;r<e.length&&e[r]!==n[0];r++);if(a){do{if(r-=this.rowLength,r<0)break}while(!t.trulyVisible(e[r]))}else do{if(r+=this.rowLength,r>=e.length){r=e.length-1;break}}while(!t.trulyVisible(e[r]));return r>-1&&r<e.length&&e[r]!==n[0]&&(this.removeFocused(e),this.focusItem(e[r]),!0)}pickColor(e){this.callback&&this.callback(e),this.close()}resize(){}setColors(e){this.params.colorMap=e,this.initialize()}}e.markup='\n\t\t<cq-colors></cq-colors>\n\t\t<cq-overrides>\n\t\t\t<template>\n\t\t\t\t<div class="ciq-btn"></div>\n\t\t\t</template>\n\t\t</cq-overrides>\n\t',t.UI.addComponentDefinition("cq-color-picker",e)}else console.error("colorPicker component requires first activating dialog component.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;const i=t.UI._webcomponents.list["cq-palette"];if(i)if(t.Drawing){class e extends i.classDefinition{constructor(){super(),this.mode="",this.callbacks=[],this.toolSettings={favList:[],toolGroup:""},this.toolShortcuts={}}setupKeyboardActivation(e){if(void 0!==this.getAttribute("cq-keystroke-claim")){let e=this.context.topNode.querySelectorAll("*[cq-tool][cq-tool-shortcut]");for(let t=0;t<e.length;t++){let i=e[t].getAttribute("cq-tool-shortcut");if(/^[A-Za-z]{1}$/g.test(i)){this.toolShortcuts[i.toUpperCase()]={toolName:e[t].getAttribute("cq-tool"),node:e[t]};let a=e[t].querySelector("label"),n=document.createElement("span");n.classList.add("shortcut"),n.innerHTML=" (Alt+"+i.toUpperCase()+")",a.appendChild(n)}else console.warn("cq-tool-shortcut attribute must be a single letter: "+i+" ignored.")}this.addClaim(this)}}keyStroke(e,t,i,a){if(!i.altKey||i.ctrlKey||i.shiftKey){if("Escape"===i.key){let e=this.context.topNode.querySelector('*[cq-tool="notool"]');e&&this.noTool({node:e})}}else{let e=String.fromCharCode(i.which).toUpperCase(),t=this.toolShortcuts[e];if(t){const e=this.channels?this.channels.drawing:"channel.drawing";this.channelWrite(e,!0),this.tool({node:t.node},t.toolName)}}}handleMessage(e,t){switch(e){case"changeToolSettings":this.activateTool(t.activator,t.toolName);break;case"toggleDrawingPalette":this.togglePalette();break;case"hideDrawingPalette":case"dockWillResize":this.hidePalette();break;case"dockDidResize":this.resetScroller();break;case"context":"stop"===t&&(this.toolContextMenu.style.display="none")}}loadToolSettings(){if(this.store){let e=this;this.store.get("CIQ.DrawingToolSettings",(function(t,i){!t&&i&&i.favList&&(e.toolSettings=Object.assign(e.toolSettings,i))}))}}storeToolSettings(){this.store&&this.store.set("CIQ.DrawingToolSettings",JSON.stringify(this.toolSettings))}setContext(e){const{config:i,stx:a}=e;if(i){const{channels:e={},nameValueStore:a}=i;this.store=a&&new a||t.NameValueStore&&new t.NameValueStore,this.addDefaultMarkup(this,this.getMarkup(i)),this.channels={drawing:e.drawing||"channel.drawing"}}this.init(),this.loadToolSettings(),this.params={toolGroupSelection:this.node.find("*[cq-tool-group-selection]")},this.setFavorites(),this.setMode("grid"),this.setEvenOdd(),this.toolContextMenu=this.createContextMenu(),this.addEventListener("contextmenu",function(e){if(e.preventDefault(),null!==e.target.getAttribute("cq-tool-group")){let t=e.target.getBoundingClientRect(),i=this.getBoundingClientRect();this.showToolContextMenu(e.target.getAttribute("cq-tool"),t.top+t.height-i.top,t.left-i.left)}}.bind(this)),this.setupKeyboardActivation(),this.pairUndoRedo(),this.toolSettings.toolGroup&&this.setToolGroup({node:this.querySelector('cq-item[cq-tool-group="'+this.toolSettings.toolGroup+'"]')},this.toolSettings.toolGroup),this.channels&&this.channelSubscribe(this.channels.drawing||"channel.drawing",(e=>{e?(this.resetScroller(),a.currentVectorParameters.vectorType||a.changeVectorType(this.priorVectorType||"")):(this.priorVectorType=a.currentVectorParameters.vectorType,a.changeVectorType(null))}))}pairUndoRedo(){const e=this.qs("cq-redo",this),t=this.qs("cq-undo",this);e.pairUp(t)}changeView(e,t){this.setMode(t);for(var i=0;i<this.callbacks.length;i++)this.callbacks[i].call(this,this.mode)}createContextMenu(){let e=document.createElement("div");e.className="menu-item",e.innerHTML="Add/Remove Favorite",e.addEventListener("mousedown",function(e){e.stopPropagation(),1===e.which&&(this.toggleFavorite(e.currentTarget.parentElement.getAttribute("context-tool")),this.paletteDock.stopContext(this))}.bind(this));let t=document.createElement("div");return t.appendChild(e),t.className="tool-context-menu",this.node.append(t),t}registerCallback(e){this.callbacks.push(e)}resetScroller(){const e=this.querySelector(".tool-group cq-scroll");if(!e)return!1;this.setEvenOdd(),e.refresh()}setActiveButton(e){if(this.node.find(".ciq-tool.active").removeClass("active"),"noTool()"!==e.getAttribute("stxtap")){var i=e.querySelector("label");i&&i.innerHTML}e.classList.add("active"),t.trulyVisible(document.querySelector(".ciq-mobile-palette-toggle"))||this.togglePalette()}setMode(e){e="list"===e?e:"grid",this.mode=e,this.classList.remove("list"),this.classList.remove("grid"),this.classList.add(this.mode),this.resetScroller(),this.paletteDock.handleResize({resizeChart:!0})}setEvenOdd(e){for(var i=this.querySelectorAll(".tool-group cq-scroll cq-item"),a=!1,n=0;n<i.length;n++)t.trulyVisible(i[n])&&(i[n].classList[a?"add":"remove"]("odd"),a=!a)}setFavorites(){for(var e=this.querySelectorAll(".tool-group [cq-tool]"),t=0;t<e.length;t++){var i=e[t];if(null===i.querySelector(".fav-marker")){let e=document.createElement("div");e.className="fav-marker",e.addEventListener("click",this.handleFavoriteClick.bind(this)),e.addEventListener("touchstart",this.handleFavoriteClick.bind(this),{capture:!0,passive:!1}),i.appendChild(e)}i.getAttribute("cq-tool-group").indexOf("favorite")>=0&&i.setAttribute("cq-tool-group",i.getAttribute("cq-tool-group").replace("favorite","")),this.toolSettings.favList.indexOf(i.getAttribute("cq-tool"))>=0&&i.setAttribute("cq-tool-group",i.getAttribute("cq-tool-group")+" favorite")}}handleFavoriteClick(e){e.stopPropagation(),e.preventDefault(),this.toggleFavorite(e.target.parentElement.getAttribute("cq-tool")),this.hidePalette()}addFavorite(e){this.toolSettings.favList.indexOf(e)<0&&(this.toolSettings.favList.push(e),this.storeToolSettings(),this.setFavorites())}showToolContextMenu(e,t,i){this.toolContextMenu.style.display="block",this.toolContextMenu.style.top=t+"px",this.toolContextMenu.style.left=i+"px",this.toolContextMenu.setAttribute("context-tool",e),this.paletteDock.startContext(this)}toggleFavorite(e){let t=this.toolSettings.favList.indexOf(e);t>=0?this.toolSettings.favList.splice(t,1):this.toolSettings.favList.push(e),this.storeToolSettings(),this.setFavorites()}setToolGroup(e,t){this.toolSettings.toolGroup=t,this.querySelector(".tool-group").setAttribute("tool-group-filter",this.toolSettings.toolGroup),this.querySelector(".tool-group cq-scroll").top(),this.setEvenOdd(t);for(var i=0;i<this.callbacks.length;i++)this.callbacks[i].call(this,this.mode);this.showPalette(),this.params.toolGroupSelection.html(e.node.innerHTML),this.storeToolSettings()}togglePalette(){this.classList.toggle("palette-hide")}hidePalette(){this.classList.add("palette-hide")}showPalette(){this.classList.remove("palette-hide")}activateTool(e,t){let i=null;i=!e.node&&t?this.querySelector("[cq-tool="+t+"]"):e.node,this.setActiveButton(i);var a=this.context.stx;a.clearMeasure(),a.changeVectorType(t)}noTool(e,t){this.tool(e,"notool")}tool(e,t){if(t||(t=e.node.getAttribute("cq-tool")),t){var i=e.node.querySelector("label").innerHTML;this.activateTool(e,t),this.sendMessage&&this.sendMessage("changeTool",{activator:e,toolName:t,toolLabel:i})}}clearDrawings(){this.sendMessage&&this.sendMessage("clearDrawings")}restoreDefaultConfig(e,t){this.sendMessage&&this.sendMessage("restoreDefaultConfig",{activator:e,all:t})}getMarkup(e){const t=e.getMenu("drawingTools",!0).join(""),i=e.drawingToolGrouping.map((e=>`<cq-item\n\t\t\t\t\tstxtap="setToolGroup('${e.toLowerCase()}')"\n\t\t\t\t\tcq-tool-group="${e.toLowerCase()}">${e}\n\t\t\t\t</cq-item>`)).join("");return this.constructor.markup.replace("{{tools}}",t).replace("{{toolGrouping}}",i)}}e.markup='\n\t<div class="palette-container">\n\t\t<div class="drag-strip"></div>\n\t\t\t<div class="mini-widget-group">\n\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="list" stxtap="changeView(\'list\')"><span class="icon"></span><label>List View</label></cq-item>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="grid" stxtap="changeView(\'grid\')"><span class="icon"></span><label>Grid View</label></cq-item>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="detach" stxtap="detach()"><span class="icon"></span><label>Detach</label></cq-item>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="attach" stxtap="dock()"><span class="icon"></span><label>Attach</label></cq-item>\n\t\t\t</div>\n\t\t\t<cq-separator></cq-separator>\n\t\t\t<div class="primary-tool-group">\n\t\t\t\t<cq-item class="ciq-tool active" cq-tool="notool" stxtap="tool()"><cq-help help-id="drawing_palette_notool"></cq-help><span class="icon pointer"></span><label>No Tool</label></cq-item>\n\t\t\t\t<cq-item class="ciq-tool" cq-tool="measure" stxtap="tool()"><cq-help help-id="drawing_palette_measure"></cq-help><span class="icon measure"></span><label>Measure</label></cq-item>\n\t\t\t\t<cq-undo class="ciq-tool"><cq-help help-id="drawing_palette_undo"></cq-help><span class="icon undo"></span><label>Undo</label></cq-undo>\n\t\t\t\t<cq-redo class="ciq-tool"><cq-help help-id="drawing_palette_redo"></cq-help><span class="icon redo"></span><label>Redo</label></cq-redo>\n\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t<cq-help help-id="drawing_palette_tool_categories"></cq-help>\n\t\t\t\t\t<span cq-tool-group-selection>All</span>\n\t\t\t\t\t<cq-menu-dropdown class="ciq-tool-group-selection">\n\t\t\t\t\t\t{{toolGrouping}}\n\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t</cq-menu>\n\t\t\t</div>\n\t\t\t<cq-separator></cq-separator>\n\t\t\t<div class="tool-group" tool-group-filter="all">\n\t\t\t\t<cq-scroll cq-no-resize>\n\t\t\t\t\t{{tools}}\n\t\t\t\t</cq-scroll>\n\t\t\t\t<cq-separator></cq-separator>\n\t\t\t\t<div class="mini-widget-group mini-widget-foot">\n\t\t\t\t\t<cq-toggle class="ciq-mini-widget ciq-magnet" cq-member="preferences.magnet" cq-toggles="true,75,false" cq-toggle-classes="active strong,active,"><span class="icon magnet"></span><label>Magnet</label></cq-toggle>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" stxtap="clearDrawings()"><span class="icon clear"></span><label>Clear All Drawings</label></cq-item>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" stxtap="restoreDefaultConfig(true)"><span class="icon restore"></span><label>Restore Default Parameters</label></cq-item>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<div class="resize-strip"></div>\n\t</div>\n\t',t.UI.addComponentDefinition("cq-drawing-palette",e)}else console.error("drawingPalette component requires first activating drawing feature.");else console.error("drawingPalette component requires first activating palette component.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;const i=t.UI._webcomponents.list["cq-palette"];if(i)if(t.Drawing){class e extends i.classDefinition{connectedCallback(){this.attached||(super.connectedCallback(),t.UI.stxtap(this,(function(e){e.stopPropagation()})))}setContext(e){this.addDefaultMarkup(),this.init(),this.params={lineSelection:this.node.find("*[cq-line-style]"),fontSizeSelection:this.node.find("*[cq-font-size]"),fontFamilySelection:this.node.find("*[cq-font-family]"),fontStyleToggle:this.node.find("cq-annotation-italic"),fontWeightToggle:this.node.find("cq-annotation-bold"),axisLabelToggle:this.node.find("cq-axis-label .ciq-checkbox"),fillColor:this.node.find("cq-fill-color").not("cq-cvp-controller"),lineColor:this.node.find("cq-line-color").not("cq-cvp-controller"),cvpControllers:this.node.find("cq-cvp-controller"),waveParameters:this.node.find("cq-wave-parameters")},this.params.cvpControllers.prop("toolbar",this),this.sync(),this.dirty(!1),e.stx.setDrawingContainer&&e.stx.setDrawingContainer(this);var t=this;e.stx.addEventListener("theme",(function(e){var i=t.node.find("*[cq-toolbar-dirty]").hasClass("ciq-active");t.sync(),i||t.dirty(!1)}))}handleMessage(e,t){switch(e){case"changeTool":this.setActiveToolLabel(t.toolLabel),this.toolSettings(t.activator,t.toolName);break;case"clearDrawings":this.clearDrawings();break;case"restoreDefaultConfig":this.restoreDefaultConfig(t.activator,t.all)}}clearDrawings(){this.context.stx.clearDrawings(null,!1)}crosshairs(e){var t=this.context.stx;t.changeVectorType(null),t.layout.crosshair=!0,t.doDisplayCrosshairs(),t.findHighlights(!1,!0),t.changeOccurred("layout"),t.draw(),t.updateChartAccessories(),this.node.find("*[cq-section]").removeClass("ciq-active"),this.emit()}tool(e,t){this.toolSettings(e,t),this.setActiveToolLabel(t),this.sendMessage("changeToolSettings",{activator:e,toolName:t})}toolSettings(e,i){var a=this.context.stx;this.node.find("*[cq-section]").removeClass("ciq-active");var n=!this.node.find("*[cq-toolbar-dirty]").hasClass("ciq-active"),r=t.Drawing.getDrawingParameters(a,i);if(r){this.node.find("*[cq-toolbar-action='save']").addClass("ciq-active");var s=a.preferences.drawings;s&&s[i]&&(this.node.find("*[cq-toolbar-action='restore']").addClass("ciq-active"),n=!0),"fibtimezone"===i&&delete r.parameters;var o=this.params.lineSelection.parent().find(".ciq-none");o.hide();for(var l=this.defaultElements(r,i),h=0;h<l.length;h++)this.node.find(l[h]).addClass("ciq-active"),"cq-fill-color"==l[h]&&o.show();for(l=t.Drawing[i].prototype.$controls,h=0;l&&h<l.length;h++)this.node.find(l[h]).addClass("ciq-active")}"notool"===i?(a.changeVectorType(""),a.preferences.magnet&&this.toggleMagnet(this),this.hide="true"):this.hide="false",this.paletteDock.handleResize(),this.sync(),n&&this.dirty(!1)}defaultElements(e,t){var i=[];for(var a in e)"color"==a?i.push("cq-line-color"):"fillColor"==a?i.push("cq-fill-color"):"pattern"==a||"lineWidth"==a?i.push("cq-line-style"):"axisLabel"==a?i.push("cq-axis-label"):"font"==a?i.push("cq-annotation"):"parameters"==a&&("volumeprofile"===t?i.push("cq-clickable[cq-volumeprofile-settings]"):i.push("cq-clickable[cq-fib-settings]"));return i}dirty(e){this.node.find("*[cq-toolbar-dirty]")[!1===e?"removeClass":"addClass"]("ciq-active")}emit(){var e=new Event("change",{bubbles:!0,cancelable:!0});this.dirty(),this.dispatchEvent(e)}getFillColor(e){var i=t.UI.$(e.node),a=this.context.stx.currentVectorParameters.fillColor;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var n=t.getBackgroundColor(this.parentNode);if(a&&Math.abs(t.hsl(n)[2]-t.hsl(a)[2])<.2){var r=t.chooseForegroundColor(n);i.css({border:"solid "+r+" 1px"})}else i.css({border:""})}getLineColor(e){var i=t.UI.$(e.node),a=this.context.stx.currentVectorParameters.currentColor;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var n=t.getBackgroundColor(this.parentNode);if(!a||Math.abs(t.hsl(n)[2]-t.hsl(a)[2])<.2){var r=t.chooseForegroundColor(n);i.css({border:"solid "+r+" 1px"}),a||i.css({background:"linear-gradient(to bottom right, "+r+", "+r+" 49%, "+n+" 50%, "+n+")"})}else i.css({border:""})}pickFillColor(e){var i=t.UI.$(e.node),a=document.querySelector("cq-color-picker");if(a){var n=this;a.callback=function(e){n.context.stx.currentVectorParameters.fillColor=e,n.getFillColor({node:i}),n.emit()},a.display({node:i,context:n.context})}else console.log("DrawingToolbar.prototype.pickFillColor: no ColorPicker available")}pickLineColor(e){var i=t.UI.$(e.node),a=document.querySelector("cq-color-picker");if(a){var n=this;a.callback=function(e){n.context.stx.currentVectorParameters.currentColor=e,n.getLineColor({node:i}),n.emit()};var r=i.attr("cq-overrides");r&&(r=r.split(",")),a.display({node:i,overrides:r,context:n.context})}else console.log("DrawingToolbar.prototype.pickLineColor: no ColorPicker available")}restoreDefaultConfig(e,i){var a=this.context.stx;t.Drawing.restoreDefaultConfig(a,a.currentVectorParameters.vectorType,i),this.node.find("*[cq-toolbar-action='restore']").removeClass("ciq-active"),this.sync(),this.dirty(!1)}saveConfig(){var e=this.context.stx;t.Drawing.saveConfig(e,e.currentVectorParameters.vectorType),this.node.find("*[cq-toolbar-action='restore']").addClass("ciq-active"),this.sync(),this.dirty(!1)}setFibs(e,t){var i=this.context.stx.currentVectorParameters.fibonacci;if(i){for(var a=0;a<i.fibs.length;a++)i.fibs[a].parameters.lineWidth=e,i.fibs[a].parameters.pattern=t;i.timezone.parameters.lineWidth=e,i.timezone.parameters.pattern=t}}setFontFamily(e,t){var i=this.context.stx;i.currentVectorParameters.annotation&&(i.currentVectorParameters.annotation.font.family="Default"==t?null:t),this.params.fontFamilySelection.text(t),this.emit()}setFontSize(e,t){var i=this.context.stx;i.currentVectorParameters.annotation&&(i.currentVectorParameters.annotation.font.size=t),this.params.fontSizeSelection.text(t),this.emit()}setLine(e,t,i){var a=this.context.stx;a.currentVectorParameters.lineWidth=t,a.currentVectorParameters.pattern=i,this.setFibs(t,i),this.currentLineSelectedClass&&this.params.lineSelection.removeClass(this.currentLineSelectedClass),this.currentLineSelectedClass="ciq-"+i+"-"+parseInt(t,10),"none"==i?this.currentLineSelectedClass=null:this.params.lineSelection.addClass(this.currentLineSelectedClass),this.emit()}setActiveToolLabel(e){"No Tool"===e?e="":"freeform"===e?e="Doodle":e+=":",this.querySelector(".ciq-active-tool-label").innerHTML=e,this.querySelector(".ciq-mobile-palette-toggle span").innerHTML=e||"Select Tool"}sync(e){var i=this.context.stx;e?i.currentVectorParameters=t.extend(i.currentVectorParameters||{},e):e=i.currentVectorParameters;var a=this.params;this.setLine(null,e.lineWidth,e.pattern);var n=i.canvasStyle("stx_annotation"),r=e.annotation&&e.annotation.font,s=r&&r.size||n.fontSize;this.setFontSize(null,s);var o=r&&r.family||n.fontFamily;this.setFontFamily(null,o);var l=r&&r.style||n.fontStyle;a.fontStyleToggle["italic"===l?"addClass":"removeClass"]("ciq-active");var h=r&&r.weight||n.fontWeight;a.fontWeightToggle["bold"===h||h>=700?"addClass":"removeClass"]("ciq-active"),a.axisLabelToggle[e.axisLabel?"addClass":"removeClass"]("ciq-active"),this.getFillColor({node:a.fillColor}),this.getLineColor({node:a.lineColor}),a.cvpControllers.each((function(){this.sync(e)}));var c=a.waveParameters;c&&c[0]&&c[0].activate()}toggleAxisLabel(e){var i=this.context.stx,a=t.UI.$(e.node);!0===i.currentVectorParameters.axisLabel?(i.currentVectorParameters.axisLabel=!1,a.removeClass("ciq-active")):(i.currentVectorParameters.axisLabel=!0,a.addClass("ciq-active")),this.emit()}toggleFontStyle(e,i){var a=this.context.stx,n=t.UI.$(e.node);"italic"==i?"italic"==a.currentVectorParameters.annotation.font.style?(a.currentVectorParameters.annotation.font.style=null,n.removeClass("ciq-active")):(a.currentVectorParameters.annotation.font.style="italic",n.addClass("ciq-active")):"bold"==i&&("bold"==a.currentVectorParameters.annotation.font.weight?(a.currentVectorParameters.annotation.font.weight=null,n.removeClass("ciq-active")):(a.currentVectorParameters.annotation.font.weight="bold",n.addClass("ciq-active"))),this.emit()}toggleMagnet(e){var i=t.UI.$(e.node),a=this.context.stx;a.preferences.magnet?(i.removeClass("active"),a.preferences.magnet=!1):(i.addClass("active"),a.preferences.magnet=!0),t.clearCanvas(a.chart.tempCanvas,a)}togglePalette(){this.sendMessage("toggleDrawingPalette")}}e.markup='\n\t<div class="palette-container">\n\t\t<div class="drag-strip"></div>\n\t\t\t<div class="drawing-settings-wrapper">\n\t\t\t\t\t<div class="mini-widget-group">\n\t\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="detach" stxtap="detach()"><span class="icon"></span><label>Detach</label></cq-item>\n\t\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="attach" stxtap="dock()"><span class="icon"></span><label>Attach</label></cq-item>\n\t\t\t\t\t</div>\n\t\t\t\t<cq-clickable class="ciq-select ciq-mobile-palette-toggle" stxtap="togglePalette()"><span>Select Tool</span></cq-clickable>\n\t\t\t\t<cq-toolbar-settings>\n\t\t\t\t\t<div class="ciq-active-tool-label ciq-heading"></div>\n\t\t\t\t\t<cq-fill-color cq-section class="ciq-color" stxbind="getFillColor()" stxtap="pickFillColor()">\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</cq-fill-color>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<cq-line-color cq-section cq-overrides="auto" class="ciq-color" stxbind="getLineColor()" stxtap="pickLineColor()"><span></span></cq-line-color>\n\t\t\t\t\t\t<cq-line-style cq-section>\n\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t<span cq-line-style class="ciq-line ciq-selected"></span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown class="ciq-line-style-menu">\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(1,\'solid\')"><span class="ciq-line-style-option ciq-solid-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(3,\'solid\')"><span class="ciq-line-style-option ciq-solid-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(5,\'solid\')"><span class="ciq-line-style-option ciq-solid-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(1,\'dotted\')"><span class="ciq-line-style-option ciq-dotted-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(3,\'dotted\')"><span class="ciq-line-style-option ciq-dotted-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(5,\'dotted\')"><span class="ciq-line-style-option ciq-dotted-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(1,\'dashed\')"><span class="ciq-line-style-option ciq-dashed-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(3,\'dashed\')"><span class="ciq-line-style-option ciq-dashed-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(5,\'dashed\')"><span class="ciq-line-style-option ciq-dashed-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(0,\'none\')" class="ciq-none">None</cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</cq-line-style>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<cq-cvp-controller cq-section cq-cvp-header="1"></cq-cvp-controller>\n\t\t\t\t\t<cq-cvp-controller cq-section cq-cvp-header="2"></cq-cvp-controller>\n\t\t\t\t\t<cq-cvp-controller cq-section cq-cvp-header="3"></cq-cvp-controller>\n\n\t\t\t\t\t<template cq-cvp-controller>\n\t\t\t\t\t\t<div cq-section>\n\t\t\t\t\t\t\t<div class="ciq-heading">Dev 1</div>\n\t\t\t\t\t\t\t<span stxtap="toggleActive()" class="ciq-checkbox">\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<cq-line-color cq-section cq-overrides="auto" class="ciq-color" stxbind="getColor()" stxtap="pickColor()">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t</cq-line-color>\n\t\t\t\t\t\t<cq-line-style cq-section>\n\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t<span cq-cvp-line-style class="ciq-line ciq-selected"></span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown class="ciq-line-style-menu">\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(1, \'solid\')"><span class="ciq-line-style-option ciq-solid-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(3, \'solid\')"><span class="ciq-line-style-option ciq-solid-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(5, \'solid\')"><span class="ciq-line-style-option ciq-solid-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(1, \'dotted\')"><span class="ciq-line-style-option ciq-dotted-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(3, \'dotted\')"><span class="ciq-line-style-option ciq-dotted-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(5, \'dotted\')"><span class="ciq-line-style-option ciq-dotted-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(1, \'dashed\')"><span class="ciq-line-style-option ciq-dashed-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(3, \'dashed\')"><span class="ciq-line-style-option ciq-dashed-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(5, \'dashed\')"><span class="ciq-line-style-option ciq-dashed-5"></span></cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</cq-line-style>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<cq-axis-label cq-section>\n\t\t\t\t\t\t<div class="ciq-heading">Axis Label:</div>\n\t\t\t\t\t\t<span stxtap="toggleAxisLabel()" class="ciq-checkbox ciq-active"><span></span></span>\n\t\t\t\t\t</cq-axis-label>\n\t\t\t\t\t<cq-annotation cq-section>\n\t\t\t\t\t\t<cq-annotation-italic stxtap="toggleFontStyle(\'italic\')" class="ciq-btn" style="font-style:italic;">I</cq-annotation-italic>\n\t\t\t\t\t\t<cq-annotation-bold stxtap="toggleFontStyle(\'bold\')" class="ciq-btn" style="font-weight:bold;">B</cq-annotation-bold>\n\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t<span cq-font-size>12px</span>\n\t\t\t\t\t\t\t<cq-menu-dropdown class="ciq-font-size">\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'8px\')">8</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'10px\')">10</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'12px\')">12</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'13px\')">13</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'14px\')">14</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'16px\')">16</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'20px\')">20</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'28px\')">28</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'36px\')">36</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'48px\')">48</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'64px\')">64</cq-item>\n\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t<span cq-font-family>Default</span>\n\t\t\t\t\t\t\t<cq-menu-dropdown class="ciq-font-family">\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Default\')">Default</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Helvetica\')">Helvetica</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Courier\')">Courier</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Garamond\')">Garamond</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Palatino\')">Palatino</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Times New Roman\')">Times New Roman</cq-item>\n\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t</cq-annotation>\n\t\t\t\t\t<cq-clickable cq-fib-settings cq-selector="cq-fib-settings-dialog" cq-method="open" cq-section>\n\t\t\t\t\t\t<span class="ciq-icon-btn cq-icon-gear">\n\t\t\t\t\t\t\t<cq-tooltip>Settings</cq-tooltip>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</cq-clickable>\n\t\t\t\t\t<cq-clickable cq-volumeprofile-settings cq-selector="cq-volumeprofile-settings-dialog" cq-method="open" cq-section>\n\t\t\t\t\t\t<span class="ciq-icon-btn cq-icon-gear">\n\t\t\t\t\t\t\t<cq-tooltip>Settings</cq-tooltip>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</cq-clickable>\n\t\t\t\t\t<div class="ciq-drawing-edit-only" cq-section>\n\t\t\t\t\t\t<div cq-toolbar-action="done_edit" stxtap="DrawingEdit.endEdit(\'close\')" cq-section><cq-tooltip>Done Editing</cq-tooltip></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br cq-section cq-wave-parameters>\x3c!-- This break is not displayed by default but uses  the .ciq-active class to be displayed and push cq-wave-parameters onto a new line in the toolbar --\x3e\n\t\t\t\t\t<cq-wave-parameters cq-section></cq-wave-parameters>\n\t\t\t\t\t<template cq-wave-parameters>\n\t\t\t\t\t\t<div class="ciq-wave-template" cq-section>\n\t\t\t\t\t\t\t<div class="ciq-heading">WAVE TEMPLATE</div>\n\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t<span class="ciq-active-template">WAVE TEMPLATE</span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Grand Supercycle\')">Grand Supercycle</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Supercycle\')">Supercycle</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Cycle\')">Cycle</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Primary\')">Primary</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Intermediate\')">Intermediate</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Minor\')">Minor</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Minute\')">Minute</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Minuette\')">Minuette</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Sub-Minuette\')">Sub-Minuette</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Custom\')">Custom</cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="ciq-wave-impulse" cq-section>\n\t\t\t\t\t\t\t<div class="ciq-heading">IMPULSE</div>\n\t\t\t\t\t\t\t<cq-menu  class="ciq-select">\n\t\t\t\t\t\t\t\t<span class="ciq-active-impulse">IMPULSE</span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown>\n\t\t\t\t\t\t\t\t\t<cq-item stxTap="update(\'impulse\',null)">- - -</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'I,II,III,IV,V\')">I II III IV V</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'i,ii,iii,iv,v\')">i ii iii iv v</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'1,2,3,4,5\')">1 2 3 4 5</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'A,B,C,D,E\')">A B C D E</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'a,b,c,d,e\')">a b c d e</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'W,X,Y,X,Z\')">W X Y X Z</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'w,x,y,x,z\')">w x y x z</cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="ciq-wave-corrective" cq-section>\n\t\t\t\t\t\t\t<div class="ciq-heading">CORRECTIVE</div>\n\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t<span class="ciq-active-corrective">CORRECTIVE</span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',null)">- - -</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',\'A,B,C\')">A B C</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',\'a,b,c\')">a b c</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',\'W,X,Y\')">W X Y</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',\'w,x,y\')">w x y</cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="ciq-icon-btn ciq-btn" decoration="none" stxtap="update(\'decoration\',null)" cq-section>\n\t\t\t\t\t\t\t<cq-tooltip>None</cq-tooltip>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="ciq-icon-btn ciq-btn" decoration="parentheses" stxtap="update(\'decoration\',\'parentheses\')" cq-section>\n\t\t\t\t\t\t\t<cq-tooltip>Parentheses</cq-tooltip>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="ciq-icon-btn ciq-btn" decoration="enclosed" stxtap="update(\'decoration\',\'enclosed\')" cq-section>\n\t\t\t\t\t\t\t<cq-tooltip>Enclosed</cq-tooltip>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div class="ciq-heading ciq-show-lines"  cq-section>\n\t\t\t\t\t\t\tShow Lines: <span stxtap="toggleLines()" class="ciq-checkbox ciq-active"><span></span></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div class="ciq-drawing-edit-hidden" cq-section>\n\t\t\t\t\t\t<div cq-toolbar-action="save" stxtap="saveConfig()" cq-section><div cq-toolbar-dirty></div><cq-tooltip>Save Config</cq-tooltip></div>\n\t\t\t\t\t\t<div cq-toolbar-action="restore" stxtap="restoreDefaultConfig()" cq-section><cq-tooltip>Restore Config</cq-tooltip></div>\n\t\t\t\t\t</div>\n\t\t\t\t</cq-toolbar-settings>\n\t\t\t\t<cq-measure><span class="mMeasure"></span></cq-measure>\n\t\t\t</div>\n\t\t<div class="resize-strip"></div>\n\t</div>\n\t',t.UI.addComponentDefinition("cq-drawing-settings",e)}else console.error("drawingSettings component requires first activating drawing feature.");else console.error("drawingSettings component requires first activating palette component.")}),(e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;const i=t.UI._webcomponents.list["cq-scroll"];if(i){class e extends i.classDefinition{constructor(){super(),this.noMaximize=!0}connectedCallback(){super.connectedCallback()}disablekeyboardNavigation(){this.keyboardNavigation&&this.keyboardNavigation.setKeyControlElement()}}t.UI.addComponentDefinition("cq-menu-dropdown",e)}else console.error("menuDropdown component requires first activating scroll component.")}),null)},768:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(316);const n=function(e={}){let t={initialSymbol:{symbol:"AAPL",name:"Apple Inc",exchDisp:"NASDAQ"},root:document,initialData:void 0,enabledAddOns:{dataLoader:!0,extendedHours:!0,fullScreen:!0,inactivityTimer:!0,rangeSlider:!0,shortcuts:!0,tableView:!0,tooltip:!0},onNewSymbolLoad:{removeSeries:e=>"study"!==e.parameters.bucket,loadError(e,t){}},restore:!0,lookupDriver:a.Pz.ChartEngine.Driver.Lookup.ChartIQ,hotkeyConfig:{hotkeys:[{label:"Pan chart up",action:"up",options:{percent:.02},commands:["ArrowUp","Up"]},{label:"Pan chart down",action:"down",options:{percent:.02},commands:["ArrowDown","Down"]},{label:"Pan chart right",action:"right",options:{bars:1},commands:["ArrowRight","Right"]},{label:"Pan chart left",action:"left",options:{bars:1},commands:["ArrowLeft","Left"]},{label:"Pan chart up fast",action:"up",options:{percent:.2},commands:["Shift+ArrowUp","Shift+Up"]},{label:"Pan chart down fast",action:"down",options:{percent:.2},commands:["Shift+ArrowDown","Shift+Down"]},{label:"Pan chart right fast",action:"right",options:{bars:10},commands:["Shift+ArrowRight","Shift+Right"]},{label:"Pan chart left fast",action:"left",options:{bars:10},commands:["Shift+ArrowLeft","Shift+Left"]},{label:"Page chart right",action:"pageRight",commands:["Alt+ArrowRight","Alt+Right","PageUp"]},{label:"Page chart left",action:"pageLeft",commands:["Alt+ArrowLeft","Alt+Left","PageDown"]},{label:"Zoom in x-axis",action:"zoomInXAxis",commands:["NumpadAdd","="]},{label:"Zoom out x-axis",action:"zoomOutXAxis",commands:["NumpadSubtract","-"]},{label:"Zoom in y-axis",action:"zoomInYAxis",commands:["+"]},{label:"Zoom out y-axis",action:"zoomOutYAxis",commands:["_"]},{label:"Toggle crosshair",action:"toggleCrosshairs",commands:["Alt+Backslash","Alt+\\","Alt+"]},{label:"Toggle continuous zoom",action:"toggleContinuousZoom",commands:["Alt+Digit0","Alt+0"],extension:"continuousZoom"},{label:"Tab to next",action:"keyboardNavigateNext",commands:["Tab"]},{label:"Tab to previous",action:"keyboardNavigatePrevious",commands:["Shift+Tab"]},{label:"Select at tab",action:"keyboardNavigateClick",commands:["Enter"]},{label:"Pan to home",action:"home",commands:["Home"]},{label:"Pan to start of loaded data",action:"end",commands:["End"]},{label:"Delete a highlighted item or the active drawing",action:"delete",commands:["Backspace","Delete","Del"]},{label:"Close an open menu / dialog box or undo the active drawing",action:"escape",commands:["Escape","Esc"]},{label:"Symbol Lookup",action:"symbolLookup",commands:["Shift+Alt+KeyL"]},{label:"Open table view",action:"tableView",commands:["Alt+KeyK"],extension:"tableView"},{label:"Range Slider",action:"rangeSlider",commands:["Shift+Alt+KeyR"],extension:"rangeSlider"},{label:"Extended Hours",action:"extendedHours",commands:["Shift+Alt+KeyX"],extension:"extendedHours"},{label:"Keyboard Shortcuts",action:"shortcuts",commands:["Shift+Alt+Slash","Shift+Alt+?"],extension:"shortcuts"},{label:"Outliers",action:"outliers",commands:["Shift+Alt+KeyO"],extension:"outliers"},{label:"Market Depth",action:"marketDepth",commands:["Shift+Alt+KeyD"],extension:"marketDepth"},{label:"L2 Heat Map",action:"l2HeatMap",commands:["Shift+Alt+KeyM"],extension:"marketDepth"},{label:"Import Data",action:"dataLoader",commands:["Alt+KeyI"],extension:"dataLoader"},{label:"Trade From Chart",action:"tfc",commands:["Shift+Alt+KeyP"],extension:"tfc"}],keysToRepeat:["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","-","_","=","+"]},systemMessages:{copytoclipboard:{message:"Copied to clipboard.",type:"info",displayTime:5},logdeactivated:{message:"Log scale has been deactivated due to a zero or negative value in your visible dataset.",type:"warning"}},marketFactory:a.Pz.Market.Symbology.factory,chartEngineParams:{preferences:{labels:!1,currentPriceLine:!0,whitespace:0}},quoteFeeds:[{quoteFeed:e.quoteFeed,behavior:{refreshInterval:1,bufferSize:200}}],selector:{sideNav:".ciq-sidenav",sidePanel:"cq-side-panel",lookupComponent:".ciq-search cq-lookup",studyLegend:"cq-study-legend",timeSpanEvent:".stx-markers cq-item.span-event",markersMenuItem:".stx-markers cq-item",themesMenuItem:"cq-themes",tfcTradePanel:".stx-trade-panel",tfcToggle:".stx-trade"},themes:{builtInThemes:{"ciq-day":"Day","ciq-night":"Night"},defaultTheme:"ciq-night",nameValueStore:e.nameValueStore},menuPeriodicity:[{type:"item",label:"1 D",cmd:"Layout.setPeriodicity(1,1,'day')",value:{period:1,interval:1,timeUnit:"day"}},{type:"item",label:"1 W",cmd:"Layout.setPeriodicity(1,1,'week')",value:{period:1,interval:1,timeUnit:"week"}},{type:"item",label:"1 Mo",cmd:"Layout.setPeriodicity(1,1,'month')",value:{period:1,interval:1,timeUnit:"month"}},{type:"separator"},{type:"item",label:"1 Min",cmd:"Layout.setPeriodicity(1,1,'minute')",value:{period:1,interval:1,timeUnit:"minute"}},{type:"item",label:"5 Min",cmd:"Layout.setPeriodicity(1,5,'minute')",value:{period:1,interval:5,timeUnit:"minute"}},{type:"item",label:"10 Min",cmd:"Layout.setPeriodicity(1,10,'minute')",value:{period:1,interval:10,timeUnit:"minute"}},{type:"item",label:"15 Min",cmd:"Layout.setPeriodicity(3,5,'minute')",value:{period:1,interval:1,timeUnit:"minute"}},{type:"item",label:"30 Min",cmd:"Layout.setPeriodicity(1,30,'minute')",value:{period:1,interval:30,timeUnit:"minute"}},{type:"item",label:"1 Hour",cmd:"Layout.setPeriodicity(2,30,'minute')",value:{period:2,interval:30,timeUnit:"minute"}},{type:"item",label:"4 Hour",cmd:"Layout.setPeriodicity(8,30,'minute')",value:{period:8,interval:30,timeUnit:"minute"}},{type:"separator"},{type:"item",label:"1 Sec",cmd:"Layout.setPeriodicity(1,1,'second')",value:{period:1,interval:1,timeUnit:"second"}},{type:"item",label:"10 Sec",cmd:"Layout.setPeriodicity(1,10,'second')",value:{period:1,interval:10,timeUnit:"second"}},{type:"item",label:"30 Sec",cmd:"Layout.setPeriodicity(1,30,'second')",value:{period:1,interval:30,timeUnit:"second"}},{type:"separator"},{type:"item",label:"250 MSec",cmd:"Layout.setPeriodicity(1,250,'millisecond')",value:{period:1,interval:250,timeUnit:"millisecond"}}],menuChartStyle:[{type:"radio",label:"Candle",cmd:"Layout.ChartType('candle')"},{type:"radio",label:"Bar",cmd:"Layout.ChartType('bar')"},{type:"radio",label:"Colored Bar",cmd:"Layout.ChartType('colored_bar')"},{type:"radio",label:"Line",cmd:"Layout.ChartType('line')"},{type:"radio",label:"Vertex Line",cmd:"Layout.ChartType('vertex_line')"},{type:"radio",label:"Step",cmd:"Layout.ChartType('step')"},{type:"radio",label:"Mountain",cmd:"Layout.ChartType('mountain')"},{type:"radio",label:"Baseline",cmd:"Layout.ChartType('baseline_delta')"},{type:"radio",label:"Hollow Candle",cmd:"Layout.ChartType('hollow_candle')"},{type:"radio",label:"Volume Candle",cmd:"Layout.ChartType('volume_candle')"},{type:"radio",label:"Colored HLC Bar",cmd:"Layout.ChartType('colored_hlc')"},{type:"radio",label:"Scatterplot",cmd:"Layout.ChartType('scatterplot')"},{type:"radio",label:"Histogram",cmd:"Layout.ChartType('histogram')"}],menuChartAggregates:[{type:"separator"},{type:"radio",label:"Heikin Ashi",cmd:"Layout.ChartType('heikinashi')"},{type:"radioOptions",label:"Kagi",cmd:"Layout.ChartType('kagi')",options:"Layout.showAggregationEdit('kagi')"},{type:"radioOptions",label:"Line Break",cmd:"Layout.ChartType('linebreak')",options:"Layout.showAggregationEdit('linebreak')"},{type:"radioOptions",label:"Renko",cmd:"Layout.ChartType('renko')",options:"Layout.showAggregationEdit('renko')"},{type:"radioOptions",label:"Range Bars",cmd:"Layout.ChartType('rangebars')",options:"Layout.showAggregationEdit('rangebars')"},{type:"radioOptions",label:"Point & Figure",cmd:"Layout.ChartType('pandf')",options:"Layout.showAggregationEdit('pandf')"}],menuChartPreferences:[{type:"checkbox",label:"Range Selector",cmd:"Layout.RangeSlider()",cls:"rangeslider-ui"},{type:"checkbox",label:"Extended Hours",cmd:"Layout.ExtendedHours()",cls:"extendedhours-ui"},{type:"checkbox",label:"Animation",cmd:"Layout.Animation()",cls:"animation-ui"},{type:"checkbox",label:"Hide Outliers",cmd:"Layout.Outliers()",cls:"outliers-ui"},{type:"checkbox",label:"Market Depth",cmd:"Layout.MarketDepth()",cls:"marketdepth-ui"},{type:"checkbox",label:"L2 Heat Map",cmd:"Layout.L2Heatmap()",cls:"marketdepth-ui"}],menuYAxisPreferences:[{type:"checkbox",label:"Log Scale",cmd:"Layout.ChartScale('log')"},{type:"checkbox",label:"Invert",cmd:"Layout.FlippedChart()"}],menuViewConfig:{},menuStudiesConfig:{excludedStudies:{stochastics:!0},alwaysDisplayDialog:{ma:!0}},menuAddOns:[{type:"item",label:"Shortcuts / Hotkeys",cmd:"Layout.showShortcuts(true)",cls:"shortcuts-ui"},{type:"item",label:"Import Data",cmd:"Channel.write('dataLoader', true)",cls:"dataLoader-ui"}],rangeMenu:[{type:"range",label:"1D",cmd:"set(1,'today')"},{type:"range",label:"5D",cmd:"set(5,'day',30,2,'minute')"},{type:"range",label:"1M",cmd:"set(1,'month',30,8,'minute')"},{type:"range",label:"3M",cmd:"set(3,'month')",cls:"hide-sm"},{type:"range",label:"6M",cmd:"set(6,'month')",cls:"hide-sm"},{type:"range",label:"YTD",cmd:"set(1,'YTD')",cls:"hide-sm"},{type:"range",label:"1Y",cmd:"set(1,'year')"},{type:"range",label:"5Y",cmd:"set(5,'year',1,1,'week')",cls:"hide-sm"},{type:"range",label:"All",cmd:"set(1,'all')",cls:"hide-sm"}],drawingTools:[{type:"dt",tool:"annotation",group:"text",label:"Annotation",shortcut:"w"},{type:"dt",tool:"arrow",group:"markings",label:"Arrow",shortcut:"a"},{type:"dt",tool:"line",group:"lines",label:"Line",shortcut:"l"},{type:"dt",tool:"horizontal",group:"lines",label:"Horizontal",shortcut:"o"},{type:"dt",tool:"vertical",group:"lines",label:"Vertical",shortcut:"p"},{type:"dt",tool:"rectangle",group:"markings",label:"Rectangle",shortcut:"r"},{type:"dt",tool:"segment",group:"lines",label:"Segment"},{type:"dt",tool:"average",group:"statistics",label:"Average Line"},{type:"dt",tool:"callout",group:"text",label:"Callout"},{type:"dt",tool:"channel",group:"lines",label:"Channel"},{type:"dt",tool:"check",group:"markings",label:"Check"},{type:"dt",tool:"continuous",group:"lines",label:"Continuous"},{type:"dt",tool:"crossline",group:"lines",label:"Crossline"},{type:"dt",tool:"elliottwave",group:"technicals",label:"Elliott Wave"},{type:"dt",tool:"ellipse",group:"markings",label:"Ellipse",shortcut:"e"},{type:"dt",tool:"freeform",group:"lines",label:"Doodle"},{type:"dt",tool:"fibprojection",group:"fibonacci",label:"Fib Projection"},{type:"dt",tool:"fibarc",group:"fibonacci",label:"Fib Arc"},{type:"dt",tool:"fibfan",group:"fibonacci",label:"Fib Fan"},{type:"dt",tool:"fibtimezone",group:"fibonacci",label:"Fib Time Zone"},{type:"dt",tool:"focusarrow",group:"markings",label:"Focus"},{type:"dt",tool:"gannfan",group:"technicals",label:"Gann Fan"},{type:"dt",tool:"gartley",group:"technicals",label:"Gartley"},{type:"dt",tool:"heart",group:"markings",label:"Heart"},{type:"dt",tool:"pitchfork",group:"technicals",label:"Pitchfork"},{type:"dt",tool:"quadrant",group:"statistics",label:"Quadrant Lines"},{type:"dt",tool:"ray",group:"lines",label:"Ray"},{type:"dt",tool:"regression",group:"statistics",label:"Regression Line"},{type:"dt",tool:"retracement",group:"fibonacci",label:"Fib Retracement"},{type:"dt",tool:"star",group:"markings",label:"Star"},{type:"dt",tool:"speedarc",group:"technicals",label:"Speed Resistance Arc"},{type:"dt",tool:"speedline",group:"technicals",label:"Speed Resistance Line"},{type:"dt",tool:"timecycle",group:"technicals",label:"Time Cycle"},{type:"dt",tool:"tirone",group:"statistics",label:"Tirone Levels"},{type:"dt",tool:"trendline",group:"text",label:"Trend Line"},{type:"dt",tool:"volumeprofile",group:"statistics",label:"Volume Profile"},{type:"dt",tool:"xcross",group:"markings",label:"Cross"}],drawingToolGrouping:["All","Favorites","Text","Statistics","Technicals","Fibonacci","Markings","Lines"],menuRendering:{separator:()=>"\n\t\t\t\t\t<cq-separator></cq-separator>",item:({label:e,cmd:t,cls:i})=>`\n\t\t\t\t\t<cq-item ${i?`class="${i}"`:""} stxtap="${t}">${e}</cq-item>`,radio:({label:e,cmd:t,cls:i})=>`\n\t\t\t\t\t<cq-item\n\t\t\t\t\t\t${i?`class="${i}"`:""}\n\t\t\t\t\t\tstxsetget="${t}">${e}<span class="ciq-radio"><span></span></span>\n\t\t\t\t\t</cq-item>`,checkbox:({label:e,cmd:t,cls:i})=>`\n\t\t\t\t\t<cq-item\n\t\t\t\t\t\t${i?`class="${i}"`:""}\n\t\t\t\t\t\tstxsetget="${t}">${e}<span class="ciq-checkbox ciq-active"><span></span></span>\n\t\t\t\t\t</cq-item>`,radioOptions:({label:e,cmd:t,options:i,cls:a})=>`\n\t\t\t\t\t<cq-item ${a?`class="${a}"`:""} stxsetget="${t}">\n\t\t\t\t\t\t<span class="ciq-edit" stxtap="${i}" keyboard-selectable-child="true"></span>\n\t\t\t\t\t\t<div>${e}<span class="ciq-radio"><span></span></span></div>\n\t\t\t\t\t</cq-item>`,checkboxOptions:({label:e,cmd:t,options:i,cls:a})=>`\n\t\t\t\t\t<cq-item ${a?`class="${a}"`:""}>\n\t\t\t\t\t\t<span class="ciq-edit" stxtap="${i}"></span>\n\t\t\t\t\t\t<div stxsetget="${t}">${e}<span class="ciq-checkbox ciq-active"><span></span></span></div>\n\t\t\t\t\t</cq-item>`,doubleslider:({label:e,cmd:t,attrs:i,cls:a})=>`\n\t\t\t\t\t<cq-item\n\t\t\t\t\t\t${a?`class="${a}"`:""}\n\t\t\t\t\t\t>${e}<span><cq-double-slider ${i}></cq-double-slider><span></span></span>\n\t\t\t\t\t</cq-item>`,range:({label:e,cmd:t,cls:i})=>`\n\t\t\t\t\t<div ${i?`class="${i}"`:""} stxtap="${t}">${e}</div>\n\t\t\t\t`,dt:({tool:e,group:t,label:i,shortcut:a})=>`<cq-item\n\t\t\t\t\t\tclass="ciq-tool"\n\t\t\t\t\t\tcq-tool="${e}"\n\t\t\t\t\t\t${a?`cq-tool-shortcut="${a}"`:""}\n\t\t\t\t\t\tcq-tool-group="${t}"\n\t\t\t\t\t\tstxtap="tool('${e}')"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class="icon ${e}"></span>\n\t\t\t\t\t\t<label>${i}</label>\n\t\t\t\t\t\t<cq-help help-id="drawing_palette_${e}"></cq-help>\n\t\t\t\t\t</cq-item>\n\t\t\t\t`},getMenu(e,t){let i=this[e];if(i)return!0===t&&(t=(e,t)=>e.label>t.label?1:-1),"function"==typeof t&&(i=i.sort(t)),this[e].map((e=>this.menuRendering[e.type](e)))},addOns:{tooltip:{ohl:!0,volume:!0,series:!0,studies:!0},inactivityTimer:{minutes:30},animation:{animationParameters:{tension:.3}},rangeSlider:{},fullScreen:{},extendedHours:{filter:!0},continuousZoom:{periodicities:[{period:1,interval:"month"},{period:1,interval:"week"},{period:1,interval:"day"},{period:8,interval:30},{period:1,interval:30},{period:5,interval:1},{period:1,interval:1},{period:10,interval:1,timeUnit:"second"},{period:1,interval:1,timeUnit:"second"}],boundaries:{maxCandleWidth:15,minCandleWidth:3}},forecasting:{moduleName:"PlotComplementer",id:"forecast",decorator:{symbol:"_fcst",display:" Forecast"},renderingParameters:{chartType:"channel",opacity:.5,pattern:"dotted"},quoteFeed:e.forecastQuoteFeed,behavior:{refreshInterval:60}},outliers:{},tableView:{},dataLoader:{},shortcuts:{}},plugins:{timeSpanEventPanel:{menuItemSelector:".stx-markers cq-item.span-event",loadSample:!0,showTooltip:!0,infoPanel:{durationEvent:"main",spanEvent:"main",singleEvent:"main"}},marketDepth:{volume:!0,mountain:!0,step:!0,record:!0,height:"50%",orderbook:!0,interaction:!0},tfc:{moduleName:"TFC",loadSample:!0},crossSection:{pointFreshnessTimeout:1,enableTimeSeries:!0,timelineDateSelector:{height:95,useNotifications:!0},postInstall({uiContext:e,extension:t}){const{stx:{crossSection:i}}=e;new(a.Pz.getFn("UI.CurveEdit"))(null,e,this),new(a.Pz.getFn("CrossSection.HUD"))(null,e),this.timelineDateSelector&&new(a.Pz.getFn("CrossSection.TimelineDateSelector"))(Object.assign({crossSection:i},this.timelineDateSelector));const n=e.topNode.querySelector("cq-datepicker");n&&n.registerCallback((e=>t.setCurveDate(e)))}},visualEarnings:{menuContainer:".ciq-dropdowns"}},channels:{crosshair:"layout.crosshair",headsUp:"layout.headsUp",sidenav:"layout.sidenav",tableView:"channel.tableView",drawing:"channel.drawing",drawingPalettes:"channel.drawingPalettes",breakpoint:"channel.breakpoint",containerSize:"channel.containerSize",sidenavSize:"channel.sidenavSize",sidepanelSize:"channel.sidepanelSize",pluginPanelHeight:"channel.pluginPanelHeight",tfc:"channel.tfc",tc:"channel.tc",analystviews:"channel.analystviews",technicalinsights:"channel.technicalinsights",dataLoader:"channel.dataLoader",dialog:"channel.dialog",keyboardNavigation:"channel.keyboardNavigation"},dialogs:{dataLoader:{tag:"cq-data-dialog"},view:{tag:"cq-view-dialog"},aggregation:{tag:"cq-aggregation-dialog"},timezone:{tag:"cq-timezone-dialog"},language:{tag:"cq-language-dialog"},theme:{tag:"cq-theme-dialog"},study:{tag:"cq-study-dialog",attributes:{"cq-study-axis":!0,"cq-study-panel":"alias"}},fibSettings:{tag:"cq-fib-settings-dialog"},volumeprofileSettings:{tag:"cq-volumeprofile-settings-dialog"},share:{tag:"cq-share-dialog"}},eventMarkersImplementation:e.markerSample,scrollbarStyling:{refresh(t,i={suppressScrollX:!0}){"function"==typeof e.scrollStyle&&(t.__ps||(t.__ps=new e.scrollStyle(t,i)),t.__ps.update(t))}},nameValueStore:e.nameValueStore,onWebComponentsReady:()=>{},onChartReady:e=>{},createChart:function(e){return a.Pz.UI?(new a.Pz.UI.Chart).createChartAndUI({container:e,config:this}).stx:a.Pz.ChartEngine.create({container:e,config:this})},createCharts:function({container:e,charts:t}){e||(e=document.querySelector("cq-context"));const i=Array.from(e.querySelectorAll("cq-context-wrapper"));if(!i.length)throw"cq-context-wrapper element is required for multichart template setup";const n=i[0].outerHTML;t.slice(0,t.length-i.length).forEach((()=>{i[0].parentElement.insertAdjacentHTML("beforeend",n)}));const r=e.querySelectorAll("cq-context");this.root=null;const s=t.map((({symbol:e,chartId:t},i)=>{const n=a.Pz.clone(this);return n.initialSymbol=void 0!==typeof e?e:n.initialSymbol,n.chartId=t||(this.chartId||"")+"_c"+i,n.root=r[i],n.createChart(r[i])}));return this.createChart(e),s}};return e.quoteFeed||(t.quoteFeeds.length=0),t}},699:(e,t,i)=>{i(316)},86:()=>{},505:(e,t,i)=>{var a=i(611);a.Pz.activateImports(a.Kn,a.l0),a.Pz.ChartEngine.Driver.Lookup.ChartIQ=function(e){this.exchanges=e,this.exchanges||(this.exchanges=["XNYS","XASE","XNAS","XASX","IND_CBOM","INDXASE","INDXNAS","IND_DJI","ARCX","INDARCX","forex","mutualfund","futures"]),this.url="https://symbols.chartiq.com/chiq.symbolserver.SymbolLookup.service",this.requestCounter=0},a.Pz.inheritsFrom(a.Pz.ChartEngine.Driver.Lookup.ChartIQ,a.Pz.ChartEngine.Driver.Lookup),a.Pz.ChartEngine.Driver.Lookup.ChartIQ.prototype.acceptText=function(e,t,i,n){"FX"==t&&(t="FOREX"),isNaN(parseInt(i,10))&&(i=100);var r=this.url+"?t="+encodeURIComponent(e)+"&m="+i+"&x=[";this.exchanges&&(r+=this.exchanges.join(",")),r+="]",t&&"ALL"!=t.toUpperCase()&&(r+="&e="+t);var s=++this.requestCounter,o=this;a.Pz.postAjax({url:r,cb:function(e,t){if(!(s<o.requestCounter)&&200==e)try{for(var i=(t=JSON.parse(t)).payload.symbols,a=[],r=0;r<i.length;r++){var l=i[r].split("|"),h={symbol:l[0],name:l[1],exchDisp:l[2]};a.push({display:[h.symbol,h.name,h.exchDisp],data:h})}n(a)}catch(e){}}})}},770:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(611);"undefined"==typeof define?i(330):"function"==typeof define&&i.amdO&&define(["../../examples/markers/markersSample.css"],(()=>{})),a.Pz.activateImports(a.PP);var n=function(e){this.stx=e,this.activeLabels=[]};n.specialTypes={},n.registerType=function(e,t,i){!this.specialTypes[e]||i?this.specialTypes[e]=t:console.error("ERROR: failed to register event type "+e+". Event already registered")},n.prototype.processLabelsAndDraw=function(e){return this.activeLabels=this.activeLabels.concat(e),this.stx.draw(),e},n.prototype.createMarkers=function(e,t){var i=this.stx,n=i.chart.dataSet,r=i.tickFromDate(i.chart.endPoints.end),s=[];if(t||(t="Simple"),n){for(;r&&!n[r];)r--;r>=5&&s.push({x:n[r-5].DT,type:e,category:"news",headline:"This is a Marker for a News Item"}),r>=15&&s.push({x:n[r-15].DT,type:e,category:"earningsUp",headline:"This is a Marker for Earnings (+)"}),r>=25&&s.push({x:n[r-25].DT,type:e,category:"earningsDown",headline:"This is a Marker for Earnings (-)"}),r>=35&&s.push({x:n[r-35].DT,type:e,category:"dividend",headline:"This is a Marker for Dividends"}),r>=45&&s.push({x:n[r-45].DT,type:e,category:"filing",headline:"This is a Marker for a Filing"}),r>=55&&s.push({x:n[r-55].DT,type:e,category:"split",headline:"This is a Marker for a Split"});for(var o=0;o<s.length;o++){var l=s[o];l.story="Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.",0==o&&(l.story+=" <br><br> The marker can also accommodate a large amount of text and will allow scrolling if the content does not fit in the available space. Lorem ipsum dolor sit amet, consectetur adipiscing elit. In risus quam, suscipit eu imperdiet sed, finibus vitae neque. Aenean gravida erat vel arcu bibendum pharetra. Nullam arcu nibh, ullamcorper a quam quis, aliquam mollis ex. Nulla lacus ligula, sollicitudin ac lacinia a, tempus nec sem. Aliquam erat volutpat. Phasellus magna mauris, maximus eget imperdiet eu, tincidunt ut neque. Maecenas rutrum nisl sed laoreet placerat. Nunc semper eu diam eget pretium. Fusce est lectus, feugiat nec metus sed, auctor laoreet ligula. Fusce et felis ut quam finibus porttitor. Fusce mollis felis quis velit rutrum laoreet. Maecenas dignissim mattis facilisis. Aenean tempor fermentum dictum."),new a.Pz.Marker({stx:i,label:e,xPositioner:"date",x:l.x,node:new a.Pz.Marker[t](l)})}return e}},n.prototype.createAbstractMarker=function(e){var t=this.stx,i=document.querySelector(".stx-marker-templates").querySelector(".stx-marker.abstract").cloneNode(!0);return Object.assign(i.style,{"z-index":30,left:(.4*t.chart.width).toString()+"px"}),new a.Pz.Marker({stx:t,xPositioner:"none",yPositioner:"above_candle",label:e,permanent:!0,chartContainer:!0,node:i}),e},n.prototype.hideMarkers=function(){var e=this.stx;this.activeLabels.forEach((function(t){a.Pz.Marker.removeByLabel(e,t)})),this.activeLabels=[]},n.prototype.showMarkers=function(e,t){if(!e)return this.hideMarkers();var i=n.specialTypes[e];return i?this.processLabelsAndDraw(this[i](e,t)):"abstract"===e?this.processLabelsAndDraw(this.createAbstractMarker("helicopter")):this.processLabelsAndDraw(this.createMarkers(e,t))};const r={MarkersSample:n}},673:(e,t,i)=>{var a=i(611),n=i(770);"undefined"==typeof define?i(8):"function"==typeof define&&i.amdO&&define(["../../examples/markers/tradeAnalyticsSample.css"],(()=>{})),a.Pz.activateImports(a.PP);const r=n.Z.MarkersSample;r.registerType("trade","showTradeAnalytics"),r.prototype.showTradeAnalytics=function(){if(!a.Pz.Marker.Performance)return console.error("tradeAnalyticsSample feature requires first activating highPerformanceMarkers feature.");let{stx:e}=this,{chart:t}=e,{dataSet:i,dataSegment:n}=t;if(!i.length||!n.length)return;if(!n[10])return;new a.Pz.Marker({stx:e,label:"callout",xPositioner:"date",x:n[10].DT,node:new a.Pz.Marker.Simple({type:"callout",headline:"Begin Trade Period",category:"analysis",story:"Starting Price: "+n[10].Close+"\n\t\t\tShares: 5000\n\t\t\t\t\t\tExchange: "+t.market.market_def.name})});let r=e.tickFromDate(t.endPoints.end,t);return r&&i[r-2]&&i[r-2].DT&&new a.Pz.Marker({stx:e,label:"callout",xPositioner:"date",x:i[r-2].DT,node:new a.Pz.Marker.Simple({type:"callout",headline:"End Trade Period",category:"analysis",story:"Ending Price: "+n[n.length-2].Close+"\n\t\t\t\tShares: 5000\n\t\t\t\t\t\tExchange: "+t.market.market_def.name})}),this.createTradeMarkers(e),["callout","trade"]},r.prototype.createTradeMarkers=function(){const e=this.stx.chart.dataSegment;for(let t=e.length-3;t>10;t-=2){let i=e[t];new a.Pz.Marker({stx:this.stx,label:"trade",xPositioner:"date",x:i.DT,node:new a.Pz.Marker.Performance({type:"circle",category:"trade",displayCategory:!1,headline:"Executed at $"+i.Close,story:"Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed."})})}}},459:(e,t,i)=>{var a=i(611),n=i(770);"undefined"==typeof define?i(15):"function"==typeof define&&i.amdO&&define(["../../examples/markers/videoSample.css"],(()=>{})),a.Pz.activateImports(a.PP);const r=n.Z.MarkersSample;function s({label:e,category:t,videoUrl:i}){const n=this.node=document.createElement("div");n.className="stx-marker square",t&&n.classList.add(t);const r=a.Pz.newChild(n,"div","stx-visual");a.Pz.newChild(n,"div","stx-stem");const s=function(e){const t=document.createElement("div");t.className="stx-marker-video stx-marker-expand";const i=document.createElement("div");i.className="ciq-icon ciq-close",t.appendChild(i);var a=document.createElement("video");return a.canPlayType("video/mp4")&&a.setAttribute("src",e),/Edge/.test(navigator.userAgent)||a.setAttribute("controls","controls"),t.appendChild(a),t}(i);function o(){a.Pz.Marker.positionContentVerticalAndHorizontal(n)}n.append(s),a.Pz.safeClickTouch(n,(function({target:e}){const t=e===r,i=e.classList.contains("ciq-close");let a=n.classList.contains("highlight");const s=n.querySelector("video");if(t||i){if(n.classList.toggle("highlight"),a)return setTimeout(o,10),void s.pause();a=!a}s.firstClick||setTimeout((()=>{s.firstClick||(s.firstClick=!0,s.play())}),100)}))}document.addEventListener("play",(function(e){const t=e.target;t.parentElement.style.zIndex=o++,Array.from(document.querySelectorAll("video")).filter((e=>e!==t)).forEach((e=>e.pause()))}),{capture:!0}),r.registerType("video","showVideoMarkers"),r.prototype.showVideoMarkers=function(e){const{stx:t}=this,{chart:i}=t,{dataSet:n,endPoints:r}=i;if(!n.length)return;const o=t.tickFromDate(r.end);return function(){const e="https://embed-ssl.wistia.com/deliveries/d1aa8163948cdcc3d01a0ccda618e4a91dbff03c.bin",t=[["video","Interview",e],["video","Utilizing Studies","https://embed-ssl.wistia.com/deliveries/3bebd8d93f5d1cd878e63037fc1294d7116d93e4.bin"],["video","Smart Zoom","https://embed-ssl.wistia.com/deliveries/68f205d2284792be162071c853c4af0a.bin"],["video","Drawing Tools","https://embed-ssl.wistia.com/deliveries/4048329c0ded7972445032db0372e0bdb268c78d.bin"],["video","Utilizing Studies","https://embed-ssl.wistia.com/deliveries/3bebd8d93f5d1cd878e63037fc1294d7116d93e4.bin"],["video","Time Span Events","https://embed-ssl.wistia.com/deliveries/46685ec00a9d3ab4bdcadd1391cf1f91.bin"],["video","Interview",e]];return new Promise(((e,i)=>{e(t.map((([e,t,i])=>({category:e,headline:t,videoUrl:i}))))}))}().then((i=>{i.forEach((({category:i,headline:r,videoUrl:l},h)=>{const c=function(e){if(n[o-10*e-5])return n[o-10*e-5].DT}(h);if(void 0===c)return;const d={label:e,x:c,stx:t,xPositioner:"date",node:new s({x:c,label:e,category:i,headline:r,videoUrl:l,videoWidth:340})};new a.Pz.Marker(d)})),this.stx.draw()})),"video"},a.Pz.inheritsFrom(s,a.Pz.Marker.NodeCreator,!1);let o=400},663:(e,t,i)=>{var a=i(316);a.Pz.Market=a.Pz.Market||function(){},a.Pz.Market.GLOBEX={name:"GLOBEX",market_tz:"America/Chicago",hour_aligned:!0,normal_daily_open:"00:00",normal_daily_close:"24:00",rules:[{dayofweek:0,open:"15:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"18:00"}]},a.Pz.Market.FOREX={name:"FOREX",market_tz:"America/New_York",hour_aligned:!0,normal_daily_open:"17:00",normal_daily_close:"17:00",rules:[{dayofweek:0,open:"15:00",close:"17:00"},{dayofweek:0,open:"17:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"17:00"},{dayofweek:1,open:"17:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"17:00"},{dayofweek:2,open:"17:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"17:00"},{dayofweek:3,open:"17:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"17:00"},{dayofweek:4,open:"17:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"17:00"}]},a.Pz.Market.METALS={name:"METALS",market_tz:"America/New_York",hour_aligned:!0,normal_daily_open:"18:00",normal_daily_close:"17:15",rules:[{dayofweek:0,open:"18:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"17:15"},{dayofweek:1,open:"18:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"17:15"},{dayofweek:2,open:"18:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"17:15"},{dayofweek:3,open:"18:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"17:15"},{dayofweek:4,open:"18:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"17:15"}]},a.Pz.Market.GENERIC_5DAY={name:"5DAY",hour_aligned:!0,normal_daily_open:"0:00",normal_daily_close:"24:00",rules:[{dayofweek:1,open:"0:00",close:"24:00"},{dayofweek:2,open:"0:00",close:"24:00"},{dayofweek:3,open:"0:00",close:"24:00"},{dayofweek:4,open:"0:00",close:"24:00"},{dayofweek:5,open:"0:00",close:"24:00"}]},a.Pz.Market.NYSE={name:"NYSE",market_tz:"America/New_York",hour_aligned:!1,normal_daily_open:"09:30",normal_daily_close:"16:00",rules:[{dayofweek:1,open:"09:30",close:"16:00"},{dayofweek:2,open:"09:30",close:"16:00"},{dayofweek:3,open:"09:30",close:"16:00"},{dayofweek:4,open:"09:30",close:"16:00"},{dayofweek:5,open:"09:30",close:"16:00"},{dayofweek:1,open:"04:00",close:"09:30",name:"pre"},{dayofweek:2,open:"04:00",close:"09:30",name:"pre"},{dayofweek:3,open:"04:00",close:"09:30",name:"pre"},{dayofweek:4,open:"04:00",close:"09:30",name:"pre"},{dayofweek:5,open:"04:00",close:"09:30",name:"pre"},{dayofweek:1,open:"16:00",close:"20:00",name:"post"},{dayofweek:2,open:"16:00",close:"20:00",name:"post"},{dayofweek:3,open:"16:00",close:"20:00",name:"post"},{dayofweek:4,open:"16:00",close:"20:00",name:"post"},{dayofweek:5,open:"16:00",close:"20:00",name:"post"},{date:"*-12-25",open:"00:00",close:"00:00"},{date:"*-07-04",open:"00:00",close:"00:00"},{date:"*-01-01",open:"00:00",close:"00:00"},{date:"2012-01-02",open:"00:00",close:"00:00"},{date:"2023-01-02"},{date:"2023-01-16"},{date:"2023-02-20"},{date:"2023-04-07"},{date:"2023-05-29"},{date:"2019-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2019-07-03",open:"9:30",close:"13:00"},{date:"2023-07-03",open:"13:00",close:"17:00",name:"post"},{date:"2023-09-04"},{date:"2023-11-23"},{date:"2023-11-24",open:"4:00",close:"9:30",name:"pre"},{date:"2023-11-24",open:"9:30",close:"13:00"},{date:"2023-11-24",open:"13:00",close:"17:00",name:"post"},{date:"2022-01-17"},{date:"2022-02-21"},{date:"2022-04-15"},{date:"2022-05-30"},{date:"2022-09-05"},{date:"2022-11-24"},{date:"2022-11-25",open:"4:00",close:"9:30",name:"pre"},{date:"2022-11-25",open:"9:30",close:"13:00"},{date:"2022-11-25",open:"13:00",close:"17:00",name:"post"},{date:"2022-12-26"},{date:"2021-01-18"},{date:"2021-02-15"},{date:"2021-04-02"},{date:"2021-05-31"},{date:"2021-07-05"},{date:"2021-09-06"},{date:"2021-11-25"},{date:"2021-11-26",open:"4:00",close:"9:30",name:"pre"},{date:"2021-11-26",open:"9:30",close:"13:00"},{date:"2021-11-26",open:"13:00",close:"17:00",name:"post"},{date:"2021-12-24"},{date:"2020-01-20"},{date:"2020-02-17"},{date:"2020-04-10"},{date:"2020-05-25"},{date:"2020-07-03"},{date:"2020-09-07"},{date:"2020-11-26"},{date:"2020-11-27",open:"4:00",close:"9:30",name:"pre"},{date:"2020-11-27",open:"9:30",close:"13:00"},{date:"2020-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2020-12-24",open:"9:30",close:"13:00"},{date:"2019-01-21"},{date:"2019-02-18"},{date:"2019-04-19"},{date:"2019-05-27"},{date:"2019-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2019-07-03",open:"9:30",close:"13:00"},{date:"2019-09-02"},{date:"2019-11-28"},{date:"2019-11-29",open:"4:00",close:"9:30",name:"pre"},{date:"2019-11-29",open:"9:30",close:"13:00"},{date:"2019-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2019-12-24",open:"9:30",close:"13:00"},{date:"2018-01-15"},{date:"2018-02-19"},{date:"2018-03-30"},{date:"2018-05-28"},{date:"2018-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2018-07-03",open:"9:30",close:"13:00"},{date:"2018-09-03"},{date:"2018-11-22"},{date:"2018-11-23",open:"4:00",close:"9:30",name:"pre"},{date:"2018-11-23",open:"9:30",close:"13:00"},{date:"2018-12-05"},{date:"2018-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2018-12-24",open:"9:30",close:"13:00"},{date:"2017-01-02"},{date:"2017-01-16"},{date:"2017-02-20"},{date:"2017-04-14"},{date:"2017-05-29"},{date:"2017-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2017-07-03",open:"9:30",close:"13:00"},{date:"2017-09-04"},{date:"2017-11-23"},{date:"2017-11-24",open:"4:00",close:"9:30",name:"pre"},{date:"2017-11-24",open:"9:30",close:"13:00"},{date:"2016-01-18"},{date:"2016-02-15"},{date:"2016-03-25"},{date:"2016-05-30"},{date:"2016-09-05"},{date:"2016-11-24"},{date:"2016-11-25",open:"4:00",close:"9:30",name:"pre"},{date:"2016-11-25",open:"9:30",close:"13:00"},{date:"2016-12-26"},{date:"2015-01-19"},{date:"2015-02-16"},{date:"2015-04-03"},{date:"2015-05-25"},{date:"2015-07-03"},{date:"2015-09-07"},{date:"2015-11-26"},{date:"2015-11-27",open:"4:00",close:"9:30",name:"pre"},{date:"2015-11-27",open:"9:30",close:"13:00"},{date:"2015-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2015-12-24",open:"9:30",close:"13:00"},{date:"2014-01-20"},{date:"2014-02-17"},{date:"2014-04-18"},{date:"2014-05-26"},{date:"2014-09-01"},{date:"2014-11-27"},{date:"2014-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2014-07-03",open:"9:30",close:"13:00"},{date:"2014-11-28",open:"4:00",close:"9:30",name:"pre"},{date:"2014-11-28",open:"9:30",close:"13:00"},{date:"2014-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2014-12-24",open:"9:30",close:"13:00"},{date:"2013-01-21"},{date:"2013-02-18"},{date:"2013-03-29"},{date:"2013-05-27"},{date:"2013-09-02"},{date:"2013-11-28"},{date:"2013-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2013-07-03",open:"9:30",close:"13:00"},{date:"2013-11-29",open:"4:00",close:"9:30",name:"pre"},{date:"2013-11-29",open:"9:30",close:"13:00"},{date:"2013-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2013-12-24",open:"9:30",close:"13:00"},{date:"2012-01-16"},{date:"2012-02-20"},{date:"2012-04-06"},{date:"2012-05-28"},{date:"2012-09-03"},{date:"2012-10-29"},{date:"2012-10-30"},{date:"2012-11-22"},{date:"2012-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2012-07-03",open:"9:30",close:"13:00"},{date:"2012-11-23",open:"4:00",close:"9:30",name:"pre"},{date:"2012-11-23",open:"9:30",close:"13:00"},{date:"2012-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2012-12-24",open:"9:30",close:"13:00"}]},a.Pz.Market.LSE={name:"London",market_tz:"Europe/London",hour_aligned:!1,normal_daily_open:"08:00",normal_daily_close:"17:00",rules:[{dayofweek:1,open:"08:00",close:"17:00"},{dayofweek:2,open:"08:00",close:"17:00"},{dayofweek:3,open:"08:00",close:"17:00"},{dayofweek:4,open:"08:00",close:"17:00"},{dayofweek:5,open:"08:00",close:"17:00"},{date:"*-12-25",open:"00:00",close:"00:00"},{date:"*-12-26",open:"00:00",close:"00:00"},{date:"*-01-01",open:"00:00",close:"00:00"},{date:"2012-01-02",open:"00:00",close:"00:00"},{date:"2023-01-02"},{date:"2023-04-07"},{date:"2023-04-10"},{date:"2023-05-01"},{date:"2023-05-29"},{date:"2023-08-28"},{date:"2023-12-22",open:"8:00",close:"12:30"},{date:"2023-12-29",open:"8:00",close:"12:30"},{date:"2022-01-03"},{date:"2022-04-15"},{date:"2022-04-18"},{date:"2022-05-02"},{date:"2022-05-30"},{date:"2022-08-29"},{date:"2022-12-23",open:"8:00",close:"12:30"},{date:"2022-12-27"},{date:"2022-12-30",open:"8:00",close:"12:30"},{date:"2021-04-02"},{date:"2021-04-05"},{date:"2021-05-03"},{date:"2021-05-31"},{date:"2021-08-30"},{date:"2021-12-24",open:"8:00",close:"12:30"},{date:"2021-12-27"},{date:"2021-12-28"},{date:"2021-12-31",open:"8:00",close:"12:30"},{date:"2020-04-10"},{date:"2020-04-13"},{date:"2020-05-04"},{date:"2020-05-25"},{date:"2020-08-31"},{date:"2020-12-24",open:"8:00",close:"12:30"},{date:"2020-12-28"},{date:"2020-12-31",open:"8:00",close:"12:30"},{date:"2019-04-19"},{date:"2019-04-22"},{date:"2019-05-06"},{date:"2019-05-27"},{date:"2019-08-26"},{date:"2019-12-24",open:"8:00",close:"12:30"},{date:"2019-12-31",open:"8:00",close:"12:30"},{date:"2018-03-30"},{date:"2018-04-02"},{date:"2018-05-07"},{date:"2018-05-28"},{date:"2018-08-27"},{date:"2018-12-24",open:"8:00",close:"12:30"},{date:"2018-12-31",open:"8:00",close:"12:30"},{date:"2017-01-02"},{date:"2017-04-14"},{date:"2017-04-17"},{date:"2017-05-01"},{date:"2017-05-29"},{date:"2017-08-28"},{date:"2017-12-22",open:"8:00",close:"12:30"},{date:"2017-12-29",open:"8:00",close:"12:30"},{date:"2016-03-25"},{date:"2016-03-28"},{date:"2016-05-02"},{date:"2016-05-30"},{date:"2016-08-29"},{date:"2016-12-23",open:"8:00",close:"12:30"},{date:"2016-12-27"},{date:"2016-12-30",open:"8:00",close:"12:30"},{date:"2015-04-03"},{date:"2015-04-06"},{date:"2015-05-04"},{date:"2015-05-25"},{date:"2015-08-31"},{date:"2015-12-24",open:"8:00",close:"12:30"},{date:"2015-12-28"},{date:"2015-12-31",open:"8:00",close:"12:30"},{date:"2014-04-18"},{date:"2014-04-21"},{date:"2014-05-05"},{date:"2014-05-26"},{date:"2014-08-25"},{date:"2014-12-24",open:"8:00",close:"12:30"},{date:"2014-12-31",open:"8:00",close:"12:30"},{date:"2013-03-29"},{date:"2013-04-01"},{date:"2013-05-06"},{date:"2013-05-27"},{date:"2013-08-26"},{date:"2013-12-24",open:"8:00",close:"12:30"},{date:"2013-12-31",open:"8:00",close:"12:30"},{date:"2012-01-02"},{date:"2012-04-06"},{date:"2012-04-09"},{date:"2012-05-07"},{date:"2012-06-04"},{date:"2012-06-05"},{date:"2012-08-27"},{date:"2012-12-24",open:"8:00",close:"12:30"},{date:"2012-12-31",open:"8:00",close:"12:30"}]}},147:(e,t,i)=>{var a=i(316);a.Pz.Market=a.Pz.Market||function(){},a.Pz.Market.Symbology=a.Pz.Market.Symbology||function(){},a.Pz.Market.Symbology.isForeignSymbol=function(e){return!!e&&-1!=e.indexOf(".")},a.Pz.Market.Symbology.isFuturesSymbol=function(e){return!!e&&e.length>1&&"/"==e[0]},a.Pz.Market.Symbology.isRateSymbol=function(e){return!!e&&e.length>1&&"%"==e[0]},a.Pz.Market.Symbology.isForexSymbol=function(e){return!(!e||a.Pz.Market.Symbology.isForeignSymbol(e)||a.Pz.Market.Symbology.isFuturesSymbol(e)||e.length<6||e.length>7||6==e.length&&"X"==e[5]||!/\^?[A-Za-z]{6}/.test(e))},a.Pz.Market.Symbology.isForexMetal=function(e,t){var i={XAU:!0,XAG:!0,XPT:!0,XPD:!0};return!(!e||!a.Pz.Market.Symbology.isForexSymbol(e)||("^"!=e.charAt(0)&&(e="^"+e),(i[e.substring(1,4)]||!i[e.substring(4,7)])&&(t||!i[e.substring(1,4)]||i[e.substring(4,7)])))},a.Pz.Market.Symbology.isForexCrypto=function(e){const t={BTC:!0,ETH:!0,XLM:!0,LTC:!0,ETC:!0,XRP:!0,ADA:!0,BNB:!0};return!!e&&!!a.Pz.Market.Symbology.isForexSymbol(e)&&("^"!=e.charAt(0)&&(e="^"+e),t[e.substring(1,4)]||t[e.substring(4,7)])},a.Pz.Market.Symbology.factory=function(e){var t=e.symbol;return a.Pz.Market.Symbology.isForeignSymbol(t)?a.Pz.Market.GENERIC_5DAY:a.Pz.Market.Symbology.isFuturesSymbol(t)?a.Pz.Market.GLOBEX:a.Pz.Market.Symbology.isForexCrypto(t)?null:a.Pz.Market.Symbology.isForexMetal(t)?a.Pz.Market.METALS:a.Pz.Market.Symbology.isForexSymbol(t)?a.Pz.Market.FOREX:a.Pz.Market.NYSE},a.Pz.Market.Symbology.encodeTermStructureInstrumentSymbol=function(e,t){return"%"===e[0]&&(e=e.slice(1)),e+" "+t}},799:(e,t,i)=>{var a=i(611);a.Pz.activateImports(a.ag),a.Pz.I18N.language="en-US",a.Pz.I18N.languages={"en-US":"English","ar-EG":"","fr-FR":"Franais","de-DE":"Deutsche","hu-HU":"Magyar","it-IT":"Italiano","pt-PT":"Portugus","ru-RU":"","es-ES":"Espaol","zh-CN":"","ja-JP":""},a.Pz.I18N.langConversionMap={en:"en-US",ar:"ar-EG",fr:"fr-FR",de:"de-DE",hu:"hu-HU",it:"it-IT",pt:"pt-PT",ru:"ru-RU",es:"es-ES",zh:"zh-CN",ja:"ja-JP"},a.Pz.I18N.longMonths={"zh-CN":!0},a.Pz.I18N.reverseColorsByLocale={"zh-CN":!0,"ja-JP":!0},a.Pz.I18N.csv=a.Pz.I18N.hereDoc((function(e){}))},611:(e,t,i)=>{i.d(t,{$$:()=>H.$$,$I:()=>H.$I,Kn:()=>f,PP:()=>u,Pz:()=>H.Pz,ag:()=>c,hM:()=>H.hM,l0:()=>S,rx:()=>H.rx});var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H=i(316);function I(){}if(I[461638]=function(){for(var e=2;9!==e;)switch(e){case 2:e="object"==typeof globalThis?1:5;break;case 5:var t;try{for(var i=2;6!==i;)switch(i){case 9:delete t.D0fuO,delete Object.prototype.WTX21,i=6;break;case 3:throw"";case 4:i="undefined"==typeof D0fuO?3:9;break;case 5:t.D0fuO=t,i=4;break;case 2:Object.defineProperty(Object.prototype,"WTX21",{get:function(){for(;;)return this},configurable:!0}),t=WTX21,i=5}}catch(e){t=window}return t;case 1:return globalThis}}(),I[219347]=function(e){for(var t=2;11!==t;)switch(t){case 13:var i=function(e,t,i,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];n(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};t=12;break;case 12:i(r,"charCodeAt",a[8],a[4]),t=11;break;case 6:a[4]+=a[9],a[4]+=a[5],t=13;break;case 3:a[9]="6",a[8]=3,a[8]=1,a[4]=a[2],t=6;break;case 2:var a=[arguments];a[5]="",a[5]="GG",a[2]="L",t=3}function n(e,t,i,a,n){for(var r=2;14!==r;)switch(r){case 2:var s=[arguments];s[5]="",s[5]="operty",s[3]="",s[3]="finePr",s[1]="",r=8;break;case 8:s[1]="de",s[6]=4;try{for(var o=2;8!==o;)switch(o){case 2:s[4]={},o=1;break;case 1:s[2]=(0,s[0][1])(s[0][0]),s[7]=[s[6],s[2].prototype][s[0][3]],s[4].value=s[7][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[9]=s[1],s[9]+=s[3],s[9]+=s[5],s[0][0].Object[s[9]](s[7],s[0][4],s[4]),l=3)}catch(e){}o=9;break;case 9:s[7][s[0][4]]=s[4].value,o=8}}catch(e){}r=14}}function r(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}}(I[461638]),I[27524]=function(e){function t(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0]}}function i(e,t,i,a,n){for(var r=2;7!==r;)switch(r){case 2:var s=[arguments];s[3]="",s[3]="roperty",s[5]="fineP",r=3;break;case 3:s[6]="",s[6]="de";try{for(var o=2;8!==o;)if(2===o){s[8]={},s[2]=(0,s[0][1])(s[0][0]),s[4]=[s[2],s[2].prototype][s[0][3]],s[8].value=s[4][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[1]=s[6],s[1]+=s[5],s[1]+=s[3],s[0][0].Object[s[1]](s[4],s[0][4],s[8]),l=3)}catch(e){}s[4][s[0][4]]=s[8].value,o=8}}catch(e){}r=7}}function a(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}for(var n=2;38!==n;)switch(n){case 23:s[60]=s[7],s[60]+=s[4],s[60]+=s[8],s[68]=s[2],s[68]+=s[6],s[68]+=s[1],s[65]=s[5],n=31;break;case 6:s[6]="41",s[2]="",s[2]="",s[2]="Q",n=11;break;case 39:r(a,"charCodeAt",s[9],s[60]),n=38;break;case 27:s[9]=1,s[93]=1,s[93]=5,s[93]=0,n=23;break;case 42:r(t,"String",s[93],s[45]),n=41;break;case 18:s[7]="",s[7]="",s[7]="x",s[9]=0,n=27;break;case 40:r(a,"substring",s[9],s[68]),n=39;break;case 11:s[8]="",s[8]="11",s[4]="",s[4]="4",n=18;break;case 31:s[65]+=s[4],s[65]+=s[8],s[45]=s[3],s[45]+=s[1],s[45]+=s[1],n=43;break;case 43:var r=function(e,t,a,n){for(var r=2;5!==r;)if(2===r){var o=[arguments];i(s[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),r=5}};n=42;break;case 41:r(o,"fromCharCode",s[93],s[65]),n=40;break;case 2:var s=[arguments];s[3]="",s[3]="",s[3]="O4",n=3;break;case 3:s[5]="",s[5]="M",s[1]="1",s[6]="",n=6}function o(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}}(I[461638]),I[27902]=function(e){function t(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].Array}}function i(e,t,i,a,n){for(var r=2;13!==r;)switch(r){case 3:l[9]="de",l[4]="fineP",l[7]=5,l[7]=1,r=6;break;case 6:l[7]=4;try{for(var s=2;8!==s;)switch(s){case 5:l[3]=[l[7],l[1].prototype][l[0][3]],l[8].value=l[3][l[0][2]];try{for(var o=2;3!==o;)2===o&&(l[5]=l[9],l[5]+=l[4],l[5]+=l[2],l[0][0].Object[l[5]](l[3],l[0][4],l[8]),o=3)}catch(e){}l[3][l[0][4]]=l[8].value,s=8;break;case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),s=5}}catch(e){}r=13;break;case 2:var l=[arguments];l[2]="",l[2]="",l[2]="roperty",r=3}}for(var a=2;17!==a;)switch(a){case 2:var n=[arguments];n[6]="",n[6]="l",n[9]="4m",n[1]="k4",a=9;break;case 19:r(s,"replace",n[4],n[8]),a=18;break;case 14:n[7]+=n[2],n[7]+=n[2],n[8]=n[6],n[8]+=n[9],n[8]+=n[2],a=20;break;case 20:var r=function(e,t,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];i(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=19;break;case 18:r(t,"map",n[4],n[7]),a=17;break;case 9:n[2]="m",n[4]=9,n[4]=1,n[7]=n[1],a=14}function s(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].String}}}(I[461638]),I[48380]=function(e){function t(e,t,i,a,n){for(var r=2;8!==r;)switch(r){case 2:var s=[arguments];s[3]="efine",s[4]="Property",s[9]="",r=3;break;case 3:s[9]="d";try{for(var o=2;8!==o;)if(2===o){s[1]={},s[7]=(0,s[0][1])(s[0][0]),s[5]=[s[7],s[7].prototype][s[0][3]],s[1].value=s[5][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[8]](s[5],s[0][4],s[1]),l=3;break;case 2:s[8]=s[9],s[8]+=s[3],s[8]+=s[4],l=4}}catch(e){}s[5][s[0][4]]=s[1].value,o=8}}catch(e){}r=8}}function i(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];t=1;break;case 1:return i[0][0].RegExp}}for(var a=2;74!==a;)switch(a){case 57:r(s,n[93],n[65],n[49]),a=56;break;case 36:n[45]=n[36],n[45]+=n[22],n[45]+=n[22],n[23]=n[66],n[23]+=n[22],n[23]+=n[22],n[29]=n[74],a=48;break;case 23:n[64]="",n[61]="2I",n[64]="L",n[59]="_",n[54]="",n[22]="I",n[54]="c2",a=31;break;case 75:r(o,"apply",n[19],n[33]),a=74;break;case 48:n[29]+=n[61],n[29]+=n[22],n[13]=n[8],n[13]+=n[7],n[13]+=n[3],n[49]=n[9],a=63;break;case 63:n[49]+=n[1],n[49]+=n[4],n[93]=n[6],n[93]+=n[5],a=59;break;case 2:var n=[arguments];n[5]="",n[5]="",n[5]="opti",a=3;break;case 3:n[1]="",n[1]="2",n[3]="",n[3]="ract",a=6;break;case 44:n[33]+=n[22],n[33]+=n[22],n[86]=n[64],n[86]+=n[61],a=40;break;case 59:n[93]+=n[2],a=58;break;case 77:r(l,"push",n[19],n[45]),a=76;break;case 40:n[86]+=n[22],n[20]=n[59],n[20]+=n[37],n[20]+=n[16],a=36;break;case 55:r(i,"test",n[19],n[23]),a=77;break;case 31:n[19]=4,n[19]=1,n[65]=0,n[33]=n[54],a=44;break;case 76:r(s,n[20],n[65],n[86]),a=75;break;case 56:r(s,n[13],n[65],n[29]),a=55;break;case 58:var r=function(e,i,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];t(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=57;break;case 6:n[8]="",n[9]="P",n[2]="mize",n[4]="II",a=11;break;case 11:n[6]="__",n[7]="bst",n[8]="__a",n[66]="",a=18;break;case 18:n[66]="q2",n[36]="",n[74]="F",n[36]="M2",a=27;break;case 27:n[16]="",n[16]="idual",n[37]="",n[37]="_res",a=23}function s(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0]}}function o(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].Function}}function l(e){for(var t=2;5!==t;)if(2===t){var i=[arguments];return i[0][0].Array}}}(I[461638]),I.o16=function(){return"function"==typeof I[43805].p16?I[43805].p16.apply(I[43805],arguments):I[43805].p16},I.j16=function(){return"function"==typeof I[43805].x16?I[43805].x16.apply(I[43805],arguments):I[43805].x16},I.v7D=function(){return"function"==typeof I[653066].D1N?I[653066].D1N.apply(I[653066],arguments):I[653066].D1N},I.w7V=function(){return"function"==typeof I[302863].U3X?I[302863].U3X.apply(I[302863],arguments):I[302863].U3X},I[365071]=function(e){function t(t){for(var i=2;15!==i;)switch(i){case 6:s=r&&d(r,n),i=14;break;case 13:l=e[7],i=12;break;case 17:a=t-h>n,i=19;break;case 19:return a;case 9:i=c--?7:8;break;case 4:i=c--?9:3;break;case 2:var a,n,r,s,l,h,d;i=1;break;case 20:a=t-h>n&&s-t>n,i=19;break;case 16:a=s-t>n,i=19;break;case 1:i=c--?4:5;break;case 11:h=(l||0===l)&&d(l,n),i=10;break;case 3:n=25,i=9;break;case 7:i=c--?14:6;break;case 12:i=c--?10:11;break;case 18:i=h>=0?17:16;break;case 10:i=h>=0&&s>=0?20:18;break;case 14:i=c--?12:13;break;case 8:r=e[6],i=7;break;case 5:d=o[e[4]],i=4}}for(var i=2;10!==i;)switch(i){case 9:l=typeof r,i=8;break;case 12:var a,n=0;i=11;break;case 3:i=c--?8:9;break;case 7:h=l.l4mm(new o[s]("^['-|]"),"S"),i=6;break;case 8:i=c--?6:7;break;case 4:var r="fromCharCode",s="RegExp";i=3;break;case 5:o=I[461638],i=4;break;case 14:e=e.k4mm((function(e){for(var t=2;13!==t;)switch(t){case 1:t=c--?4:5;break;case 8:a++,t=3;break;case 2:var i;t=1;break;case 3:t=a<e.length?9:7;break;case 5:i="",t=4;break;case 4:var a=0;t=3;break;case 7:t=i?14:6;break;case 9:i+=o[h][r](e[a]+109),t=8;break;case 6:return;case 14:return i}})),i=13;break;case 2:var o,l,h,c;i=1;break;case 13:i=c--?11:12;break;case 6:i=c--?13:14;break;case 11:return{i9o:function(i){for(var r=2;6!==r;)switch(r){case 8:return function(t,a){for(var n=2;10!==n;)switch(n){case 3:var r,s=0;n=9;break;case 2:n=void 0===t&&void 0!==i?1:5;break;case 9:n=s<t[a[5]]?8:11;break;case 11:return r;case 4:a=e,n=3;break;case 6:n=0===s?14:12;break;case 1:t=i,n=5;break;case 12:r^=h,n=13;break;case 14:r=h,n=13;break;case 13:s++,n=9;break;case 5:n=void 0===a&&void 0!==e?4:3;break;case 8:var l=o[a[4]](t[a[2]](s),16)[a[3]](2),h=l[a[2]](l[a[5]]-1);n=6}}(void 0,void 0)?a:!a;case 9:n=s+6e4,r=8;break;case 5:r=c--?3:4;break;case 1:r=s>n?5:8;break;case 2:var s=(new o[e[0]])[e[1]]();r=1;break;case 4:a=t(s),r=3;break;case 3:r=c--?8:9}}};case 1:i=c--?4:5}}([[-41,-12,7,-8],[-6,-8,7,-25,-4,0,-8],[-10,-5,-12,5,-44,7],[7,2,-26,7,5,-4,1,-6],[3,-12,5,6,-8,-36,1,7],[-1,-8,1,-6,7,-5],[-12,2,2,-4,-2,-52,-7,-61,-61],[]]),I.U16=function(){return"function"==typeof I[43805].x16?I[43805].x16.apply(I[43805],arguments):I[43805].x16},I.x3D=function(){return"function"==typeof I[653066].D1N?I[653066].D1N.apply(I[653066],arguments):I[653066].D1N},I.i3j=function(){return"function"==typeof I.y3j.G65?I.y3j.G65.apply(I.y3j,arguments):I.y3j.G65},I[461638].O544=I,I[653066]=(a=function(e,t){var i=65535&t;return((t-i)*e|0)+(i*e|0)|0},{D1N:function(e,t,i){for(var n=3432918353,r=461845907,s=i,o=-4&t,l=0;l<o;l+=4){var h=255&e.L6GG(l)|(255&e.L6GG(l+1))<<8|(255&e.L6GG(l+2))<<16|(255&e.L6GG(l+3))<<24;h=a(h,n),s=5*(s=(524287&(s^=h=a(h=(131071&h)<<15|h>>>17,r)))<<13|s>>>19)+3864292196|0}switch(h=0,t%4){case 3:h=(255&e.L6GG(o+2))<<16;case 2:h|=(255&e.L6GG(o+1))<<8;case 1:h|=255&e.L6GG(o),h=a(h,n),s^=h=a(h=(131071&h)<<15|h>>>17,r)}return s^=t,s=a(s^=s>>>16,2246822507),(s=a(s^=s>>>13,3266489909))^s>>>16}}),I.D7V=function(){return"function"==typeof I[302863].U3X?I[302863].U3X.apply(I[302863],arguments):I[302863].U3X},I.y3j=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[1]=void 0,t[2]={},t[2].G65=function(){for(var e=2;90!==e;)switch(e){case 2:var i=[arguments];e=1;break;case 13:i[7].O1f=function(){return"function"==typeof F2II},i[2]=i[7],e=11;break;case 1:e=t[1]?5:4;break;case 49:i[3].M2II(i[33]),i[3].M2II(i[26]),i[3].M2II(i[68]),i[3].M2II(i[87]),i[3].M2II(i[2]),i[19]=[],e=64;break;case 75:i[51]={},i[51][i[34]]=i[22][i[43]][i[46]],i[51][i[67]]=i[94],i[19].M2II(i[51]),e=71;break;case 5:return 94;case 39:i[92]={},i[92].G1f=["S1f"],i[92].O1f=function(){return/\u0031\u0039\x32/.q2II(function(){!function(e){for(var t=0;t<20;t++)t}()}+[])},i[42]=i[92],i[3].M2II(i[5]),e=53;break;case 53:i[3].M2II(i[1]),i[3].M2II(i[35]),i[3].M2II(i[42]),i[3].M2II(i[9]),e=49;break;case 26:i[27].G1f=["S1f"],i[27].O1f=function(){return!/\x7c/.q2II(function(){return"aaaa|a".substr(0,3)}+[])},e=24;break;case 68:e=68;break;case 19:i[9]=i[6],i[4]={},i[4].G1f=["f4f"],i[4].O1f=function(){var e=!1,t=[];try{for(var i in console)t.M2II(i);e=0===t.length}catch(e){}return e},e=15;break;case 56:i[22]=i[3][i[14]];try{i[94]=i[22][i[44]]()?i[23]:i[66]}catch(e){i[94]=i[66]}e=77;break;case 31:i[35]=i[18],i[12]={},i[12].G1f=["S1f"],i[12].O1f=function(){return!/\u0079/.q2II(function(){return"x y".slice(0,1)}+[])},e=44;break;case 76:e=i[46]<i[22][i[43]].length?75:70;break;case 69:e=function(e){for(var t=2;22!==t;)switch(t){case 7:t=a[6]<a[0][0].length?6:18;break;case 4:a[7]={},a[2]=[],a[6]=0,t=8;break;case 2:var a=[arguments];t=1;break;case 1:t=0===a[0][0].length?5:4;break;case 13:a[7][a[8][i[34]]]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[1]={},t[1].h=0,e=4;break;case 4:return t[1].t=0,t[1]}}.c2II(this,arguments),t=12;break;case 12:a[2].M2II(a[8][i[34]]),t=11;break;case 5:return;case 16:t=a[6]<a[2].length?15:23;break;case 10:t=a[8][i[67]]===i[23]?20:19;break;case 27:a[3]=a[7][a[5]].h/a[7][a[5]].t,t=26;break;case 8:a[6]=0,t=7;break;case 20:a[7][a[8][i[34]]].h+=!0,t=19;break;case 25:a[9]=!0,t=24;break;case 6:a[8]=a[0][0][a[6]],t=14;break;case 11:a[7][a[8][i[34]]].t+=!0,t=10;break;case 14:t=void 0===a[7][a[8][i[34]]]?13:11;break;case 18:a[9]=!1,t=17;break;case 15:a[5]=a[2][a[6]],t=27;break;case 17:a[6]=0,t=16;break;case 19:a[6]++,t=7;break;case 23:return a[9];case 26:t=a[3]>=.5?25:24;break;case 24:a[6]++,t=16}}(i[19])?68:67;break;case 4:i[3]=[],i[8]={},i[8].G1f=["f4f"],e=8;break;case 8:i[8].O1f=function(){return"function"==typeof P2II},i[5]=i[8],i[7]={},e=14;break;case 77:i[46]=0,e=76;break;case 58:i[14]=0,e=57;break;case 24:i[26]=i[27],i[45]={},i[45].G1f=["S1f"],i[45].O1f=function(){return/\u0078\u0078/.q2II(function(){return"x".repeat(2)}+[])},e=35;break;case 15:i[1]=i[4],i[27]={},e=26;break;case 14:i[7].G1f=["f4f"],e=13;break;case 67:return t[1]=17,15;case 44:i[68]=i[12],i[38]={},i[38].G1f=["f4f"],i[38].O1f=function(){return"function"==typeof L2II},i[87]=i[38],e=39;break;case 11:i[6]={},i[6].G1f=["S1f"],i[6].O1f=function(){return!/\u0061\u0074\u006f\u0062/.q2II(function(){return atob("PQ==")}+[])},e=19;break;case 71:i[46]++,e=76;break;case 57:e=i[14]<i[3].length?56:69;break;case 35:i[33]=i[45],i[18]={},i[18].G1f=["S1f"],i[18].O1f=function(){return!/\x79/.q2II(function(){return"xy".substring(0,1)}+[])},e=31;break;case 64:i[23]="F1f",i[66]="u1f",i[43]="G1f",i[67]="L1f",i[44]="O1f",i[34]="Z1f",e=58;break;case 70:i[14]++,e=57}},e=3;break;case 3:return t[2]}}(),I.R16=function(){return"function"==typeof I[43805].p16?I[43805].p16.apply(I[43805],arguments):I[43805].p16},I[43805]={p16:function(){var e,t=arguments;switch(n){case 130:e=-t[1]*t[0]*t[3]+t[2];break;case 102:e=(t[3]/t[2]-t[4])/t[0]+t[1];break;case 161:e=((t[4]<<t[0])-t[3]/t[2])*t[1];break;case 149:e=t[0]/(t[2]^t[1]);break;case 9:e=(t[2]-t[1])*t[0];break;case 108:e=t[1]*(+t[3]+t[0]/t[2]);break;case 139:e=t[2]*((t[1]-t[0])/t[3]+t[4]);break;case 22:e=-t[0]+t[1];break;case 5:e=t[3]+t[0]/t[1]-t[2];break;case 64:e=(t[4]-t[1])*t[2]/t[0]+t[3];break;case 131:e=t[6]*t[2]*t[4]+(t[1]-t[3]*t[5])*t[0];break;case 36:e=t[4]*t[3]+t[1]+t[2]-t[0];break;case 98:e=t[1]-t[0]+t[2]-t[4]+t[3];break;case 11:e=-t[1]-t[0]+t[2];break;case 82:e=t[0]%t[1];break;case 107:e=t[1]/t[0]-t[3]+t[2];break;case 116:e=(t[1]+t[2])/t[3]+t[4]+t[0];break;case 45:e=t[0]+t[3]+t[1]+t[2];break;case 54:e=t[1]+t[0]-t[3]-t[2]+t[4];break;case 1:e=t[0]|t[1];break;case 103:e=t[0]+ +t[1];break;case 88:e=t[3]+t[1]+t[0]-t[2];break;case 154:e=t[0]/t[2]/t[1]+t[3];break;case 81:e=(t[2]|t[1])<<t[0];break;case 100:e=t[3]*t[1]+t[0]-t[2];break;case 46:e=(t[0]-t[3])*t[1]+t[2];break;case 56:e=(t[1]-t[2])/(t[0]-t[3]);break;case 150:e=(t[1]+t[2])/t[3]*t[0]-t[4];break;case 159:e=t[2]*t[1]*t[0];break;case 78:e=t[0]>=t[1];break;case 43:e=-t[2]*t[3]/t[1]+t[0];break;case 6:e=(t[2]*t[1]-t[0])/t[3]+t[4];break;case 68:e=t[2]/t[1]+t[0];break;case 75:e=t[1]<t[0];break;case 135:e=t[2]-t[3]+t[1]+t[0];break;case 106:e=(t[1]/t[4]+t[2])/t[3]-t[0];break;case 3:e=t[0]*t[1]/t[3]-t[4]-t[2];break;case 133:e=t[3]/t[0]-t[1]+t[4]+t[2];break;case 119:e=t[1]-(t[0]-t[3])-t[2];break;case 67:e=t[1]*t[3]-t[4]+t[0]-t[2];break;case 44:e=(t[0]*t[3]+t[4])*t[1]-t[2];break;case 110:e=t[2]*(t[1]/t[0]);break;case 94:e=t[0]/t[1]/t[2]*t[3]-t[4];break;case 10:e=(t[0]+t[1])/t[2];break;case 145:e=(t[3]+t[4])/t[1]-t[0]-t[2];break;case 111:e=t[3]/t[1]/t[0]-t[2];break;case 156:e=(t[3]-t[5])*(t[7]-t[1])+(t[2]-t[4])*(t[6]-t[0]);break;case 91:e=(t[2]+t[1]-t[0])*t[3]-t[4];break;case 151:e=t[1]*+t[0];break;case 97:e=(t[1]-t[4])*t[2]/t[0]-t[3];break;case 47:e=t[1]%t[0]%t[2]/t[3];break;case 85:e=t[2]|t[1]|t[0];break;case 146:e=(t[0]+t[4])*t[2]/t[3]+t[1];break;case 128:e=(t[3]+t[0]+t[2])*t[1]-t[4];break;case 26:e=(-t[4]-t[2]+t[3])*t[0]+t[1];break;case 124:e=t[1]/t[3]*t[0]-t[2];break;case 109:e=t[1]*t[2]/t[0];break;case 127:e=(t[4]/t[2]+t[0])*t[1]-t[3];break;case 71:e=(t[2]+t[1])*t[0]-t[3]-t[4];break;case 79:e=t[1]<=t[0];break;case 96:e=t[0]-t[2]+t[1]-t[3];break;case 66:e=(-t[4]+t[2])*t[0]*t[3]-t[1];break;case 31:e=t[2]+t[1]+t[0];break;case 147:e=(t[2]+t[4])*t[1]/t[3]-t[0];break;case 58:e=t[3]/t[2]-t[1]-t[0];break;case 55:e=t[1]-(t[0]-t[2]);break;case 16:e=t[2]/t[0]-t[1];break;case 72:e=-t[0]/t[2]+t[1]+t[3];break;case 158:e=t[0]*(t[4]/t[3]-t[2])+t[1];break;case 160:e=t[1]-t[2]*t[0];break;case 143:e=(t[3]-t[0])*t[4]-t[1]-t[2];break;case 144:e=-t[1]*t[4]/t[2]-t[0]+t[3];break;case 32:e=t[2]-+t[0]+t[1];break;case 121:e=(t[4]/t[2]-t[0])*t[3]+t[1];break;case 42:e=t[0]-t[2]/t[1];break;case 7:e=t[0]-t[1];break;case 51:e=(t[0]-t[4]-t[1])/t[3]+t[2];break;case 120:e=t[2]*t[3]*t[4]-t[1]-t[0];break;case 141:e=t[2]/t[1]/t[3]-t[0]+t[4];break;case 65:e=(t[4]-t[1])/t[3]*t[2]+t[0];break;case 40:e=t[0]-t[1]/t[3]-t[2];break;case 87:e=t[0]===+t[1];break;case 69:e=t[4]-t[3]-t[2]-t[0]-t[1];break;case 23:e=t[2]*t[4]/t[0]+t[1]-t[3];break;case 8:e=t[1]/t[0];break;case 92:e=(t[2]>>t[1])-t[0];break;case 52:e=-t[1]*t[4]+t[2]-t[0]+t[3];break;case 15:e=t[1]>>t[0];break;case 14:e=t[2]/t[3]+t[1]-t[0];break;case 60:e=-t[3]*t[0]+t[4]+t[1]+t[2];break;case 89:e=t[0]/t[3]/t[2]/t[1];break;case 38:e=t[3]*t[0]+t[2]*t[1];break;case 48:e=(t[3]+t[1])*t[0]+t[2]-t[4];break;case 152:e=t[1]-(t[2]>>t[0]);break;case 12:e=t[2]*t[0]/t[3]-t[1];break;case 61:e=(t[3]+t[0])/t[2]+t[1];break;case 126:e=t[3]+t[4]-t[0]-t[2]-t[1];break;case 138:e=t[1]*t[0]+t[2];break;case 84:e=t[3]|t[1]|t[2]|t[0];break;case 93:e=(t[0]+t[1]+t[2])/t[3]+t[4];break;case 74:e=t[0]>t[1];break;case 73:e=t[0]==t[1];break;case 104:e=t[2]+t[4]+t[0]+t[3]-t[1];break;case 113:e=(t[2]-t[1]-t[4])*t[0]-t[3];break;case 0:e=t[1]+t[0];break;case 157:e=(-t[3]+t[0])*t[2]/t[4]-t[1];break;case 34:e=t[1]^t[0];break;case 20:e=t[0]/+t[1];break;case 129:e=t[1]/(t[2]+t[0]);break;case 162:e=(t[0]+t[1]/t[2])*t[3];break;case 95:e=(t[4]-t[0]+t[3])/t[1]+t[2];break;case 137:e=t[1]*t[2]*t[3]*t[0];break;case 57:e=(t[1]-t[2])/t[3]+t[0];break;case 63:e=(-t[0]+t[3])*t[2]+t[1];break;case 136:e=t[3]+t[1]/(t[2]^t[0]);break;case 19:e=t[2]-t[1]+t[0];break;case 142:e=t[3]/t[2]*t[1]+t[0];break;case 49:e=(t[4]+t[2]+t[0])/t[1]-t[3];break;case 62:e=-t[4]/t[0]*t[1]+t[2]+t[3];break;case 140:e=(t[0]+t[2]-t[4])/t[1]+t[3];break;case 90:e=-t[1]+t[2]+t[0];break;case 2:e=t[1]*t[0];break;case 30:e=-t[1]/t[2]/t[0]+t[3];break;case 53:e=t[1]*t[2]*t[0]*t[4]-t[3];break;case 134:e=(t[0]+t[3])*t[4]*t[1]-t[2];break;case 123:e=t[2]-t[1]-t[3]+t[0];break;case 4:e=t[0]-t[4]/(t[2]-t[3])+t[1];break;case 118:e=t[0]-+t[1];break;case 50:e=(t[4]+t[0])/t[2]+t[1]-t[3];break;case 25:e=t[0]*t[4]/t[1]/t[2]+t[3];break;case 24:e=t[0]+(t[3]+t[4]*t[2])*t[1];break;case 33:e=t[2]-t[0]-t[1];break;case 41:e=t[1]+t[0]*t[2];break;case 122:e=t[2]+t[1]-t[0]+t[3];break;case 37:e=t[1]+t[2]-+t[0];break;case 125:e=t[1]*t[2]-t[0]-t[3];break;case 86:e=t[1]|t[4]|t[2]|t[0]|t[3];break;case 99:e=-t[2]-t[0]-t[1]+t[3];break;case 18:e=(t[3]+t[0])*t[2]-t[1];break;case 70:e=-t[1]/t[2]+t[0];break;case 27:e=t[0]&t[1];break;case 13:e=t[0]+t[2]-t[1];break;case 132:e=(-t[4]+t[0])*t[1]+t[2]+t[3];break;case 21:e=t[0]/t[3]+t[2]-t[4]+t[1];break;case 153:e=t[2]-(t[1]<<t[0]);break;case 115:e=(t[3]-t[4]+t[0])*t[2]-t[1];break;case 76:e=t[1]!=t[0];break;case 39:e=t[1]+t[2]/t[0];break;case 112:e=(t[1]+t[3])/t[0]-t[2];break;case 35:e=t[1]<<t[0];break;case 28:e=-t[2]*t[0]+t[1];break;case 59:e=(t[2]-t[1]+t[0])/t[4]-t[3];break;case 148:e=t[2]*t[3]*t[0]-t[1];break;case 114:e=t[0]*t[1]/t[2]+t[3];break;case 117:e=t[1]/(t[0]*t[2]);break;case 17:e=(t[3]-t[4])/t[2]-t[0]+t[1];break;case 80:e=t[1]<<t[0]-t[2];break;case 155:e=t[0]/t[2]/+t[1];break;case 101:e=t[0]*t[3]/(t[2]+t[1]);break;case 29:e=t[2]*t[0]-t[1];break;case 105:e=(t[0]-t[2])*t[3]-t[1];break;case 83:e=t[1]*t[3]*t[0]/t[4]-t[2];break;case 77:e=t[3]+t[2]+t[0]+t[1]+t[4]}return e},x16:function(e){n=e}},I.R0f=function(){return"function"==typeof I[365071].i9o?I[365071].i9o.apply(I[365071],arguments):I[365071].i9o},I.z3j=function(){return"function"==typeof I.y3j.G65?I.y3j.G65.apply(I.y3j,arguments):I.y3j.G65},I.N1f=function(){return"function"==typeof I[365071].i9o?I[365071].i9o.apply(I[365071],arguments):I[365071].i9o},I.y7V=function(){return"function"==typeof I[302863].t3X?I[302863].t3X.apply(I[302863],arguments):I[302863].t3X},I[302863]=function(){function e(e,r,s,o,l){for(var h=2;15!==h;)switch(h){case 12:return!1;case 6:case 16:return I.x3D(c,d,s);case 2:var c,d,u,p;p=a[n([-9,-6,-18,-20,-1,-12,-6,-7])],!t&&(t=void 0!==p?p[n([-13,-6,-2,-1,-7,-20,-8,-16])]||" ":""),!i&&(i=void 0!==p?p[n([-13,-3,-16,-15])]:""),u=l?i:t,h=9;break;case 19:h=null===e||e<=0?18:14;break;case 13:h=r&&m>0&&46!==u.x411(m-1)?12:11;break;case 9:h=o>0?8:19;break;case 8:d=(c=u.Q411(e,o)).length,h=6;break;case 14:var m=u.length-e;h=13;break;case 11:return d=(c=u.Q411(m,u.length)).length,I.x3D(c,d,s);case 18:d=(c=u.Q411(0,u.length)).length,h=16}}for(;;){var t,i,a=I[461638];return{U3X:function(t,i,a,n){for(;;)return e(t,i,a,n)},t3X:function(t,i,a,n){for(;;)return e(t,i,a,n,!0)}}}function n(e){for(var t=2;7!==t;)switch(t){case 8:return a;case 9:n++,t=4;break;case 2:var i=3,a="";t=5;break;case 5:var n=0;t=4;break;case 3:a+=O411.M411(e[n]-i+120),t=9;break;case 4:t=n<e.length?3:8}}}(),I.z7V=function(){return"function"==typeof I[302863].t3X?I[302863].t3X.apply(I[302863],arguments):I[302863].t3X},I.w1f=function(e){if(I.z3j(),I)return I.N1f(e)},I.q1f=function(e){if(I.z3j(),I&&e)return I.N1f(e)},I.k1f=function(e){if(I.z3j(),I)return I.R0f(e)},I.i1f=function(e){if(I.z3j(),I&&e)return I.R0f(e)},I.g1f=function(e){if(I.i3j(),I)return I.N1f(e)},r=e=>{var t,i,a;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i=class{get(e,t){I.z3j(),t("no storage defined")}set(e,t){}remove(e){}},t.ChartEngine.create=function({container:e,config:n,deferLoad:r}={}){var s,o,l;function h(){m&&setTimeout((()=>m(o)))}e||(e=document.querySelector(".chartContainer")||document.body),n||(n={}),s=Object.assign({container:e},n.chartEngineParams),o=new this(s);var{quoteFeeds:c,marketFactory:d,addOns:u,chartId:p,onChartReady:m}=n;function g(){o.loadChart(n.initialSymbol,{masterData:n.initialData},h),I.z3j(),o.draw()}for(var f in c&&o.attachQuoteFeed&&c.forEach((({quoteFeed:e,behavior:t,filter:i})=>{I.i3j(),o.attachQuoteFeed(e,t,i)})),d&&o.setMarketFactory(d),I.z3j(),u&&Object.entries(u).filter((([,e])=>!!e)).forEach((([e,i])=>{var a;if(n.enabledAddOns[e])if(a=i.moduleName||t.capitalize(e),t[a]){var{cssRequired:r}=new t[a](Object.assign({stx:o},i,{config:n}));r&&t.UI&&t.UI.activatePluginUI(o,a)}else t.debug&&console.log(`${a} not available for addons with params:`,i)})),l=t.ensureDefaults(n.callbacks||{},{layout:this.getSaveLayout(n),symbolChange:this.getSaveLayout(n),drawing:this.getSaveDrawings(n),preferences:this.getSavePreferences(n),newChart:this.getRetoggleEvents(n)}))l[f]&&o.addEventListener(f,l[f]);return a=new(a=n.nameValueStore||t.NameValueStore||i),r||(n.restore?(this.restorePreferences(o,p),this.restoreLayout(o,(e=>{I.i3j(),!o.chart.symbol&&n.initialSymbol?g():h()}),p)):g()),o},t.ChartEngine.getSaveLayout=function(e){return I.i3j(),function({stx:t}){var i;I.z3j(),e.restore&&t.exportLayout&&(i=JSON.stringify(t.exportLayout(!0)),a.set("myChartLayout"+(e.chartId||""),i))}},t.ChartEngine.restoreLayout=function(e,t,i){var{restoreDrawings:n}=this;function r(){n(e,e.chart.symbol,i),t&&t()}i||(i=""),I.j16(0),I.z3j(),a.get(I.R16(i,"myChartLayout"),(function(t,i){if(!t){I.i3j();try{i=JSON.parse(i)}catch(e){}e.importLayout&&e.importLayout(i,{managePeriodicity:!0,cb:r}),e.crossSection&&e.setCandleWidth(1)}}))},t.ChartEngine.getSaveDrawings=function(e){return I.z3j(),function({stx:t,symbol:i}){var n,r;I.i3j(),e.restore&&t.exportDrawings&&(n=t.exportDrawings(),r=e.chartId?e.chartId+"~"+i:i,0===n.length?a.remove(r):a.set(r,JSON.stringify(n)))}},t.ChartEngine.restoreDrawings=function(e,i,n){var r;t.Drawing&&(r=n?n+"~"+i:i,a.get(r,(function(t,i){if(!t){try{i=JSON.parse(i)}catch(e){}I.i3j(),i&&(e.importDrawings(i),e.draw())}})))},t.ChartEngine.getSavePreferences=function(e){return function({stx:t}){var i;I.z3j(),e.restore&&t.exportPreferences&&(i=JSON.stringify(t.exportPreferences()),a.set("myChartPreferences"+(e.chartId||""),i))}},t.ChartEngine.restorePreferences=function(e,t){var i,n=I;n.z3j(),i=2;for(var r=1;-1027804154!==n.x3D(r.toString(),r.toString().length,26868);r++)+t&&(t=""),i+=2;-1887502059!==n.x3D(i.toString(),i.toString().length,71406)&&(t||(t="")),n.U16(0),a.get(n.o16(t,"myChartPreferences"),(function(t,i){var a;if(n.z3j(),!t){try{a=2;for(var r=1;-328799504!==n.x3D(r.toString(),r.toString().length,64401);r++)i=JSON.parse(i),a+=2;-1354425007!==n.x3D(a.toString(),a.toString().length,54578)&&(i=JSON.parse(i))}catch(e){}i&&e.importPreferences&&e.importPreferences(i)}}))},I.z3j(),t.ChartEngine.getRetoggleEvents=function(e){return function({stx:i}){var a;(a=document.getElementById(e.chartId))||(a=(t.getFn("UI.getMyContext")(i.container)||{}).topNode),a||(a=document),a.querySelectorAll(`${e.selector.markersMenuItem}.ciq-active:not(.span-event)`).forEach((function(e){e.dispatchEvent(new Event("stxtap"))}))}}},s=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.drawHeatmap=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g;if(t&&t.length&&((i=e.panel)||(i="chart"),a=this.panels[i])){n=e.yAxis?e.yAxis:a.yAxis,r=this.chart.dataSegment,e.name||(e.name="Data"),e.widthFactor||(e.widthFactor=1),e.height||(e.height=Math.pow(10,1-(a.decimalPlaces||a.chart.decimalPlaces))),s="stx-float-date",o=this.chart.context,this.canvasFont(s,o),l=this.getCanvasFontSize(s),I.U16(1),h=I.R16("1",1),!e.highlight&&this.highlightedDraggable&&(h=.3),c=.5,a.chart.tmpWidth<=1&&(c=0),d=null,u=null,p=this,I.i3j(),m=null,this.startClip(i),o.globalAlpha=h;for(var f=0;f<t.length;f++)v((g=t[f]).field,g.color,g.opacity,null,e.widthFactor,g.height,g.border_color?c:-c/4,g.subField),g.border_color&&this.layout.candleWidth>=2&&v(g.field,g.border_color,g.opacity,!0,e.widthFactor,g.height,c,g.subField);o.lineWidth=1,o.globalAlpha=1,this.endClip()}function v(t,i,s,c,g,f,v,y){var b,x,C,S,T,D,w,k,L,A,M,P,O,_,F=I;o.beginPath(),o.fillStyle=i,o.strokeStyle=i,o.textAlign="center",b=p.layout.candleWidth*g,x=Math.floor(p.pixelFromBar(0,a.chart)-p.layout.candleWidth),"number"==typeof s&&(F.j16(2),o.globalAlpha=F.o16(h,s)),F.z3j(),"object"==typeof s&&(T={minOpacity:s.min||0,maxOpacity:s.max||1});for(var H=0;H<r.length;H++){if((D=r[H])&&D.candleWidth){if(0===H)x+=p.layout.candleWidth;else{F.U16(3);var q=F.o16(26,3,22,2,15);x+=(D.candleWidth+b/g)/q}b=D.candleWidth*g}else x+=p.layout.candleWidth;if(F.U16(4),C=F.o16(x,v,"2",0,b),F.j16(5),(S=F.R16(b,2,v,x))-C<2&&(F.j16(0),S=F.o16(1,C)),D&&(w=D[t])){w[y]&&(w=w[y]),"number"==typeof w&&(w=[w]);for(var E=0;E<w.length;E++){if(L=0,(k=w[E])instanceof Array){if(T){F.U16(6);var V=F.o16(17,7,1,10,3);F.U16(0);var N=F.o16(1,0);F.j16(0);var j=F.R16(2,0);o.globalAlpha=h*(k[V]*T.maxOpacity+(N-k[j])*T.minOpacity)}L=k[1],k=k[0]}A=p.pixelFromPrice(k,a,n),m||(f||(f=e.height),M=p.pixelFromPrice(k+f*(n.flipped?1:-1),a,n),o.lineWidth=1,F.j16(7),d=F.R16(M,A),F.j16(8),u=F.R16(2,d),m=o.lineWidth),c?(F.j16(7),P=F.R16(A,u),F.j16(0),O=F.R16(u,A),F.U16(7),o.rect(C,P,F.R16(S,C),F.R16(O,P))):(F.j16(7),o.fillRect(C,F.o16(A,u),F.o16(S,C),d),e.showSize&&L&&l<=d-2&&(_=o.globalAlpha,o.fillStyle=p.defaultColor,F.j16(9),o.globalAlpha=F.R16(h,0,"0.5"),F.U16(10),o.fillText(L,F.o16(S,C,2),A),o.fillStyle=i,F.j16(2),o.globalAlpha=F.o16(h,_))),T&&k instanceof Array&&(o.globalAlpha=0)}}}c&&o.stroke(),o.globalAlpha=h,o.closePath()}},t.ChartEngine.prototype.drawCandles=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,q,E,V,N,j,R=I;n="o",n+="b",n+="ject",(r=e.chart)||(r=e,e=e.chart),s=!1,o=!1,l=null,h=e.yAxis,a&&typeof a==n?(s=a.isOutline,o=a.isHistogram,l=a.field,h=a.yAxis):(s=a,o=arguments[3]),c=r.dataSegment,d=r.context,u=h.top,p=h.bottom,v=new Array(c.length),y="transparent",b="tr",b+="an",b+="s",b+="parent",x=0,R.j16(11);var z=R.R16(10,8,19);C=r.dataSet.length-r.scroll-z,S={},T=r.tmpWidth/2,D=this.layout.candleWidth,w=e.left-.5*D+this.micropixels-1;for(var U=0;U<=c.length;U++)if(k=T,R.U16(8),w+=R.o16(2,D),D=this.layout.candleWidth,R.j16(8),w+=R.R16(2,D),(L=c[U])&&(L.cache&&!r.pixelCacheExpired||(L.cache={}),!L.projection)){if(L.candleWidth){R.j16(12);var Z=R.o16(14,128341504384,27929239296,3);w+=(L.candleWidth-D)/("2"<<Z),D=L.candleWidth,(a.isVolume||D<r.tmpWidth)&&(R.j16(8),k=R.o16(2,D))}if(r.transformFunc&&h==r.panel.yAxis&&L.transform&&(L=L.transform),L&&l&&(L=L[l]),(L||0===L)&&(A=L.Close,M=void 0===L.Open?A:L.Open,o&&r.defaultPlotField&&(A=L[r.defaultPlotField]),(A||0===A)&&(o||M!=A&&null!==M)&&(P=i(this,L,s?"outline":"solid")))){if(s?y=P:b=P,S[b]=1,(O=y&&!t.isTransparent(y))&&!a.highlight&&(x=.5),d.beginPath(),d.fillStyle=b,_=L.cache,R.U16(0),(F=R.R16(U,C))<e.cacheLeft||F>e.cacheRight||!_.open){if(H=h.semiLog?h.height*(1-(Math.log(Math.max(M,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-M)*h.multiplier,q=h.semiLog?h.height*(1-(Math.log(Math.max(A,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-A)*h.multiplier,h.flipped?(R.U16(7),H=R.R16(p,H),R.U16(7),q=R.R16(p,q)):(H+=u,q+=u),v[U]=q,m=Math.floor(o?q:Math.min(H,q))+x,g=o?h.bottom:Math.max(H,q),R.U16(7),f=Math.floor(R.o16(g,m)),m<u){if(m+f<u){_.open=m,_.close=m;continue}R.j16(7),f-=R.o16(u,m),m=u}m+f>p&&(R.U16(13),f-=R.o16(m,p,f)),f=Math.max(f,2),_.open=m,_.close=_.open+f}_.open>=p||_.close<=u||(E=Math.floor(w)+(!a.highlight&&.5),V=Math.floor(E-k)+x,N=Math.round(E+k)-x,_.open!=_.close&&d.rect(V,_.open,Math.max(1,N-V),Math.max(1,_.close-_.open)),!a.highlight&&this.highlightedDraggable&&(d.globalAlpha*=.3),"transparent"!=b&&d.fill(),O&&(d.lineWidth=1,a.highlight&&(d.lineWidth*=2),d.strokeStyle=y,d.stroke()))}}for(var W in r.pixelCacheExpired=!1,j={colors:[],cache:v},S)a.hollow&&t.equals(W,this.containerColor)||j.colors.push(W);return j},t.ChartEngine.prototype.drawShadows=function(e,t,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M=I;(a=e.chart)||(a=e,e=e.chart),n=a.dataSegment,(r=this.chart.context).lineWidth=1,i.highlight&&(r.lineWidth*=2),!i.highlight&&this.highlightedDraggable&&(r.globalAlpha*=.3),s=i.field,l=(o=i.yAxis||e.yAxis).top,h=o.bottom,c=a.dataSet.length-a.scroll-1,d=this.layout.candleWidth,M.U16(14);var P=M.R16(11,11,3,3);u=e.left-.5*d+this.micropixels-P;for(var O=0;O<=n.length;O++)if(M.U16(8),u+=M.o16(2,d),d=this.layout.candleWidth,M.U16(8),u+=M.o16(2,d),(p=n[O])&&(p.cache&&!a.pixelCacheExpired||(p.cache={}),!p.projection)){if(p.candleWidth){M.j16(7);var _=M.R16(17,15);u+=(p.candleWidth-d)/_,d=p.candleWidth}if((m=t(this,p,"shadow"))&&(a.transformFunc&&o==a.panel.yAxis&&p.transform&&(p=p.transform),p&&s&&(p=p[s]),(p||0===p)&&(g=p.Close,f=void 0===p.Open?g:p.Open,v=void 0===p.High?Math.max(g,f):p.High,y=void 0===p.Low?Math.min(g,f):p.Low,g||0===g))){if(b=p.cache,M.j16(0),(x=M.R16(O,c))<e.cacheLeft||x>e.cacheRight||!b.top){if(C=o.semiLog?o.height*(1-(Math.log(Math.max(v,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-v)*o.multiplier,S=o.semiLog?o.height*(1-(Math.log(Math.max(y,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-y)*o.multiplier,o.flipped?(M.j16(7),C=M.R16(h,C),M.j16(7),S=M.o16(h,S)):(C+=l,S+=l),M.j16(7),T=M.R16(S,C),C<l){if(C+T<l){b.top=C,b.bottom=C;continue}M.j16(7),T-=M.o16(l,C),C=l}C+T>h&&(M.U16(13),T-=M.R16(C,h,T)),b.top=C,b.bottom=b.top+T}b.top>=h||b.bottom<=l||(D=Math.floor(u)+(!i.highlight&&.5),r.beginPath(),g==f&&(w=this.offset,i.isVolume&&(M.U16(8),w=M.o16(2,d)),M.U16(7),k=M.o16(D,w),M.j16(0),L=M.o16(w,D),A=o.semiLog?o.height*(1-(Math.log(Math.max(g,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-g)*o.multiplier,o.flipped?(M.j16(7),A=M.R16(h,A)):A+=l,A<=h&&A>=l&&(r.moveTo(k,A),r.lineTo(L,A))),v!=y&&(r.moveTo(D,b.top),r.lineTo(D,b.bottom)),r.strokeStyle=m,r.stroke())}}a.pixelCacheExpired=!1},t.ChartEngine.prototype.drawBarChart=function(e,i,a,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F=I;(r=e.chart)||(r=e,e=e.chart),s=r.dataSegment,o=new Array(s.length),l=r.context,(h=this.canvasStyle(i)).width&&parseInt(h.width,10)<=25?l.lineWidth=Math.max(1,t.stripPX(h.width)):(F.j16(15),l.lineWidth=F.o16(710839552,"1")),n.highlight&&(l.lineWidth*=2),!n.highlight&&this.highlightedDraggable&&(l.globalAlpha*=.3),c=n.field,u=(d=n.yAxis||e.yAxis).top,p=d.bottom,F.j16(16);var H=F.o16(4,0,4);g=r.dataSet.length-r.scroll-H,f={},F.U16(17);var q=F.o16(19,18,3,22,13);v=r.tmpWidth/q,F.j16(18);var E=F.R16(11,73,5,4);y=l.lineWidth/E,b=this.layout.candleWidth,F.U16(19);var V=F.o16(5,4,0);x=e.left-.5*b+this.micropixels-V;for(var N=0;N<=s.length;N++)if(F.U16(8),x+=F.o16(2,b),b=this.layout.candleWidth,F.U16(20),x+=F.R16(b,"2"),(C=s[N])&&(C.cache&&!r.pixelCacheExpired||(C.cache={}),!C.projection)){if(C.candleWidth){F.U16(11);var j=F.o16(3,9,14);x+=(C.candleWidth-b)/j,b=C.candleWidth}if((S=a(this,C))&&(f[S]=1,l.strokeStyle=S,l.beginPath(),r.transformFunc&&d==r.panel.yAxis&&C.transform&&(C=C.transform),C&&c&&(C=C[c]),(C||0===C)&&(T=C.Close,D=void 0===C.Open?T:C.Open,w=void 0===C.High?Math.max(T,D):C.High,k=void 0===C.Low?Math.min(T,D):C.Low,T||0===T))){if(L=C.cache,F.U16(0),(A=F.o16(N,g))<e.cacheLeft||A>e.cacheRight||!L.top){if(M=this.pixelFromTransformedValue(w,e,d),P=this.pixelFromTransformedValue(k,e,d),L.open=d.semiLog?d.height*(1-(Math.log(Math.max(D,0))/Math.LN10-d.logLow)/d.logShadow):(d.high-D)*d.multiplier,L.close=d.semiLog?d.height*(1-(Math.log(Math.max(T,0))/Math.LN10-d.logLow)/d.logShadow):(d.high-T)*d.multiplier,d.flipped?(L.open=d.bottom-L.open,L.close=d.bottom-L.close):(L.open+=d.top,L.close+=d.top),o[N]=L.close,F.j16(7),m=F.R16(P,M),M<u){if(M+m<u){L.top=M,L.bottom=M;continue}F.j16(7),m-=F.R16(u,M),M=u}M+m>p&&(F.U16(13),m-=F.o16(M,p,m)),L.top=M,F.j16(0),L.bottom=F.R16(m,M)}O=Math.floor(x)+(!n.highlight&&.5),L.top<p&&L.bottom>u&&C.High!=C.Low&&(l.moveTo(O,L.top-y),l.lineTo(O,L.bottom+y)),"hlc"!=n.type&&L.open>u&&L.open<p&&(l.moveTo(O,L.open),F.U16(7),l.lineTo(F.R16(O,v),L.open)),L.close>u&&L.close<p&&(l.moveTo(O,L.close),F.U16(0),l.lineTo(F.R16(v,O),L.close)),l.stroke()}}for(var R in l.lineWidth=1,r.pixelCacheExpired=!1,_={colors:[],cache:o},f)t.equals(R,this.containerColor)||_.colors.push(R);return _},I.z3j(),t.ChartEngine.prototype.drawWaveChart=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k=I;function L(t){return p.pixelFromTransformedValue(t,e,o)}n=(a=e.chart).dataSegment,r=new Array(n.length),s=a.context,i||(i={}),o=i.yAxis||e.yAxis,this.startClip(e.name),s.beginPath(),l=!1,h=!1,c=e.yAxis.top,d=e.yAxis.bottom,k.U16(0);var A=k.R16(1,0);u=e.left+Math.floor(-.5*A*this.layout.candleWidth+this.micropixels),p=this;for(var M=0;M<=n.length;M++)if(u+=this.layout.candleWidth,m=n[M]){if(m.projection)break;if(a.transformFunc&&o==a.panel.yAxis&&m.transform&&(m=m.transform),m&&i.field&&(m=m[i.field]),(m||0===m)&&(g=m.Close,f=void 0===m.Open?g:m.Open,v=void 0===m.High?Math.max(g,f):m.High,y=void 0===m.Low?Math.min(g,f):m.Low,g||0===g)){k.j16(0);var P=k.R16(3,0);k.U16(21);var O=k.R16(1,19,2,1,14);if(b=u-P*this.layout.candleWidth/O,(x=L(f))<c){if(x=c,h){s.moveTo(b,x);continue}h=!0}else if(x>d){if(x=d,h){s.moveTo(b,x);continue}h=!0}else h=!1;l?s.lineTo(b,x):(l=!0,(C=a.dataSet.length-a.scroll-1)<0?s.moveTo(b,x):C>=0&&((S=a.dataSet[C]).transform&&(S=S.transform),T=L(T=S.Close),T=Math.min(Math.max(T,c),d),s.moveTo(e.left+(M-1)*this.layout.candleWidth+this.micropixels,T),s.lineTo(b,x)),s.moveTo(b,x)),k.U16(7);var _=k.o16(16,12);if(b+=this.layout.candleWidth/_,f<g){(x=L(y))<c&&(x=c),x>d&&(x=d),s.lineTo(b,x),k.j16(22);var F=k.R16(4,8);b+=this.layout.candleWidth/F,(x=L(v))<c&&(x=c),x>d&&(x=d),s.lineTo(b,x)}else{(x=L(v))<c&&(x=c),x>d&&(x=d),s.lineTo(b,x),k.U16(23);var H=k.R16(2,7,14,122,17);b+=this.layout.candleWidth/H,(x=L(y))<c&&(x=c),x>d&&(x=d),s.lineTo(b,x)}k.j16(22);var q=k.R16(8,12);b+=this.layout.candleWidth/q,x=L(g),r[M]=x,x<c&&(x=c),x>d&&(x=d),s.lineTo(b,x)}}return(D=this.canvasStyle("stx_line_chart")).width&&parseInt(D.width,10)<=25?s.lineWidth=Math.max(1,t.stripPX(D.width)):s.lineWidth=1,i.highlight&&(s.lineWidth*=2),this.canvasColor("stx_line_chart"),i.color&&(s.strokeStyle=i.color),!i.highlight&&this.highlightedDraggable&&(s.globalAlpha*=.3),s.stroke(),s.closePath(),w={colors:[s.strokeStyle],cache:r},this.endClip(),k.U16(7),s.lineWidth=k.R16("1",0),w},t.ChartEngine.prototype.drawHistogram=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H=I;if(i&&i.length&&((a=e.panel)||(a="chart"),n=this.panels[a])){for(r=e.yAxis?e.yAxis:n.yAxis,s=e.type,o=this.chart.dataSegment,l=!1,h=1,c=1,u=0;u<i.length;u++)l|=i[u].border_color_up&&!t.isTransparent(i[u].border_color_up),l|=i[u].border_color_down&&!t.isTransparent(i[u].border_color_down),h=i[u].opacity_up,c=i[u].opacity_down,!e.highlight&&this.highlightedDraggable&&(h*=.3,c*=.3);!1===e.borders&&(l=!1),e.name||(e.name="Data"),p=r.multiplier,e.heightPercentage||(e.heightPercentage=.7),e.widthFactor||(e.widthFactor=.8),m=0,g=0;for(var q=0;q<this.chart.maxTicks;q++)if(f=o[q])for(v=0,u=0;u<i.length;u++)((y=f[i[u].field])||0===y)&&(d=i[u].subField||this.chart.defaultPlotField||"Close","object"==typeof y&&y[d]&&(y=y[d]),"stacked"==s?v+=y:v=y,v>m&&(m=v),v<g&&(g=v));if(0!==m||0!==g){for(x=!1,e.bindToYAxis?(r.baseline&&(g=r.baseline.value,x=!0),b=Math.floor(this.pixelFromPrice(g,n,r))+(r.flipped?-.5:.5)):(r.flipped?(b=Math.floor(r.top)-.5,C=Math.floor(r.bottom)-.5):(b=Math.floor(r.bottom)+.5,C=Math.floor(r.top)+.5),p=Math.abs(b-C)*e.heightPercentage/(m-g)),this.startClip(a),S=this.layout.candleWidth<=1||!l?0:.5,T=this.chart.context,r.flipped&&(T.translate(0,2*r.top),T.scale(1,-1)),D=Math.max(0,(1-e.widthFactor)*this.layout.candleWidth/2),w=new Array(o.length),k=[],L=this,A=1,u=0;u<i.length;u++){if(M=i[u],A=this.layout.candleWidth*e.widthFactor,D&&this.layout.candleWidth-A<=2&&(l=!1),P=0,"clustered"==s&&(P=u,A/=i.length),d=M.subField||this.chart.defaultPlotField||"Close","function"==typeof M.color_function){_={};for(var E=0;E<o.length;E++)if(o[E]){"string"==typeof(O=M.color_function(o[E]))&&(O={fill_color:O,border_color:O}),O.hasOwnProperty("border_opacity")||(O.border_opacity=O.opacity),H.U16(7);var V=H.o16(9025,15);H.U16(13);var N=H.R16(6496,19,13);(F=O.fill_color+(66.98!==V?",":N)+O.border_color)in _?_[F].positions.push(E):(O.positions=[E],_[F]=O)}for(F in _)O=_[F],j(M.field,d,O.fill_color,O.opacity,null,null,P,A,O.positions),j(M.field,d,O.border_color,O.border_opacity,!0,null,P,A,O.positions)}else j(M.field,d,M.fill_color_up,h,null,!0,P,A),j(M.field,d,M.fill_color_down,c,null,null,P,A),this.layout.candleWidth>=2&&l&&(j(M.field,d,M.border_color_up,h,!0,!0,P,A),j(M.field,d,M.border_color_down,c,!0,null,P,A));"stacked"==s&&(k=t.shallowClone(w))}T.globalAlpha=1,this.endClip()}else this.displayErrorAsWatermark(a,this.translateIf(e.name+" Not Available"))}function j(e,t,i,a,r,l,h,c,d){var u,m,f,v,y,C,A,M,P,O,_,F,I,q;a||(a=1),T.globalAlpha=a,T.beginPath(),H.U16(0),u=H.R16(.5,b),m=Math.floor(L.pixelFromBar(0,n.chart)-L.layout.candleWidth/2);for(var E=0;E<o.length;E++)if(f=k[E]||b,0===E&&(u=f),o[E]&&o[E][e]){if("object"==typeof(y=(v=o[E])[e])&&y[t]&&(y=y[t]),H.j16(9),C=H.R16(p,g,y),!isNaN(C))if(A=L.layout.candleWidth,v.candleWidth&&(A=v.candleWidth,0===E&&(m=Math.floor(L.pixelFromBar(0,n.chart)-v.candleWidth/2))),(M=Math.floor(f-C)+.5)>f&&!x&&(M=f),d&&-1==d.indexOf(E)||!d&&(l&&v.Close<v.iqPrevClose||!l&&v.Close>=v.iqPrevClose))u=M,m+=A;else{if(P=A/L.layout.candleWidth,D){H.U16(24),O=Math.round(H.R16(m,P,c,D,h)),H.U16(0),_=H.o16(r?0:S,O),H.U16(25);var V=H.R16(540562434,3603749560,3,540562431,20);F=O+Math.round(c*P)-(r?"0"<<V:S)}else H.j16(24),O=H.o16(m,P,c,D,h),_=Math.round(O)+(r?0:S),F=Math.round(O+c*P)-(r?0:S);F-_<2&&(H.U16(0),F=H.R16(1,_)),_%1==(I=r?0:.5)&&(_+=.5),F%1==I&&(F+=.5),T.moveTo(F,f),b!=f&&r&&!D&&k[E+1]&&T.moveTo(F,Math.max(M,Math.min(f,k[E+1]))),T.lineTo(F,M),T.lineTo(_,M),r&&h?(w[E]>M||0===E)&&T.lineTo(_,Math.min(f,w[E])):r&&!D&&"clustered"==s?E>0&&w[E-1]&&w[E-1]>M&&T.lineTo(_,Math.min(f,w[E-1])):r&&!D?(u>M||0===E)&&T.lineTo(_,Math.min(f,u)):T.lineTo(_,f),u=M,m+=A,("clustered"!=s||r)&&(w[E]=M)}}else u=f,m+=L.layout.candleWidth;if(r){T.strokeStyle=i&&"auto"!=i?i:L.defaultColor,H.U16(7),q=H.R16("2",0);for(var N=1;849942239!==H.x3D(N.toString(),N.toString().length,1720);N++)T.stroke(),q+=2;-1077418476!==H.v7D(q.toString(),q.toString().length,91130)&&T.stroke(),T.stroke()}else T.fillStyle=i&&"auto"!=i?i:L.defaultColor,T.fill();T.closePath()}},t.ChartEngine.prototype.scatter=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x=I;a=(i=e.chart).dataSegment,n=new Array(a.length),r=this.chart.context,this.canvasColor("stx_scatter_chart"),t||(t={}),s=t.field||i.defaultPlotField,o=t.yAxis||e.yAxis,l=t.subField||i.defaultPlotField||"Close",this.startClip(e.name),r.beginPath(),r.lineWidth=t.lineWidth||4,t.highlight&&(r.lineWidth*=2),!t.highlight&&this.highlightedDraggable&&(r.globalAlpha*=.3),x.i3j(),t.color&&(r.strokeStyle=t.color),h=o.top,c=o.bottom,d=this.layout.candleWidth,x.j16(19);var C=x.o16(13,12,0);u=e.left-.5*d+this.micropixels-C;for(var S=0;S<=a.length;S++)if(x.j16(8),u+=x.o16(2,d),d=this.layout.candleWidth,x.j16(8),u+=x.o16(2,d),p=a[S]){if(p.candleWidth){x.j16(26);var T=x.R16(6,116,14,12,17);u+=(p.candleWidth-d)/T,d=p.candleWidth}if(!p.projection){i.transformFunc&&o==i.panel.yAxis&&p.transform&&(p=p.transform),(m=p[s])&&void 0!==m[l]&&(m=m[l]),m instanceof Array||(m=[m]),"Scatter"in p&&(m=p.Scatter);for(var D=0;D<m.length;D++)(m[D]||0===m[D])&&(g=m[D],f=0,m[D]instanceof Array&&(g=m[D][0],f=m[D][2]),v=o.semiLog?o.height*(1-(Math.log(Math.max(g,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-g)*o.multiplier,o.flipped?(x.U16(7),v=x.R16(c,v)):v+=h,v<h||v>c||(y=2,f&&(x.j16(2),y=x.R16(f,d)),x.j16(7),r.moveTo(x.o16(u,y),v),x.U16(0),r.lineTo(x.o16(y,u),v),n[S]=v))}}return r.stroke(),r.closePath(),b={colors:[r.strokeStyle],cache:n},this.endClip(),r.lineWidth=1,b}},I.i3j(),o=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.ChartEngine.drawingTools={},t.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!0,fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},fibs:[{level:-.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}},volumeProfile:{priceBuckets:30},annotation:{font:{style:null,size:null,weight:null,family:null}}},t.ChartEngine.registerDrawingTool=function(e,i){I.i3j(),t.ChartEngine.drawingTools[e]=i},t.ChartEngine.prototype.setDrawingContainer=function(e){this.drawingContainer=e},t.ChartEngine.prototype.exportDrawings=function(){var e;e=[];for(var t=0;t<this.drawingObjects.length;t++)e.push(this.drawingObjects[t].serialize());return e},t.ChartEngine.prototype.abortDrawings=function(e){var t;!1!==e&&(e=!0);for(var i=this.drawingObjects.length-1;i>=0;i--)(t=this.drawingObjects[i]).abort(!0),!e&&t.permanent||this.drawingObjects.splice(i,1)},t.ChartEngine.prototype.importDrawings=function(e){var i,a,n;if(t.Drawing)for(var r=0;r<e.length;r++)"fibonacci"==(i=e[r]).name&&(i.name="retracement"),(a=t.ChartEngine.drawingTools[i.name])||t.Drawing[i.name]&&(a=t.Drawing[i.name],t.ChartEngine.registerDrawingTool(i.name,a)),a&&((n=new a).reconstruct(this,i),this.drawingObjects.push(n))},t.ChartEngine.prototype.clearDrawings=function(e,i){var a,n;!1!==i&&(i=!0),a=this.exportDrawings(),this.abortDrawings(i),e?this.undoStamps=[]:this.undoStamp(a,this.exportDrawings()),this.changeOccurred("vector"),this.cancelTouchSingleClick=!0,t.clearCanvas(this.chart.tempCanvas,this),this.draw(),(n=this.controls.mSticky)&&(n.style.display="none",n.children[0].innerHTML="")},t.ChartEngine.prototype.createDrawing=function(e,i){var a,n;if(I.z3j(),t.Drawing){for(var r in(a=new t.Drawing[e]).reconstruct(this,i),(n=new t.Drawing[e]).stx=this,n.copyConfig(),n)a[r]=a[r]||n[r];return this.drawingObjects.push(a),this.draw(),a}},t.ChartEngine.prototype.removeDrawing=function(e){for(var t=0;t<this.drawingObjects.length;t++)if(this.drawingObjects[t]==e)return this.drawingObjects.splice(t,1),this.changeOccurred("vector"),void this.draw()},t.ChartEngine.prototype.undo=function(){var e,i;this.runPrepend("undo",arguments)||(this.activeDrawing&&(e="stx_cr",e+="o",e+="s",e+="shair_drawing",i="stx_crosshair_drawi",i+="ng",this.activeDrawing.abort(),this.activeDrawing.hidden=!1,this.drawingSnapshot=null,this.activateDrawing(null),t.clearCanvas(this.chart.tempCanvas,this),this.draw(),this.controls.crossX.classList.replace(i,"stx_crosshair"),this.controls.crossY.classList.replace(e,"stx_crosshair"),t.ChartEngine.drawingLine=!1),this.runAppend("undo",arguments))},t.ChartEngine.prototype.undoStamp=function(e,t){this.undoStamps.push(e),this.dispatch("undoStamp",{before:e,after:t,stx:this})},t.ChartEngine.prototype.undoLast=function(){this.activeDrawing?this.undo():this.undoStamps.length&&(this.drawingObjects=[],this.importDrawings(this.undoStamps.pop()),this.changeOccurred("vector"),this.draw())},t.ChartEngine.prototype.addDrawing=function(e){var t;t=this.exportDrawings(),I.i3j(),this.drawingObjects.push(e),this.undoStamp(t,this.exportDrawings())},t.ChartEngine.prototype.repositionDrawing=function(e,i){var a,n,r;this.currentPanel.name==e.panelName&&(a=this.panels[e.panelName],n=this.adjustIfNecessary(a,this.crosshairTick,e.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),a,this.getYAxisByField(a,e.field))),r=this.chart.tempCanvas,t.clearCanvas(r,this),i?(this.drawingSnapshot=this.exportDrawings(),e.render(r.context)):(e.reposition(r.context,e.repositioner,this.crosshairTick,n),this.drawingSnapshot&&this.undoStamp(t.shallowClone(this.drawingSnapshot),this.exportDrawings()),this.drawingSnapshot=null),I.z3j(),e.measure&&e.measure())},t.ChartEngine.prototype.activateRepositioning=function(e){this.repositioningDrawing=e,e&&(this.draw(),this.repositionDrawing(e,!0)),this.chart.tempCanvas.style.display=e?"block":"none"},t.ChartEngine.prototype.activateDrawing=function(e,i){var a;if(i||(i=this.currentPanel),this.drawingSnapshot=null,!e)return this.activeDrawing=null,this.chart.tempCanvas.style.display="none",n(this),!1;if((a=t.ChartEngine.drawingTools[e])||t.Drawing[e]&&(a=t.Drawing[e],t.ChartEngine.registerDrawingTool(e,a)),a&&(this.activeDrawing=new a,this.activeDrawing.construct(this,i),!this.charts[i.name]&&this.activeDrawing.chartsOnly))return this.activeDrawing=null,n(this),!1;function n(e){var t;e.layout.studies&&(t=e.layout.studies[i.name])&&!t.overlay&&delete e.overlays[t.name]}return I.i3j(),this.chart.tempCanvas.style.display="block",this.controls.drawOk&&(this.controls.drawOk.style.display="none"),n(this),!0},t.ChartEngine.prototype.drawingClick=function(e,i,a){var n,r,s,o,l,h,c,d,u;if(t.Drawing&&e&&""===this.openDialog&&(this.activeDrawing||this.activateDrawing(this.currentVectorParameters.vectorType,e))){if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw)return void(t.ChartEngine.drawingLine||this.activateDrawing(null));if(!this.activeDrawing.p0){if(n="L",n+="ow",r="H",r+="i",r+="g",r+="h",s="O",s+="p",s+="e",s+="n",o=this.highlightedDataSetField,null!==this.magnetizedPrice&&(e!==this.chart.panel||[s,r,n,"Close"].indexOf(this.magneticHold)<0)&&(o=t.getObjectChainRoot(this.magneticHold)),!o&&e!=this.chart.panel){for(var p in this.chart.seriesRenderers)if((l=this.chart.seriesRenderers[p]).params.panel==e.name){o=l.seriesParams[0].field;break}for(var m in this.layout.studies)if((h=this.layout.studies[m]).panel==e.name){o=Object.keys(h.outputMap)[0];break}}this.activeDrawing.field=o}return c=this.tickFromPixel(i,e.chart),d=this.panels[this.activeDrawing.panelName],u=this.magnetizedPrice||0===this.magnetizedPrice?this.adjustIfNecessary(d,c,this.magnetizedPrice):this.adjustIfNecessary(d,c,this.activeDrawing.valueFromPixel(a,d,this.getYAxisByField(d,this.activeDrawing.field))),this.activeDrawing.click(this.chart.tempCanvas.context,c,u)?this.activeDrawing&&(t.ChartEngine.drawingLine=!1,t.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),this.activateDrawing(null),this.adjustDrawings(),this.draw(),this.changeOccurred("vector"),this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair"),this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair")):(this.changeOccurred("drawing"),t.ChartEngine.drawingLine=!0,this.controls.crossX.classList.replace("stx_crosshair","stx_crosshair_drawing"),this.controls.crossY.classList.replace("stx_crosshair","stx_crosshair_drawing")),!0}return!1}},t.ChartEngine.prototype.rightClickDrawing=function(e,t){var i,a,n,r,s,o,l,h,c=I;if(i="rightC",i+="li",i+="ckD",i+="rawing",!this.runPrepend("rightClickDrawing",arguments)){a=1662975755,n=722635562,c.j16(2),r=c.o16(1,"2");for(var d=1;c.v7D(d.toString(),d.toString().length,46983)!==a;d++){if(e.permanent)return;c.U16(15),r+=c.o16(935971232,"2")}if(c.x3D(r.toString(),r.toString().length,12048)===n||!e.permanent){if(this.callbackListeners.drawingEdit.length){s=-1364831897,o=-103630385,l=2;for(var u=1;c.v7D(u.toString(),u.toString().length,34799)!==s;u++)this.dispatch("",{stx:this,drawing:e,forceEdit:t}),c.U16(27),l+=c.R16("2",2147483647);c.v7D(l.toString(),l.toString().length,9552)!==o&&this.dispatch("",{stx:this,drawing:e,forceEdit:t}),this.dispatch("drawingEdit",{stx:this,drawing:e,forceEdit:t})}else e.abort()||(h=this.exportDrawings(),this.removeDrawing(e),this.undoStamp(h,this.exportDrawings())),this.changeOccurred("vector");this.runAppend(i,arguments)}}},t.ChartEngine.prototype.magnetize=function(){var e,i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D=I;if(e="mag",e+="netize",i="Cl",i+="ose",a="Hi",a+="g",a+="h",n=this,this.magnetizedPrice=null,this.preferences.magnet&&!this.runPrepend("magnetize",arguments)&&!this.repositioningDrawing&&(r=this.currentVectorParameters.vectorType)&&"projection"!=r&&"freeform"!=r&&("annotation"!=r&&"callout"!=r||!t.ChartEngine.drawingLine)&&(s=this.activeDrawing?this.panels[this.activeDrawing.panelName]:this.currentPanel,o=s.chart,!((l=this.crosshairTick)>o.dataSet.length)&&(h=o.dataSet[l]))){if(d=this.getRenderedItems(),u=["Open",a,"Low",i],this.activeDrawing&&this.activeDrawing.penDown){if(!this.magneticHold)return;d=-1!=u.indexOf(this.magneticHold)&&-1!=d.indexOf("High")?u:[this.magneticHold]}else this.magneticHold=null;D.U16(15),p=D.R16(297319040,"1000000000"),m=parseFloat(this.preferences.magnet);for(var w=0;w<d.length;w++)if(g=this.getYAxisByField(s,d[w])||s.yAxis,(f=o.transformFunc&&g===o.yAxis)&&h.transform&&(h=h.transform),v=h[d[w]],(y=t.existsInObjectChain(h,d[w]))&&(v=y.obj[y.member]),(v||0===v)&&(b=this.pixelFromTransformedValue(v,s,g),Math.abs(this.cy-b)<p)){if(p=Math.abs(this.cy-b),m&&m<=p)continue;this.magnetizedPrice=v,f&&function(){var e,i;e=o.untransformFunc,i=t.getObjectChainRoot(d[w]),e&&o.series[i]&&(o.untransformFunc=(t,a,n,r)=>e(t,a,n,r,i)),n.magnetizedPrice=n.valueFromPixel(b,s),o.untransformFunc=e}(),c=b,this.magneticHold=d[w]}x=this.pixelFromTick(l,o),C=c,t.clearCanvas(o.tempCanvas,this),(S=o.tempCanvas.context).beginPath(),S.lineWidth=1,D.j16(28);var k=D.o16(12,72,5);D.j16(29);var L=D.o16(11,173,16);T=Math.max(this.layout.candleWidth,k)/L,S.arc(x,C,Math.min(T,8),0,2*Math.PI,!1),S.fillStyle="#398dff",S.strokeStyle="#398dff",S.fill(),S.stroke(),S.closePath(),o.tempCanvas.style.display="block",this.anyHighlighted&&this.container.classList.remove("stx-draggable"),this.activeDrawing&&this.activeDrawing.move(S,this.crosshairTick,this.activeDrawing.valueFromPixel(C,s,this.getYAxisByField(s,this.activeDrawing.field))),this.runAppend(e,arguments)}},t.ChartEngine.prototype.changeVectorType=function(e){var i,a;if(this.currentVectorParameters.vectorType=e,t.Drawing&&t.Drawing.initializeSettings(this,e),t.ChartEngine.drawingLine&&this.undo(),!this.container.classList.contains("stx-crosshair-on")&&e){var{chart:n,left:r,top:s}=this;i=n.width/2+r+n.left,I.j16(30);var o=I.R16(2,18,9,3);a=n.height/o+s+n.top,this.mousemoveinner(i,a)}this.doDisplayCrosshairs()},t.ChartEngine.prototype.changeVectorParameter=function(e,t){var i;return I.i3j(),"axisLabel"==e?t="true"===t.toString()||Number(t):"lineWidth"==e?t=Number(t):"fontSize"==e&&(t=parseInt(t,10)+"px"),(void 0!==(i=this.currentVectorParameters)[e]||"font"==e.substr(0,4)&&("family"==(e=e.substr(4).toLowerCase())&&"default"==t.toLowerCase()&&(t=null),void 0!==(i=i.annotation.font)[e]))&&(i[e]=t,!0)},t.ChartEngine.prototype.drawVectors=function(){var e,t,i,a,n;if(!this.vectorsShowing&&(I.z3j(),!this.runPrepend("drawVectors",arguments))){if(this.vectorsShowing=!0,!this.chart.hideDrawings&&!this.highlightedDraggable){for(e={},i=0;i<this.drawingObjects.length;i++)(a=this.drawingObjects[i]).hidden||this.repositioningDrawing!==a&&(t=a.panelName,this.panels[a.panelName]&&!this.panels[a.panelName].hidden&&(e[t]||(e[t]=[]),e[t].push(a)));for(t in e){for(this.startClip(t),n=e[t],i=0;i<n.length;i++)n[i].render(this.chart.context);this.endClip()}}this.runAppend("drawVectors",arguments)}},t.ChartEngine.prototype.adjustDrawings=function(){for(var e,t=0;t<this.drawingObjects.length;t++)e=this.drawingObjects[t],this.panels[e.panelName]&&e.adjust()},t.Drawing=t.Drawing||function(){I.i3j(),this.chartsOnly=!1,this.penDown=!1},t.Drawing.getDrawingParameters=function(e,i){var a,n,r,s;try{a=new t.Drawing[i]}catch(e){}if(!a)return null;a.stx=e,a.copyConfig(!0),n={},I.z3j(),r=a.configs;for(var o=0;o<r.length;o++)n[r[o]]=a[r[o]];return(s=e.canvasStyle("stx_annotation"))&&n.font&&(n.font.size=s.fontSize,n.font.family=s.fontFamily,n.font.style=s.fontStyle,n.font.weight=s.fontWeight),n},t.Drawing.saveConfig=function(e,i){var a,n;i&&((a=e.preferences).drawings||(a.drawings={}),a.drawings[i]={},(n=new t.Drawing[i]).stx=e,t.Drawing.copyConfig(n),n.configs.forEach((function(e){I.z3j(),a.drawings[i][e]=n[e]})),I.z3j(),e.changeOccurred("preferences"))},t.Drawing.restoreDefaultConfig=function(e,i,a){I.z3j(),a?e.preferences.drawings=null:e.preferences.drawings[i]=null,e.changeOccurred("preferences"),e.currentVectorParameters=t.clone(t.ChartEngine.currentVectorParameters),e.currentVectorParameters.vectorType=i},t.Drawing.initializeSettings=function(e,i){var a,n;I.i3j(),(a=t.Drawing[i])&&(n=new a).initializeSettings&&n.initializeSettings(e)},t.Drawing.updateSource=function(e,t,i,a){var n,r;if(t){for(var s in n=!1,e.drawingObjects)(r=e.drawingObjects[s]).field&&(i?r.field==t?(r.field=i,n=!0):r.field.indexOf(t)>-1&&-1==r.field.indexOf(t+"-")&&(r.field=r.field.replace(t,i),n=!0):r.field.split("--\x3e")[0]!=t&&r.panelName!=t||(r.panelName=a,n=!0));n&&e.changeOccurred("vector")}},t.Drawing.prototype.copyConfig=function(e){t.Drawing.copyConfig(this,e)},t.Drawing.copyConfig=function(e,i){var a,n,r,s,o,l;a=2;for(var h=1;1042729702!==I.x3D(h.toString(),h.toString().length,58444);h++)n=e.stx.currentVectorParameters,a+=2;for(-336843408!==I.x3D(a.toString(),a.toString().length,96468)&&(n=e.stx.currentVectorParameters),r=e.configs,s=0;s<r.length;s++)"color"==(o=r[s])?e.color=n.currentColor:"parameters"==o?e.parameters=t.clone(n.fibonacci):"font"==o?e.font=t.clone(n.annotation.font):e[o]=n[o];if(i&&(l=e.stx.preferences)&&l.drawings)for(t.extend(e,l.drawings[n.vectorType]),s=0;s<r.length;s++)"color"==(o=r[s])?n.currentColor=e.color:"parameters"==o?n.fibonacci=t.clone(e.parameters):"font"==o?n.annotation.font=t.clone(e.font):n[o]=e[o]},t.Drawing.prototype.dragToDraw=!1,t.Drawing.prototype.permanent=!1,t.Drawing.prototype.chartsOnly=!1,t.Drawing.prototype.abort=function(e){},t.Drawing.prototype.measure=function(){},t.Drawing.prototype.construct=function(e,t){I.i3j(),this.stx=e,this.panelName=t.name},t.Drawing.prototype.render=function(e){I.z3j(),console.warn("must implement render function!")},t.Drawing.prototype.click=function(e,t,i){console.warn("must implement click function!")},t.Drawing.prototype.move=function(e,t,i){console.warn("must implement move function!")},t.Drawing.prototype.reposition=function(e,t,i,a){},t.Drawing.prototype.intersected=function(e,t,i){I.i3j(),console.warn("must implement intersected function!")},t.Drawing.prototype.reconstruct=function(e,t){console.warn("must implement reconstruct function!")},I.z3j(),t.Drawing.prototype.serialize=function(){I.i3j(),console.warn("must implement serialize function!")},t.Drawing.prototype.adjust=function(){console.warn("must implement adjust function!")},t.Drawing.prototype.highlight=function(e){(e&&!this.highlighted||!e&&this.highlighted)&&(this.highlighted=e),I.i3j();for(var t=1;1611890900!==I.v7D(t.toString(),t.toString().length,38213);t++)return this.highlighted;if(-160642618!==I.x3D(2..toString(),2..toString().length,48167))return this.highlighted},t.Drawing.prototype.littleCircleRadius=function(){return I.z3j(),6},t.Drawing.prototype.littleCircle=function(e,i,a,n){var r,s;this.permanent||(r=this.stx.defaultColor,s=t.chooseForegroundColor(r),e.beginPath(),e.lineWidth=1,e.arc(i,a,this.littleCircleRadius(),0,2*Math.PI,!1),I.z3j(),e.fillStyle=n?r:s,e.strokeStyle=r,e.setLineDash([]),e.fill(),e.stroke(),e.closePath())},t.Drawing.prototype.rotator=function(e,t,i,a){var n,r,s,o=I;this.permanent||(n=this.littleCircleRadius(),r=this.stx.defaultColor,e.beginPath(),e.lineWidth=2,a||(e.globalAlpha=.5),o.j16(0),s=o.o16(n,4),e.arc(t,i,s,0,3*Math.PI/2,!1),o.U16(31),e.moveTo(o.R16(s,2,t),o.R16(2,i,o.j16(0))),o.j16(0),e.lineTo(o.o16(s,t),i),o.U16(32),e.lineTo(o.o16("2",s,t),o.R16(2,i,o.U16(0))),o.j16(7),e.moveTo(o.R16(t,2),o.R16(i,s,2,o.U16(13))),o.U16(7),e.lineTo(t,o.o16(i,s)),o.j16(7),e.lineTo(o.o16(t,2),o.R16(2,s,i,o.j16(33))),e.strokeStyle=r,e.stroke(),e.closePath(),o.U16(34),e.globalAlpha=o.o16(0,"1"))},t.Drawing.prototype.mover=function(e,t,i,a){var n,r,s,o=I;if(!this.permanent){n=this.littleCircleRadius(),r=this.stx.defaultColor,o.U16(0),s=o.R16(1,n),e.save(),o.U16(1),e.lineWidth=o.R16("2",2),e.strokeStyle=r,e.translate(t,i),o.i3j(),a||(e.globalAlpha=.5);for(var l=0;l<4;l++)e.rotate(Math.PI/2),e.beginPath(),e.moveTo(0,s),o.j16(0),e.lineTo(0,o.R16(5,s)),o.U16(13),e.moveTo(-2,o.o16(s,2,5)),o.j16(0),e.lineTo(0,o.R16(5,s)),o.j16(35),e.lineTo(o.o16(1509847648,"2"),o.o16(s,2,5,o.U16(13))),e.closePath(),e.stroke();e.globalAlpha=1,e.restore()}},t.Drawing.prototype.resizer=function(e,t,i,a){var n,r,s,o,l=I;if(!this.permanent){n=this.littleCircleRadius(),r=this.stx.defaultColor,l.U16(36);var h=l.o16(1341,8,8,14,95);l.U16(22);var c=l.o16(10,12);s=h*Math.sqrt(c),l.j16(0),o=l.o16(1,n),e.save(),e.lineWidth=2,e.strokeStyle=r,e.translate(t,i),e.rotate(-t*i/Math.abs(t*i)*Math.PI/4),a||(e.globalAlpha=.5);for(var d=0;d<2;d++)e.rotate(Math.PI),e.beginPath(),e.moveTo(0,o),l.U16(0),e.lineTo(0,l.o16(s,o)),l.j16(37),e.moveTo(-2,l.o16("2",o,s)),l.U16(0),e.lineTo(0,l.R16(s,o)),l.j16(13),e.lineTo(2,l.o16(o,2,s)),e.closePath(),e.stroke();e.globalAlpha=1,e.restore()}},t.Drawing.prototype.pointIntersection=function(e,t,i,a){var n,r;if(!(r=(n=this.stx).panels[this.panelName]))return!1;if(this.field&&!a&&(t=this.pixelFromValue(r,e,t,n.getYAxisByField(r,this.field)),e=n.pixelFromTick(e,r.chart),a=!0),a){if(e>=i.cx0&&e<=i.cx1&&t>=i.cy0&&t<=i.cy1)return!0}else if(e>=i.x0&&e<=i.x1&&t>=Math.min(i.y0,i.y1)&&t<=Math.max(i.y0,i.y1))return!0;return!1},t.Drawing.prototype.setPoint=function(e,i,a,n){var r,s,o,l,h,c,d,u,p=I,{stx:m}=this,{maxTicks:g=100,dataSet:f=[]}=n||m.chart||{};r=-g,p.U16(33);var v=p.o16(2,6,9);s=f.length-v+g,p.z3j(),o=null,l=null,"number"==typeof i?o=i:i.length>=8?l=i:o=Number(i),(a||0===a)&&(p.U16(0),this[p.o16(e,"v")]=a),null!==o?(o=Math.max(o,r),o=Math.min(o,s),h=m.dateFromTick(o,n,!0),p.U16(0),this[p.o16(e,"tzo")]=h.getTimezoneOffset(),p.j16(0),this[p.R16(e,"d")]=t.yyyymmddhhmmssmmm(h),p.j16(0),this[p.o16(e,"p")]=[o,a]):null!==l&&(c=t.strToDateTime(l),this["tzo"+e]||0===this["tzo"+e]||(p.j16(0),this[p.R16(e,"tzo")]=c.getTimezoneOffset()),p.U16(0),this[p.R16(e,"d")]=l,d=this["tzo"+e]-c.getTimezoneOffset(),c.setMinutes(c.getMinutes()+d),u=!1,"freeform"==this.name||t.ChartEngine.isDailyInterval(m.layout.interval)||c.getHours()||c.getMinutes()||c.getSeconds()||c.getMilliseconds()||(u=!0),p.U16(0),this[p.R16(e,"p")]=[m.tickFromDate(t.yyyymmddhhmmssmmm(c),n,null,u),a])},t.Drawing.prototype.getLineColor=function(e,i){var a,n,r,s,o,l,h,c,d;if(e||(e=this.color),a=this.stx,n=e,!i&&this.highlighted)n=a.getCanvasColor("stx_highlight_vector");else if(t.isTransparent(n))n=a.defaultColor;else if("auto"==n&&(n=a.defaultColor,this.field)){for(r in a.layout.studies)if(o=(s=a.layout.studies[r]).outputs[s.outputMap[this.field]]){n=o.color||o;break}for(r in a.chart.seriesRenderers){h=a.chart.seriesRenderers[r];for(var u=0;u<h.seriesParams.length;u++){if((d=(c=h.seriesParams[u]).field)||h.highLowBars||(d=this.defaultPlotField||"Close"),c.symbol&&c.subField&&(d+="--\x3e"+c.subField),this.field==d){n=c.color;break}c.field&&c.field==this.field.split("--\x3e")[0]&&(l=c.color)}}l&&(n=l)}return"auto"==n&&(n=a.defaultColor),n},t.Drawing.prototype.valueFromPixel=function(e,t,i){var a,n,r;return a=t.chart.untransformFunc,I.z3j(),n=this.field,a&&t.chart.series[n]&&(t.chart.untransformFunc=(e,t,i,r)=>a(e,t,i,r,n)),r=this.stx.valueFromPixel(e,t,i),t.chart.untransformFunc=a,r},t.Drawing.prototype.pixelFromValue=function(e,t,i,a){var n,r,s;return n=e.chart.transformFunc,r=this.field,n&&e.chart.series[r]&&(e.chart.transformFunc=(e,t,i,a)=>(I.i3j(),n(e,t,i,a,r))),s=this.stx.pixelFromValueAdjusted(e,t,i,a),e.chart.transformFunc=n,s},t.Drawing.prototype.boxToPixels=function(e,i,a,n){var r,s,o,l;return r=e.panels[i],s=r.chart.transformFunc,o=this.field,s&&r.chart.series[o]&&(r.chart.transformFunc=(e,t,i,a)=>s(e,t,i,a,o)),l=t.convertBoxToPixels(e,i,a,n),r.chart.transformFunc=s,l},t.Drawing.BaseTwoPoint=function(){this.p0=null,I.i3j(),this.p1=null,this.color=""},t.inheritsFrom(t.Drawing.BaseTwoPoint,t.Drawing),t.Drawing.BaseTwoPoint.prototype.configs=[],t.Drawing.BaseTwoPoint.prototype.lineIntersection=function(e,i,a,n,r,s,o){var l,h;return I.z3j(),r||(r=this.p0),s||(s=this.p1),l=this.stx,!(!r||!s)&&void 0!==a.cx0&&(h={x0:r[0],x1:s[0],y0:r[1],y1:s[1]},o||(h=this.boxToPixels(l,this.panelName,h,l.getYAxisByField(l.panels[this.panelName],this.field))),t.boxIntersects(a.cx0,a.cy0,a.cx1,a.cy1,h.x0,h.y0,h.x1,h.y1,n))},t.Drawing.BaseTwoPoint.prototype.boxIntersection=function(e,t,i){var a,n;if(!this.p0||!this.p1)return!1;var{x0:r,x1:s,y0:o,y1:l,cy0:h,cy1:c}=i;if(r>Math.max(this.p0[0],this.p1[0])||s<Math.min(this.p0[0],this.p1[0]))return!1;var{field:d,panelName:u,stx:p}=this;return d&&(a=p.panels[u],n=p.getYAxisByField(a,d),o=this.valueFromPixel(h,a,n),l=this.valueFromPixel(c,a,n)),!(l>Math.max(this.p0[1],this.p1[1])||o<Math.min(this.p0[1],this.p1[1]))},t.Drawing.BaseTwoPoint.prototype.accidentalClick=function(e,t){var i,a,n,r,s,o,l,h,c,d=I;if(a=(i=this.stx).panels[this.panelName],n=i.pixelFromTick(this.p0[0],a.chart),r=i.pixelFromTick(e,a.chart),s=i.getYAxisByField(a,this.field),o=this.pixelFromValue(a,this.p0[0],this.p0[1],s),l=this.pixelFromValue(a,e,t,s),d.U16(7),h=Math.abs(d.R16(r,n)),d.j16(7),c=Math.abs(d.o16(l,o)),d.U16(38),Math.sqrt(d.o16(h,c,c,h))<10)return this.penDown=!1,this.dragToDraw&&i.undo(),!0},t.Drawing.BaseTwoPoint.prototype.click=function(e,t,i){var a;return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(t,i)?this.dragToDraw:(this.setPoint(1,t,i,a.chart),this.penDown=!1,!0):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1)},t.Drawing.BaseTwoPoint.prototype.adjust=function(){var e;I.z3j(),(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart))},t.Drawing.BaseTwoPoint.prototype.move=function(e,t,i){this.penDown&&(this.copyConfig(),this.p1=[t,i],this.render(e))},t.Drawing.BaseTwoPoint.prototype.measure=function(){var e,i,a,n;e=this.stx,this.p0&&this.p1&&(e.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0,this.name),(a=(i=e.controls.mSticky)&&i.querySelector(".mStickyInterior"))&&((n=[]).push(t.capitalize(this.name)),this.getYValue&&n.push(this.field||e.defaultPlotField||"Close"),n.push(a.innerHTML),a.innerHTML=n.join("<br>")))},t.Drawing.BaseTwoPoint.prototype.reposition=function(e,t,i,a){var n,r,s;t&&(n=this.stx.panels[this.panelName],I.z3j(),r=t.tick-i,s=t.value-a,"move"==t.action?(this.setPoint(0,t.p0[0]-r,t.p0[1]-s,n.chart),this.setPoint(1,t.p1[0]-r,t.p1[1]-s,n.chart),this.render(e)):"drag"==t.action&&(this[t.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],n.chart),this.setPoint(1,this.p1[0],this.p1[1],n.chart),this.render(e)))},t.Drawing.BaseTwoPoint.prototype.drawDropZone=function(e,t,i,a,n){var r,s,o,l,h,c,d,u=I;(r=this.stx.panels[this.panelName])&&(s=this.stx,u.i3j(),o=r.left,l=r.width,(a||0===a)&&(o=s.pixelFromTick(a,r.chart)),(n||0===n)&&(l=s.pixelFromTick(n,r.chart)),h=s.getYAxisByField(r,this.field),c=this.pixelFromValue(r,a,t,h),d=this.pixelFromValue(r,n,i,h),e.fillStyle="#008000",e.globalAlpha=.2,u.U16(7),e.fillRect(o,c,u.R16(l,o),u.o16(d,c)),e.globalAlpha=1)},t.Drawing.BaseTwoPoint.prototype.valueOnDrawingAxis=function(e,t){var i,{stx:a,panelName:n,field:r}=this;return i=a.panels[n],this.valueFromPixel(a.pixelFromValueAdjusted(i,e,t),i,a.getYAxisByField(i,r))},t.Drawing.annotation=function(){this.name="annotation",this.arr=[],this.w=0,this.h=0,this.padding=5,this.text="",this.ta=null,this.border=!0,this.fontSize=0,this.font={},this.defaultWidth=25,this.whitespace=30,this.fontModifier=3},t.inheritsFrom(t.Drawing.annotation,t.Drawing.BaseTwoPoint),t.Drawing.annotation.prototype.getFontString=function(){var e,t;for(var i in this.fontDef={style:null,weight:null,size:"12px",family:null},(e=this.stx.canvasStyle("stx_annotation"))&&(e.fontStyle&&(this.fontDef.style=e.fontStyle),e.fontWeight&&(this.fontDef.weight=e.fontWeight),e.fontSize&&(this.fontDef.size=e.fontSize),e.fontFamily&&(this.fontDef.family=e.fontFamily)),this.font.style&&(this.fontDef.style=this.font.style),this.font.weight&&(this.fontDef.weight=this.font.weight),this.font.size&&(this.fontDef.size=this.font.size),this.font.family&&(this.fontDef.family=this.font.family),this.fontString="",t=!0,this.fontDef)this.fontDef[i]&&(t?t=!1:this.fontString+=" ",this.fontString+=this.fontDef[i])},t.Drawing.annotation.prototype.configs=["color","font"],t.Drawing.annotation.prototype.measure=function(){},t.Drawing.annotation.prototype.render=function(e){var t,i,a,n,r,s,o,l,h,c,d,u,p,m,g,f=I;if(!this.ta&&(i=(t=this.stx).panels[this.panelName],a=t.getYAxisByField(i,this.field),i&&(!this.field||a))){if(n=t.pixelFromTick(this.p0[0],i.chart),r=this.pixelFromValue(i,this.p0[0],this.p0[1],a),e.font=this.fontString,e.textBaseline="middle",s=n,o=r,l=this.w,h=this.h,c=this.getLineColor(),this.stem&&(this.stem.d?(d=t.pixelFromTick(this.stem.t),p=this.pixelFromValue(i,this.stem.t,this.stem.v,a),f.U16(39),u=f.R16(2,s,l),f.j16(39),m=f.o16(2,o,h)):this.stem.x&&(d=s,p=o,s+=this.stem.x,o+=this.stem.y,f.j16(39),u=f.R16(2,s,l),f.j16(39),m=f.o16(2,o,h)),e.beginPath(),this.borderColor?e.strokeStyle=this.borderColor:e.strokeStyle=c,e.moveTo(d,p),e.lineTo(u,m),e.stroke()),g=e.lineWidth,this.highlighted?(t.canvasColor("stx_annotation_highlight_bg",e),f.U16(7),e.fillRect(f.R16(s,g),f.o16(o,h,g,2,f.j16(40)),f.o16(2,l,g,f.U16(41)),f.R16(2,h,g,f.j16(41)))):this.fillColor?(e.fillStyle=this.fillColor,f.U16(42),e.fillRect(s,f.o16(o,2,h),l,h)):this.stem&&(e.fillStyle=t.containerColor,f.j16(42),e.fillRect(s,f.R16(o,2,h),l,h)),this.borderColor&&(e.beginPath(),e.strokeStyle=this.highlighted?t.getCanvasColor("stx_highlight_vector"):this.borderColor,f.j16(7),e.rect(f.R16(s,g),f.o16(o,h,g,2,f.U16(40)),f.R16(2,l,g,f.U16(41)),f.o16(2,h,g,f.j16(41))),e.stroke()),this.highlighted?t.canvasColor("stx_annotation_highlight",e):e.fillStyle=c,o+=this.padding/2,!this.ta)for(var v=0;v<this.arr.length;v++){e.fillText(this.arr[v],s+this.padding,o-h/2+this.fontSize/2),f.U16(43);var y=f.R16(5,4,4,3);o+=this.fontSize+y}e.textBaseline="alphabetic"}},t.Drawing.annotation.prototype.onChange=function(e){I.i3j()},t.Drawing.annotation.prototype.edit=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f=I;if(f.z3j(),(a=this.stx.panels[this.panelName])&&(n=this.stx.controls.annotationSave,r=this.stx.controls.annotationCancel,n&&r)){var v,y,b;if(s=this.stx,o=this.ta,s.editingAnnotation=!0,s.undisplayCrosshairs(),s.openDialog="annotation",o||((o=this.ta=document.createElement("TEXTAREA")).className="stx_annotation",o.onkeyup=S(this),o.onmouseup=(v=s,f.i3j(),function(e){v.manageTouchAndMouse&&t.ChartEngine.drawingLine&&v.mouseup(e)}),o.setAttribute("wrap","hard"),t.isIOS7or8&&o.setAttribute("placeholder","Enter Text"),s.chart.container.appendChild(o),o.style.position="absolute",o.style.paddingLeft=this.padding+"px",o.value=this.text,t.touchDevice&&(o.ontouchstart=function(e){f.z3j(),e.stopPropagation()})),l=this,o.oninput=function(e){"historyUndo"!=e.inputType&&"historyRedo"!=e.inputType&&l.onChange(e)},o.style.font=this.fontString,this.color)if("transparent"==this.color||"auto"==this.color){h=2;for(var x=1;-1730201869!==f.v7D(x.toString(),x.toString().length,26894);x++)c=getComputedStyle(o),h+=2;-868667411!==f.v7D(h.toString(),h.toString().length,62224)&&(c=getComputedStyle(o)),c&&t.isTransparent(c.backgroundColor)?o.style.color=this.getLineColor():o.style.color="#000"}else o.style.color=this.color;if(d=s.pixelFromTick(this.p0[0],a.chart),u=this.pixelFromValue(a,this.p0[0],this.p0[1],s.getYAxisByField(a,this.field)),o.style.left=d+140<s.chart.canvasRight?d+"px":s.chart.canvasRight-200+"px",o.style.top=u+60<s.chart.canvasHeight?u-(isNaN(this.h)?this.defaultHeight:this.h/2)+"px":u-60+"px",this.repositionTextArea&&this.repositionTextArea(o),t.safeClickTouch(n,(y=this,function(e){var i;""!==y.ta.value&&(y.text=y.ta.value,(i=y.stx).editingAnnotation=!1,y.adjust(),i.drawingSnapshot?i.undoStamp(t.shallowClone(i.drawingSnapshot),i.exportDrawings()):i.addDrawing(y),i.undo(),i.cancelTouchSingleClick=!0,i.changeOccurred("vector"))})),t.safeClickTouch(r,(b=this,f.z3j(),function(e){var t;(t=b.stx).editingAnnotation=!1,t.undo(),t.cancelTouchSingleClick=!0})),S(this)(),i&&(s.drawingSnapshot=s.exportDrawings(),this.hidden=!0,s.draw(),s.activeDrawing=this,t.ChartEngine.drawingLine=!0,e=s.chart.tempCanvas.context,s.chart.tempCanvas.style.display="block",this.w=o.clientWidth,this.h=o.clientHeight,t.clearCanvas(e.canvas,s),this.render(e),this.highlighted=!1,this.edit(e)),t.isAndroid&&!t.is_chrome&&!t.isFF){this.priorBottom=s.chart.container.style.bottom,f.j16(25);var C=f.o16(97,1843,1,99,19);(p=s.resolveY(u)+C)>t.pageHeight()-400&&(m=t.pageHeight()-p,f.U16(7),g=f.o16(400,m),f.j16(0),s.chart.container.style.bottom=f.o16("px",g))}}function S(e){return function(i){var a,s,o,l,h,c,d,u,p;if(i&&27===i.keyCode)e.stx.undo();else{a=e.stx,o=(s=e.ta).value.split("\n"),l=0,a.chart.context.font=e.fontString;for(var m=0;m<o.length;m++)(h=a.chart.context.measureText(o[m]).width)>l&&(l=h);f.j16(44);var g=f.o16(10,3,383,12,8);if(c=(o.length+g)*(e.fontSize+e.fontModifier),l=Math.max(l,2*e.defaultWidth),s.style.width=l+e.whitespace+"px",f.U16(0),s.style.height=f.o16("px",c),d=parseInt(t.stripPX(s.style.top),10),f.i3j(),u=t.stripPX(s.style.left),l=s.clientWidth,c=s.clientHeight,s.focus(),!1===e.border&&(s.style.border="none"),u+l+100<e.stx.chart.canvasWidth){p=2;for(var v=1;-1897181014!==f.v7D(v.toString(),v.toString().length,68436);v++){f.j16(0),n.style.top=f.o16("px",d),f.j16(0),r.style.top=f.R16("px",d),f.U16(45),n.style.left=f.R16(u,10,"px",l),n.style.display="inline-block",f.j16(46);var y=f.o16(1,17,175,11);r.style.left=u+l+n.clientWidth+y+"px",p+=2}if(-243486464!==f.x3D(p.toString(),p.toString().length,36625)){f.U16(2),n.style.top=f.R16("px",d),f.U16(2),r.style.top=f.o16("inline-block",d),f.U16(47),n.style.left=f.o16(l,u,83,"px"),n.style.display="inline-block",f.U16(48);var b=f.o16(7,6,8,4,70);r.style.left=(u-l)%n.clientWidth%b*"inline-block"}r.style.display="inline-block"}else if(d+c+30<e.stx.chart.canvasHeight){f.U16(45),n.style.top=f.R16(d,10,"px",c),f.j16(45),r.style.top=f.o16(d,10,"px",c),f.U16(0),n.style.left=f.R16("px",u),n.style.display="inline-block",f.U16(49);var x=f.R16(3,1,7,5,0);r.style.left=u+n.clientWidth-x+"px",r.style.display="inline-block"}else{f.U16(19),n.style.top=f.o16("px",35,d),f.U16(19),r.style.top=f.R16("px",35,d),f.j16(0),n.style.left=f.R16("px",u),n.style.display="inline-block",f.U16(19);var C=f.o16(2,4,7);r.style.left=u+n.clientWidth-C+"px",r.style.display="inline-block"}}}}},t.Drawing.annotation.prototype.click=function(e,t,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,t,i,a.chart),I.i3j(),this.adjust(),this.edit(e),!1},t.Drawing.annotation.prototype.reposition=function(e,t,i,a){var n,r,s;t&&(n=this.stx.panels[this.panelName],I.i3j(),r=t.tick-i,s=t.value-a,this.setPoint(0,t.p0[0]-r,t.p0[1]-s,n.chart),this.render(e))},t.Drawing.annotation.prototype.intersected=function(e,i,a){var n,r,s,o,l,h,c,d,u,p=I;if(r=(n=this.stx).panels[this.panelName],!this.p0)return null;s=n.pixelFromTick(this.p0[0],r.chart),o=n.getYAxisByField(r,this.field),p.j16(50);var m=p.o16(3,13,2,18,9);p.U16(13),p.z3j();var g=p.o16(1,10,11);return l=this.pixelFromValue(r,this.p0[0],this.p0[m],o)-this.h/g,h=s+this.w,c=l+this.h,this.stem&&this.stem.x&&(s+=this.stem.x,h+=this.stem.x,l+=this.stem.y,c+=this.stem.y),d=n.pixelFromTick(e,r.chart),u=n.pixelFromValueAdjusted(r,e,i),d+a.r>=s&&d-a.r<=h&&u+a.r>=l&&u-a.r<=c&&(this.highlighted=!0,{p0:t.clone(this.p0),tick:e,value:this.valueOnDrawingAxis(e,i)})},t.Drawing.annotation.prototype.abort=function(){var e,i,a;i=(e=this.stx).controls.annotationSave,a=e.controls.annotationCancel,i&&(i.style.display="none"),a&&(a.style.display="none"),this.ta&&e.chart.container.removeChild(this.ta),this.ta=null,e.openDialog="",e.showCrosshairs(),e.editingAnnotation=!1,t.clearCanvas(e.chart.tempCanvas,e),!t.isAndroid||t.is_chrome||t.isFF||(e.chart.container.style.bottom=this.priorBottom),t.fixScreen()},t.Drawing.annotation.prototype.reconstruct=function(e,i){this.stx=e,this.color=i.col,this.panelName=i.pnl,this.d0=i.d0,this.tzo0=i.tzo0,this.v0=i.v0,this.field=i.fld,this.text=e.escapeOnSerialize?decodeURIComponent(i.text):i.text,this.stem=i.stem,this.borderColor=i.bc,this.fillColor=i.bg,this.lineWidth=i.lw,this.pattern=i.ptrn,this.font=t.replaceFields(i.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.font||(this.font={}),this.adjust()},t.Drawing.annotation.prototype.serialize=function(){var e,i;return e={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,fld:this.field,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text},this.font&&(i=t.removeNullValues(t.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"})),t.isEmpty(i)||(e.fnt=i)),this.stem&&(e.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y}),this.borderColor&&(e.bc=this.borderColor),this.fillColor&&(e.bg=this.fillColor),this.lineWidth&&(e.lw=this.lineWidth),this.pattern&&(e.ptrn=this.pattern),e},t.Drawing.annotation.prototype.renderText=function(){var e,i,a,n,r,s,o,l,h=I;if(this.getFontString(),i=(e=this.stx).panels[this.panelName]){this.arr=this.text.split("\n"),a=0,e.chart.context.font=this.fontString;for(var c=0;c<this.arr.length;c++)(n=e.chart.context.measureText(this.arr[c]).width)>a&&(a=n);0===a&&(h.U16(51),a=h.o16(19,13,7,1,11)*this.defaultWidth),this.fontSize=t.stripPX(this.fontDef.size),h.U16(52);var d=h.R16(10,13,14,127,10);r=(this.arr.length+d)*(this.fontSize+this.fontModifier),t.touchDevice&&(r+=5),this.w=a+this.whitespace+this.padding,this.h=r,s=e.pixelFromTick(this.p0[0],i.chart)+a,h.z3j(),o=e.getYAxisByField(i,this.field),h.U16(33);var u=h.R16(15,5,21);l=this.pixelFromValue(i,this.p0[0],this.p0[u],o)+r,this.p1=[e.tickFromPixel(s,i.chart),this.valueFromPixel(l,i,o)],this.stem&&this.stem.d&&(this.stem.t=e.tickFromDate(this.stem.d,i.chart))}},t.Drawing.annotation.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.renderText())},t.Drawing.segment=function(){I.i3j(),this.name="segment"},t.inheritsFrom(t.Drawing.segment,t.Drawing.BaseTwoPoint),t.Drawing.segment.prototype.render=function(e){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x=I;if(n=(a=this.stx).panels[this.panelName],r=a.getYAxisByField(n,this.field),n&&(!this.field||r)){if(r=r||n.yAxis,s=a.pixelFromTick(this.p0[0],n.chart),x.i3j(),o=a.pixelFromTick(this.p1[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],r),h=this.pixelFromValue(n,this.p1[0],this.p1[1],r),c=this.lineWidth,d=this.getLineColor(),"none"==(u={pattern:this.pattern,lineWidth:c}).pattern&&(u.pattern="solid"),a.plotLine(s,o,l,h,d,this.name,e,n,u),this.axisLabel&&!this.repositioner)if("horizontal"==this.name)a.endClip(),p=this.p0[1],n.chart.transformFunc&&(p=n.chart.transformFunc(a,n.chart,p)),p=r.priceFormatter?r.priceFormatter(a,n,p):a.formatYAxisPrice(p,n,null,r),a.createYAxisLabel(n,p,l,d,null,null,r),a.startClip(n.name);else if("vertical"==this.name&&this.p0[0]>=0&&!a.chart.xAxis.noDraw){if(m=a.dateFromTick(this.p0[0],n.chart,!0),t.ChartEngine.isDailyInterval(a.layout.interval))x.j16(27),m.setHours(x.R16("0",2147483647),0,0,0);else{x.U16(7);var C=x.R16(17e3,16e3);f=m.getSeconds()*C+m.getMilliseconds(),i.Date&&a.displayZone&&(g=new i.Date(m.getTime(),a.displayZone),m=new Date(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes()),m=new Date(m.getTime()+f))}v=t.mmddhhmm(t.yyyymmddhhmm(m)),n.chart.xAxis.formatter?v=n.chart.xAxis.formatter(m,this.name,null,null,v):this.stx.internationalizer&&(v=t.displayableDate(a,a.chart,m)),a.endClip(),a.createXAxisLabel({panel:n,txt:v,x:s,backgroundColor:d,color:null,pointed:!0,padding:2}),a.startClip(n.name)}this.highlighted&&"horizontal"!=this.name&&"vertical"!=this.name&&(y="p0"==this.highlighted,b="p1"==this.highlighted,this.littleCircle(e,s,l,y),this.littleCircle(e,o,h,b))}},t.Drawing.segment.prototype.abort=function(){I.i3j(),this.stx.setMeasure(null,null,null,null,!1)},t.Drawing.segment.prototype.intersected=function(e,i,a){var n,r;if(!this.p0||!this.p1)return null;if("horizontal"!=(n=this.name)&&"vertical"!=n&&"gartley"!=n)for(var s in r={0:this.p0,1:this.p1})if(this.pointIntersection(r[s][0],r[s][1],a))return I.U16(0),this.highlighted=I.R16(s,"p"),{action:"drag",point:"p"+s};return"horizontal"!=n&&"vertical"!=n||(n="line"),this.lineIntersection(e,i,a,n)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.segment.prototype.configs=["color","lineWidth","pattern"],t.Drawing.segment.prototype.copyConfig=function(e){I.z3j(),t.Drawing.copyConfig(this,e),"none"==this.pattern&&-1==this.configs.indexOf("fillColor")&&(this.pattern="solid")},t.Drawing.segment.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.field=t.fld,this.adjust()},t.Drawing.segment.prototype.serialize=function(){return I.i3j(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field}},t.Drawing.line=function(){I.z3j(),this.name="line"},t.inheritsFrom(t.Drawing.line,t.Drawing.segment),t.Drawing.line.prototype.dragToDraw=!1,t.Drawing.line.prototype.calculateOuterSet=function(e){var i,a,n,r=I;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!t.ChartEngine.isDailyInterval(this.stx.layout.interval)){(i={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x0>i.x1&&(i={x0:this.p1[0],y0:this.p1[1],x1:this.p0[0],y1:this.p0[1]}),r.j16(53);var s=r.R16(2,19e3,4,2887e3,19);a=i.x0-s,r.j16(7),r.i3j();var o=r.o16(492,12);n=i.x1+("1000"|o),this.v0B=t.yIntersection(i,a),this.v1B=t.yIntersection(i,n),this.d0B=this.stx.dateFromTick(a,e.chart),this.d1B=this.stx.dateFromTick(n,e.chart)}},t.Drawing.line.prototype.click=function(e,t,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(t,i)?this.dragToDraw:(this.setPoint(1,t,i,a.chart),this.calculateOuterSet(a),this.penDown=!1,!0):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1)},t.Drawing.line.prototype.reconstruct=function(e,t){var i;if(this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.v0=t.v0,this.v1=t.v1,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.field=t.fld,t.d0B){this.d0B=t.d0B,this.d1B=t.d1B,this.v0B=t.v0B,i=2;for(var a=1;-1815426062!==I.v7D(a.toString(),a.toString().length,54302);a++)this.v1B=t.v1B,i+=2;1961414971!==I.x3D(i.toString(),i.toString().length,94628)&&(this.v1B=t.v1B)}this.adjust()},t.Drawing.line.prototype.serialize=function(){var e;return e={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field},this.d0B&&(e.d0B=this.d0B,e.d1B=this.d1B,e.v0B=this.v0B,e.v1B=this.v1B),e},t.Drawing.line.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),I.z3j(),this.setPoint(1,this.d1,this.v1,e.chart),t.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(this.setPoint(0,this.d0B,this.v0B,e.chart),this.setPoint(1,this.d1B,this.v1B,e.chart)))},t.Drawing.horizontal=function(){this.name="horizontal"},t.inheritsFrom(t.Drawing.horizontal,t.Drawing.segment),t.Drawing.horizontal.prototype.dragToDraw=!1,t.Drawing.horizontal.prototype.measure=function(){},t.Drawing.horizontal.prototype.click=function(e,t,i){var a;if(a=this.stx.panels[this.panelName]){this.copyConfig(),this.setPoint(0,t,i,a.chart),I.z3j();for(var n=1;-1882046562!==I.x3D(n.toString(),n.toString().length,3915);n++)return!0;return 1378720716===I.v7D(2..toString(),2..toString().length,19921)&&void 0}},t.Drawing.horizontal.prototype.intersected=function(e,t,i){var a,n;return this.lineIntersection(e,t,i,"line")?(a=this.stx.chart.dataSet.length,n=this.p0[1],this.highlighted=!0,{action:"move",p0:[a-2,n],p1:[a-1,n],tick:e,value:this.valueOnDrawingAxis(e,t)}):(I.i3j(),null)},t.Drawing.horizontal.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.v0=t.v0,this.d0=t.d0,this.tzo0=t.tzo0,this.axisLabel=t.al,this.field=t.fld,this.adjust()},t.Drawing.horizontal.prototype.serialize=function(){var e;return e={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel,fld:this.field},I.i3j(),e},t.Drawing.horizontal.prototype.adjust=function(){var e;if(e=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,e.chart),I.U16(54);var t=I.R16(7,89,15,11,30);this.p1=[this.p0[0]+t,this.p0[1]]}},t.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern","axisLabel"],t.Drawing.vertical=function(){this.name="vertical"},t.inheritsFrom(t.Drawing.vertical,t.Drawing.horizontal),t.Drawing.vertical.prototype.measure=function(){},t.Drawing.vertical.prototype.intersected=t.Drawing.segment.prototype.intersected,t.Drawing.vertical.prototype.adjust=function(){var e,t=I;if(e=this.stx.panels[this.panelName]){t.U16(15),this.setPoint(t.R16(372782560,"0"),this.d0,this.v0,e.chart),t.j16(16),t.i3j();var i=t.o16(12,0,12);this.p1=[this.p0[0],this.p0[1]+i]}},t.Drawing.measure=function(){I.z3j(),this.name="measure"},t.inheritsFrom(t.Drawing.measure,t.Drawing.segment),t.Drawing.measure.prototype.click=function(e,t,i){return this.copyConfig(),this.penDown?(this.stx.undo(),this.penDown=!1,!0):(this.p0=[t,i],this.penDown=!0,!1)},t.Drawing.rectangle=function(){I.i3j(),this.name="rectangle"},t.inheritsFrom(t.Drawing.rectangle,t.Drawing.BaseTwoPoint),t.Drawing.rectangle.prototype.render=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y=I;a=(i=this.stx).panels[this.panelName],n=i.getYAxisByField(a,this.field),!a||this.field&&!n||(r=i.pixelFromTick(this.p0[0],a.chart),s=i.pixelFromTick(this.p1[0],a.chart),o=this.pixelFromValue(a,this.p0[0],this.p0[1],n),l=this.pixelFromValue(a,this.p1[0],this.p1[1],n),h=Math.round(Math.min(r,s))+.5,c=Math.min(o,l),d=Math.max(r,s)-h,u=Math.max(o,l)-c,p=this.getLineColor(),(m=this.fillColor)&&!t.isTransparent(m)&&"auto"!=m&&(e.beginPath(),e.rect(h,c,d,u),e.fillStyle=m,e.globalAlpha=.2,e.fill(),e.closePath(),e.globalAlpha=1),g={pattern:this.pattern,lineWidth:this.lineWidth},this.highlighted&&"none"==g.pattern&&(g.pattern="solid",.1==g.lineWidth&&(g.lineWidth=1)),i.plotLine(r,s,o,o,p,"segment",e,a,g),y.U16(55),i.plotLine(s,s,y.R16("0.5",o,0),y.o16(.5,l,y.U16(0)),p,"segment",e,a,g),i.plotLine(s,r,l,l,p,"segment",e,a,g),y.j16(0),i.plotLine(r,r,y.o16(.5,l),y.o16(o,.5,y.j16(7)),p,"segment",e,a,g),this.highlighted&&(f="p0"==this.highlighted,v="p1"==this.highlighted,this.littleCircle(e,r,o,f),this.littleCircle(e,s,l,v)))},t.Drawing.rectangle.prototype.intersected=function(e,i,a){var n;if(!this.p0||!this.p1)return null;for(var r in n={0:this.p0,1:this.p1})if(this.pointIntersection(n[r][0],n[r][1],a))return I.U16(0),this.highlighted=I.o16(r,"p"),{action:"drag",point:"p"+r};return this.boxIntersection(e,i,a)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.rectangle.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.rectangle.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,I.z3j(),this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.field=t.fld,this.adjust()},t.Drawing.rectangle.prototype.serialize=function(){return I.i3j(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field}},t.Drawing.shape=function(){this.name="shape",this.radians=0,this.a=0,I.i3j(),this.rotating=!1,this.textMeasure=!1,this.configurator="shape",this.dimension=[0,0],this.points=[]},t.inheritsFrom(t.Drawing.shape,t.Drawing.BaseTwoPoint),t.Drawing.shape.prototype.setRotationOnInitialDraw=!1,t.Drawing.shape.prototype.measure=function(){},t.Drawing.shape.prototype.render=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k=I;if(this.points.length&&(a=(i=this.stx).panels[this.panelName],n=i.getYAxisByField(a,this.field),a&&(!this.field||n))){if(r=i.pixelFromTick(this.p0[0],a.chart),s=this.pixelFromValue(a,this.p0[0],this.p0[1],n),this.p1){if(o=i.pixelFromTick(this.p1[0],a.chart),l=this.pixelFromValue(a,this.p1[0],this.p1[1],n),k.j16(7),e.globalAlpha=k.R16("0.5",0),e.fillStyle=this.getLineColor(),this.rotating){if(k.U16(56),this.radians=Math.atan(k.R16(o,l,s,r)),o<r)this.radians+=Math.PI;else if(l<s){k.U16(57);var L=k.R16(4,11,13,1);this.radians+=L*Math.PI}k.j16(22);var A=k.o16(8,18);k.U16(58);var M=k.R16(4,3,1,12);this.a=parseInt((36*this.radians/Math.PI).toFixed(0),A)*M,this.a%=360,k.j16(59);var P=k.R16(12,2,192,22,1);this.radians=this.a*Math.PI/P,this.textMeasure&&e.fillText(this.a+"",o+10,l+10)}else this.penDown&&(this.sx=Math.max(1,parseFloat(Math.abs(2*(o-r)/this.dimension[0]).toFixed(1))),o<r&&(this.sx*=-1),this.sy=Math.max(1,parseFloat(Math.abs(2*(l-s)/this.dimension[1]).toFixed(1))),l<s&&(this.sy*=-1),this.textMeasure&&e.fillText(this.sx+"x,"+this.sy+"x",o+this.sx+5,l+this.sy+5));e.globalAlpha=1}void 0===this.sx&&(this.sx=this.sy=1),(h=this.lineWidth)||(k.j16(7),h=k.R16("1.1",0)),c={pattern:this.pattern,lineWidth:h},this.highlighted&&"none"==c.pattern&&(c.pattern="solid",.1==c.lineWidth&&(k.j16(35),c.lineWidth=k.o16(992115712,"1"))),d=this.getLineColor(),this.highlighted&&.1==h&&(h=1.1),u=this.fillColor,k.U16(7);var O=k.R16(14,12);for(h/=Math.abs(this.sx*this.sy)*O/(Math.abs(this.sx)+Math.abs(this.sy)),e.save(),e.translate(r,s),e.rotate(this.radians),e.scale(this.sx,(n||a.yAxis).flipped?-this.sy:this.sy),g={x:(this.dimension[0]-1)/2,y:(this.dimension[1]-1)/2},p=0;p<this.points.length;p++){for(e.beginPath(),m=0;m<this.points[p].length;m++)"M"==(S=this.points)[p][m]?(f=S[p][++m]-g.x,v=S[p][++m]-g.y,e.moveTo(f,v)):"L"==S[p][m]?(f=S[p][++m]-g.x,v=S[p][++m]-g.y,e.lineTo(f,v)):"Q"==S[p][m]?(y=S[p][++m]-g.x,x=S[p][++m]-g.y,f=S[p][++m]-g.x,v=S[p][++m]-g.y,e.quadraticCurveTo(y,x,f,v)):"B"==S[p][m]&&(y=S[p][++m]-g.x,x=S[p][++m]-g.y,b=S[p][++m]-g.x,C=S[p][++m]-g.y,f=S[p][++m]-g.x,v=S[p][++m]-g.y,e.bezierCurveTo(y,x,b,C,f,v));e.closePath(),u&&!t.isTransparent(u)&&"auto"!=u&&(e.fillStyle=u,e.fill()),d&&"none"!=this.pattern&&(e.strokeStyle=d,e.lineWidth=h,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(h,this.pattern)),e.lineDashOffset=0),e.stroke())}e.restore(),e.save(),e.translate(r,s),e.rotate(this.radians),this.highlighted?(T="p0"==this.highlighted,D="p1"==this.highlighted,w="p2"==this.highlighted,this.littleCircle(e,0,0,T),k.U16(35),this.mover(e,k.R16(160459328,"0"),0,T),this.littleCircle(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,D),this.resizer(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,D),this.littleCircle(e,this.sx*this.dimension[0]/2,0,w),this.rotator(e,this.sx*this.dimension[0]/2,0,w),e.globalAlpha=.5,e.fillStyle=this.getLineColor(null,!1),this.textMeasure&&(e.fillText(this.sx+"x,"+this.sy+"x",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5),e.fillText(this.a+"",this.sx*this.dimension[0]/2+12,5)),e.globalAlpha=1):this.penDown&&(this.rotating?this.rotator(e,this.sx*this.dimension[0]/2,0,!0):this.resizer(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,!0)),e.restore()}},t.Drawing.shape.prototype.reposition=function(e,t,i,a){var n,r,s,o,l,h,c,d,u,p=I;if(t)if(p.i3j(),r=(n=this.stx).panels[this.panelName],"move"==t.action)s=t.tick-i,o=t.value-a,this.setPoint(0,t.p0[0]-s,t.p0[1]-o,r.chart),this.render(e);else if(l=n.getYAxisByField(r,this.field),h=n.pixelFromTick(this.p0[0],r.chart),c=this.pixelFromValue(r,this.p0[0],this.p0[1],l),d=n.pixelFromTick(i,r.chart),u=this.pixelFromValue(r,i,a,l),"scale"==t.action)this[t.point]=[i,a],this.sx=parseFloat((((d-h)*Math.cos(this.radians)+(u-c)*Math.sin(this.radians))/(this.dimension[0]/2)).toFixed(1)),Math.abs(this.sx)<1&&(this.sx/=Math.abs(this.sy)),this.sy=parseFloat((((u-c)*Math.cos(this.radians)-(d-h)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1)),Math.abs(this.sy)<1&&(this.sy/=Math.abs(this.sy)),this.render(e);else if("rotate"==t.action){if(this[t.point]=[i,a],p.U16(56),this.radians=Math.atan(p.R16(d,u,c,h)),d<h)this.radians+=Math.PI;else if(u<c){p.U16(60);var m=p.R16(13,10,91,9,18);this.radians+=m*Math.PI}if(this.a=5*parseInt((36*this.radians/Math.PI).toFixed(0),10),this.sx<0){p.U16(61);var g=p.R16(11,133,1,36);this.a=this.a+g}this.a%=360,p.U16(33);var f=p.o16(12,168,360);this.radians=this.a*Math.PI/f,this.render(e)}},t.Drawing.shape.prototype.intersected=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C=I;if(n=this.stx,!this.p0)return null;if(n.repositioningDrawing==this&&n.repositioningDrawing.repositioner)return n.repositioningDrawing.repositioner;r=n.panels[this.panelName],s=n.getYAxisByField(r,this.field),o=n.pixelFromTick(this.p0[0],r.chart),l=this.pixelFromValue(r,this.p0[0],this.p0[1],s),h=n.pixelFromTick(e,r.chart),c=n.pixelFromValueAdjusted(r,e,i),d=c-=l,u=h-=o,h=Math.cos(this.radians)*u+Math.sin(this.radians)*d,c=Math.cos(this.radians)*d-Math.sin(this.radians)*u,h/=this.sx,c/=this.sy,this.padding=t.ensureDefaults(this.padding||{},{left:0,right:0,top:0,bottom:0}),p=this.padding.right+this.padding.left,m=this.padding.bottom+this.padding.top,g=Math.pow(t.touchDevice?25:5+this.littleCircleRadius(),2),f=Math.abs(g/(this.sx*this.sy)),C.U16(62);var S=C.R16(1,9,16,22,4);C.j16(63);var T=C.R16(6,36,17,4);C.j16(64),C.z3j();var D=C.R16(1,5,8,42,0);C.U16(65);var w=C.o16(58,6,19,1,3);C.U16(46);var k=C.R16(12,6,8,13);C.j16(66);var L=C.R16(16,2686,18,12,4);v=Math.pow((this.dimension[0]-p+3)/S,T)+Math.pow((this.dimension[1]-m+3)/2,D)>Math.pow(h-p/2,"2"*w)+Math.pow(c-m/k,L),C.U16(67);var A=C.o16(17,10,177,17,9);y=(g-(Math.pow(h*this.sx,2)+Math.pow(c*this.sy,"2"*A)))/Math.abs(this.sx*this.sy),C.j16(7);var M=C.o16(20,18);C.U16(68);var P=C.o16(1,6,6);C.U16(69);var O=C.o16(3,3,2,5,14);C.j16(22);var _=C.R16(16,17);C.U16(70);var F=C.R16(4,4,2);b=f-Math.pow(h-this.dimension[0]/M,P)-Math.pow(c-this.dimension[O]/("2"*_),F),C.U16(7);var H=C.o16(24,22);C.U16(71);var q=C.R16(17,13,14,4,453);C.j16(7);var E=C.o16(11,9);return x=f-Math.pow(h-this.dimension[0]/("2"|H),q)-Math.pow(c,E),v?b>=x&&b>=y&&b>-1?(this.highlighted="p1",{action:"scale"}):x>=b&&x>=y&&x>-1?(this.highlighted="p2",{action:"rotate"}):(this.highlighted=!(y>-1)||"p0",{action:"move",p0:t.clone(this.p0),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.shape.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.shape.prototype.littleCircleRadius=function(){return I.i3j(),3},t.Drawing.shape.prototype.click=function(e,t,i){var a;return!(!this.points.length||(this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?(this.setPoint(1,t,i,a.chart),this.rotating||!this.setRotationOnInitialDraw?(this.penDown=!1,this.rotating=!1,0):(this.rotating=!0,1)):(this.setPoint(0,t,i,a.chart),this.penDown=!0,1)))},t.Drawing.shape.prototype.adjust=function(){var e,i,a,n=I;if(e=this.stx.panels[this.panelName]){i=this.name+"_v"+(this.version||0),t.Drawing[i]&&(a=new t.Drawing[i],this.name=a.name,this.dimension=a.dimension,this.padding=a.padding,this.points=a.points,this.version=a.version),this.setPoint(0,this.d0,this.v0,e.chart),n.U16(72);var r=n.R16(8,2,4,5);n.U16(7);var s=n.R16(252,216);n.i3j(),this.radians=Math.round(this.a/r)*Math.PI/s}},t.Drawing.shape.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.v0=t.v0,this.tzo0=t.tzo0,this.a=t.a,this.sx=t.sx,this.sy=t.sy,this.field=t.fld,this.version=t.ver,this.adjust()},t.Drawing.shape.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,fld:this.field,ver:this.version}},t.Drawing.arrow=function(){var e=I;this.name="arrow",this.version=1,e.j16(27),this.dimension=[11,e.o16("22",2147483647)],e.i3j(),this.padding={left:0,right:0,top:11,bottom:0},e.U16(34),this.points=[["M",3,21,"L",7,21,"L",7,16,"L",10,16,"L",5,11,"L",0,16,"L",e.o16(0,"3"),16,"L",3,e.o16(0,"21")]]},t.inheritsFrom(t.Drawing.arrow,t.Drawing.shape),t.Drawing.getDrawingToolList=function(e){var i,a;for(var n in I.i3j(),i={},a={arrow_v0:!0,BaseTwoPoint:!0,fibonacci:!0,shape:!0},t.extend(a,e),t.Drawing)!a[n]&&t.Drawing[n].prototype.render&&(i[(new t.Drawing[n]).name]=n);return i}},l=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).EaseMachine=function(e,t,i,a){this.fc=e,this.ms=t,(i||0===i)&&this.reset(i,a)},t.EaseMachine.prototype.reset=function(e,t){for(var i in e||0===e||(e=this.currentValues),I.z3j(),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,I.U16(73),this.useNameValuePairs=I.o16(typeof t,"object"),this.startTime=Date.now(),this.useNameValuePairs?(this.startValues=e,this.endValues=t):(this.startValues={default:e},this.endValues={default:t}),this.changeValues={},this.currentValues={},this.startValues)this.changeValues[i]=this.endValues[i]-this.startValues[i]},t.EaseMachine.prototype.next=function(){var e;for(var t in e=Date.now(),I.z3j(),e>=this.startTime+this.ms&&(e=this.startTime+this.ms,this.hasCompleted=!0,this.running=!1),this.currentValues={},this.changeValues)this.currentValues[t]=this.fc(e-this.startTime,this.startValues[t],this.changeValues[t],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},t.EaseMachine.prototype.hasCompleted=!0,t.EaseMachine.prototype.run=function(e,t,i,a){var n;function r(){var t;n.afid=null,n.okayToRun&&(t=n.next(),e(t),n.hasCompleted||(n.afid=requestAnimationFrame(r)))}this.afid&&cancelAnimationFrame(this.afid),t||0===t?this.reset(t,i):(i||0===i)&&this.reset(this.currentValues,i),n=this,this.running=!0,a?this.afid=requestAnimationFrame(r):r()},t.EaseMachine.prototype.stop=function(){return I.i3j(),this.afid&&cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,this.hasCompleted=!0,this.running=!1,void 0===this.useNameValuePairs?{}:this.useNameValuePairs?this.currentValues:this.currentValues.default},t.ChartEngine.prototype.animations.zoom.isStub&&(t.ChartEngine.prototype.animations.zoom=new t.EaseMachine(Math.easeOutCubic,400))},h=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i=function(){var e,i,a,n,r,s,o,l,h,c,d,u=I;function p(e,t){return u.j16(74),u.o16(e,t)}function m(e,t){return u.U16(7),u.z3j(),u.o16(e,t)}function g(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,u.i3j(),this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:T,cosh:U,tanh:x,asinh:R,acosh:k,atanh:O,sqrt:Math.sqrt,log:Math.log,lg:A,log10:A,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:W,"-":E,exp:Math.exp},this.ops2={"+":P,"-":m,"*":L,"/":Z,"%":N,"^":Math.pow,",":V,"||":F,"==":j,"!=":b,">":p,"<":f,">=":M,"<=":H,and:q,or:D},this.functions={random:z,fac:y,min:Math.min,max:Math.max,hypot:_,pyt:_,pow:Math.pow,atan2:Math.atan2,if:S},this.consts={E:Math.E,PI:Math.PI}}function f(e,t){return u.U16(75),u.z3j(),u.o16(t,e)}function v(e,t,i,a){this.tokens=e,this.ops1=t,this.ops2=i,this.functions=a}function y(e){var t;for(t=e=Math.floor(e);e>1;)u.j16(2),t=u.R16(--e,t);return t}function b(e,t){return u.U16(76),u.o16(t,e)}function x(e){return Math.tanh?Math.tanh(e):e===1/0?1:e===-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function C(e){function t(){}return t.prototype=e,u.z3j(),new t}function S(e,t,i){return u.z3j(),e?t:i}function T(e){return u.z3j(),Math.sinh?Math.sinh(e):(Math.exp(e)-Math.exp(-e))/2}function D(e,t){return Boolean(e||t)}function w(e,t,i,a){this.type_=e,this.index_=t||0,u.i3j(),this.prio_=i||0,this.number_=null!=a?a:0,this.toString=function(){switch(u.z3j(),this.type_){case 0:return this.number_;case 1:case 2:case 3:return this.index_;case 4:return"CALL";default:return"Invalid Token"}}}function k(e){return Math.acosh?Math.acosh(e):Math.log(e+Math.sqrt(e*e-1))}function L(e,t){return u.j16(2),u.o16(t,e)}function A(e){return Math.log(e)*Math.LOG10E}function M(e,t){return u.j16(78),u.o16(e,t)}function P(e,t){return Number(e)+Number(t)}function O(e){return Math.atanh?Math.atanh(e):Math.log((1+e)/(1-e))/2}function _(){var e,t;if(Math.hypot)return Math.hypot.apply(this,arguments);e=0,t=arguments.length;for(var i=0;i<t;i++){if(arguments[i]===1/0||arguments[i]===-1/0)return 1/0;e+=arguments[i]*arguments[i]}return Math.sqrt(e)}function F(e,t){return u.U16(31),u.z3j(),u.R16(t,e,"")}function H(e,t){return u.i3j(),u.j16(79),u.R16(t,e)}function q(e,t){return u.z3j(),Boolean(e&&t)}function E(e){return u.z3j(),-e}function V(e,t){return"[object Array]"!=Object.prototype.toString.call(e)?[e,t]:((e=e.slice()).push(t),e)}function N(e,t){return u.i3j(),u.j16(82),u.o16(e,t)}function j(e,t){return u.i3j(),u.j16(73),u.R16(e,t)}function R(e){return Math.asinh?Math.asinh(e):e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))}function z(e){u.j16(83),u.z3j();var t=u.R16(19,3,322,17,3);return Math.random()*(e||t)}function U(e){return Math.cosh?Math.cosh(e):(Math.exp(e)+Math.exp(-e))/2}function Z(e,t){return u.j16(8),u.R16(t,e)}function W(e){return Math.trunc?Math.trunc(e):e<0?Math.ceil(e):Math.floor(e)}return e=/[\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},t.extend(v.prototype,{simplify:function(e){var t,i,a,n,r,s,o,l;for(e=e||{},t=[],i=[],r=this.tokens.length,o=0,o=0;o<r;o++)if(0===(l=(s=this.tokens[o]).type_))t.push(s);else if(3===l&&s.index_ in e)s=new w(0,0,0,e[s.index_]),t.push(s);else if(2===l&&t.length>1)n=t.pop(),a=t.pop(),s=new w(0,0,0,(0,this.ops2[s.index_])(a.number_,n.number_)),t.push(s);else if(1===l&&t.length>0)a=t.pop(),s=new w(0,0,0,(0,this.ops1[s.index_])(a.number_)),t.push(s);else{for(;t.length>0;)i.push(t.shift());i.push(s)}for(;t.length>0;)i.push(t.shift());return new v(i,C(this.ops1),C(this.ops2),C(this.functions))},substitute:function(e,t){var i,a,n,r,s,o;for(t instanceof v||(t=(new g).parse(String(t))),u.z3j(),i=[],a=this.tokens.length,r=0,r=0;r<a;r++)if(3===(n=this.tokens[r]).type_&&n.index_===e)for(var l=0;l<t.tokens.length;l++)o=new w((s=t.tokens[l]).type_,s.index_,s.prio_,s.number_),i.push(o);else i.push(n);return new v(i,C(this.ops1),C(this.ops2),C(this.functions))},evaluate:function(e){var t,i,a,n,r,s,o,l;for(e=e||{},t=[],r=this.tokens.length,u.U16(34),u.i3j(),o=u.o16(0,"0"),o=0;o<r;o++)if(0===(l=(s=this.tokens[o]).type_))t.push(s.number_);else if(2===l)a=t.pop(),i=t.pop(),n=this.ops2[s.index_],t.push(n(i,a));else if(3===l)if(s.index_ in e)t.push(e[s.index_]);else{if(!(s.index_ in this.functions))throw new Error("undefined variable: "+s.index_);t.push(this.functions[s.index_])}else if(1===l)i=t.pop(),n=this.ops1[s.index_],t.push(n(i));else{if(4!==l)throw new Error("invalid Expression");if(i=t.pop(),!(n=t.pop()).apply||!n.call)throw u.j16(0),new Error(u.R16(" is not a function",n));"[object Array]"==Object.prototype.toString.call(i)?t.push(n.apply(void 0,i)):t.push(n.call(void 0,i))}if(t.length>1)throw new Error("invalid Expression (parity)");return t[0]},toString:function(t){var a,n,r,s,o,l,h,c,d;for(u.i3j(),a=[],o=this.tokens.length,h=0,h=0;h<o;h++)if(0===(c=(l=this.tokens[h]).type_))a.push("string"==typeof(d=l.number_)?(e.lastIndex=0,e.test(d)?"'"+d.replace(e,(function(e){var t;return"string"==typeof(t=i[e])?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+"'":"'"+d+"'"):d);else if(2===c)r=a.pop(),n=a.pop(),s=l.index_,t&&"^"==s?(u.j16(77),a.push(u.R16(",",r,n,"Math.pow(",")"))):(u.U16(77),a.push(u.R16(s,r,n,"(",")")));else if(3===c)a.push(l.index_);else if(1===c)n=a.pop(),"-"===(s=l.index_)?(u.j16(45),a.push(u.o16("(",n,")",s))):(u.U16(45),a.push(u.R16(s,n,")","(")));else{if(4!==c)throw new Error("invalid Expression");n=a.pop(),s=a.pop(),u.j16(45),a.push(u.R16(s,n,")","("))}if(a.length>1)throw new Error("invalid Expression (parity)");return a[0]},variables:function(){var e,t,i;e=this.tokens.length,t=[];for(var a=0;a<e;a++)3===(i=this.tokens[a]).type_&&-1==t.indexOf(i.index_)&&t.push(i.index_);return t}},!0),g.parse=function(e){return u.z3j(),(new g).parse(e)},g.evaluate=function(e,t){return g.parse(e).evaluate(t)},g.Expression=v,g.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:T,cosh:U,tanh:x,asinh:R,acosh:k,atanh:O,sqrt:Math.sqrt,log:Math.log,lg:A,log10:A,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:W,random:z,fac:y,exp:Math.exp,min:Math.min,max:Math.max,hypot:_,pyt:_,pow:Math.pow,atan2:Math.atan2,if:S,E:Math.E,PI:Math.PI},u.U16(80),a=u.o16("0",1,0),u.j16(81),n=u.o16(1,0,"1"),u.U16(35),r=u.o16(2,1),u.U16(35),s=u.o16(3,1),u.U16(35),o=u.o16(4,1),u.U16(35),l=u.R16(5,1),u.U16(35),h=u.o16(6,1),u.j16(35),c=u.R16(7,1),u.j16(35),d=u.R16(8,1),t.extend(g.prototype,{parse:function(e){var t,i,p,m,g,f,y,b;for(this.errormsg="",this.success=!0,t=[],i=[],this.tmpprio=0,u.j16(84),p=u.R16(h,s,r,a),m=0,this.expression=e,this.pos=0;this.pos<this.expression.length;)this.isOperator()?this.isSign()&&p&h?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",m++,this.addfunc(i,t,1)),u.U16(84),p=u.o16(h,s,r,a)):this.isComment()||(0==(p&n)&&this.error_parsing(this.pos,"unexpected operator"),m+=2,this.addfunc(i,t,2),u.U16(84),p=u.R16(h,s,r,a)):this.isNumber()?(0==(p&a)&&this.error_parsing(this.pos,"unexpected number"),u.j16(35),g=new w(0,u.o16(163257280,"0"),0,this.tokennumber),i.push(g),u.j16(85),p=u.R16(l,o,n)):this.isString()?(0==(p&a)&&this.error_parsing(this.pos,"unexpected string"),g=new w(0,0,0,this.tokennumber),i.push(g),u.j16(85),p=u.o16(l,o,n)):this.isLeftParenth()?(0==(p&s)&&this.error_parsing(this.pos,'unexpected "("'),p&c&&(m+=2,this.tokenprio=-2,u.U16(1),this.tokenindex=-u.R16("1",0),this.addfunc(i,t,4)),u.j16(86),p=u.R16(h,a,r,d,s)):this.isRightParenth()?(p&d?(g=new w(0,0,0,[]),i.push(g)):0==(p&o)&&this.error_parsing(this.pos,'unexpected ")"'),u.j16(86),p=u.o16(s,n,l,c,o)):this.isComma()?(0==(p&l)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(i,t,2),m+=2,u.U16(84),p=u.R16(h,s,r,a)):this.isConst()?(0==(p&a)&&this.error_parsing(this.pos,"unexpected constant"),f=new w(0,0,0,this.tokennumber),i.push(f),u.U16(85),p=u.R16(l,o,n)):this.isOp2()?(0==(p&r)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(i,t,2),m+=2,p=s):this.isOp1()?(0==(p&r)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(i,t,1),m++,p=s):this.isVar()?(0==(p&a)&&this.error_parsing(this.pos,"unexpected variable"),y=new w(3,this.tokenindex,0,0),i.push(y),u.j16(86),p=u.o16(s,n,l,c,o)):this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');t.length>0;)b=t.pop(),i.push(b);return m+1!==i.length&&this.error_parsing(this.pos,"parity"),new v(i,C(this.ops1),C(this.ops2),C(this.functions))},evaluate:function(e,t){return this.parse(e).evaluate(t)},error_parsing:function(e,t){throw this.success=!1,u.j16(45),this.errormsg=u.R16("parse error [column ","]: ",t,e),this.column=e,new Error(this.errormsg)},addfunc:function(e,t,i){var a;for(a=new w(i,this.tokenindex,this.tokenprio+this.tmpprio,0),u.i3j();t.length>0&&a.prio_<=t[t.length-1].prio_;)e.push(t.pop());t.push(a)},isNumber:function(){var e,t,i;for(u.z3j(),e=!1,t="";this.pos<this.expression.length&&((i=this.expression.charCodeAt(this.pos))>=48&&i<=57||46===i);)t+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(t),e=!0;return e},unescape:function(e,t){var i,a,n,r;u.i3j(),i=[],a=!1;for(var s=0;s<e.length;s++)if(n=e.charAt(s),a){switch(n){case"'":i.push("'");break;case"\\":i.push("\\");break;case"/":i.push("/");break;case"b":i.push("\b");break;case"f":i.push("\f");break;case"n":i.push("\n");break;case"r":i.push("\r");break;case"t":i.push("\t");break;case"u":r=parseInt(e.substring(s+1,s+5),16),i.push(String.fromCharCode(r)),s+=4;break;default:throw u.U16(0),this.error_parsing(u.R16(s,t),u.R16("'",n,"Illegal escape sequence: '\\",u.j16(31)))}a=!1}else"\\"==n?a=!0:i.push(n);return i.join("")},isString:function(){var e,t,i;if(e=!1,t="",u.z3j(),i=this.pos,this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if("'"==this.expression.charAt(this.pos)&&"\\"!=t.slice(-1)){this.pos++,this.tokennumber=this.unescape(t,i),e=!0;break}t+=this.expression.charAt(this.pos),this.pos++}return e},isConst:function(){var e;for(var t in u.z3j(),this.consts)if(e=t.length,t===this.expression.substr(this.pos,e))return this.tokennumber=this.consts[t],this.pos+=e,!0;return!1},isOperator:function(){var e;if(43===(e=this.expression.charCodeAt(this.pos)))this.tokenprio=2,this.tokenindex="+";else if(45===e)this.tokenprio=2,this.tokenindex="-";else if(62===e)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,u.U16(7),this.tokenprio=u.R16("1",0),this.tokenindex=">="):(this.tokenprio=1,this.tokenindex=">");else if(60===e)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex="<="):(this.tokenprio=1,this.tokenindex="<");else if(124===e){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,u.j16(15),this.tokenprio=u.o16(1976881024,"1"),this.tokenindex="||"}else if(61===e){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="=="}else if(33===e){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="!="}else if(97===e){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;this.pos++,this.pos++,this.tokenprio=0,this.tokenindex="and"}else if(111===e){if(114!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="or"}else if(42===e||8729===e||8226===e)this.tokenprio=3,this.tokenindex="*";else if(47===e)this.tokenprio=4,this.tokenindex="/";else if(37===e)this.tokenprio=4,this.tokenindex="%";else{if(94!==e)return!1;this.tokenprio=5,this.tokenindex="^"}return this.pos++,u.z3j(),!0},isSign:function(){var e;return 45===(e=this.expression.charCodeAt(this.pos-1))||43===e},isPositiveSign:function(){return 43===this.expression.charCodeAt(this.pos-1)},isNegativeSign:function(){return 45===this.expression.charCodeAt(this.pos-1)},isLeftParenth:function(){return 40===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio+=10,!0)},isRightParenth:function(){return 41===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio-=10,!0)},isComma:function(){var e;return e=this.expression.charCodeAt(this.pos),u.i3j(),44===e&&(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0)},isWhite:function(){var e;return(32===(e=this.expression.charCodeAt(this.pos))||9===e||10===e||13===e)&&(this.pos++,!0)},isOp1:function(){var e,t;u.i3j(),e="";for(var i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||t>"9")));i++)e+=t;return e.length>0&&e in this.ops1&&(this.tokenindex=e,u.j16(27),this.tokenprio=u.R16("5",2147483647),this.pos+=e.length,!0)},isOp2:function(){var e,t;e="";for(var i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||t>"9")));i++)e+=t;return e.length>0&&e in this.ops2&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isVar:function(){var e,t;e="";for(var i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||t>"9")));i++)e+=t;return e.length>0&&(this.tokenindex=e,this.tokenprio=4,this.pos+=e.length,!0)},isComment:function(){if(u.z3j(),47===this.expression.charCodeAt(this.pos-1)&&42===this.expression.charCodeAt(this.pos)){u.j16(22);var e=u.R16(18,20);return this.pos=this.expression.indexOf("*/",this.pos)+e,1===this.pos&&(this.pos=this.expression.length),!0}return!1}},!0),g},I.z3j(),t.computeEquationChart=function(e,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D=I;for(var w in e=e.replace(/[:]/,"/"),n=0,a)r=new RegExp("\\["+w.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&")+"\\]","g"),D.j16(0),e=e.replace(r,D.R16(n,"symbol")),n++;function k(){var e,t;for(var i in e=null,t=null,l)t?l[i].d.getTime()<t.d.getTime()?e=t=l[i]:l[i].d.getTime()>t.d.getTime()&&(e=t):t=l[i];return D.i3j(),e?A(e)?-1:0:1}for(w in s=i().parse(e),o=[],l={},h=0,d=null,u=!1,p=[],a)m={sym:w,map:a[w]},a[w]?p.unshift(m):p.push(m);for(var L=0;L<p.length;L++)g=p[L],l[g.sym]={i:0,s:g.sym},g.map?(h++,c=g.map[0]):1==h&&(u=g.sym),c.DT||(c.DT=t.strToDateTime(c.Date)),l[g.sym].d=c.DT,d||(d=l[g.sym]);function A(e){if(e.i++,a[e.s]){if(e.i>=a[e.s].length)return 0;c=a[e.s][e.i]}return c.DT||(c.DT=t.strToDateTime(c.Date)),e.d=c.DT,D.i3j(),1}D.U16(87),f=D.o16(h,"0"),v=1==h&&-1==e.indexOf("%");e:for(;y=k();)if(1==y){if(u)(x=a[d.s][d.i][u])&&(x.Close||0===x.Close)&&(x=x.Close),C=s.evaluate({symbol0:a[d.s][d.i].Close,symbol1:x}),C=Number(C.toFixed(8)),(b={DT:d.d,Close:C,Adj_Close:C})[d.s]=a[d.s][d.i].Close,isNaN(C)||C==1/0||o.push(b);else{if(f)throw S=s.evaluate({}),D.U16(31),t.alert(D.o16(S,"=",e)),{name:"NoException",message:""};for(w in n=0,T={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}},a){for(var M in T)D.U16(0),T[M][D.o16(n,"symbol")]=a[w][l[w].i][M];n++}(b={DT:d.d}).Adj_Close=s.evaluate(T.Adj_Close),b.Close=s.evaluate(T.Close),b.Open=s.evaluate(T.Open),b.Volume=s.evaluate(T.Volume),isNaN(b.Volume)&&(D.j16(2),b.Volume=D.R16(1,"0")),v?(b.High=s.evaluate(T.High),b.Low=s.evaluate(T.Low)):(b.High=Math.max(b.Open,b.Close),b.Low=Math.min(b.Open,b.Close)),isNaN(b.Close)||b.Close==1/0||o.push(b),isNaN(b.High)||(b.High=Number(b.High.toFixed(8))),isNaN(b.Low)||(b.Low=Number(b.Low.toFixed(8))),isNaN(b.Open)||(b.Open=Number(b.Open.toFixed(8))),isNaN(b.Close)||(b.Close=Number(b.Close.toFixed(8))),isNaN(b.Adj_Close)?b.Adj_Close=b.Close:b.Adj_Close=Number(b.Adj_Close.toFixed(8))}for(w in a)if(!A(l[w]))break e}return o}},c=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.setLocale=function(e,i){var a,n,r,s;if("undefined"!=typeof Intl&&this.locale!=e){for(this.locale=e,(n=this.internationalizer={}).hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hourCycle:"h23"}),n.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"}),n.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),n.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"}),n.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"}),n.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"}),I.i3j(),n.month=new Intl.DateTimeFormat(this.locale,{month:"short"}),n.numbers=new Intl.NumberFormat(this.locale),n.priceFormatters=[],i||(i=8),a=0;a<i+1;a++)n.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:a,minimumFractionDigits:a}));for(a=0;a<5;a++)r=a,s=a,a||(r="",s=2),I.j16(0),n[I.o16(r,"percent")]=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s});t.I18N.createMonthArrays&&t.I18N.createMonthArrays(this,n.month,this.locale)}},t.I18N=function(){},t.I18N.hereDoc=function(e){return I.i3j(),e.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"")},t.I18N.language="en",t.I18N.longMonths={zh:!0},t.I18N.reverseColorsByLocale={zh:!0,ja:!0},t.I18N.findAllTextNodes=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y;if(e||(e=document.body),e==document.body&&!document.querySelector(".ciq_stashed_texts")){(i=document.createElement("div")).className="ciq_stashed_texts",i.style.display="none",e.appendChild(i),a=document.querySelectorAll("input,textarea,.editable_content");for(var b=0;b<a.length;b++)(n=a[b].getAttribute("placeholder"))&&((r=i.appendChild(document.createElement("translate"))).setAttribute("original",n),r.placeholderFor=a[b],r.appendChild(document.createTextNode(n)))}for(o=(s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1)).nextNode(),l=new RegExp("^\\s*$"),h=new RegExp("\n|\t|\f","g"),c={},d={SCRIPT:!0,STYLE:!0,TEXTAREA:!0};o;)u=o.nodeValue,l.test(u)||(p=o.parentNode,m=o.nextSibling,d[g=p.tagName]||("TRANSLATE"!=g?((f=document.createElement("translate")).setAttribute("original",u),f.appendChild(o),p.insertBefore(f,m)):u=p.getAttribute("original"),h.test(u)&&(u=u.replace(h,"")),c[u]||(c[u]=[]),c[u].push(o))),o=s.nextNode();if(e==document.body&&(v=t.Studies?t.Studies.studyLibrary:null))for(var x in v){if(null===c[x]&&(c[x]=[]),(y=v[x]).inputs)for(var C in y.inputs)c[C]||(c[C]=[]);if(y.outputs)for(var S in y.outputs)c[S]||(c[S]=[])}return c},t.I18N.missingWordList=function(e){var i,a,n,r,s,o;for(var l in e||(e=t.I18N.language),i=t.I18N.findAllTextNodes(),a={},(n=t.I18N.wordLists[e])||(n={}),r=function(e){void 0===n[e]&&(a[e]="")},i)r(l);if(!t.Studies||!t.Studies.studyLibrary)return a;for(var h in t.Studies.studyLibrary){for(var c in r((s=t.Studies.studyLibrary[h]).name),s.inputs)switch(r(c),o=s.inputs[c],Object.prototype.toString.call(o)){case"[object String]":r(o);break;case"[object Array]":for(var d=0;d<o.length;++d)r(o[d])}for(var u in s.outputs)r(u)}return r("Show Zones"),r("OverBought"),r("OverSold"),r("Panel"),r("Show as Underlay"),r("Y-Axis"),r("Invert Y-Axis"),a},t.I18N.printableMissingWordList=function(e){return JSON.stringify(t.I18N.missingWordList(e)).replace(/","/g,'",\n"')},t.I18N.translateUI=function(e,i){var a,n,r,s,o,l,h,c;if("pu"==e&&(e="pt"),t.I18N.wordLists&&(e||(e=t.I18N.language),a=t.I18N.findAllTextNodes(i),n=t.I18N.wordLists[e]))for(var d in a){r=t.I18N.translateSections(d,n),s=a[d];for(var u=0;u<s.length;u++)h=(l=(o=s[u]).parentNode).getAttribute("original"),","!==r&&r||(r=h),(c=l.placeholderFor)?c.placeholder=r:o.data=r}},t.I18N.translate=function(e,i){var a,n;return i||(i=t.I18N.language),t.I18N.wordLists?(a=t.I18N.wordLists[i],n=null,I.z3j(),a&&(n=t.I18N.translateSections(e,a)||e),","===n?e:n):(console.log("Must include translations.js in order to use CIQ.I18N.translate()"),e)},t.I18N.translateSections=function(e,t){var i,a,n,r=I;if(i="","string"==typeof e&&-1!=e.indexOf(i))return r.j16(31),(a=(e=e.replace(/([(),])/g,r.R16(i,"$1",i))).split(i)).forEach((function(e,i,a){var n,s,o,l,h;r.j16(35),n=r.R16(1813172384,"686158094"),r.U16(27),s=-r.R16("888010571",2147483647),o=2;for(var c=1;r.v7D(c.toString(),c.toString().length,54462)!==n;c++)l=e.match(/^(\s*).*\S(\s*)$/),o+=2;if(r.x3D(o.toString(),o.toString().length,54831)!==s&&(l=e.match(/^(\s*).*\S(\s*)$/)),h=t[e.trim()]){if(l){r.j16(88);var d=r.R16(4,9,12,0);r.j16(0);var u=r.R16(1,1);h=l[d]+h+l[u]}a[i]=h}})),a.join("");r.U16(27),n=r.R16("2",2147483647);for(var s=1;-1236263828!==r.v7D(s.toString(),s.toString().length,44879);s++)return t[e];return r.x3D(n.toString(),n.toString().length,56925),t[e]},t.I18N.convertCSV=function(e){var i,a,n,r,s,o,l,h,c;if(i=new RegExp("[]|[]","g"),a=new RegExp('^(")|(")$',"g"),n=t.I18N.wordLists,e||(e=t.I18N.csv),e){s=(r=e.split("\n"))[0].split(",");for(var d=0;d<s.length;d++)n[o=s[d]]||(n[o]={});for(var u=1;u<r.length;u++){h=(l=r[u].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g)||[])[0],a.test(h)&&(h=h.replace(a,"")),i.test(h)&&(h=h.replace(i,'"'));for(var p=1;p<l.length;p++)c=l[p],a.test(c)&&(c=c.replace(a,"")),n[s[p]][h]=c}}},t.I18N.setLanguage=function(e,i,a,n,r){r||(r=(e.uiContext||{}).topNode||document.body),"pu"==i&&(i="pt"),t.I18N.convertCSV(n),t.I18N.language=i,t.I18N.translateUI(i,r),a||(a=t.I18N.translate),e.translationCallback=a},t.I18N.setLocale=function(e,i,a,n,r){var s,o,l,h,c=I;if(t.xor(this.reverseColorsByLocale[i],this.reverseColorsByLocale[e.locale])&&this.reverseCandles(e),c.i3j(),"undefined"==typeof Intl||!Intl.__addLocaleData)return e.setLocale(i,r),void(a&&a(null));s=2;for(var d=1;-1770306322!==c.v7D(d.toString(),d.toString().length,57983);d++)n=void 0===n?"locale-data/jsonp":n,c.U16(45),o=c.o16(n,i,".js","/"),l=document.createElement("SCRIPT"),s+=2;-1442832318!==c.x3D(s.toString(),s.toString().length,94893)&&(n="/"!==!n?"locale-data/jsonp":n,c.j16(89),o=c.o16(n,".js",i,"locale-data/jsonp"),l=document.createElement(".js")),l.async=!0,l.src=o,(h=document.getElementsByTagName("script")[0]).parentNode.insertBefore(l,h.nextSibling),l.onload=function(){e.setLocale(i,r),a&&a(null)},l.onerror=function(){a&&a("cannot load script")}},t.I18N.createMonthArrays=function(e,i,a){var n,r,s,o,l;I.z3j(),e.monthAbv=[],e.monthLetters=[],n=new Date,r=!0,t.I18N.longMonths&&t.I18N.longMonths[a]&&(r=!1);for(var h=0;h<12;h++)if(n.setDate(1),n.setMonth(h),s=i.format(n),r){o="";for(var c=0;c<s.length;c++)(l=s.charAt(c)).charCodeAt(0)<65||(o+=l);e.monthAbv[h]=o,e.monthLetters[h]=o[0]}else e.monthAbv[h]=s,e.monthLetters[h]=s},t.I18N.localize=function(e,i){i=this.langConversionMap[i]||i,this.setLocale(e,i),this.setLanguage(e,i),t.I18N.localized=!0},t.I18N.reverseCandles=function(e){var t,i,a;t=e.styles,i=e.cloneStyle(t.stx_candle_down),a=e.cloneStyle(t.stx_candle_up),t.stx_candle_up=i,t.stx_candle_down=a},t.I18N.wordLists={en:{}},t.I18N.languages={en:"English"},t.I18N.langConversionMap={},I.z3j(),t.I18N.localized=!1},d=e=>{var t,i;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.pointerEvents={down:[],up:[]},t.ChartEngine.prototype.manageTouchAndMouse=!0,t.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var e,i,a,n,r,s,o;this.touchAndMouseEventsRegistered||(this.touchAndMouseEventsRegistered=!0,i=(e=this.controls.chartControls||document).querySelector(".stx-zoom-in"),a=e.querySelector(".stx-zoom-out"),n=this.chart.container,r=this,s=function(e,t,i){r.addDomEventListener(n,e,(function(e){r.mainSeriesRenderer&&r.mainSeriesRenderer.nonInteractive||(I.z3j(),t(e))}),i)},t.touchDevice?t.isSurface?(s("mousemove",(function(e){r.msMouseMoveProxy(e)})),s("mouseenter",(function(e){I.i3j(),r.msMouseMoveProxy(e)})),s("mousedown",(function(e){I.z3j(),r.msMouseDownProxy(e)})),s("mouseup",(function(e){r.msMouseUpProxy(e)})),s("pointerdown",(function(e){return r.startProxy(e)})),s("pointermove",(function(e){I.z3j(),r.moveProxy(e)})),s("pointerenter",(function(e){return r.moveProxy(e)})),s("pointerup",(function(e){return r.endProxy(e)}))):(t.isMobile||(s("mousemove",(function(e){r.iosMouseMoveProxy(e)})),s("mouseenter",(function(e){r.iosMouseMoveProxy(e)})),s("mousedown",(function(e){I.z3j(),r.iosMouseDownProxy(e)})),s("mouseup",(function(e){I.i3j(),r.iosMouseUpProxy(e)}))),s("touchstart",(function(e){r.touchstart(e)}),{passive:!1}),s("touchmove",(function(e){I.i3j(),r.touchmove(e)}),{passive:!1}),s("touchend",(function(e){I.i3j(),r.touchend(e)})),s("pointerdown",(function(e){I.z3j(),r.touchPointerType=e.pointerType})),i&&(i.removeAttribute("onMouseOver"),i.removeAttribute("onMouseOut")),a&&(a.removeAttribute("onMouseOver"),a.removeAttribute("onMouseOut"))):(s("mousemove",(function(e){r.mousemove(e)})),s("mouseenter",(function(e){r.mousemove(e)})),s("mousedown",(function(e){I.i3j(),r.mousedown(e)})),s("mouseup",(function(e){I.z3j(),r.mouseup(e)}))),o=t.wheelEvent,this.captureMouseWheelEvents&&s(o,(function(e){I.z3j(),r.mouseWheel(e)}),{passive:!1}))},t.ChartEngine.prototype.mousedown=function(e){var i,a,n,r,s,o,l,h;if(i="mous",i+="edo",i+="wn",a="d",a+="o",a+="w",a+="n",n="mo",n+="us",n+="e",n+="down",!this.runPrepend(n,arguments)&&(this.grabOverrideClick=!1,this.displayInitialized&&this.displayCrosshairs&&!this.repositioningDrawing&&!(this.editingAnnotation||e.button&&e.button>=2)))if(r=this.container.getBoundingClientRect(),this.top=r.top,this.left=r.left,this.right=this.left+this.width,this.bottom=this.top+this.height,e.clientX>=this.left&&e.clientX<=this.right&&e.clientY>=this.top&&e.clientY<=this.bottom){if(this.insideChart=!0,this.currentPanel){this.manageTouchAndMouse&&e&&e.preventDefault&&this.captureTouchEvents&&e.preventDefault(),this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.hasDragged=!1,I.z3j(),this.userPointerDown=!0,""===this.openDialog&&this.registerPointerEvent({x:e.clientX,y:e.clientY,time:this.mouseTimer},a),s=this.currentPanel.chart;for(var c=0;c<this.drawingObjects.length;c++)if((o=this.drawingObjects[c]).highlighted&&!o.permanent){if(this.cloneDrawing)return(l=new(0,t.ChartEngine.drawingTools[o.name])).reconstruct(this,o.serialize()),this.drawingObjects.push(l),this.activateRepositioning(l),void(l.repositioner=o.repositioner);if(h=this.currentVectorParameters.vectorType,!(t.Drawing&&h&&t.Drawing[h]&&(new t.Drawing[h]).dragToDraw))return void this.activateRepositioning(o)}this.mainSeriesRenderer;var{baselineHelper:d}=this;if(!d.size||!this.findBaselineHandle(e,!0)){if(this.controls.anchorHandles){var{anchorHandles:u}=this.controls;for(var p in u){var{handle:m,sd:g,highlighted:f}=u[p];if(f)return this.repositioningAnchorSelector={sd:g},void m.classList.add("stx-grab")}}var v;this.drawingClick&&(this.currentPanel.subholder===e.target&&this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw)||(this.grabbingScreen=!0,s.spanLock=!1,this.yToleranceBroken=!1,this.grabStartX=e.clientX,this.grabStartY=e.clientY,this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=s.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(this.currentPanel),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPanel=this.currentPanel,setTimeout((v=this,function(){I.z3j(),v.grabbingHand()}),100),this.swipeStart&&this.swipeStart(s),(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer(),this.runAppend(i,arguments))}}}else this.insideChart=!1},t.ChartEngine.prototype.mousemove=function(e){var i,a;i="e",i+="n",i+="te",i+="r",a=e,t.ChartEngine.crosshairX=a.clientX,I.z3j(),t.ChartEngine.crosshairY=a.clientY,a.type.toLowerCase().indexOf(i)>-1?this.positionCrosshairsAtPointer():this.runPrepend("mousemove",arguments)||this.displayInitialized&&""===this.openDialog&&(this.baselineHelper.size&&this.findBaselineHandle(a),this.grabbingScreen&&1!==a.buttons&&(this.cancelLongHold=!0,this.displayDragOK(),this.grabbingScreen=!1,this.findHighlights(!1,!0)),this.mousemoveinner(a.clientX,a.clientY),this.runAppend("mousemove",arguments))},t.ChartEngine.prototype.mouseup=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g=I;if(i="stx-drag",i+="-c",i+="hart",a="u",a+="p",!this.runPrepend("mouseup",arguments)){if(this.swipe.end=!0,this.cancelLongHold=!0,this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250)return this.changeOccurred("vector"),t.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.adjustDrawings(),void this.draw();this.activateRepositioning(null)}if(this.repositioningBaseline){var{handle:f}=this.repositioningBaseline,{mainSeriesRenderer:v={}}=this;return this.repositioningBaseline=null,f.classList.remove("stx-grab"),v.params&&v.params.baseline&&v.params.type,void this.draw()}if(this.repositioningAnchorSelector)return t.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd),this.repositioningAnchorSelector=null,Object.values(this.controls.anchorHandles||{}).forEach((({handle:e})=>(g.i3j(),e.classList.remove("stx-grab")))),void this.findHighlights();if(n=this.userPointerDown,this.userPointerDown=!1,this.displayInitialized){if(r=this.backOutY(e.clientY),s=this.backOutX(e.clientX),o=e.which&&e.which>=2||e.button&&e.button>=2,""!==this.openDialog||o||this.registerPointerEvent({x:e.clientX,y:e.clientY,time:Date.now()},a),l=this.isDoubleClick(),this.grabbingScreen=!1,this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(s,r),this.currentPanel=this.whichPanel(r)),g.i3j(),h=this.currentPanel,this.grabStartYAxis=null,this.displayDragOK(),""!==this.openDialog)return c="stx-",c+="drag-char",c+="t",void(this.insideChart&&this.container.classList.remove(c));if(this.grabOverrideClick)return this.overXAxis||this.overYAxis||!this.swipeRelease||this.swipeRelease(),this.container.classList.remove("stx-drag-chart"),this.grabOverrideClick=!1,this.doDisplayCrosshairs(),void this.updateChartAccessories();if(this.insideChart&&this.container.classList.remove(i),t.ChartEngine.resizingPanel)this.releaseHandle();else{if(o||e.ctrlKey)return this.anyHighlighted&&!0!==this.bypassRightClick?(this.rightClickHighlighted(),e.preventDefault&&this.captureTouchEvents&&e.preventDefault(),e.stopPropagation(),!1):(this.dispatch("rightClick",{stx:this,panel:h,x:s,y:r}),!0);if(!(e.clientX<this.left||e.clientX>this.right||e.clientY<this.top||e.clientY>this.bottom)){if(d=h&&h.subholder===e.target,l&&(d||this.overYAxis||this.overXAxis))this.doubleClick({button:e.button,x:s,y:r});else{if(n&&d){u=1485399682,g.U16(2),p=-g.R16(1,"1462785635"),m=2;for(var y=1;g.v7D(y.toString(),y.toString().length,48703)!==u;y++)-this.longHoldTookEffect&&this.activeDrawing&&this.drawingClick(h,s,r),m+=2;g.v7D(m.toString(),m.toString().length,73881)!==p&&(this.longHoldTookEffect&&!this.activeDrawing||this.drawingClick(h,s,r)),this.longHoldTookEffect&&!this.activeDrawing||this.drawingClick(h,s,r),!this.longHoldTookEffect&&this.activeMarker&&this.activeMarker.click({cx:s,cy:r,panel:h})}this.longHoldTookEffect||this.activeDrawing||this.dispatch("tap",{stx:this,panel:h,x:s,y:r})}this.runAppend("mouseup",arguments)}}}}},t.ChartEngine.prototype.registerPointerEvent=function(e,t){this.pointerEvents[t].length>1&&this.pointerEvents[t].pop(),I.z3j(),this.pointerEvents[t].unshift(e)},t.ChartEngine.prototype.resetPointerEvent=function(e){I.z3j(),this.pointerEvents[e].splice(0)},t.ChartEngine.prototype.isDoubleClick=function(e){var t,i;t=e?1200:400;var{up:a,down:n}=this.pointerEvents;return this.cancelTouchSingleClick=!1,!(a.length<2||n.length<2)&&((i=n[0].time-a[1].time<this.doubleClickTime&&Math.pow(n[1].x-n[0].x,2)+Math.pow(n[1].y-n[0].y,2)<=t&&Math.pow(a[1].x-a[0].x,2)+Math.pow(a[1].y-a[0].y,2)<=t&&a[1].time-n[1].time<this.longHoldTime&&a[0].time-n[0].time<this.longHoldTime)&&(this.resetPointerEvent("up"),this.resetPointerEvent("down"),this.cancelTouchSingleClick=!0),I.i3j(),i)},I.i3j(),t.ChartEngine.prototype.doubleClick=function(e,i,a){var n,r;if(n="d",n+="oubl",n+="eClick",r="doubleCli",r+="ck",!this.runPrepend("doubleClick",arguments)&&!this.editingAnnotation)return t.ChartEngine.drawingLine?this.undo():void(this.activeDrawing||(this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:a,panel:this.currentPanel})||this.dispatch(r,{stx:this,button:e,x:i,y:a}),this.runAppend(n,arguments)))},t.ChartEngine.prototype.handleMouseOut=function(e){var i,a;if(e=e||window.event,!t.withinElement(this.chart.container,e.pageX,e.pageY)){if(this.runPrepend("handleMouseOut",arguments))return;this.grabbingScreen||this.findHighlights(null,!0),this.undisplayCrosshairs(),this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown&&(this.userPointerDown=!1,this.drawingLine=!1,i=this.backOutY(e.pageY),a=this.backOutX(e.pageX),this.drawingClick(this.currentPanel,a,i));var{sd:n,tapToAdd:r}=this.repositioningAnchorSelector||{};n&&!r&&(this.repositioningAnchorSelector=null,this.controls.anchorHandles[n.uniqueId].highlighted=!1,t.Studies.displayAnchorHandleAndLine(this,n,this.chart.dataSegment),this.draw()),this.insideChart=!1,this.overYAxis=!1,this.overXAxis=!1,this.displaySticky(),this.runAppend("handleMouseOut",arguments)}},t.ChartEngine.prototype.startLongHoldTimer=function(e){var t,i;t=this,this.cancelLongHold=!1,this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),i=function(){t.cancelLongHold||(t.longHoldTookEffect=!0,e&&e(),t.dispatch("longhold",{stx:t,panel:t.currentPanel,x:t.cx,y:t.cy}),I.z3j(),t.displayDragOK())},this.longHoldTime?this.longHoldTimeout=setTimeout(i,this.longHoldTime):0===this.longHoldTime&&i()},t.ChartEngine.prototype.grabHandle=function(e){this.runPrepend("grabHandle",arguments)||e&&(t.ChartEngine.crosshairY=this.resolveY(e.top),t.ChartEngine.resizingPanel=e,e.handle.classList.add("stx-grab"),this.runAppend("grabHandle",arguments))},t.ChartEngine.prototype.grabbingHand=function(){this.allowScroll&&this.grabbingScreen&&(t.touchDevice||this.container.classList.add("stx-drag-chart"))},t.ChartEngine.prototype.releaseHandle=function(){var e;if(e="release",e+="Handle",this.runPrepend("releaseHandle",arguments))return!0;t.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),t.ChartEngine.resizingPanel&&t.ChartEngine.resizingPanel.handle.classList.remove("stx-grab"),t.ChartEngine.resizingPanel=null,this.runAppend(e,arguments)},t.ChartEngine.prototype.findHighlights=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,q,E,V,N,j,R,z,U,Z,W=I;a=this.preferences[e?"highlightsTapRadius":"highlightsRadius"],this.highlightViaTap=e;var{cx:Y,cy:B}=this;if(this.anyHighlighted=!1,this.currentPanel){var{chart:Q}=this.currentPanel;if(this.activeDrawing&&(i=!0),n=!1,r=null,s=i?{}:{forceShow:!0,type:"drawing"},o={x0:this.tickFromPixel(Y-a,Q),x1:this.tickFromPixel(Y+a,Q),y0:this.valueFromPixel(B-a,this.currentPanel),y1:this.valueFromPixel(B+a,this.currentPanel),cx0:Y-a,cx1:Y+a,cy0:B-a,cy1:B+a,r:a},this.repositioningDrawing&&o.x1-o.x0<2?(o.x1++,o.x0--):o.x1==o.x0&&(o.x0-=.5,o.x1+=.5),l=this.markerHelper&&this.markerHelper.chartMap[Q.name]&&this.markerHelper.chartMap[Q.name].markers,!Q.hideDrawings)for(var X=this.drawingObjects.length-1;X>=0;X--)h=this.drawingObjects[X],this.panels[h.panelName]&&(this.repositioningDrawing&&this.repositioningDrawing!=h||(c=h.highlighted,(d=h.panelName==this.currentPanel.name)&&(h.repositioner=h.intersected(this.crosshairTick,this.crosshairValue,o)),d=d&&h.repositioner&&!this.overXAxis&&!this.overYAxis,!i&&d?(c?(r=h,this.anyHighlighted&&this.singleDrawingHighlight&&(h.highlighted=!1),h.highlighted&&h.highlighted!=c&&(n=!0)):c!=h.highlight(!0)&&(r||(r=h),this.anyHighlighted&&this.singleDrawingHighlight&&(h.highlighted=!1),n=!0),this.anyHighlighted=!0):c!=h.highlight(!1)&&(n=!0),h.highlighted&&(s.noDelete=h.permanent,s.noEdit=!this.callbackListeners.drawingEdit.length,s.message=t.capitalize(h.name))));for(u in this.layout.studies)(p=this.layout.studies[u]).prev=p.highlight,p.highlight=this.yaxisMatches(p,this.grabStartYAxis);for(u in Q.seriesRenderers){(v=Q.seriesRenderers[u]).params.highlight=this.yaxisMatches(v,this.grabStartYAxis);for(var G=0;G<v.seriesParams.length;G++)(f=v.seriesParams[G]).prev=f.highlight,f.highlight=v.params.highlight}for(m=0;l&&m<l.length;m++)(g=l[m]).params.box&&(this.activeMarker=null,g.prev=l[m].highlight,g.highlight=!1);if(W.i3j(),this.markerHelper&&(this.markerHelper.highlighted=[]),this.highlightedDataSetField=null,this.highlightedDraggable=null,!i&&!this.anyHighlighted&&this.controls.anchorHandles)for(var K in this.controls.anchorHandles){if(y=this.controls.anchorHandles[K],!this.anyHighlighted){var{sd:$,currentPixel:J}=y;W.U16(7),b=W.R16(J,a),W.j16(0),x=W.o16(a,J),C=this.panels[$.panel];var{top:ee,bottom:te}=C.yAxis;if(t.boxIntersects(b,ee,x,te,Y,B,Y,B)){this.anyHighlighted=!0,y.highlighted=!0,n=!0,s={message:$.name,type:"anchorHandle",noDelete:!0};continue}}!0===y.highlighted&&(y.highlighted=!1,n=!0)}if(!i&&!this.anyHighlighted&&Q.dataSegment&&(S=this.barFromPixel(Y))>=0&&S<Q.dataSegment.length){for(u in this.overlays)if((p=this.overlays[u]).panel==this.currentPanel.name&&!1!==p.study.isHighlighted)if("function"!=typeof p.study.isHighlighted){if(Q.dataSegment[S]){for(var ie in p.outputMap)if(re.call(this,S,o,ie,p.getYAxis(this))){p.name!=p.panel&&(this.anyHighlighted=!0),p.highlight=ie;break}if(p.highlight){this.highlightedDataSetField=ie;break}}}else p.study.isHighlighted(this,Y,B)&&(p.highlight=!0,this.anyHighlighted=!0);for(u in Q.seriesRenderers){if(this.highlightedDataSetField)break;if(w=(D=Q.seriesRenderers[u]).params.panel,D!=this.mainSeriesRenderer&&(D.params.highlightable||this.currentVectorParameters.vectorType)&&w==this.currentPanel.name)for(m=0;m<D.seriesParams.length;m++){if((k=(f=D.seriesParams[m]).field)||D.highLowBars||(k=this.defaultPlotField||"Close"),f.symbol&&f.subField&&(k+="--\x3e"+f.subField),!(L=D.params.yAxis)&&w&&(L=this.panels[w].yAxis),D.params.step&&S>0){if(!D.caches[f.id])continue;if(!(T=D.caches[f.id][S])&&0!==T)continue;W.U16(7),(((A=D.caches[f.id][W.o16(S,1)])||0===A)&&B+a>=T&&B-a<=A||B-a<=T&&B+a>=A)&&(f.highlight=!0,this.anyHighlighted=!0)}else re.call(this,S,o,k,L,D,f.id)&&(f.highlight=!0,this.anyHighlighted=!0);if(f.highlight){this.highlightedDataSetField=k;break}}}}for(u in P=this.preferences.dragging,this.overlays)(p=this.overlays[u]).highlight&&(this.anyHighlighted=!0,_=p.inputs.display||p.name,s={message:_=this.translateIf(_),noDelete:p.permanent,noEdit:!p.editFunction,type:"study"},r=null,(!0===P||P&&P.study)&&(M=p),O=p.getYAxis(this)),p.prev!=p.highlight&&(n=!0);for(u in Q.seriesRenderers){H=(F=Q.seriesRenderers[u]).params.yAxis?F.params.yAxis.textStyle:null;for(var ae=0;ae<F.seriesParams.length;ae++)f=F.seriesParams[ae],F.params.highlightable&&f.highlight&&(this.anyHighlighted=!0,"auto"==(q=f.color||H)&&(q=this.defaultColor),f.opacity&&1!==f.opacity&&(q=t.hexToRgba(t.colorToHex(q),parseFloat(f.opacity))),s={message:f.display||f.symbol,backgroundColor:q,noDelete:f.permanent,type:"series"},r=null,(!0===P||P&&P.series)&&(M=F,F.params.highlight=!0),O=F.getYAxis(this)),f.prev!=f.highlight&&(n=!0)}for(u in this.plugins)V={},(E=this.plugins[u]).findHighlights&&((V=E.findHighlights(this,e,i)).somethingChanged&&(n=!0),V.anyHighlighted&&(this.anyHighlighted=!0,s=V.stickyArgs||{}));for(var ne in N=this.whichPanel(B),j=this.whichYAxis(N,Y),O||(O=j),this.currentBaseline&&(O=this.currentBaseline.getYAxis(this)),O&&(O.highlight||(n=!0),O.highlight=!0),R=[],this.panels)R=R.concat(this.panels[ne].yaxisLHS).concat(this.panels[ne].yaxisRHS);for(u=0;u<R.length;u++)(O!=R[u]||i)&&(R[u].highlight&&(n=!0),R[u].highlight=!1);for(m=0;l&&m<l.length;m++)(z=(g=l[m]).params.box)&&g.params.panelName===this.currentPanel.name&&(U=t.convertBoxToPixels(this,this.currentPanel.name,o),t.boxIntersects(U.x0,U.y0,U.x1,U.y1,z.x0,z.y0,z.x1,z.y1)&&(this.activeMarker=g,g.highlight=!0,this.markerHelper.highlighted.push(g)),g.prev!=g.highlight&&(n=!0));if((!0===P||P&&P.yaxis)&&j&&!j.noDraw&&(this.anyHighlighted=!0,M=j,s={}),n&&(this.draw(),s.panel=N,this.anyHighlighted&&!this.grabStartYAxis?s.panel=N:s={},this.displaySticky(s),this.clearMeasure(),r&&r.measure()),this.anyHighlighted?this.controls.mSticky&&(s&&s.positioner?s.positioner.call(this,this.controls.mSticky):this.positionSticky(this.controls.mSticky)):this.setMeasure(),M&&N&&!N.noDrag){if(this.longHoldTookEffect&&!this.cancelLongHold){if(M.params)for(u in M.params.dependentOf&&((M=Q.seriesRenderers[M.params.dependentOf]).params.highlight=!0),Q.seriesRenderers)Q.seriesRenderers[u].params.dependentOf==M.params.name&&(Q.seriesRenderers[u].params.highlight=!0);if(this.highlightedDraggable=M,M.getDependents)for(u in Z=M.getDependents(this,!0),this.overlays)p=this.overlays[u],Z.indexOf(p)>-1&&(p.highlight=!0)}this.container.classList.add("stx-draggable")}else this.container.classList.remove("stx-draggable");this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField),this.displayDrawOK()}function re(e,i,a,n,r,s){var o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,T,D,w,k,L,A,M,P;function O(e){var t;return e?((t=e[d])&&(t[u]||0===t[u])&&(t=t[u]),r&&r.getBasis&&(t+=r.getBasis(e,d,u)),l.transformFunc&&n==l.yAxis?e.transform&&d in e.transform?((t=e.transform[d])&&(t[u]||0===t[u])&&(t=t[u]),t):l.transformFunc(o,l,t):t):null}if(W.z3j(),l=(o=this).chart,h=o.currentPanel,n||(n=h.yAxis),c=a.split("--\x3e"),d=c[0],(u=c[1])||(u="Close"),p=l.dataSegment[S],b=null,x=null,C=null,T=new Array(3),D=r&&r.caches[s],p&&D){for(f=D[S],b=p.tick,(f||0===f)&&(T[0]=1),w=S-1;w>=0;w--)if(D[w]||0===D[w]){v=D[w],W.j16(55),x=W.R16(S,b,w),T[1]=1;break}for(w=S+1;w<l.dataSegment.length;w++)if(D[w]||0===D[w]){y=D[w],W.j16(55),C=W.R16(S,b,w),T[2]=1;break}}if(null===x&&(m=o.getPreviousBar.call(o,l,a,S))&&(x=m.tick,v=O(m)),null===C&&(g=o.getNextBar.call(o,l,a,S))&&(C=g.tick,y=O(g)),null===x&&null===C)return!1;if(D||(f=O(p),v=O(m),y=O(g),b=p.tick,m&&(x=m.tick),g&&(C=g.tick)),v||0===v||(v=0,x=0),!y&&0!==y)if(f||0===f?(y=f,T[2]=T[0]):(y=v,T[2]=T[1]),s&&l.series[s].parameters.extendToEndOfDataSet){W.U16(7);var _=W.R16(16,15);C=l.dataSet.length-_}else C=x;return f||0===f||(f=y,b=C,T[0]=T[2],0===v&&0===x&&(v=f,x=b,T[1]=T[0])),k=o.pixelFromTransformedValue.bind(o),f=(L=o.valueFromPixel.bind(o))(T[0]?f:k(f,h,n),h),v=L(T[1]?v:k(v,h,n),h),y=L(T[2]?y:k(y,h,n),h),A=t.convertBoxToPixels(o,h.name,i),M=t.convertBoxToPixels(o,h.name,{x0:x,y0:v,x1:b,y1:f}),P=t.convertBoxToPixels(o,h.name,{x0:b,y0:f,x1:C,y1:y}),!(!t.boxIntersects(A.x0,A.y0,A.x1,A.y1,M.x0,M.y0,M.x1,M.y1,"segment")&&!t.boxIntersects(A.x0,A.y0,A.x1,A.y1,P.x0,P.y0,P.x1,P.y1,"segment"))}},t.ChartEngine.prototype.rightClickHighlighted=function(){this.runPrepend("rightClickHighlighted",arguments)||(I.z3j(),this.deleteHighlighted(!0),this.runAppend("rightClickHighlighted",arguments))},t.ChartEngine.prototype.deleteHighlighted=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m;if(!this.runPrepend("deleteHighlighted",arguments)){if(this.cancelTouchSingleClick=!0,t.clearCanvas(this.chart.tempCanvas,this),(a=!1===this.bypassRightClick)||!this.bypassRightClick.drawing)for(var g=this.drawingObjects.length-1;g>=0;g--)(n=this.drawingObjects[g]).highlighted&&(e?this.rightClickDrawing(n,i):n.permanent||(n.abort()||(r=this.exportDrawings(),this.drawingObjects.splice(g,1),this.undoStamp(r,this.exportDrawings())),this.changeOccurred("vector")));if(a||!this.bypassRightClick.study)for(var f in this.overlays)((s=this.overlays[f]).overlay||s.underlay)&&s.highlight&&!s.permanent&&(e||i?this.rightClickOverlay(f,i):this.removeOverlay(f));if((o=this.currentPanel&&this.currentPanel.chart)&&(a||!this.bypassRightClick.series))for(var v in o.seriesRenderers)if((l=o.seriesRenderers[v]).params.highlightable){c=(h=this.panels[l.params.panel])&&h.yAxis.name;for(var y=l.seriesParams.length-1;y>=0;y--)d=l.seriesParams[y],!l.params.highlight&&!d.highlight||d.permanent||(l.removeSeries(d.id),l.seriesParams.length<1&&(this.removeSeriesRenderer(l),l.params.name==c?this.electNewPanelOwner(l.params.panel):(this.checkForEmptyPanel(l.params.panel),(u=this.getYAxisByName(h,l.params.name))&&(u.name=u.studies[0]||u.renderers[1]))))}this.draw(),this.resizeChart(),this.clearMeasure(),(p=this.controls.mSticky)&&(m="no",m+="n",m+="e",p.style.display=m,p.children[0].innerHTML=""),this.runAppend("deleteHighlighted",arguments)}},t.ChartEngine.prototype.displayDragOK=function(e){var t,i,a,n,r,s,o,l,h,c,d,u=I;function p(e){var i,a;u.i3j(),i=t.translateIf(e.querySelector(".field").getAttribute("text")),(a=t.whichYAxis(t.whichPanel(t.cy),t.cx,t.cy))&&"all"==a.dropzone&&(i+="--\x3e"+t.translateIf(a.name)),e.querySelector(".field").innerHTML=i}if(t=this,i=this.controls.dragOk){if(e||this.tapForHighlighting&&this.touching&&!this.anyHighlighted||this.findHighlights(this.highlightViaTap),n=(a=this.highlightedDraggable)&&a.undraggable&&a.undraggable(this),r=this.cx,s=this.cy,!e){if(a&&!n&&this.longHoldTookEffect&&!this.cancelLongHold)o=a.inputs&&a.inputs.display||a.params&&(a.params.display||a.params.name)||a.name,i.querySelector(".field").setAttribute("text",o),p.call(this,i),i.style.display="inline-block",this.draw(),this.displaySticky(),this.grabStartYAxis?this.container.classList.replace("stx-drag-chart","stx-drag-axis"):this.container.classList.replace("stx-drag-chart","stx-drag-series");else for(var m in i.style.display="none",this.draw(),this.container.classList.remove("stx-drag-series"),this.container.classList.remove("stx-drag-axis"),this.panels){for((l=this.panels[m].subholder.classList).remove("dropzone"),l.remove("all"),l.remove("left"),l.remove("right"),l.remove("top"),l.remove("bottom"),h=0;h<this.panels[m].yaxisLHS.length;h++)this.panels[m].yaxisLHS[h].dropzone=null;for(h=0;h<this.panels[m].yaxisRHS.length;h++)this.panels[m].yaxisRHS[h].dropzone=null}this.draw()}a&&(c=s+i.offsetHeight,u.U16(15),d=Math.max(u.o16(1482954208,"0"),r-i.offsetWidth),u.U16(0),i.style.top=u.o16("px",c),u.j16(0),i.style.left=u.R16("px",d),p.call(this,i))}},t.ChartEngine.prototype.displayDrawOK=function(){var e,i,a,n,r=I;(e=this.controls.drawOk)&&t.Drawing&&((i=t.Drawing[this.currentVectorParameters.vectorType])&&(i=new i),this.highlightedDataSetField&&i?(e.style.display="inline-block",a=this.cy+e.offsetHeight,n=this.cx-e.offsetWidth,r.U16(0),e.style.top=r.o16("px",a),r.U16(0),e.style.left=r.o16("px",n),e.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField)):e.style.display="none")},t.ChartEngine.prototype.mouseWheel=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f=I;if(i="mouseWhee",i+="l",a="un",a+="defin",a+="ed",n="mouse",n+="Wheel",!this.runPrepend(n,arguments)&&(e.preventDefault&&e.preventDefault(),""===this.openDialog&&(r=e.deltaX,s=e.deltaY,Math.abs(s)>Math.abs(r)?r=0:s=0,this.lastMouseWheelEvent=Date.now(),0!==Math.abs(r)||0!==Math.abs(s)))){if(e.shiftKey&&s&&(r=s,s=0),this.allowSideswipe&&0!==r)return this.lastMove="horizontal",l=r,this.grabbingScreen=!0,this.currentPanel||(this.currentPanel=this.chart.panel),this.grabStartX=t.ChartEngine.crosshairX,this.grabStartY=t.ChartEngine.crosshairY,this.grabStartScrollX=this.chart.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartMicropixels=this.micropixels,this.grabStartPanel=this.currentPanel,this.mouseWheelAcceleration&&(l*=o=Math.max(Math.pow(Math.abs(l),.3),1)),this.mousemoveinner(t.ChartEngine.crosshairX-l,t.ChartEngine.crosshairY),this.updateChartAccessories(),void(this.grabbingScreen=!1);if(this.lastMove="vertical",this.allowZoom&&(!this.activeDrawing||this.allowDrawingZoom)&&this.displayInitialized){if(!s)if(h="mous",h+="ewheel",t.wheelEvent==h){f.U16(21);var v=f.R16(3,37,8,1,8);if(s=-1/v*e.wheelDelta,e.wheelDeltaX){f.U16(90);var y=f.o16(1,17,15);f.j16(91);var b=f.R16(8,12,55,14,786);r=y/b*e.wheelDeltaX}}else s=e.detail;if(f.z3j(),typeof e.deltaMode==a&&(e.deltaMode="MozMousePixelScroll"==e.type?0:1),c=-s,1==e.deltaMode&&(f.j16(7),c*=f.R16("33",0)),d=null,u=null,this.mouseWheelAcceleration){o=Math.max(Math.pow(Math.abs(c),.3),1),d=Math.max(Number.MIN_VALUE,1-.1*o),p=-807903575,m=-1371687879,g=2;for(var x=1;f.x3D(x.toString(),x.toString().length,5457)!==p;x++)f.j16(92),u=f.o16(d,963580480,"3"),g+=2;f.v7D(g.toString(),g.toString().length,74835)!==m&&(f.U16(8),u=f.R16(d,1))}if(this.zoomInitiatedByMouseWheel=!0,c>0?this.reverseMouseWheel?this.zoomOut(null,u):this.zoomIn(null,d):c<0&&(this.reverseMouseWheel?this.zoomIn(null,d):this.zoomOut(null,u)),!this.runAppend(i,arguments))return!1}}},t.ChartEngine.handleContextMenu=function(e){var i;I.i3j();for(var a=0;a<t.ChartEngine.registeredContainers.length;a++)if((i=t.ChartEngine.registeredContainers[a].stx)&&i.anyHighlighted)return e.preventDefault&&e.preventDefault(),!1},"undefined"!=typeof document&&document.addEventListener("contextmenu",t.ChartEngine.handleContextMenu),t.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;"></span>',annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;"></span>',mSticky:'\n\t\t<div class="stx_sticky">\n\t\t\t<span class="mStickyInterior"></span>\n\t\t\t<span class="mStickyRightClick">\n\t\t\t\t<span class="overlayEdit stx-btn" style="display:none">\n\t\t\t\t\t<span>&nbsp;</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="overlayTrashCan stx-btn" style="display:none">\n\t\t\t\t\t<span>&nbsp;</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="mouseDeleteInstructions">\n\t\t\t\t\t<span>(</span>\n\t\t\t\t\t<span class="mouseDeleteText">right-click to delete</span>\n\t\t\t\t\t<span class="mouseManageText">right-click to manage</span>\n\t\t\t\t\t<span>)</span>\n\t\t\t\t</span>\t\n\t\t\t</span>\n\t\t\t<span class="stickyLongPressText">(long-press to drag)</span>\n\t\t\t<span class="customInstructions">\n\t\t\t\t<span>(</span>\n\t\t\t\t<span class="dragAnchorText" type="anchorHandle">\n\t\t\t\t\tdrag to change anchor time\n\t\t\t\t</span>\n\t\t\t\t<span>)</span>\n\t\t\t</span>\n\t\t</div>\n\t',drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:'<div class="stx_drag_ok"><div class="icon"></div><div class="field"></div></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'},t.ChartEngine.prototype.registerChartControl=function(e,i,a){var n,r,s,o=I;if((n=this.controls)&&n.chartControls&&!n.chartControls.querySelector("."+e))return r=null,(s=n.chartControls.querySelector(".stx-zoom-in"))?(r=document.createElement("span"),o.j16(31),r.innerHTML=o.o16("</span>",i,'<span class="stx-tooltip">'),o.U16(0),r.className=o.R16(e,"stx-chart-control-button "),s.parentNode.appendChild(r),a&&t.safeClickTouch(r,a),t.touchDevice||this.makeModal(r),r):void 0},t.ChartEngine.prototype.zoomOut=function(e,t){var i,a,n,r;if(I.z3j(),!this.runPrepend("zoomOut",arguments))for(var s in this.preferences.zoomOutSpeed?t=this.preferences.zoomOutSpeed:t||(I.j16(8),t=I.o16(.7,1)),e&&e.preventDefault&&e.preventDefault(),this.cancelTouchSingleClick=!0,i=this,this.charts)n=(a=this.charts[s]).width*t/this.layout.candleWidth,!1===a.allowScrollFuture&&!1===a.allowScrollPast&&n>a.dataSet.length&&(n=a.dataSet.length),r=this.chart.width/n,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(o(a),this.layout.candleWidth,r);function o(e){return function(t){var a;if(i.zoomSet(t,e),i.animations.zoom.hasCompleted){if(a="zoo",a+="mOut",i.runAppend(a,arguments))return;i.changeOccurred("layout"),i.continuousZoom&&i.continuousZoom.execute(!0)}}}},t.ChartEngine.prototype.zoomIn=function(e,t){var i,a,n,r,s;if(i="zoom",i+="In",!this.runPrepend(i,arguments))for(var o in this.preferences.zoomInSpeed?t=this.preferences.zoomInSpeed:t||(t=.7),e&&e.preventDefault&&e.preventDefault(),this.cancelTouchSingleClick=!0,a=this,this.charts)r=(n=this.charts[o]).width*t/this.layout.candleWidth,n.maxTicks-r<1&&(r=n.maxTicks-1),r<this.minimumZoomTicks&&(r=this.minimumZoomTicks),s=this.chart.width/r,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(l(n),this.layout.candleWidth,s);function l(e){return I.z3j(),function(t){var i;if(I.i3j(),a.zoomSet(t,e),a.animations.zoom.hasCompleted){if(i="zoo",i+="mI",i+="n",a.runAppend(i,arguments))return;a.changeOccurred("layout"),a.continuousZoom&&a.continuousZoom.execute()}}}},t.ChartEngine.prototype.createCrosshairs=function(){var e,t;this.runPrepend("createCrosshairs",arguments)||!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||(e=this.controls.crossX,t=this.controls.crossY,e&&(e.onmousedown||(e.onmousedown=function(e){return I.i3j(),e.preventDefault&&e.preventDefault(),!1})),t&&(t.onmousedown||(t.onmousedown=function(e){return I.i3j(),e.preventDefault&&e.preventDefault(),!1})),this.runAppend("createCrosshairs",arguments))},i=!1,t.ChartEngine.prototype.mousemoveinner=t.ChartEngine.prototype.mousemoveinner||function(e,t){I.z3j(),i||console.error("interaction feature requires activating movement feature."),i=!0}},u=e=>{var t,i,a,n=I;if(!(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Marker){t.ChartEngine.helpersToRegister.push((function(e){e.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]}})),t.ChartEngine.prototype.addToHolder=function(e){var i,a,r,s;(i=this.panels[e.params.panelName])&&(a=e.params,r=e.node,n.i3j(),(s=e.stxNodeCreator)&&s.prepareForHolder&&(r=s.prepareForHolder(e)),a.chartContainer?this.container.appendChild(e.node):a.includeAxis?i.holder.appendChild(e.node):i.subholder.appendChild(r),e.chart=i.chart,s&&s.addToHolder&&s.addToHolder(e),s&&s.expand&&t.Marker.initializeScrollBehavior(s))},t.ChartEngine.prototype.getMarkerArray=function(e,t){var i,a;for(var r in i=[],n.i3j(),this.markers)for(var s=0;s<this.markers[r].length;s++)a=this.markers[r][s],"panelName"==e?a.params.panelName==t&&i.push(a):"label"==e?r==t&&i.push(a):"all"==e&&i.push(a);return i},t.ChartEngine.prototype.removeFromHolder=function(e){var t,i,a,r,s,o;if((t=this.panels[e.params.panelName])&&(e.node.parentNode==t.holder?t.holder.removeChild(e.node):e.node.parentNode==t.subholder?t.subholder.removeChild(e.node):e.node.parentNode==this.container&&this.container.removeChild(e.node)),i=this.markers[e.params.label]){for(a=0;a<i.length;a++)if(i[a]===e){i.splice(a,1);break}if(r=this.markerHelper.chartMap[e.chart.name])for(a=0;a<r.markers.length;a++)if(r.markers[a]===e){r.markers.splice(a,1);break}if(s=this.markerHelper.classMap[e.className],n.z3j(),s&&(o=s[e.params.panelName]))for(a=0;a<o.length;a++)if(o[a]===e){o.splice(a,1);break}}},t.ChartEngine.prototype.moveMarkers=function(e,t){var i,a;i=this.getMarkerArray("panelName",e),n.z3j();for(var r=0;r<i.length;r++)i[r].params.panelName=t;for(var s in this.markerHelper.classMap)(a=this.markerHelper.classMap[s][e])&&(this.markerHelper.classMap[s][t]=a,delete this.markerHelper.classMap[s][e])},t.ChartEngine.prototype.establishMarkerTicks=function(){var e,t;for(var i in n.i3j(),e=this.markerHelper.chartMap)if((t=e[i]).dataSetLength!=this.charts[i].dataSet.length)for(var a=0;a<t.markers.length;a++)this.setMarkerTick(t.markers[a])},t.ChartEngine.prototype.futureTickIfDisplayed=function(e){var t,i,a,r,s,o,l,h,c;if(!((t=e.chart).dataSet.length<1)){i=t.xaxis[t.xaxis.length-1].DT,n.U16(93);var d=n.R16(3333,17,12,3362,59999);if(i=new Date(i.getTime()-this.timeZoneOffset*d),!(e.params.x>i)){a=t.maxTicks-t.dataSegment.length,n.i3j(),r=t.dataSet.length+a,l=new Date(+t.dataSet[t.dataSet.length-1].DT),h=this.standardMarketIterator(l,null,t),c=e.params.x.getTime();for(var u=t.dataSet.length;u<r;u++){if(s=l.getTime(),(o=(l=h.next()).getTime())==c)return void(e.tick=u);if(o>c&&s<c)return n.U16(7),void(e.tick=Math.max(n.R16(u,1),0))}}}},t.ChartEngine.prototype.setMarkerTick=function(e){var t,i,a,r;if(t=e.chart,"master"==e.params.xPositioner&&e.params.x)e.tick=Math.floor(e.params.x/this.layout.periodicity);else if("date"==e.params.xPositioner&&e.params.x){r=e.params.x.getTime();for(var s=0;s<t.dataSet.length;s++){if(i=a=t.dataSet[s].DT.getTime(),s>0&&(i=t.dataSet[s-1].DT.getTime()),a==r)return void(e.tick=s);if(a>r&&i<r)return n.U16(7),void(e.tick=Math.max(n.o16(s,1),0));if(r<a)return void(e.tick=null)}if(t.dataSet.length<1)return;new Date(+t.dataSet[s-1].DT).getTime()<r&&(e.params.future=!0),e.tick=null}},t.ChartEngine.prototype.positionMarkers=function(){var e,t,i,a,r,s,o;if(e=this,t=this.chart,e.markerHelper&&(this.markerDelay||0===this.markerDelay?this.markerTimeout||(this.markerTimeout=setTimeout(h,this.markerDelay)):h(),i=this.getFirstLastDataRecord(t.dataSegment,"tick"),a=this.getFirstLastDataRecord(t.dataSegment,"tick",!0),i&&a)){r=this.getMarkerArray("all");for(var l=0;l<r.length;l++)o=(s=r[l]).stxNodeCreator,i.tick<=s.tick&&s.tick<=a.tick?o&&o.drawMarker&&o.drawMarker(s):s.attached&&o.expand&&(o.expand.style.visibility="hidden")}function h(){var t,i,a,r;if(!e.runPrepend("positionMarkers",arguments)){for(var s in e.markerTimeout=null,n.i3j(),e.markerHelper.classMap)for(var o in e.markerHelper.classMap[s])t=e.markerHelper.classMap[s][o],i=e.panels[o],t.length&&((a={stx:e,arr:t,panel:i}).firstTick=i.chart.dataSet.length-i.chart.scroll,a.lastTick=a.firstTick+i.chart.dataSegment.length,(r=t[0].constructor.placementFunction)?r(a):e.defaultMarkerPlacement(a));e.runAppend("positionMarkers",arguments)}}},t.Marker=t.Marker||function(e){var i,a,r,s;n.z3j(),this.params={xPositioner:"date",yPositioner:"value",panelName:"chart",permanent:!1,label:"generic",includeAxis:!1},t.extend(this.params,e),this.params.node||(this.params.node=document.createElement("DIV")),(i=this.params.stx)?(this.className||(this.className="CIQ.Marker"),t.derivedFrom(this.params.node,t.Marker.NodeCreator)?(this.stxNodeCreator=this.params.node,this.node=this.stxNodeCreator.node):this.node=this.params.node,a=this.params.label,i.markers[a]||(i.markers[a]=[]),i.markers[a].push(this),r=i.panels[this.params.panelName],this.chart=r.chart,i.markerHelper.chartMap[this.chart.name]||(i.markerHelper.chartMap[this.chart.name]={dataSetLength:0,markers:[]}),i.markerHelper.chartMap[this.chart.name].markers.push(this),(s=i.markerHelper.classMap[this.className])||(s=i.markerHelper.classMap[this.className]={}),s[this.params.panelName]||(s[this.params.panelName]=[]),s[this.params.panelName].push(this),this.stxNodeCreator&&this.stxNodeCreator.deferAttach||i.addToHolder(this),i.setMarkerTick(this),this.stxNodeCreator&&this.stxNodeCreator.drawMarker&&this.stxNodeCreator.drawMarker(this)):console.log("Marker created without specifying stx")},t.Marker.prototype.remove=function(){n.i3j(),this.params.stx.removeFromHolder(this)},t.Marker.prototype.click=function(e){var t,i;t="n",t+="umb",typeof arguments[0]==(t+="er")&&(e={cx:arguments[0],cy:arguments[1],panel:arguments[3]});var{cx:a,cy:n,panel:r}=e;this.params.stx&&(i=this.params.node).click&&i.click(a,n,this,r)},t.Marker.prototype.doubleClick=function({cx:e,cy:t,panel:i}){return n.i3j(),!1},t.Marker.prototype.render=function(){var e,t;e=[this],t={stx:this.params.stx,arr:e,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass},this.constructor.placementFunction(t)},t.Marker.removeByLabel=function(e,t){var i,a;i=e.getMarkerArray("label",t);for(var r=0;r<i.length;r++)a=i[r],e.removeFromHolder(a),a.stxNodeCreator&&a.stxNodeCreator.remove&&a.stxNodeCreator.remove(a);n.z3j(),e.draw()},t.Marker.positionContentVerticalAndHorizontal=function(e){var i,a,r,s,o,l,h,c,d,u,p;if((i=e.querySelectorAll(".stx-marker-expand")[0])&&t.trulyVisible(i)){a=i.offsetHeight,(r=i.style).left=r.right="",r.bottom=r.top="",o=(s=getComputedStyle(i)).left,l=s.bottom,n.j16(94);var m=n.o16(80,10,8,10,0);h=e.offsetLeft+parseInt(o,m),c=parseInt(l,10),d=e.offsetTop-(c+a-e.offsetHeight),u=e.parentNode.offsetWidth,p=e.parentNode.offsetHeight,h+i.offsetWidth>u&&(r.right=o,r.left="auto"),n.z3j(),e.offsetTop<=p?d>p-a&&(r.top=p-e.offsetTop-a+"px",r.bottom="auto"):(n.U16(0),r.top=n.R16("px",p)),e.offsetTop+e.offsetHeight>=0?d<0&&(r.top=-e.offsetTop+"px",r.bottom="auto"):r.bottom="0px"}},t.Marker.initializeScrollBehavior=function(e){var{expand:i}=e;if(i){i.addEventListener(t.wheelEvent,(e=>e.stopPropagation()),{passive:!1}),i.addEventListener("touchmove",(e=>(n.i3j(),e.stopPropagation())),{passive:!1});var{scrollbarStyling:a}=t.UI||{};a?a.refresh(i):i.style.overflowY="scroll"}},t.ChartEngine.prototype.getBarBounds=function(e){var t,i,a,r;return this.layout.chartType,t="pandf"==this.layout.aggregationType?{high:Math.max(e.pfOpen,e.pfClose),low:Math.min(e.pfOpen,e.pfClose)}:{high:e.High,low:e.Low},n.i3j(),e.markerHigh&&(t.high=e.markerHigh),e.markerLow&&(t.low=e.markerLow),void 0===e.Open&&(i=e.Close),void 0===e.High&&(a=Math.max(e.Open||i,e.Close)),void 0===e.Low&&(r=Math.min(e.Open||i,e.Close)),t.high||0===t.high||(t.high=a),t.low||0===t.low||(t.low=r),t},t.ChartEngine.prototype.defaultMarkerPlacement=function(e){var i,a,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A;i=e.panel,a=e.yAxis?e.yAxis:e.panel.yAxis,r=i.chart,o=(s=e.stx).chart.highLowBars,l=r.defaultPlotField,n.i3j(),l&&!o||(l="Close"),h={};for(var M=0;M<e.arr.length;M++)if(d=(c=e.arr[M]).params,!c.params.box){if(u=c.node,c.clientWidth||(c.clientWidth=u.clientWidth),c.clientHeight||(c.clientHeight=u.clientHeight),p=null,m=d.xPositioner,g=d.yPositioner,f=c.tick,v=r.dataSet,y=c.clientWidth,"none"!=m){if("bar"==m&&d.x){d.x<r.xaxis.length&&(b=r.xaxis[d.x])&&(p=b.data),n.j16(95);var P=n.R16(15,1,3,14,0);n.U16(96);var O=n.R16(20,4,14,9);u.style.left=Math.round(s.pixelFromBar(d.x,r)-y/P)+O+"px"}else{if(!f&&0!==f){if(!(d.future&&r.scroll<r.maxTicks)){u.style.left="-1000px";continue}if(s.futureTickIfDisplayed(c),!(f=c.tick)&&0!==f){u.style.left="-1000px";continue}}if(f<v.length&&(p=v[f]),c.leftpx=Math.round(s.pixelFromTick(f,r)-r.left-y/2),c.rightEdge=c.leftpx+y,u.style.left=c.leftpx+"px",f<e.firstTick&&c.rightEdge<r.left-50)continue}if(!p){n.j16(97);var _=n.o16(16,17,16,6,10);p=v[v.length-_]}}else if(g.indexOf("candle")>-1&&(x=getComputedStyle(u).left)&&(C=s.barFromPixel(parseInt(x,10),r))>=0&&!(p=r.xaxis[C].data)){n.U16(7);var F=n.R16(12,11);p=v[v.length-F]}if(u.style.top="auto",S=d.y,T=c.clientHeight,"none"!=g){if(w=g+"-"+u.style.left,k=d.chartContainer?s.height:i.yAxis.bottom,L=0,n.j16(27),n.o16("0",2147483647),void 0===h[w]&&(h[w]=0),A=h[w],h[w]+=T,"value"!=g||!S&&0!==S)if("below_candle"!=g&&"under_candle"!=g||!p)if("on_candle"==g&&p){if(D=p[l],o){n.U16(98);var H=n.R16(5,16,5,2,16);D=(p.Low+p.High)/H}n.U16(99);var I=n.o16(9,9,5,25);L=Math.round(k-s.pixelFromPrice(D,i,a)-T/I-A)+"px"}else"top"==g?L=Math.round(k-T-A-i.top)+"px":"bottom"==g?L=Math.round(A)+"px":p&&(D=p[l],o&&(D=s.getBarBounds(p)[a.flipped?"low":"high"]),L=Math.round(k-s.pixelFromPrice(D,i,a)+A)+"px");else D=p[l],o&&(D=s.getBarBounds(p)[a.flipped?"high":"low"]),L=Math.round(k-s.pixelFromPrice(D,i,a)-T-A)+"px";else{n.j16(7);var q=n.R16(12,10);L=Math.round(k-s.pixelFromPrice(S,i,a)-T/q)+"px"}u.style.bottom!=L&&(u.style.bottom=L)}t.Marker.positionContentVerticalAndHorizontal(u)}},t.Marker.NodeCreator=function(){},t.Marker.NodeCreator.toNode=function(){return n.i3j(),this.node},t.Marker.Simple=function(e){var i,a,r,s;function o(){n.z3j(),t.Marker.positionContentVerticalAndHorizontal(i)}(i=this.node=document.createElement("div")).className="stx-marker",i.classList.add(e.type),e.category&&i.classList.add(e.category),a=t.newChild(i,"div","stx-visual"),t.newChild(i,"div","stx-stem"),"callout"==e.type?(s=t.newChild(a,"div","stx-marker-content"),t.newChild(s,"h4",null,e.headline),r=t.newChild(s,"div","stx-marker-expand"),t.newChild(r,"p",null,e.story)):(r=t.newChild(i,"div","stx-marker-expand"),t.newChild(r,"h4",null,e.headline),t.newChild(r,"p",null,e.story),t.safeClickTouch(r,(function(e){i.classList.toggle("highlight")}))),t.safeClickTouch(a,(function(e){n.z3j(),i.classList.toggle("highlight"),setTimeout(o,10)})),this.nodeType="Simple",this.expand=r},n.j16(2),i=n.R16(1,"955375947"),a=2;for(var r=1;-480142740!==n.v7D(r.toString(),r.toString().length,77449);r++)t.inheritsFrom(t.Marker.Simple,t.Marker.NodeCreator,!0),a+=2;n.x3D(a.toString(),a.toString().length,78334)!==i&&t.inheritsFrom(t.Marker.Simple,t.Marker.NodeCreator,!0),t.inheritsFrom(t.Marker.Simple,t.Marker.NodeCreator,!1)}},p=e=>{var t,i,a,n,r,s,o;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,n=24*(a=36e5),r=t.Market,t.Market=function(e){var a;if(this.market_def=!1,this.rules=!1,I.z3j(),this.normalHours=[],this.extraHours=[],this.class_name="Market",i.Date?this.tz_lib=i.Date:this.tz_lib=Date,this.market_tz="",this.hour_aligned=!1,this.convertOnDaily=!1,this.enabled_by_default=!1,void 0!==e&&e&&!t.isEmpty(e)){if(e.market_definition&&(e=e.market_definition),e.rules&&(this.rules=e.rules),e.market_tz){a=2;for(var n=1;-1525452744!==I.v7D(n.toString(),n.toString().length,12178);n++)this.market_tz=e.market_tz,a+=2;190311697!==I.v7D(a.toString(),a.toString().length,94376)&&(this.market_tz=e.market_tz)}e.convertOnDaily&&(this.convertOnDaily=e.convertOnDaily),e.hour_aligned,this.hour_aligned=e.hour_aligned,void 0!==e.beginningDayOfWeek&&(this.beginningDayOfWeek=e.beginningDayOfWeek),void 0!==e.minimum_session_length&&(this.minimumSessionLength=e.minimum_session_length),void 0!==e.enabled_by_default&&e.enabled_by_default instanceof Array&&(this.enabled_by_default=e.enabled_by_default),this.market_def=e,void 0===this.market_def.name&&(this.market_def.name="no market name specified"),t.Market._createTimeSegments(this),this.getSessionNames()}else this.hour_aligned=!0},t.Market.Symbology=function(){},t.Market.Symbology.isForeignSymbol=function(e){return I.z3j(),!1},t.Market.Symbology.isFuturesSymbol=function(e){return I.i3j(),!1},t.Market.Symbology.isRateSymbol=function(e){return!1},t.Market.Symbology.isForexSymbol=function(e){return I.i3j(),!1},t.Market.Symbology.isForexMetal=function(e,t){return!1},t.Market.Symbology.isForexCrypto=function(e){return!1},t.Market.Symbology.isForexFuturesSymbol=function(e){return!!t.Market.Symbology.isForexSymbol(e)||!!t.Market.Symbology.isFuturesSymbol(e)},t.Market.Symbology.factory=function(e){return null},t.Market.Symbology.encodeTermStructureInstrumentSymbol=function(e,t){I.z3j(),console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.")},r&&t.extend(t.Market,r),t.Market.prototype.sessions=null,t.Market.prototype.beginningDayOfWeek=0,t.Market.prototype.minimumSessionLength=30,t.Market.prototype.tradingDays=function(){var e;if("_tradingDays"in this)return this._tradingDays;if(e=[],this.rules)for(var t of this.rules)t.dayofweek>=0&&e.push(t.dayofweek);else e=[0,1,2,3,4,5,6];return this._tradingDays=[...new Set(e)],this._tradingDays.sort(),this._tradingDays},t.Market.prototype.getSessionNames=function(){var e,t;return this.rules?this.sessions||(e=[],t=[],this.rules.map((function(i){I.z3j(),i.name&&-1===e.indexOf(i.name)&&(e.push(i.name),t.push({name:i.name,enabled:!!i.enabled&&i.enabled}))})),this.sessions=t):this.sessions=[],I.z3j(),this.sessions.slice()},t.Market.prototype._find_next_segment=function(e,t){var i,a,n,r;return this.market_def&&this.rules?(i=new Date(+e),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),this._wasOpenIntraDay(i)&&(n=this.zseg_match.close_parts.hours,r=this.zseg_match.close_parts.minutes,i.setHours(n),i.setMinutes(r),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})),a.next()):null},t.Market.prototype._find_prev_segment=function(e,t){var i,a,n,r,s,o;if(!this.market_def)return null;if(!this.rules)return null;i=new Date(+e),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),n=2;for(var l=1;497387959!==I.x3D(l.toString(),l.toString().length,68144);l++)r=this._wasOpenIntraDay(i),n+=2;return-281970164!==I.x3D(n.toString(),n.toString().length,50202)&&(r=this._wasOpenIntraDay(i)),I.i3j(),null===r?(i=new Date(i-6e4),r=this._wasOpenIntraDay(i)):(t&&i.getHours()===this.zseg_match.open_parts.hours&&i.getMinutes()===this.zseg_match.open_parts.minutes||!t&&i.getHours()===this.zseg_match.close_parts.hours&&i.getMinutes()===this.zseg_match.close_parts.minutes)&&(i=a.previous()),r?(s=this.zseg_match.open_parts.hours,o=this.zseg_match.open_parts.minutes,i.setHours(s),i.setMinutes(o),i=(a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})).previous(),this.zseg_match.close_parts.hours===s&&this.zseg_match.close_parts.minutes===o?t?a.next():i:this.zseg_match.adjacent_child?i:t?a.next():i):a.previous()},t.Market.prototype.disableSession=function(e,t){var i;if(I.i3j(),i=!1,void 0!==t&&t&&(i=!0),e){for(var a=0;a<this.normalHours.length;a++)delete this.normalHours[a]._refid,this.normalHours[a].name===e&&(this.normalHours[a].enabled=i);for(a=0;a<this.extraHours.length;a++)delete this.extraHours[a]._refid,this.extraHours[a].name===e&&(this.extraHours[a].enabled=i)}this._zseg_matches&&this._zseg_matches.clear()},t.Market.prototype.enableSession=function(e){this.disableSession(e,"enable_instead")},t.Market.prototype.enableAllAvailableSessions=function(){var e;e=this.getSessionNames();for(var t=0;t<e.length;t++)this.enableSession(e[t].name)},t.Market.prototype.getClose=function(e,t,i,a){var n,r;if(!this.market_def)return null;if(!this.rules)return null;if(n=e,e||(n=new Date,i=null),n=this._convertToMarketTZ(n,i),void 0!==t){if(this._wasOpenIntraDay(n)&&this.zseg_match.name===t)return n.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0),this._convertFromMarketTZ(n,a)}else if(this._wasOpenDaily(n)){for(r=this.zseg_match;r.child_;)r=r.child_;for(;!r.enabled;)r=r.parent_;return n.setHours(r.close_parts.hours,r.close_parts.minutes,0,0),this._convertFromMarketTZ(n,a)}return null},t.Market.prototype.getNextClose=function(e,t,i){var a,n,r;if(!this.market_def)return null;if(!this.rules)return null;for(I.i3j(),a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),this._wasOpenIntraDay(a)||(a=this.newIterator({begin:a,interval:1,inZone:this.market_tz,outZone:this.market_tz}).next()),n=a.getDate(),r=this.zseg_match;r.adjacent_child;)r=r.adjacent_child,n+=1;return a.setDate(n),a.setHours(r.close_parts.hours,r.close_parts.minutes,0,0),this._convertFromMarketTZ(a,i)},t.Market.prototype.getNextOpen=function(e,t,i){var a;return this.market_def&&this.rules?(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_next_segment(a),this.zseg_match.adjacent_parent?(a=this.getNextOpen(a,this.market_tz,this.market_tz),a=this._convertFromMarketTZ(a,i)):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getOpen=function(e,t,i,a){var n,r;if(!this.market_def)return null;if(!this.rules)return null;if(n=e,e||(n=new Date,i=null),n=this._convertToMarketTZ(n,i),void 0!==t){if(this._wasOpenIntraDay(n)&&this.zseg_match.name==t)return n.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0),this._convertFromMarketTZ(n,a)}else if(this._wasOpenDaily(n)){for(r=this.zseg_match;r.parent_;)r=r.parent_;for(;!r.enabled;)r=r.child_;return n.setHours(r.open_parts.hours,r.open_parts.minutes,0,0),this._convertFromMarketTZ(n,a)}return null},t.Market.prototype.getNormalOpen=function(){var{market_def:e,rules:t}=this;return e&&t?e.normal_daily_open?e.normal_daily_open:(I.z3j(),"FOREX"===e.name?"17:00":t.find((({name:e})=>!e||""===e)).open):"00:00"},t.Market.prototype.getNormalClose=function(){I.z3j();var{market_def:e,rules:t}=this;return e&&t?e.normal_daily_close?e.normal_daily_close:"FOREX"===e.name?"17:00":t.filter((({dayofweek:e,name:t})=>e&&(!t||""===t))).pop().close:"24:00"},t.Market.prototype.getPreviousClose=function(e,t,i){var a;return I.i3j(),this.market_def&&this.rules?(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_prev_segment(a,!1),this.zseg_match.adjacent_child?this.getPreviousClose(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.close_parts.hours),a.setMinutes(this.zseg_match.close_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getPreviousOpen=function(e,t,i){var a;return this.market_def&&this.rules?(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_prev_segment(a,!0),this.zseg_match.adjacent_parent?this.getPreviousOpen(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getSession=function(e,t){return e=this._convertToMarketTZ(e,t),this._wasOpenIntraDay(e)&&this.zseg_match?this.zseg_match.name:null},t.Market.prototype.marketZoneNow=function(){return I.i3j(),this._convertToMarketTZ(new Date)},t.Market.prototype.isHourAligned=function(){return I.z3j(),this.hour_aligned},t.Market.prototype.isOpen=function(){var e;return e=new Date,this.market_tz&&(e=new this.tz_lib(e.getTime(),this.market_tz)),this._wasOpenIntraDay(e)},t.Market.prototype.isMarketDay=function(){var e;return I.z3j(),e=new Date,this.market_tz&&(e=new this.tz_lib(e.getTime(),this.market_tz)),this._wasOpenDaily(e)},t.Market.prototype.isMarketDate=function(e){return I.i3j(),this._wasOpenDaily(e)},t.Market.prototype.isFirstMarketDayOfMonth=function(e){var t,i;if(!this.isMarketDate(e))return!1;t=new Date(+e),i=e.getDate();for(var a=1;a<i;a++)if(t.setDate(a),this.isMarketDate(t))return!1;return!0},t.Market.prototype.isFirstMarketDayOfWeek=function(e){var t,i,a;if(!this.isMarketDate(e))return!1;for(t=this.tradingDays(),i=Math.max(this.beginningDayOfWeek,t[0])||0,a=new Date(+e);a.getDay()!==i;)if(a.setDate(a.getDate()-1),this.isMarketDate(a))return!1;return!0},t.Market.prototype.newIterator=function(e){var i,a,n;if(i=!1,e.periodicity)i=e.periodicity;else if(e.multiple){a=2;for(var r=1;-1297832331!==I.x3D(r.toString(),r.toString().length,52948);r++)i=e.multiple,a+=2;-737230345!==I.x3D(a.toString(),a.toString().length,13819)&&(i=e.multiple)}return(n=e.interval)||(n="minute"),"hour"==n&&(n=60),i||(i=1),e.begin||(e.begin=new Date,e.inZone=null),n==parseInt(n,10)&&(n=parseInt(n,10),e.periodicity<1/60?(i=i*n*6e4,n="millisecond"):e.periodicity<1?(i=i*n*60,n="second"):(i*=n,n="minute")),e.timeUnit&&("millisecond"===e.timeUnit||"second"===e.timeUnit?n=e.timeUnit:"tick"===e.timeUnit&&(n="second")),"tick"==n&&(n="second"),e.interval=n,e.multiple=i,e.market=this,new t.Market.Iterator(e)},t.Market.prototype._wasOpenDaily=function(e){return I.i3j(),this._was_open(e,!1)},t.Market.prototype._wasOpenIntraDay=function(e){return I.i3j(),this._was_open(e,!0)},t.Market.prototype._was_open=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m;if(void 0===t&&(t=!0),i=this.zseg_match,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null,!this.market_def||!this.rules)return this.zclose_hour=24,!0;if(this.tradingDays().indexOf(e.getDay())<0)return null;if(this._zseg_matches||(this._zseg_matches=new Map),null===(a=this._zseg_matches.get(+e*(t?1:-1))))return null;if(a)return a=this._zseg_matches.get(a),Object.assign(this,a),this.zseg_match;for(n=!1,r=!1,s=e.getFullYear(),o=e.getMonth()+1,l=e.getDay(),h=e.getDate(),u=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),p=0;p<this.normalHours.length;p++)if((c=this.normalHours[p]).enabled&&((n=c.dayofweek===l)&&t&&(n=u>=c.open&&u<c.close),n)){if(!t&&this.zseg_match&&(c.open_parts.hours>this.zopen_hour||c.open_parts.hours==this.zopen_hour&&c.open_parts.minutes>this.zopen_minute))continue;if(c===i||c.adjacent_parent||c.adjacent_child||(this.shouldResetToBeginningOfSegment=!0),d=p+1,this.zopen_hour=c.open_parts.hours,this.zopen_minute=c.open_parts.minutes,this.zclose_hour=c.close_parts.hours,this.zclose_minute=c.close_parts.minutes,this.zmatch_open=u===c.open,this.zseg_match=c,t)break}for(p=0;p<this.extraHours.length;p++)if((c=this.extraHours[p]).enabled&&("*"===c.year||s===c.year)&&o===c.month&&h===c.day&&(!(r=!t&&c.open||u>=c.open&&u<c.close)&&this.zseg_match&&(n=!1,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null),r)){if(!t&&this.zseg_match&&(c.open_parts.hours>this.zopen_hour||c.open_parts.hours==this.zopen_hour&&c.open_parts.minutes>this.zopen_minute))continue;if(d=-(p+1),this.zopen_hour=c.open_parts.hours,this.zopen_minute=c.open_parts.minutes,this.zclose_hour=c.close_parts.hours,this.zclose_minute=c.close_parts.minutes,this.zmatch_open=u===c.open,this.zseg_match=c,t)break}return m=null,this.zseg_match&&(this.zseg_match._refid||(this.zseg_match._refid=d,this._zseg_matches.set(this.zseg_match._refid,{zopen_hour:this.zopen_hour,zopen_minute:this.zopen_minute,zclose_hour:this.zclose_hour,zclose_minute:this.zclose_minute,zmatch_open:this.zmatch_open,zseg_match:this.zseg_match})),m=this.zseg_match._refid),this._zseg_matches.set(+e*(t?1:-1),m),this.zseg_match},t.Market.prototype._wasClosed=function(e){return!this._was_open(e,!0)},t.Market.prototype._wasOpen=function(e){return I.z3j(),this._was_open(e,!0)},t.Market.prototype._tzDifferenceMillis=function(e,t,i){var a;return a=e,60*(e.getTimezoneOffset()-a.getTimezoneOffset())*1e3},t.Market._createTimeSegments=function(e){var t,i,a,n,r;I.i3j(),t=function(e,t){if(24===e.close_parts.hours&&0===t.open_parts.hours&&0===t.open_parts.minutes){if(i.dayofweek===n.dayofweek-1)return!0;if(6===i.dayofweek&&0===n.dayofweek)return!0}return!1};for(var o=0;o<e.rules.length;o++){void 0===(a=JSON.parse(JSON.stringify(e.rules[o]))).open&&void 0===a.close&&(a.open="00:00",a.close="00:00"),a.hasOwnProperty("name")||(a.name="");try{if(void 0!==a.dayofweek?(a.year="*",n=s._createDayOfWeekSegment(e,a),i&&(i.dayofweek===n.dayofweek?(i.child_=n,n.parent_=i):t(i,n)&&(i.adjacent_child=n,n.adjacent_parent=i)),i=n):void 0!==a.date?(a.isDayOfWeek=!1,a.dayofweek=-1,n=s._createDateTimeSegment(e,a)):console.log("Error, unknown rule type "+a),e.enabled_by_default)for(var l=0;l<e.enabled_by_default.length;l++)if(r=e.enabled_by_default[l],n.name===r){n.enabled=!0;break}}catch(e){console.log("Error, creating market rules "+e)}}},t.Market._timeSegment={},(s=t.Market._timeSegment).re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/,s.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s.re_split_hours_minutes=/^(\d\d):(\d\d)$/,s.re_split_hour_minutes=/^(\d):(\d\d)$/,s._hashCode=function(e){var t,i,a;if(t=0,0===e.length)return t;for(I.i3j(),i=0,a=e.length;i<a;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t},s._splitHoursMinutes=function(e){var t,i;return i={hours:NaN,minutes:NaN},null===(t=s.re_split_hour_minutes.exec(e))&&null===(t=s.re_split_hours_minutes.exec(e))||(i.hours=parseInt(t[1],10),i.minutes=parseInt(t[2],10)),i},s._createDayOfWeekSegment=function(e,t){var i;return i={name:t.name,isDayOfWeek:!0,dayofweek:t.dayofweek,date_str:"*",open_parts:s._splitHoursMinutes(t.open),close_parts:s._splitHoursMinutes(t.close),open:s._secSinceMidnight(e,t.open,!0),close:s._secSinceMidnight(e,t.close,!1),child_:!1,parent_:!1,adjacent_child:!1,adjacent_parent:!1,enabled:!1},I.z3j(),""===i.name&&(i.enabled=!0),i.hash_code=this._hashCode((i.open+i.close).toString()),e.normalHours.push(i),i},s._createDateTimeSegment=function(e,t){var i,a,n;if(null===(i=this.re_regular_iso.exec(t.date))){if(null===(i=this.re_wild_card_iso.exec(t.date)))return void console.log("Warning: invalid date format on rule -> "+t.date);a="*"}else a=parseInt(i[1],10);return""===(n={name:t.name,isDayOfWeek:!1,dayofweek:-1,year:a,month:parseInt(i[2],10),day:parseInt(i[3],10),date_str:t.date,open_parts:s._splitHoursMinutes(t.open),close_parts:s._splitHoursMinutes(t.close),open:s._secSinceMidnight(e,t.open,!0),close:s._secSinceMidnight(e,t.close,!1),enabled:!1}).name&&(n.enabled=!0),n.hash_key=this._hashCode(n.date_str+n.open+n.close),e.extraHours.push(n),n},s._secSinceMidnight=function(e,t,i){var a,n,r;return a=t.split(":"),r=60*(n=parseInt(a[0],10))*60+60*parseInt(a[1],10),i||24===n&&(r=60*n*60+1),r},t.Market.prototype._convertToMarketTZ=function(e,t){var i;return I.z3j(),(i=t?new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),t):new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())).setTimezone&&i.setTimezone(this.market_tz),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())},t.Market.prototype._convertFromMarketTZ=function(e,t){var i;return i=new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),this.market_tz),t?(i.setTimezone&&i.setTimezone(t),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(i.getTime())},t.Market.Iterator=function(e){this.market=e.market,this.begin=e.begin,this.interval=e.interval,this.multiple=e.multiple,this.inZone=e.inZone,this.outZone=e.outZone,this.clock=new t.Market.Iterator._Clock(e.market,e.interval,e.multiple),this.intraDay=this.clock.intra_day,this.intraDay&&(this.begin=this.market._convertToMarketTZ(this.begin,e.inZone)),this.clock._setStart(this.begin),this.clock.minutes_aligned=!1,this.clock.minimumScanMS=6e4*e.market.minimumSessionLength},t.Market.Iterator.prototype.date=function(){return this.clock._date()},t.Market.Iterator.prototype.futureTick=function(e){var t,i,a,n,r,s,o,l;if(this.clock.skip=1,I.i3j(),t=0,(i=this.intraDay?this.market._convertToMarketTZ(e.end,this.inZone).getTime():e.end.getTime())===(a=this.clock.ctime))return t;if(n=2,r=0,e.sample_size&&(n=e.sample_size),s=(new Date).getTime(),i>a){for(this.clock.forward=!0;this.clock.ctime<i;)if(t+=1,r+=1,this.clock._findNext(),1e3===r&&(r=0,(new Date).getTime()-s>=n)){o=(this.clock.ctime-a)/t,t=Math.floor((i-a)/o);break}this.clock.ctime>i&&t--}else{l=2;for(var h=1;-976907280!==I.v7D(h.toString(),h.toString().length,72345);h++)this.clock.forward=!0,l+=2;for(1853479626!==I.v7D(l.toString(),l.toString().length,68320)&&(this.clock.forward=!0),this.clock.forward=!1;this.clock.ctime>i;)if(t+=1,r+=1,this.clock._findPrevious(),1e3===r&&(r=0,(new Date).getTime()-s>=n)){o=(a-this.clock.ctime)/t,t=Math.floor((a-i)/o);break}}return t},t.Market.Iterator.prototype.isHourAligned=function(){return!this.intraDay||this.market.isHourAligned()},t.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen()},t.Market.Iterator.prototype.next=function(e){this.clock.skip=1,e&&(this.clock.skip=e),this.clock.forward=!0;for(var t=0;t<this.clock.skip;t++)this.begin=this.clock._findNext();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},t.Market.Iterator.prototype.peek=function(){return I.i3j(),this.clock._peek()},t.Market.Iterator.prototype.previous=function(e){this.clock.skip=1,e&&(this.clock.skip=e),this.clock.forward=!1;for(var t=0;t<this.clock.skip;t++)this.begin=this.clock._findPrevious();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},t.Market.Iterator._Clock=function(e,t,i){var r,s;i%60==0&&"second"===t&&(t="minute",i/=60),this.market=e,this.interval=t,this.multiple=i,this.intra_day=!1,this.intervals=[],this.max_iters=10080,r=n,s=this._dayImpl,"millisecond"===t?(s=this._millisImpl,r=1):"second"===t?(s=this._secondImpl,r=1e3):"minute"===t?(s=this._minuteImpl,r=6e4):"hour"===t?(s=this._hourImpl,r=a):"day"===t?(s=this._dayImpl,r=n):"week"===t?(s=this._weekImpl,r=7*n):"month"===t?(s=this._monthImpl,r=30*n):console.log('Periodicity ERROR: "'+t+'" is not a valid interval. Please see setPeriodicity() for details.'),this.tick_time=r*i,I.z3j(),this.intra_day=this.tick_time<n,this._findPrevious=this._findNext=s},(o=t.Market.Iterator._Clock.prototype)._total_minutes=function(e,t,i,a){return I.i3j(),60*(i-e)-t+a},o._alignMinutes=function(){var e,t,i,a,n,r;if(e=this.market.isHourAligned(),I.z3j(),!this.market.market_def&&!e||void 0===this.market.zopen_minute)return[];for(t=this.market.zopen_minute,(i=this.market.zseg_match)&&i.adjacent_parent?t=i.adjacent_parent.open/60-1440:e&&this.multiple%60==0&&(t=0),a=this._total_minutes(this.market.zopen_hour,t,this.market.zclose_hour,this.market.zclose_minute),n=[],r=0;r<a;)n.push(t+r),r+=this.multiple;return n},o._alignBaseZero=function(e){var t,i;for(I.z3j(),i=[t=0];!((t+=this.multiple)>=e);)i.push(t);return i},o._date=function(){var e,t;return e=Math.round(this.ctime),I.i3j(),t=new Date(e),this.intra_day?this.display_date=new Date(e+this.shift_millis):this.display_date=t,t},o._alignToBoundary=function(e,t){var i,a,n;i=0,a=0,n=t;for(var r=0;r<e.length-1&&(i=e[r],a=e[r+1],t!==i&&t!==a);r++){if(t>i&&t<a){n=i;break}r+1===e.length-1&&(n=a)}return n},o._peek=function(){return this._date().toString()},o._seekHr=function(){this.forward?this.ctime-=a:this.ctime+=a},o._setStart=function(e){var t,i;t=this.market._tzDifferenceMillis(e),i=new Date(e.getTime()+t),I.i3j(),this.shift_millis=t,this.ctime=i.getTime(),this.shift_millis=0,this.ctime=e.getTime()},o._tickTock=function(){this.forward?this.ctime+=this.tick_time:this.ctime-=this.tick_time},o._tockTick=function(){I.i3j(),this.forward?this.ctime-=this.tick_time:this.ctime+=this.tick_time},o._tickTock24=function(){this.ctime+=n},o._tockTick24=function(){this.ctime-=n},o._windMaybe=function(e,t){var i,a,n,r;for(i=0,a=new Date(this.ctime),n=!1;!e.call(this.market,a);)if(t.call(this),n=!0,a=new Date(this.ctime),(i+=1)>this.max_iters){r="Warning! max iterations ("+this.max_iters,r+=") reached with no rule match.",console.log(r);break}return n},o._millisImpl=function(){var e,t,i,a,n,r,s,o,l,h;return e=!1,this.mperiods_aligned||(t=this._alignBaseZero(1e3),a=(i=new Date(this.ctime)).getMilliseconds(),a=this._alignToBoundary(t,a),i.setMilliseconds(0),this.ctime=i.getTime()+a,this.mperiods_aligned=!0,e=!0),n=this._date().getMinutes(),this._tickTock(),r=this._date().getMinutes(),!e&&n==r||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),o=this._date().getMilliseconds(),l=this.tick_time,this.tick_time=6e4,h=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=l,this.multiple=h,this.ctime+=1e3*s+o),this._date()},o._secondImpl=function(){var e,t,i,a,n,r,s,o,l;return e=!1,this.speriod_aligned||(t=this._alignBaseZero(60),a=(i=new Date(this.ctime)).getSeconds(),a=this._alignToBoundary(t,a),i.setSeconds(a),i.setMilliseconds(0),this.ctime=i.getTime(),this.speriod_aligned=!0,e=!0),n=this._date().getMinutes(),this._tickTock(),r=this._date().getMinutes(),!e&&n==r||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),o=this.tick_time,this.tick_time=6e4,l=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=o,this.multiple=l,this.ctime+=1e3*s),I.i3j(),this._date()},o._minuteImpl=function(){var e,t,i,a,n,r,s,o,l,h,c,d,u,p;return e=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),i=(t=new Date(this.ctime)).getTimezoneOffset(),a=t.getMinutes(),n=t.getHours(),r=this._alignMinutes(),s=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,n,a)+this.market.zopen_minute,s=e?this.forward?r[r.length-1]:r[0]:this._alignToBoundary(r,s),n=Math.floor(s/60)+this.market.zopen_hour,t.setHours(n,s%60,0,0),o=t.getTimezoneOffset()-i,(this.forward&&o<0||!this.forward&&o>0)&&t.setTime(t.getTime()-6e4*o),this.ctime=t.getTime(),l=this.market.zseg_match,this._tickTock(),h=this.market.hour_aligned&&this.multiple%60==0,e=this._scanForNextSession(),c=l!==this.market.zseg_match,d=l&&l.adjacent_child,u=this.shouldResetToBeginningOfSegment||c&&!d,(e||u&&!h)&&(t=new Date(this.ctime),this.forward?(t.setMinutes(this.market.zopen_minute),t.setHours(this.market.zopen_hour)):(p=(r=this._alignMinutes())[r.length-1],t.setMinutes(p%60),t.setHours(Math.floor(p/60)+this.market.zopen_hour)),this.ctime=t.getTime()),this._date()},o._hourImpl=function(){var e,t,i,a,n;return this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),e=new Date(this.ctime),this.market.isHourAligned()?e.setMinutes(0):e.setMinutes(this.market.zopen_minute),e.setSeconds(0),e.setMilliseconds(0),this.ctime=e.getTime(),this._tickTock(),t=this.market.zseg_match,(this._scanForNextSession()||!this.market.hour_aligned&&t!=this.market.zseg_match)&&(i=new Date(this.ctime),this.forward?(i.setMinutes(this.market.zopen_minute),i.setHours(this.market.zopen_hour)):(n=(a=this._alignMinutes())[a.length-1],i.setMinutes(n%60),i.setHours(Math.floor(n/60)+this.market.zopen_hour)),this.ctime=i.getTime()),this._date()},o._dayImpl=function(){var e,t;for(this._windMaybe(this.market._wasOpenDaily,this._seekHr),(e=new Date(this.ctime)).setHours(12,0,0,0),this.ctime=e.getTime(),t=0;t<this.multiple;)this.forward?this._tickTock24():this._tockTick24(),this.market._wasOpenDaily(this._date())&&(t+=1);return(e=new Date(this.ctime)).setHours(0),this.ctime=e.getTime(),this._date()},o._weekImpl=function(){var e,t;for(e=this.market,(t=new Date(this.ctime)).setHours(12),this.ctime=t.getTime(),this._tickTock(),t=new Date(this.ctime);t.getDay()!==e.beginningDayOfWeek;)this._tockTick24(),t=new Date(this.ctime);return this._windMaybe(e._wasOpenDaily,this._tickTock24),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),I.z3j(),this._date()},o._monthImpl=function(){var e;return(e=new Date(this.ctime)).setDate(15),this.ctime=e.getTime(),this._tickTock(),(e=new Date(this.ctime)).setDate(1),e.setHours(12),this.ctime=e.getTime(),this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(e=new Date(this.ctime)).setHours(0,0,0,0),I.i3j(),this.ctime=e.getTime(),this._date()},o._findNext=null,o._findPrevious=null,o._scanForNextSession=function(){return this._windMaybe(this.market._wasOpenIntraDay,function(){I.i3j(),this.ctime+=this.forward?this.minimumScanMS:-this.minimumScanMS}.bind(this))}},m=e=>{var t,i,a,n=I;n.C1f=function(e){if(n.z3j(),n&&e)return n.R0f(e)},n.s1f=function(e){if(n.z3j(),n&&e)return n.R0f(e)},n.o1f=function(e){if(n)return n.N1f(e)},n.D1f=function(e){if(n&&e)return n.R0f(e)},n.j1f=function(e){if(n.i3j(),n)return n.R0f(e)},t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="valid",t.valid=0,t[n.j1f("93de")?"ChartEngine":""][n.D1f("7d85")?"prototype":""][n.g1f("623e")?"mousemoveinner":""]=function(e,a){n.E1f=function(e){if(n&&e)return n.R0f(e)},n.y1f=function(e){if(n.z3j(),n)return n.R0f(e)},n.A1f=function(e){if(n.i3j(),n)return n.N1f(e)},n.a1f=function(e){if(n.z3j(),n&&e)return n.R0f(e)},n.v1f=function(e){if(n.i3j(),n&&e)return n.R0f(e)};var r=-(n.i1f("a52b")?9181969804:1048315832),s=n.k1f("dccc")?106521820:601178539,o=-(n.v1f("9f6b")?708427516:829456908),l=n.o1f("d3a9")?67836797:95853355,h=-(n.q1f("1a6a")?812637942:368767341),c=990682216;if(n.w7V(n.s1f("8545")?6:0,!1,n.a1f("48c5")?620919:887620)===r||n.D7V(0,!1,n.w1f("127e")?743927:332254)===s||n.w7V(13,!n.C1f("e79f"),533042)===o||n.D7V(n.A1f("fccc")?0:6,!1,n.y1f("973e")?535938:363788)===l||n.D7V(8,!n.E1f("26e5"),984728)===h||n.w7V(0,!1,362189)===c){var d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,R,z,U;if(d="p",d+="x",!this.chart.canvas)return;if(!(t.isAndroid||t.isIOS7or8||this.chart.canvas.height==Math.floor(this.devicePixelRatio*this.chart.container.clientHeight)&&this.chart.canvas.width==Math.floor(this.devicePixelRatio*this.chart.container.clientWidth)))return void this.resizeChart();if(this.runPrepend("mousemoveinner",arguments))return;function K(e){n.i3j(),1383854628!==n.D7V(0,!1,460534)&&87937316!==n.D7V(0,!1,773321)&&-269315145!==n.D7V(13,!1,339446)&&-740862009!==n.w7V(0,!1,981289)&&899001916!==n.D7V(8,!1,448509)&&-475405355!==n.D7V(0,!1,865347)||(e.currentBaseline=null,e.runAppend("mousemoveinner",p))}if(p=arguments,m=this.container.getBoundingClientRect(),this.top=m.top,this.left=m.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.hasDragged=!0,t.ChartEngine.crosshairX=e,t.ChartEngine.crosshairY=a,g=this.cy=this.crossYActualPos=this.backOutY(t.ChartEngine.crosshairY),f=this.cx=this.crossXActualPos=this.backOutX(t.ChartEngine.crosshairX),this.grabbingScreen&&this.anyHighlighted){n.U16(22);var Z=n.o16(10,12);if(Math.pow(this.grabStartX-e,2)+Math.pow(this.grabStartY-a,Z)<36)return}if(this.cancelLongHold=!0,v=function(e,a){if(-2023562715===n.D7V(0,!1,360073)||-1124787125===n.w7V(0,!1,328038)||1125809934===n.D7V(13,!1,153721)||-2051298366===n.D7V(0,!1,591497)||-179633851===n.w7V(8,!1,640154)||1016810512===n.D7V(0,!1,333202)){if(0===t[i])return e.whichPanel(a)||e.chart.panel;e.draw[i]||(e.draw=function(){350459152!==n.D7V(0,!1,919765)&&-1014151059!==n.D7V(0,!1,107376)&&1080760251!==n.D7V(13,!1,473837)&&1619828161!==n.D7V(0,!1,182487)&&-2013015717!==n.w7V(8,!1,349590)&&1781732871!==n.w7V(0,!1,683726)||t.clearCanvas(this.chart.canvas,this)},e.draw[i]=!0)}},this.currentPanel=v(this,g),!this.currentPanel)return;if((y=this.currentPanel.chart).dataSet&&(this.crosshairTick=this.tickFromPixel(f,y),u=this.valueFromPixel(g,this.currentPanel),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,u),(b="chart"==this.currentPanel.name?this.preferences.horizontalCrosshairField:this.currentPanel.horizontalCrosshairField)&&this.crosshairTick<y.dataSet.length&&this.crosshairTick>-1)){x=-1557860238,C=411321941,S=2;for(var W=1;n.v7D(W.toString(),W.toString().length,56921)!==x;W++)u=y.dataSet[this.crosshairTick][b],this.crossYActualPos=this.pixelFromPrice(u,this.currentPanel),S+=2;n.x3D(S.toString(),S.toString().length,29721)!==C&&(u=y.dataSet[this.crosshairTick][b],this.crossYActualPos=this.pixelFromPrice(u,this.currentPanel)),u=y.dataSet[this.crosshairTick][b],this.crossYActualPos=this.pixelFromPrice(u,this.currentPanel)}if(t.ChartEngine.crosshairX>=this.left&&t.ChartEngine.crosshairX<=this.right&&t.ChartEngine.crosshairY>=this.top&&t.ChartEngine.crosshairY<=this.bottom?this.insideChart=!0:this.insideChart=!1,T=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=this.insideChart&&this.cy<=T&&this.cy>T-this.xaxisHeight,this.overYAxis=(this.cx>=this.currentPanel.right||this.cx<=this.currentPanel.left)&&this.insideChart,this.overXAxis||this.overYAxis||!this.insideChart&&!this.grabbingScreen){this.undisplayCrosshairs(),D=1277757870,w=673504233,k=2;for(var Y=1;n.v7D(Y.toString(),Y.toString().length,9320)!==D;Y++){if(!this.overXAxis&&!this.overYAxis)return;k+=2}if(n.v7D(k.toString(),k.toString().length,14277)!==w&&(~this.overXAxis||-this.overYAxis))return}if(!this.displayCrosshairs&&!t.ChartEngine.resizingPanel)return void this.undisplayCrosshairs();if(this.repositioningBaseline)return this.setBaselineUserLevel(),K(this);if(this.repositioningAnchorSelector){if(L=this.repositioningAnchorSelector.hoverTick,(A=this.tickFromPixel(this.cx,this.chart))>=0&&A<this.chart.dataSet.length&&(!L||0===L||A!==L)){this.repositioningAnchorSelector.hoverTick=A,M=1484401755,P=-1291850678,O=2;for(var B=1;n.x3D(B.toString(),B.toString().length,89431)!==M;B++)this.draw(),O+=2;n.x3D(O.toString(),O.toString().length,842)!==P&&this.draw(),this.draw()}return K(this)}if(this.grabbingScreen&&!t.ChartEngine.resizingPanel){if(this.highlightedDraggable)return this.displayDragOK(!0),this.dragPlotOrAxis(f,g),K(this);if(this.anyHighlighted){for(_ in t.clearCanvas(this.chart.tempCanvas,this),this.anyHighlighted=!1,this.overlays)this.overlays[_].highlight=!1;for(_ in y.series)y.series[_].highlight=!1;this.displaySticky()}if(-1==this.grabStartX&&(this.grabStartX=t.ChartEngine.crosshairX,this.grabStartScrollX=y.scroll),-1==this.grabStartY&&(this.grabStartY=t.ChartEngine.crosshairY,this.grabStartScrollY=this.currentPanel.yAxis.scroll),F=t.ChartEngine.crosshairX-this.grabStartX,H=t.ChartEngine.crosshairY-this.grabStartY,0===F&&0===H)return;if(Math.abs(F)+Math.abs(H)>5&&(this.grabOverrideClick=!0),q=this.layout.candleWidth,this.allowZoom&&"pan"!=this.grabMode&&(0===this.grabMode.indexOf("zoom")||this.overXAxis||this.grabStartYAxis)){if(""===this.grabMode&&(E="zoo",E+="m-x",this.overXAxis?this.grabMode=E:this.grabStartYAxis&&(this.grabMode="zoom-y")),"zoom-x"==this.grabMode?H=0:"zoom-y"==this.grabMode&&(F=0),F&&(this.grabStartX=t.ChartEngine.crosshairX,V=q-F/this.chart.maxTicks,this.zoomSet(V,this.chart)),this.layout.setSpan&&(this.layout.setSpan=null,this.changeOccurred("layout")),I=this.grabStartYAxis)if(I.flipped&&(H*=-1),I.zoom=Math.round(this.grabStartZoom+H),this.grabStartZoom<I.height){if(I.zoom>=I.height){n.j16(70);var Q=n.o16(3,16,8);I.zoom=I.height-Q}}else if(I.zoom<=I.height){n.U16(0);var X=n.R16(1,0);I.zoom=I.height+X}}else if(!this.overYAxis&&(this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!0}),this.allowScroll)){if(N="scro",N+="ll",Math.abs(H)<this.yTolerance){if(!this.yToleranceBroken&&(H=0,0===F))return}else this.yToleranceBroken=!0;this.grabStartMicropixels||(this.grabStartMicropixels=0),this.grabMode="pan",y.scroll=this.grabStartScrollX,n.j16(100);var G=n.o16(20,6,405,65);if(this.micropixels=this.grabStartMicropixels+F*(this.shift?G:1),!this.lineTravelSpacing){for(;this.micropixels>0;)this.micropixels-=q,y.scroll++;for(;this.micropixels<-q;)this.micropixels+=q,y.scroll--}y.scroll>=y.maxTicks?this.preferences.whitespace=this.initialWhitespace:this.preferences.whitespace=(y.maxTicks-y.scroll)*q,this.currentPanel==this.grabStartPanel&&((I=this.currentPanel.yAxis).flipped&&(H*=-1),I.scroll=this.grabStartScrollY+H),this.dispatch(N,{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy})}return j=function(e){if(n.i3j(),306535546===n.D7V(0,!1,811467)||-1539766453===n.D7V(0,!1,530739)||-1884746668===n.w7V(13,!1,742511)||1231037170===n.D7V(0,!1,946690)||-1024206852===n.D7V(8,!1,564992)||-1080344193===n.w7V(0,!1,275459))return function(){n.z3j(),1446449935!==n.D7V(0,!1,605438)&&-1806689941!==n.w7V(0,!1,457432)&&1338101422!==n.w7V(13,!1,664026)&&-281498184!==n.D7V(0,!1,356244)&&-1924302178!==n.w7V(8,!1,986595)&&905719208!==n.D7V(0,!1,842685)||(e.draw(),e.updateChartAccessories())}},t.ChartEngine.useAnimation?window.requestAnimationFrame(j(this)):(this.draw(),this.updateChartAccessories()),this.activeDrawing&&(t.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.render(this.chart.tempCanvas.context),this.activeDrawing.measure()),void this.undisplayCrosshairs()}return this.grabMode="",this.overXAxis||this.overYAxis?(this.updateChartAccessories(),this.tapForHighlighting&&this.touching&&!this.anyHighlighted||this.findHighlights(),K(this)):(this.controls.crossX&&(this.controls.crossX.style.left=this.pixelFromTick(this.crosshairTick,y)-.5+d),this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+"px"),this.insideChart&&!t.ChartEngine.resizingPanel?(R=this.currentVectorParameters.vectorType,this.layout.studies&&(z=this.layout.studies[this.currentPanel.name])&&(this.preferences.dragging&&this.preferences.dragging.study||delete this.overlays[z.name],R&&(this.overlays[z.name]=z)),t.Drawing&&R&&t.Drawing[R]&&(new t.Drawing[R]).dragToDraw||this.doDisplayCrosshairs(),this.updateChartAccessories()):this.undisplayCrosshairs(),this.magnetize&&this.magnetize(),this.repositioningDrawing?this.repositionDrawing(this.repositioningDrawing):t.ChartEngine.drawingLine?this.activeDrawing&&(null===this.magnetizedPrice&&(U=this.panels[this.activeDrawing.panelName],u=this.adjustIfNecessary(U,this.crosshairTick,this.activeDrawing.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),U,this.getYAxisByField(U,this.activeDrawing.field))),t.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.move(this.chart.tempCanvas.context,this.crosshairTick,u)),this.activeDrawing.measure&&this.activeDrawing.measure()):t.ChartEngine.resizingPanel&&this.resizePanels(),this.insideChart&&(this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!1}),this.tapForHighlighting&&this.touching&&!this.anyHighlighted||this.findHighlights()),K(this))}},t.ChartEngine.prototype.swipeStart=function(e){var t;this.swipe&&this.swipe.interval&&clearInterval(this.swipe.interval),this.swipe.velocity=0,this.swipe.amplitude=0,this.swipe.frame=e.scroll,this.swipe.micropixels=this.micropixels,this.swipe.timestamp=Date.now(),this.swipe.chart=e,this.swipe.end=!1,this.swipe.timeConstant=325,n.i3j(),this.swipe.cb=null,t=this,requestAnimationFrame((function(){n.z3j(),t.swipeSample()}))},t.ChartEngine.prototype.swipeSample=function(){var e,i,a,r,s,o,l;(e=this.swipe).end||(i=this,(r=(a=Date.now())-e.timestamp)<20||(o=t.touchDevice?.4:.8,e.timestamp=a,s=(e.chart.scroll-e.frame)*this.layout.candleWidth+this.micropixels-e.micropixels,n.z3j(),e.frame=e.chart.scroll,e.micropixels=this.micropixels,n.j16(101),l=o*n.o16(1e3,r,1,s)+.2*e.velocity,Math.abs(l)>Math.abs(e.velocity)&&(e.velocity=l),Math.abs(s)<6&&(e.velocity=0)),requestAnimationFrame((function(){i.swipeSample()})))},n.z3j(),t.ChartEngine.prototype.swipeRelease=function(){var e,t;(e=this.swipe).velocity>3e3&&(e.velocity=3e3),e.velocity<-3e3&&(e.velocity=-3e3),(e.velocity>10||e.velocity<-10)&&(e.amplitude=.8*e.velocity,e.scroll=e.chart.scroll,e.target=e.amplitude,e.timestamp=Date.now(),t=this,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),requestAnimationFrame((function(){n.z3j(),t.autoscroll()})))},t.ChartEngine.prototype.dragPlotOrAxis=function(e,i){var a,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,I,q,E,V,N,j,R,z,U,Z,W,Y,B,Q,X,G,K,$,J;if(a=this,(function(){var e,t,i;function r(t){return n.i3j(),function(i){t.subholder.classList.contains(i)&&(t.subholder.classList.remove(i),e=!0)}}for(var s in n.z3j(),e=!1,a.panels){for(t="a",t+="l",["dropzone",t+="l","left","right","top","bottom"].forEach(r(a.panels[s])),i=0;i<a.panels[s].yaxisLHS.length;i++)a.panels[s].yaxisLHS[i].dropzone&&(e=!0),a.panels[s].yaxisLHS[i].dropzone=null;for(i=0;i<a.panels[s].yaxisRHS.length;i++)a.panels[s].yaxisRHS[i].dropzone&&(e=!0),a.panels[s].yaxisRHS[i].dropzone=null}return e}.call(this)||this.grabbingScreen)&&(r=null,s=this.whichPanel(i),o=this.highlightedDraggable,l=0,s&&(!o.undraggable||!o.undraggable(this)))){for(D in this.xAxisAsFooter&&s==Object.values(this.panels).pop()&&(l=this.xaxisHeight,r&&(r+=l)),h=Math.min(20,(s.height-l)/3),n.j16(27),c=Math.min(n.R16("10",2147483647),s.width/3),d=this.whichYAxis(s,e,i),n.U16(7),u=this.whichYAxis(s,n.o16(e,c),i),n.U16(0),p=this.whichYAxis(s,n.R16(c,e),i),n.j16(7),m=this.whichPanel(n.R16(i,h)),n.U16(31),g=this.whichPanel(n.o16(l,h,i)),f=!1,v=!1,t.Renderer&&(f=o instanceof t.Renderer),t.Studies&&(v=o instanceof t.Studies.StudyDescriptor),b=function(e){if(!y){if("right"==e){n.j16(13);var t=n.R16(66,77,17);return s.right-s.width/t}if("left"==e){n.j16(102);var i=n.o16(6,7,24,72,9);return s.left+s.width/i}}return(s.left+s.right)/2},(y=o instanceof t.ChartEngine.YAxis)||d||(e<b("left")?u=this.whichYAxis(s,s.left-1,i):e>b("right")&&(p=this.whichYAxis(s,s.right+1,i))),x=[],o.getDependents&&(x=o.getDependents(this,!0)),C=o.panel,S=o.getYAxis(this),f?C=o.params.panel:y&&(C=this.grabStartPanel.name),T=this.panels[C],this.panels)this.panels[D].soloing&&(w=!0);if(k=S.isShared(this),L=!(d||y||w||(T===s||T==m||T==g)&&this.checkForEmptyPanel(T,!0,[o].concat(x))),A=C==s.name&&S!==d&&S!==p&&S!==u||k,!L||m&&s===m)if(!L||g&&s===g){if(s!==T)y||s.noDrag||(s.subholder.classList.add("dropzone"),s.subholder.classList.add("all"),M=s.name);else if((!s.yaxisRHS.length||1==s.yaxisRHS.length&&s.yaxisRHS[0]==S&&"none"==S.position)&&!d&&!p&&e>b("right"))s.subholder.classList.add("dropzone"),s.subholder.classList.add("right"),P="right";else if((!s.yaxisLHS.length||1==s.yaxisLHS.length&&s.yaxisLHS[0]==S&&"none"==S.position)&&!d&&!u&&e<b("left"))s.subholder.classList.add("dropzone"),s.subholder.classList.add("left"),P="left";else if(A){if(y&&e>s.left&&e<s.right){n.U16(33);var ee=n.o16(7,8,16);O=s.yaxisLHS[s.yaxisLHS.length-("1"|ee)],n.U16(35),_=s.yaxisRHS[n.R16(61655040,"0")],e<(F=b())&&O!=S?u=O:e>F&&_!=S&&(p=_)}if(!y||d!==S)if(H=!y&&k,!p||p===S&&!H||d&&d===p)if(!u||u===S&&!H||d&&d===u){if(d){if(p||d===S&&!H)if(u||d===S&&!H)d!==S&&(d.dropzone="all");else{n.U16(7),I=n.R16("613077053",0),q=2;for(var te=1;1899773961!==n.x3D(te.toString(),te.toString().length,27046);te++)d.dropzone="left",q+=2;n.x3D(q.toString(),q.toString().length,40791)!==I&&(d.dropzone="")}else d.dropzone="right";d.dropzone&&(P=d.position||this.chart.panel.yAxis.position||"right")}}else u.dropzone="right",P=u.position||this.chart.panel.yAxis.position||"right";else p.dropzone="left",P=p.position||this.chart.panel.yAxis.position||"right"}}else s.subholder.classList.add("dropzone"),s.subholder.classList.add("bottom");else s.subholder.classList.add("dropzone"),s.subholder.classList.add("top"),g=s;if(this.grabbingScreen||!s.subholder.classList.contains("dropzone")&&!P)this.draw();else{if(n.U16(27),V=-n.o16("1",2147483647),!M&&!P&&L){for(var ie in M=v?o.inputs.id:o.params.name||t.uniqueID(),this.panels)if(V++,this.panels[ie]==g)break;g||V++,this.panels[C].yAxis.name==M&&(C=this.electNewPanelOwner(C)),N=v?o.inputs.display:null,C?this.createPanel(N||M,M,r,this.chart.name,new t.ChartEngine.YAxis({name:M})):C=M,v?o.panel=C:o.params.panel=C}if(M){if(v)o.parameters||(o.parameters={}),o.parameters.panelName=M,this.highlightedDraggable=t.getFn("Studies.replaceStudy")(this,o.inputs.id,o.type,o.inputs,o.outputs,o.parameters,null,o.study);else if(f)for(var ae in o.seriesParams)j=o.seriesParams[ae],R=null,o.params.yAxis&&o.params.yAxis!==this.chart.panel.yAxis&&((R=o.params.yAxis).name=o.params.name),this.modifySeries(j.id,{panel:M,yAxis:R});if(V>-1){for(D in z={},U=0,this.panels)V==U++&&(z[M]=this.panels[M]),D!=M&&(z[D]=this.panels[D]);z[M]||(z[M]=this.panels[M]),this.panels=z}this.checkForEmptyPanel(C);for(var ne=0;ne<x.length;ne++)x[ne].params?this.checkForEmptyPanel(x[ne].params.name):this.checkForEmptyPanel(x[ne].name);this.adjustPanelPositions()}else if(P){if(Z=function(e,i,a,n){var r,s;if("study"==a&&(i.parameters||(i.parameters={}),n?i.parameters.yaxisDisplayValue=n.position:delete i.parameters.yaxisDisplayValue,r=t.getFn("Studies.replaceStudy")(e,i.inputs.id,i.type,i.inputs,i.outputs,i.parameters,i.panel,i.study)),"renderer"==a)for(var o in i.seriesParams)s=i.seriesParams[o],r=e.modifySeries(s.id,{panel:M,yAxis:n});return r},(W=d&&"all"==d.dropzone)||(y?(o.position=P,this.layout.studies&&(Y=this.layout.studies[o.name])&&(Y.parameters||(Y.parameters={}),Y.parameters.yaxisDisplayValue=P)):v?this.highlightedDraggable=Z(this,o,"study",{position:P}):f&&Z(this,o,"renderer",new t.ChartEngine.YAxis({name:o.params.name||t.uniqueID(),position:P})),S=this.highlightedDraggable.getYAxis(this)),!k||!W||y){for(B=S,W&&S==this.chart.panel.yAxis&&(B=d),E=0;E<s.yaxisLHS.length;E++)if(s.yaxisLHS[E]==B){s.yaxisLHS.splice(E,1);break}for(E=0;E<s.yaxisRHS.length;E++)if(s.yaxisRHS[E]==B){n.j16(35),s.yaxisRHS.splice(E,n.R16(1424378624,"1"));break}}if(W)if(this.getYAxisByName(s,S.name)==s.yAxis&&this.electNewPanelOwner(s,d),y){for(X in G=S,K=d,S==this.chart.panel.yAxis&&(G=d,K=S),G.studies)Z(this,this.layout.studies[G.studies[X]],"study",K===this.chart.panel.yAxis?null:{position:K.name});for(X in G.renderers)Z(this,this.chart.seriesRenderers[G.renderers[X]],"renderer",K);this.highlightedDraggable=K}else v?this.highlightedDraggable=Z(this,o,"study",{position:d.name}):f&&Z(this,o,"renderer",d);else{for("none"==S.position&&(S.width=t.ChartEngine.YAxis.prototype.width),S.position=P,Q="left"==P?s.yaxisLHS:s.yaxisRHS,E=0;E<Q.length;E++){if(Q[E]!==S)if("left"==Q[E].dropzone)Q.splice(E,0,S);else{if("right"!=Q[E].dropzone)continue;n.j16(103),Q.splice(n.o16(E,"1"),0,S)}break}E==Q.length&&Q.push(S)}}for(var re in this.panels)for(J=($=this.panels[re]).yaxisLHS.concat($.yaxisRHS),E=0;E<J.length;E++)J[E].height=$.yAxis.height,J[E].lockScale||this.calculateYAxisMargins(J[E]);this.displayDragOK(),this.draw(),this.calculateYAxisPositions(),this.draw(),this.findHighlights(null,!0),this.savePanels()}}},a=!1,t.ChartEngine.prototype.findHighlights=t.ChartEngine.prototype.findHighlights||function(e,t){a||console.error("movement feature requires activating interaction feature."),a=!0}},g=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).NameValueStore=t.NameValueStore||function(){},t.NameValueStore.prototype.toJSONIfNecessary=function(e){if(I.i3j(),e.constructor==String)return e;try{return JSON.stringify(e)}catch(t){return I.j16(0),console.log(I.R16(e,"Cannot convert to JSON: ")),null}},t.NameValueStore.prototype.fromJSONIfNecessary=function(e){I.i3j();try{return JSON.parse(e)}catch(t){return e}},t.NameValueStore.prototype.get=function(e,i){var a;a=t.localStorage.getItem(e),i(null,this.fromJSONIfNecessary(a))},t.NameValueStore.prototype.set=function(e,i,a){t.localStorageSetItem(e,this.toJSONIfNecessary(i)),a&&a(null)},t.NameValueStore.prototype.remove=function(e,i){t.localStorage.removeItem(e),i&&i(null)}},f=e=>{var t;function i(){}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine||(t.ChartEngine=function(){}),i.fetchInitialData=function(e,t,i,a,n){},i.fetchUpdateData=function(e,t,i,a){},i.fetchPaginationData=function(e,t,i,a,n){},i.subscribe=function(e){},i.unsubscribe=function(e){},t.QuoteFeed=t.QuoteFeed||function(){},t.QuoteFeed.prototype.fetch=function(e,t){this.v2QuoteFeed||console.log("You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()")},t.QuoteFeed.prototype.announceError=function(e,i){e.suppressErrors||i.suppressAlert||e.startDate||e.endDate||i.error&&t.alert("Error fetching quote:"+i.error)},t.QuoteFeed.prototype.multiFetch=function(e,t){return 0===e.length&&t([]),e[0].stx.driver.multiFetch(e,t)},t.QuoteFeed.Subscriptions=function(){I.z3j(),this.subscriptions=[]},t.inheritsFrom(t.QuoteFeed.Subscriptions,t.QuoteFeed),t.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(e){var t,i,a,n,r;a=e.getSymbols({"breakout-equations":!0}),n=this,a=a.filter((function(t){var i;return(i=e.quoteDriver.getQuoteFeed(t))&&i.engine==n})),I.z3j();for(var s=0;s<this.subscriptions.length;s++)this.subscriptions[s].match=!1;for(var o=0;o<a.length;o++)for("month"!=(r=(i=a[o]).interval)&&"week"!=r||e.dontRoll||(r="day"),i.interval=r,i.period=1,i.match=!1,isNaN(i.interval)||(i.period=i.interval,i.interval=i.timeUnit,i.interval||(i.interval="minute")),delete i.periodicity,delete i.timeUnit,delete i.setSpan,s=0;s<this.subscriptions.length;s++){if((t=this.subscriptions[s]).symbol==i.symbol&&t.period==i.period&&t.interval==i.interval){i.match=!0,t.match=!0;break}t.symbol!=i.symbol?("period"!=i.reason&&(i.reason="symbol"),t.reason="symbol"):(i.reason="period",t.reason="period")}this.subscriptions=this.subscriptions.filter((function(t){return t.match||(t.stx||(t.stx=e),n.unsubscribe(t)),I.i3j(),t.match})),a.forEach((function(t){I.z3j(),t.match||(t.stx||(t.stx=e),t.reason||(t.reason="initialize"),t.symbol!==e.chart.symbol&&(t.series=!0),n.subscribe(t),n.subscriptions.push(t))}))},t.QuoteFeed.Subscriptions.prototype.fetch=function(e,t){var i;I.z3j(),i=this,this.fetchFromSource(e,(function(a){a.error||i.checkSubscriptions(e.stx),t(a)}))},t.QuoteFeed.Subscriptions.prototype.subscribe=function(e){var t;I.z3j(),t=2;for(var i=1;-1675509044!==I.x3D(i.toString(),i.toString().length,63354);i++)console.log("subscribe",e),t+=2;-19784148!==I.v7D(t.toString(),t.toString().length,55642)&&console.log("",e)},t.QuoteFeed.Subscriptions.prototype.unsubscribe=function(e){I.z3j(),console.log("unsubscribe",e)},t.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(e,t){console.log("Please provide implementation of fetchFromSource")},t.QuoteFeed.prototype.requiresImmediateRefresh=function(e){return!1},t.ChartEngine.prototype.attachQuoteFeed=function(e,i,a){var n,r,s;i||(i={}),"function"!=typeof e.fetchInitialData&&"function"!=typeof e.fetchUpdateData&&"function"!=typeof e.fetchPaginationData||(n="ann",n+="ounceE",n+="rror",r="m",r+="ult",r+="i",r+="Fetch","function"!=typeof e.fetchPaginationData&&"function"!=typeof e.fetchUpdateData&&(i.noLoadMore=!0),e.v2QuoteFeed=!0,[r,n,"requiresImmediateRefresh"].forEach((function(i){e[i]||!1===e[i]||(e[i]=t.QuoteFeed.prototype[i])})),"function"==typeof e.subscribe&&(e.checkSubscriptions=t.QuoteFeed.Subscriptions.prototype.checkSubscriptions,e.subscriptions=[])),i.maximumTicks||(i.maximumTicks=e.maxTicks?e.maxTicks:2e4),(!i.bufferSize||i.bufferSize<0)&&(i.bufferSize=0),i.bufferSize=Math.round(i.bufferSize),i.intervalTimer=null,this.quoteDriver&&(!a&&this.quoteDriver.hasUnfilteredQuoteFeed?this.detachQuoteFeed():(s=this.quoteDriver.hasUnfilteredQuoteFeed&&this.quoteDriver.quoteFeeds.pop(),this.quoteDriver.quoteFeeds.push({engine:e,behavior:i,filter:a}),s&&this.quoteDriver.quoteFeeds.push(s),this.quoteDriver.updateChartLoop(null,i))),this.quoteDriver||(this.quoteDriver=new t.ChartEngine.Driver(this,e,i,a)),a||(this.quoteDriver.hasUnfilteredQuoteFeed=!0)},t.ChartEngine.prototype.detachQuoteFeed=function(e){var t;if(t=this.quoteDriver,I.z3j(),t){for(var i=t.quoteFeeds.length-1;i>=0;i--)e&&t.quoteFeeds[i].engine!=e||(t.die(t.quoteFeeds[i]),t.quoteFeeds.splice(i,1));t.quoteFeeds.length?e==t.quoteFeed&&(t.quoteFeed=t.quoteFeeds[0].quoteFeed,t.behavior=t.quoteFeeds[0].behavior):t=this.quoteDriver=null}},t.ChartEngine.Driver=function(e,i,a,n){this.stx=e,a||(a={}),this.quoteFeeds=[{engine:i,behavior:a,filter:n}],this.id=t.uniqueID(!0),this.behavior=a,this.quoteFeed=i,this.loadingNewChart=!1,this.updatingChart=!1,I.z3j(),n||(this.hasUnfilteredQuoteFeed=!0),this.updateChartLoop()},t.ChartEngine.Driver.prototype.die=function(e){for(var t,i=0;i<this.quoteFeeds.length;i++)e&&this.quoteFeeds[i]!=e||(t=this.quoteFeeds[i].behavior).intervalTimer&&(clearInterval(t.intervalTimer),t.intervalTimer=-1)},t.ChartEngine.Driver.prototype.getQuoteFeed=function(e){var t;I.z3j(),e.symbolObject||(e.symbolObject={symbol:e.symbol});for(var i=0;i<this.quoteFeeds.length;i++)if((t=this.quoteFeeds[i]).behavior.generator==e.symbolObject.generator&&(!t.filter||t.filter(e)))return t;return null},t.ChartEngine.Driver.prototype.multiFetch=function(e,i){var a,n,r;0===e.length&&i([]),a={counter:0,finished:e.length,results:[]};for(var s=0;s<e.length;s++)(n=e[s]).stx.isEquationChart(n.symbol)?t.fetchEquationChart(n,o(n,a,i)):(r=this.getQuoteFeed(n))&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.SERIES,r.engine,n,o(n,a,i));function o(e,t,i){return function(a){var n;I.z3j(),t.results.push({dataCallback:a,params:e}),t.counter++,t.counter>=t.finished&&(n=t.results,t.results=[],i(n))}}},t.ChartEngine.Driver.prototype.updateSubscriptions=function(){I.z3j();for(var e=0;e<this.quoteFeeds.length;e++)this.quoteFeeds[e].checkSubscriptions&&this.quoteFeeds[e].checkSubscriptions(this.stx)},t.ChartEngine.Driver.prototype.loadDependents=function(e,i,a,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A;if(r=this,!n)return s=0,o=[],l=[],h=function(e){I.z3j(),i&&++s>=r.quoteFeeds.length&&i(null)},c=function(t){++s<o.length||(l.length||h(),l.forEach((function(t){r.loadDependents(e,h,a,t.behavior)})))},r.quoteFeeds.forEach((function(e){e.behavior.generator?l.push(e):o.push(e)})),void o.forEach((function(t){r.loadDependents(e,c,a,t.behavior)}));for(d in u=e.stx,m=(p=e.chart).series,u.masterData,v=[],y={},b=a==t.QuoteFeed.UPDATE,x=a==t.QuoteFeed.PAGINATION,C=t.shallowClone(e),m){if(S=(g=m[d]).parameters,!b){if(!e.future&&!1===g.moreAvailable)continue;if(e.future&&!0===g.upToDate)continue}if(!g.loading&&!1!==S.loadData&&(!b&&!x||g.endPoints&&Object.keys(g.endPoints).length)&&(!S.data||S.data.useDefaultQuoteFeed)&&(f=S.symbolObject).symbol&&f.generator==n.generator&&(C.symbolObject=f,C.symbol=f.symbol,T=this.getQuoteFeed(C),n==(T&&T.behavior))){D=!0,b||(g.loading=!0);for(var M=0;M<v.length;M++)t.symbolEqual(v[M],f)&&(D=!1);D&&(v.push(f),y[f.symbol]=g.endPoints)}}w=[];for(var P=0;P<v.length;P++)f=v[P],(k=t.shallowClone(e.originalState)).symbol=f.symbol,k.symbolObject=f,k.update||k.future?(k.endDate||(k.endDate=e.endDate),k.startDate=y[f.symbol].end):(k.startDate||(k.startDate=e.startDate),k.endDate=x&&!e.future?y[f.symbol].begin:e.endDate,k.ticks=e.ticks),w.push(k);if(!w.length&&b)return(L={appending:e.appending||e.originalState.update}).appending&&(L.appendToDate=e.startDate),u.createDataSet(null,null,L),e.nodraw||u.draw(),void(i&&i(null));this.multiFetch(w,(A=b,I.z3j(),function(s){var o,l,h,c,d,m,f,v,y,b;o=null,I.z3j();for(var x=0;x<s.length;x++)if(!(h=(l=s[x]).dataCallback.error)&&0!==h){c=l.params.symbolObject,m=(d=l.dataCallback).quotes,f=d.moreAvailable,v=d.upToDate,y=[],u.getSeries&&(y=u.getSeries({symbolObject:c})),b=!1;for(var C=0;C<y.length;C++)g=y[C],A||(e.future?(g.upToDate=!0===v||v||m.length<=(l.params.startDate?1:0),u.isHistoricalModeSet&&m.length<2&&(g.mostRecentForwardAttempt=new Date)):g.moreAvailable=!1!==f&&(f||m.length>(l.params.endDate?1:0)),g.loading=!1),b=g.parameters.fillGaps||b;m=r.cleanup(u,g,m,a,e,b),u.updateChartData(m,p,{secondarySeries:c.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),m&&m.length&&(!o||o>m[0].DT)&&(o=m[0].DT)}s.length&&(u.createDataSet(null,null,{appending:e.originalState.update||e.future,appendToDate:o}),e.nodraw||u.draw(),a==t.QuoteFeed.INITIAL&&r.resetRefreshInterval(n.refreshInterval,n)),i&&i(null)}))},t.ChartEngine.Driver.prototype.cleanup=function(e,i,a,n,r,s){var o,l,h,c,d;return e.doCleanupDates(a,e.layout.interval),I.z3j(),!r.missingBarsCreated&&a&&a.length&&e.cleanupGaps&&!1!==s&&(h=r.chart,i?(h=i,l=i.parameters.symbol||i.id):l=h.defaultPlotField,n!=t.QuoteFeed.PAGINATION||r.loadMoreReplace?n==t.QuoteFeed.UPDATE&&h.endPoints.end&&h.endPoints.end<a[0].DT&&(d=e.getFirstLastDataRecord(e.masterData,l,!0),i&&(d=d[l]),a.unshift(d),o="shift"):h.endPoints.begin&&h.endPoints.begin>a[a.length-1].DT&&(c=e.getFirstLastDataRecord(e.masterData,l,!1),i&&(c=c[l]),a.push(c),o="pop"),a=e.doCleanupGaps(a,r.chart,{cleanupGaps:s,noCleanupDates:!0}),o&&a[o]()),a},t.ChartEngine.Driver.prototype.updateChart=function(e){var i,a,n,r,s,o,l,h,c;if(I.i3j(),!this.updatingChart&&!this.loadingNewChart)for(var d in i=Object.keys(this.stx.charts).length,a=0,n=this.stx,r=n.layout.interval,s=n.layout.timeUnit,n.charts)(o=n.charts[d]).symbol&&(l=this.makeParams(o.symbol,o.symbolObject,o),h=this.getQuoteFeed(l),o.masterData&&o.masterData.length&&(l.startDate=o.endPoints.end),l.update=!0,l.originalState=t.shallowClone(l),e&&e!=l.behavior?this.loadDependents(l,null,t.QuoteFeed.UPDATE,e):(this.updatingChart=!0,c=u(this,l,o.symbol,h),n.isEquationChart(l.symbol)?t.fetchEquationChart(l,c):h&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.UPDATE,h.engine,l,c)));function u(e,o,l,h){return o.behavior.prefetchAction&&o.behavior.prefetchAction("updateChart"),function(c){var d,u;a++,(d=o.chart).masterData,I.z3j(),l!=d.symbol||r!=n.layout.interval||s!=n.layout.timeUnit||n.isHistoricalMode()?e.updatingChart=!1:(h!==e.getQuoteFeed(o)||c.error?h&&h.engine.announceError(o.originalState,c):(u=c.quotes,u=e.cleanup(n,null,u,t.QuoteFeed.UPDATE,o),n.updateChartData(u,d,{noCreateDataSet:!0,noCleanupDates:!0}),d.attribution=c.attribution),a==i&&(e.updatingChart=!1),o.behavior.callback&&o.behavior.callback(o),e.loadDependents(o,null,t.QuoteFeed.UPDATE,o.behavior))}}},t.ChartEngine.Driver.prototype.updateChartLoop=function(e,t){var i,a;if(t||(t=this.behavior),-1!=t.intervalTimer){t.intervalTimer&&clearInterval(t.intervalTimer),i=function(e,t){return function(){t.noUpdate||e.updateChart(t)}};for(var n=0;n<this.quoteFeeds.length;n++)t!=(a=this.quoteFeeds[n].behavior)||a.noUpdate||(e||0===e||(e=a.refreshInterval),e&&(t.intervalTimer=setInterval(i(this,a),1e3*e)))}},t.ChartEngine.Driver.prototype.resetRefreshInterval=function(e,t){var i,a=I;(t||this.behavior).refreshInterval=e,this.updateChartLoop(null,t),a.U16(7),i=a.o16("2",0);for(var n=1;-549042472!==a.x3D(n.toString(),n.toString().length,48980);n++)i+=2;a.x3D(i.toString(),i.toString().length,89286)},t.ChartEngine.Driver.prototype.pause=function(e){this.paused={symbol:e,interval:this.behavior.refreshInterval},this.resetRefreshInterval(0)},t.ChartEngine.Driver.prototype.resume=function(){var{interval:e,symbol:i}=this.paused;I.i3j(),t.symbolEqual(i,this.stx.chart.symbol)||(this.resetRefreshInterval(e),this.paused=null)},t.ChartEngine.Driver.prototype.loadAll=function(e,t){var i,a;I.z3j(),i=this,a=0,function n(){return function(r){r?t(r):i.stx.currentlyImporting||!e.moreAvailable&&e.upToDate?t(null):++a>20?(console.warn("moreAvailable and upToDate not implemented correctly in quotefeed"),t()):(e.loadingMore=!1,i.checkLoadMore(e,!0,!0,n(),!0))}}()()},t.ChartEngine.Driver.prototype.checkLoadMore=function(e,i,a,n,r){var s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L=I;function A(t){return L.i3j(),!o.paused&&(!t.endPoints.end||e.scroll-e.maxTicks+1<h.bufferSize||s.tickFromDate(t.endPoints.end,e,null,!0)-d.length+e.scroll-e.maxTicks+2<h.bufferSize)}if(s=this.stx,o=this,e.loadingMore||this.loadingNewChart)return e.initialScroll=e.scroll,void(n&&n(null));if(s.isHistoricalMode()||(s.isHistoricalModeSet=!1),L.i3j(),l=this.makeParams(e.symbol,e.symbolObject,e),s.currentlyImporting)n&&n(null);else{h=l.behavior,d=e.dataSet,L.j16(105);var M=L.R16(15e3,73915,17,5);L.j16(106);var P,O,_=L.R16(3,2,15,2,2);if(p=M*(h.forwardPaginationRetryInterval||_),m=!1,g=!1,e.dataSet.length)for(var F in e.series)(f=e.series[F]).loading||!1!==f.parameters.loadData&&(u=!f.mostRecentForwardAttempt||f.mostRecentForwardAttempt.getTime()+p<Date.now(),!1!==f.moreAvailable&&H(f)&&(m=!0),u&&!f.upToDate&&A(f)&&(g=!0));if(u=!e.mostRecentForwardAttempt||e.mostRecentForwardAttempt.getTime()+p<Date.now(),v=(H(e)||i)&&!1!==e.moreAvailable,y=(A(e)||i)&&!e.upToDate&&u,b=v||m,x=(s.isHistoricalModeSet||!e.upToDate)&&!b&&(y||g),C=s.layout.interval,S=s.layout.timeUnit,T=!1,D=h.findHeadOfData||e.masterData&&e.masterData.length,!h.noLoadMore&&D&&(x||!s.maxDataSetSize||e.dataSet.length<s.maxDataSetSize)&&(b||x)){if(e.initialScroll=e.scroll,e.loadingMore=!0,(l=this.makeParams(e.symbol,e.symbolObject,e)).pagination=!0,l.future=x,e.masterData&&e.masterData.length?(x?l.startDate=e.endPoints.end:l.endDate=e.endPoints.begin,x&&!l.startDate?(w=s.getFirstLastDataRecord(e.masterData,"DT",!0))&&(l.startDate=w.DT):b&&!l.endDate&&(w=s.getFirstLastDataRecord(e.masterData,"DT"))&&(l.endDate=w.DT)):l.endDate=new Date,l.originalState=t.shallowClone(l),l.nodraw=r,!v&&m||!y&&g)return this.loadingMore=!0,this.loadDependents(l,(function(t){e.loadingMore=!1,n&&n(t)}),t.QuoteFeed.PAGINATION),void(n&&n(null));(e.maximumForwardPagination||s.fetchMaximumBars[s.layout.aggregationType])&&(l.fetchMaximumBars=!0,!s.maxMasterDataSize||h.maximumTicks<s.maxMasterDataSize?l.ticks=h.maximumTicks:l.ticks=s.maxMasterDataSize),P=this,O=l,h.prefetchAction&&h.prefetchAction("checkLoadMore"),L.i3j(),k=function(e){var i,a,s,o,l,d,u,p,m,g,f,v;if(i=P.stx,a=O.chart,O.symbol==a.symbol&&C==i.layout.interval&&S==i.layout.timeUnit){if(!O.loadMore){L.U16(34),s=-L.R16(0,"1418858743"),o=2;for(var y=1;1428187506!==L.v7D(y.toString(),y.toString().length,54560);y++)O.chart.loadingMore=!1,o+=2;L.x3D(o.toString(),o.toString().length,77183)!==s&&(O.chart.loadingMore=!0)}if(c!==P.getQuoteFeed(O)||e.error){v=2;for(var b=1;-1921406115!==L.x3D(b.toString(),b.toString().length,57510);b++)P.quoteFeed.announceError(O.originalState,e),O.chart.loadingMore=!1,n&&n(e.error),v+=2;-1624981870!==L.x3D(v.toString(),v.toString().length,12661)&&(P.quoteFeed.announceError(O.originalState,e),O.chart.loadingMore=!0,n&&n(e.error))}else{if(e.quotes||(e.quotes=[]),l=e.quotes,d=a.masterData,(l=P.cleanup(i,null,l,t.QuoteFeed.PAGINATION,O)).length&&a.masterData&&a.masterData.length)if(O.future)(u=l[0]).DT&&u.DT==a.masterData[a.masterData.length-1].DT&&d.pop();else{L.U16(104);var x=L.R16(20,33,2,9,3);(p=l[l.length-x]).DT&&+p.DT==+a.masterData[0].DT&&l.pop()}O.future?(a.maximumForwardPagination=null,e.upToDate?a.upToDate=!0:!1===e.upToDate||l.length>1?a.upToDate=!1:(!l.length||1===l.length&&+O.startDate==+e.quotes[0].DT)&&(O.fetchMaximumBars?a.upToDate=!0:a.maximumForwardPagination=!0),i.isHistoricalModeSet&&l.length<2&&(a.mostRecentForwardAttempt=new Date)):e.moreAvailable||!1!==e.moreAvailable&&l.length?a.moreAvailable=!0:a.moreAvailable=!1,P.tickMultiplier=l.length?2:2*P.tickMultiplier,m=l[0]?l[0].DT:O.startDate,g=l[0]?l[l.length-1].DT:O.endDate,(!a.endPoints.begin||a.endPoints.begin>m)&&(a.endPoints.begin=m),(!a.endPoints.end||a.endPoints.end<g)&&(a.endPoints.end=g),a.loadingMore=!1,O.loadMoreReplace?i.setMasterData(l,a,{noCleanupDates:!0}):O.future?i.updateChartData(l,a,{noCreateDataSet:!0,noCleanupDates:!0}):t.addMemberToMasterdata({stx:i,chart:a,data:l,fields:["*"],noCleanupDates:!0}),O.future&&(f={appending:!0,appendToDate:l[0]&&l[0].DT}),i.createDataSet(void 0,void 0,f),r||i.draw(),h.callback&&h.callback(O),P.loadDependents(O,n,t.QuoteFeed.PAGINATION)}}},s.isEquationChart(l.symbol)?t.fetchEquationChart(l,k):(x&&(l.appending=!0),(c=o.getQuoteFeed(l))&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.PAGINATION,c.engine,l,k)),T=!0}!T&&n&&n(null)}function H(t){return!o.paused&&(!t.endPoints.begin||d.length-e.scroll<h.bufferSize||d.length-e.scroll-s.tickFromDate(t.endPoints.begin,e)<h.bufferSize)}},t.ChartEngine.Driver.prototype.extendHistoricalData=function({from:e},i=(()=>{})){var a,n,r,s,{stx:o}=this,{chart:l,layout:h}=o,{masterData:c,dataSet:d}=l,{interval:u,timeUnit:p}=h;if(a=this.makeParams(l.symbol,l.symbolObject,l),n=this.getQuoteFeed(a),l.loadingMore||this.loadingNewChart||o.currentlyImporting||!c.length||!n||o.maxDataSetSize&&d.length>o.maxDataSetSize)return i(null);l.loadingMore=!0,a.originalState=Object.assign({},a),a.startDate=e,a.endDate=c[0].DT,t.ChartEngine.Driver.fetchData(t.QuoteFeed.PAGINATION,n.engine,a,(r=this,s=a,function({quotes:a,moreAvailable:n,error:c}){if(s.symbol===l.symbol&&u===h.interval&&p===h.timeUnit){if(l.loadingMore=!1,c)return i(c);a=r.cleanup(o,null,a,t.QuoteFeed.PAGINATION,s),l.moreAvailable="boolean"==typeof n?n:!!a.length,l.endPoints.begin=e,t.addMemberToMasterdata({stx:o,chart:l,data:a,fields:["*"],noCleanupDates:!0}),o.createDataSet(),o.draw()}}))},t.ChartEngine.Driver.prototype.barsToFetch=function(e){var i,a;return t.isValidNumber(this.tickMultiplier)||(this.tickMultiplier=2),i=this.stx.layout.interval,I.z3j(),a=e.stx.layout.periodicity,"month"!=i&&"week"!=i||this.stx.dontRoll||(a*="week"==i?7:30),e.stx.chart.maxTicks*a*this.tickMultiplier},t.ChartEngine.Driver.determineStartDate=function(e,t,i){var a,n=I;n.j16(1),a=n.o16("2",0);for(var r=1;1255489500!==n.x3D(r.toString(),r.toString().length,76978);r++)return this.determineStartOrEndDate(e,t,i,!1);return 655974363!==n.v7D(a.toString(),a.toString().length,83024)?this.determineStartOrEndDate(e,t,i,!1):this.determineStartOrEndDate(e,t,i,!0)},t.ChartEngine.Driver.determineStartOrEndDate=function(e,t,i,a){return I.z3j(),a?e.startDate||t.previous(i):e.future?t.next(i):new Date},t.ChartEngine.Driver.prototype.makeParams=function(e,i,a){var n,r,s,o,l,h,c,d;r=(n=this.stx).layout.interval,s=this.barsToFetch({stx:n}),"month"!=r&&"week"!=r||n.dontRoll||(r="day"),l=(o=this.getQuoteFeed({interval:r,symbol:e,symbolObject:i}))&&o.behavior,(h=t.shallowClone(l)||{}).behavior=l,c=!1,d=[],a.market&&a.market.getSessionNames&&(d=a.market.getSessionNames()),n.extendedHours?n.extendedHours.filter?c=!0:(c=n.layout.extended,d=d.filter((function(e){var t,i=I;i.j16(27),t=i.o16("2",2147483647);for(var a=1;288794151!==i.v7D(a.toString(),a.toString().length,62004);a++)return e.enabled||n.layout.marketSessions[e.name];if(i.z3j(),-739780495!==i.x3D(t.toString(),t.toString().length,48750))return e.enabled&&n.layout.marketSessions[e.name]}))):d=d.filter((function(e){return I.i3j(),e.enabled}));for(var u=0;u<d.length;u++)d[u]=d[u].name;return t.extend(h,{stx:n,symbol:e,symbolObject:i,chart:a,interval:r,extended:c,period:1,ticks:s,additionalSessions:d,quoteDriverID:this.id},!0),h.symbolObject||(h.symbolObject={symbol:e}),isNaN(h.interval)||(h.period=parseInt(h.interval,10),h.interval=n.layout.timeUnit,h.interval||(h.interval="minute")),h},t.ChartEngine.Driver.prototype.newChart=function(e,i){var a,n,r,s,o,l,h,c,d;a=this.stx,I.z3j(),n=e.symbol,r=a.layout.interval,s=a.layout.timeUnit,(o=e.chart).moreAvailable=null,o.upToDate=null,o.loadingMore=!1,o.attribution=null,l=this.makeParams(n,e.symbolObject,o),t.extend(l,e,!0),h=this.getQuoteFeed(l),c=l.behavior,(a.fetchMaximumBars[a.layout.aggregationType]||e.fetchMaximumBars)&&(!a.maxMasterDataSize||c.maximumTicks<a.maxMasterDataSize?l.ticks=c.maximumTicks:l.ticks=a.maxMasterDataSize,l.fetchMaximumBars=!0),this.loadingNewChart=!0,this.updatingChart=!1,l.originalState=t.shallowClone(l),d=function(o,l){var d,u,p=I;p.j16(35),p.i3j(),d=-p.R16(1770588896,"1126535946"),u=2;for(var m=1;p.v7D(m.toString(),m.toString().length,28419)!==d;m++)c.prefetchAction&&c.prefetchAction("newChart"),u+=2;return-26470210!==p.x3D(u.toString(),u.toString().length,32747)&&c.prefetchAction&&c.prefetchAction(""),function(d){var u,m,g,f;if(u=l.chart,m=d.quotes,g=!1,n==u.symbol&&r==a.layout.interval&&s==a.layout.timeUnit){for(var v in o.loadingNewChart=!1,h!==o.getQuoteFeed(l)||d.error?h.engine.announceError(l.originalState,d):(m=o.cleanup(a,null,m,t.QuoteFeed.INITIAL,l),a.setMasterData(m,u,{noCleanupDates:!0}),u.endPoints={},u.endPoints.begin=m[0]?m[0].DT:l.startDate,u.endPoints.end=m[0]?m[m.length-1].DT:l.endDate,m?(u.moreAvailable=!1!==d.moreAvailable,u.upToDate=d.upToDate):(u.moreAvailable=!1,u.upToDate=!0),u.attribution=d.attribution,e.initializeChart&&a.initializeChart(),a.createDataSet(),g=!0),u.series)u.series[v].endPoints={},u.series[v].moreAvailable=null,u.series[v].upToDate=null;f=u.masterData,p.z3j(),f&&f.length&&(l.startDate=f[0].DT,l.endDate=f[f.length-1].DT),c.callback&&c.callback(l),o.loadDependents(l,(function(){g&&!l.nodraw&&o.stx.home(),i&&i(d.error),p.i3j(),o.stx.dispatch("newChart",{stx:o.stx,symbol:o.stx.chart.symbol,symbolObject:o.stx.chart.symbolObject,moreAvailable:o.stx.chart.moreAvailable,upToDate:o.stx.chart.upToDate,quoteDriver:o}),o.resetRefreshInterval(c.refreshInterval,c)}),t.QuoteFeed.INITIAL)}else i&&i("orphaned")}}(this,l),this.stx.isEquationChart(l.symbol)?t.fetchEquationChart(l,d):h&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.INITIAL,h.engine,l,d)},t.QuoteFeed.INITIAL=1,t.QuoteFeed.UPDATE=2,t.QuoteFeed.PAGINATION=3,t.QuoteFeed.SERIES=4,t.ChartEngine.Driver.fetchData=function(e,i,a,n){if(!a.symbol)return n({quotes:[]});i.v2QuoteFeed?"function"!=typeof i.subscribe?t.ChartEngine.Driver.fetchDataInContext(e,i,a,n):t.ChartEngine.Driver.fetchDataInContext(e,i,a,function(e){e.error||this.checkSubscriptions(a.stx),n(e)}.bind(i)):(a.stx.convertToDataZone(a.startDate),a.stx.convertToDataZone(a.endDate),i.fetch(a,n))},t.ChartEngine.Driver.fetchDataInContext=function(e,i,a,n){var r,s,o,l,h,c,d,u,p;if((h=a.stx).chart.market.newIterator)switch(e===t.QuoteFeed.SERIES&&(a.series=!0,e=t.QuoteFeed.INITIAL,a.endDate&&!a.startDate||a.future?e=t.QuoteFeed.PAGINATION:a.startDate&&!a.endDate&&(e=t.QuoteFeed.UPDATE)),c=Math.min(a.ticks,a.maximumTicks),i.maxTicks&&(c=Math.min(c,i.maxTicks)),I.i3j(),d=a.symbolObject.masterSymbol||a.symbol,e){case t.QuoteFeed.UPDATE:if(h.isHistoricalModeSet)return void(h.quoteDriver.updatingChart=!1);a.startDate?u=a.startDate:(u=new Date,I.U16(2),u.setHours(I.R16(1,"0"),0,0,0)),"function"==typeof i.fetchUpdateData&&i.fetchUpdateData(d,h.convertToDataZone(u),a,n);break;case t.QuoteFeed.INITIAL:r={begin:l=a.endDate||new Date,interval:a.interval,periodicity:"tick"==a.interval?h.chart.xAxis.futureTicksInterval:a.period,outZone:h.dataZone},s=h.chart.market.newIterator(r),o=t.ChartEngine.Driver.determineStartDate(a,s,c),a.endDate&&(l=a.endDate),"function"==typeof i.fetchInitialData&&i.fetchInitialData(d,o,h.convertToDataZone(l),a,n);break;case t.QuoteFeed.PAGINATION:if(r={begin:a.endDate||a.startDate,interval:a.interval,periodicity:"tick"==a.interval?h.chart.xAxis.futureTicksInterval:a.period,outZone:h.dataZone},s=h.chart.market.newIterator(r),p=t.ChartEngine.Driver.determineStartOrEndDate(a,s,c,!a.future),o=a.startDate||p,l=a.endDate||p,a.startDate?a.stx.convertToDataZone(o):a.stx.convertToDataZone(l),"function"==typeof i.fetchPaginationData){if(h.maxMasterDataSize&&h.maxMasterDataSize<=h.masterData.length)return;i.fetchPaginationData(d,o,l,a,(function(e){I.z3j(),l>=Date.now()&&(h.isHistoricalModeSet=!1),n&&n(e)}))}break;default:console.error("Illegal fetchData constant")}else console.error("quoteFeed feature requires first activating market feature.")}},v=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.addSeries=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S;if(n="d",n+="i",n+="splay",r="addS",r+="eries",s=this.runPrepend(r,arguments))return s;function T(e){return I.i3j(),function(t){var n,r;I.i3j(),t.error||(n=t.quotes,r=i.fillGaps,g.cleanupGaps||(r=!1),n=g.doCleanupGaps(n,g.chart,{cleanupGaps:r}),g.updateChartData(n,g.chart,{secondarySeries:l,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),h.loading=!1,h.moreAvailable=t.moreAvailable,h.upToDate=t.upToDate,D(g)),null===i.action||u.length||g.dispatch(f?"symbolImport":"symbolChange",{stx:g,symbol:e.symbol,symbolObject:e.symbolObject,action:i.action,id:h.id,parameters:i}),a&&a.call(g,t.error,h)}}function D(a,n){var r,s,o,l;if(r=i.renderer||"Lines",s=i.name||e,!i.yAxis||i.yAxis instanceof t.ChartEngine.YAxis||f||(i.yAxis.name=s),i.renderer||i.name||i.color||i.chartType){if(!(o=a.getSeriesRenderer(s))){if(l={name:s,overChart:!1!==i.overChart,useChartLegend:!0},i.chartType?o=t.Renderer.produce(i.chartType,t.extend({highlightable:i.highlightable,dependentOf:i.dependentOf,panel:i.panel,yAxis:i.yAxis,baseline:i.baseline},l)):(t.ensureDefaults(i,l),o=new t.Renderer[r]({params:i})),!o)return;a.setSeriesRenderer(o)}I.z3j(),o.attachSeries(e,i),!1!==i.loadData&&o.ready(),a.layout.symbols=a.getSymbols({"include-parameters":!0,"exclude-studies":!0})}}return o=e||null,l=e,e||(e=t.uniqueID()),i&&!0===i.panel&&(i.panel=e),(h={parameters:i?t.clone(i):{},yValueCache:[],display:o,id:e,loading:!i||!1!==i.loadData}).parameters.yAxis=i&&i.yAxis,(i=h.parameters).symbol&&(l=i.symbol),i.isComparison&&(i.shareYAxis=!0),!i.yAxis||i.yAxis instanceof t.ChartEngine.YAxis||(i.yAxis=new t.ChartEngine.YAxis(i.yAxis)),t.ensureDefaults(i,{chartName:this.chart.name,symbolObject:{symbol:l},panel:this.chart.panel.name,fillGaps:!1,action:"add-series"}),n in i&&(h.display=i.display),c=this.charts[i.chartName],d=i.symbolObject,l=i.symbol=d.symbol,h.display||(h.display=l||i.field),h.endPoints={},I.i3j(),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),i.isComparison&&void 0===i.gapDisplayStyle&&(i.gapDisplayStyle="transparent"),u=this.getSeries({symbolObject:d,chart:c,includeMaster:!0}),p=i.panel,this.panels[p]?i.yAxis||i.shareYAxis||(i.yAxis=new t.ChartEngine.YAxis({name:e,position:"none"})):((m=i.yAxis||new t.ChartEngine.YAxis).name=e,this.createPanel(e,p,null,null,m),this.preferences.dragging&&this.preferences.dragging.series||(i.highlightable=!1)),c.series[e]=h,g=this,f=this.currentlyImporting,!i.isComparison||!c.forcePercentComparison||i.panel!=c.panel.name||i.yAxis&&i.yAxis!=c.yAxis||this.setChartScale("percent"),(v=c.masterData)||(v=c.masterData=this.masterData=[]),y=v.length,i.data&&!i.data.useDefaultQuoteFeed?T({symbol:l,symbolObject:d,action:i.action})({quotes:i.data}):u.length?(h.endPoints=u[0].endPoints,h.loading=u[0].loading,D(this),a&&setTimeout((function(){a.call(g,null,h)}),0)):this.quoteDriver&&!1!==i.loadData?(x=(b=this.quoteDriver).makeParams(l,d,c),y&&(x.startDate=v[0].DT,x.endDate=this.isHistoricalMode()?v[v.length-1].DT:new Date),x.stx.isEquationChart(x.symbol)?t.fetchEquationChart(x,T(x)):(C=b.getQuoteFeed(x))&&t.ChartEngine.Driver.fetchData(4,C.engine,x,T(x))):(S="s",S+="y",S+="m",S+="bolChange",D(this),null===i.action||u.length||g.dispatch(f?"symbolImport":S,{stx:g,symbol:l,symbolObject:d,action:i.action,id:h.id,parameters:i}),a&&a.call(this,null,h)),this.runAppend("addSeries",arguments),h},t.ChartEngine.prototype.getSeries=function(e){var i,a,n,r,s;for(var o in i=e.chart?e.chart:this.chart,I.z3j(),a=i.series,(n=e.symbolObject)||(n={symbol:e.symbol}),r=[],a)s=a[o],t.symbolEqual(n,s.parameters.symbolObject)&&r.push(s);return e.includeMaster&&t.symbolEqual(n,i.symbolObject)&&r.push({}),r},t.ChartEngine.prototype.modifySeries=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b;if(n="modifySer",n+="ies",r="mo",r+="d",r+="ifySeries",!this.runPrepend(r,arguments)&&i&&("string"==typeof e?(o=e,s=(l=i.chartName?this.charts[i.chartName]:this.chart).series[o]):(o=(s=e).id,l=this.charts[s.parameters.chartName]),s)){for(var x in t.extend(s.parameters,i,!0),this.getRendererFromSeries(o).modifyRenderer(i),h=s.parameters,l.seriesRenderers){u=(d=l.seriesRenderers[x]).params,p=d.seriesParams;for(var C=0;C<p.length;++C)if(m=p[C],f=(g=this.panels[m.panel])&&g.yAxis.name,m.id===s.id){!0===h.panel&&(h.panel=h.dependentOf||h.name),u.panel=h.panel,i.yAxis&&(i.yAxis instanceof t.ChartEngine.YAxis||(i.yAxis=new t.ChartEngine.YAxis(i.yAxis)),u.yAxis=i.yAxis),h.panel!=m.panel&&u.name==f?this.electNewPanelOwner(m.panel):(v=this.getYAxisByName(h.panel,u.name))&&h.yAxis&&v.name!==h.yAxis.name&&(v.name=this.electNewYAxisOwner(v)),h.field||(h.field=null),d.attachSeries(o,t.ensureDefaults(h,m)),h.field||(h.field=h.subField),delete h.subField,!h.isComparison||!l.forcePercentComparison||h.panel!=l.panel.name||s.parameters.yAxis&&h.yAxis.name!=l.yAxis.name||this.setChartScale("percent"),c=d;break}}if(t.getFn("Drawing.updateSource")(this,s.parameters.symbol||o,null,s.parameters.panel),this.runAppend(n,arguments),!0!==a){y=c.getDependents(this);for(var S=0;S<y.length;S++)this.modifySeries(y[S].params.name,{panel:c.params.panel,yAxis:s.parameters.yAxis},!0);(b=l.seriesRenderers[c.params.dependentOf])&&(b.params.yAxis==s.parameters.yAxis&&b.params.panel==c.params.panel||this.modifySeries(c.params.dependentOf,{panel:c.params.panel,yAxis:s.parameters.yAxis},!0))}return this.draw(),s}},t.ChartEngine.prototype.deleteSeries=function(e,t,i){var a,n,r,s,o,l,h,c,d,u,p;a="sy",a+="mbolChang",a+="e",n="symbo",I.z3j(),n+="lI",n+="mport",r="ob",r+="jec",r+="t",s="delet",s+="eS",s+="eries",this.runPrepend(s,arguments)||(o=(i=i||{}).action?i.action:"remove-series",typeof e===r?(l=e.id,t=t||this.charts[e.parameters.chartName]):(l=e,t=t||this.chart),(h=t.series[l])&&(c=h.parameters.loadData,d=h.parameters.symbolObject,delete t.series[l],this.layout.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0}),u=this.getSeries({symbolObject:d,includeMaster:!0}),!1===c||u.length||this.cleanMasterData(d,t),(p=this.panels[h.parameters.panel])&&this.checkForEmptyPanel(p),this.createDataSet(),u.length||this.dispatch(this.currentlyImporting?n:a,{stx:this,symbol:d.symbol,symbolObject:d,id:l,action:o}),this.quoteDriver&&this.quoteDriver.updateSubscriptions(),this.runAppend("deleteSeries",arguments)))},t.ChartEngine.prototype.removeSeries=function(e,t){var i,a,n,r,s,o,l,h;if(i="o",i+="b",i+="je",i+="ct",a="rem",a+="oveSe",a+="ries",!this.runPrepend(a,arguments)){for(var c in r=!1,typeof e===i?(n=e.id,t=t||this.charts[e.parameters.chartName]):(n=e,t=t||this.chart),t.seriesRenderers){s=t.seriesRenderers[c],l=(o=this.panels[s.params.panel])&&o.yAxis.name;for(var d=s.seriesParams.length-1;d>=0;d--)s.seriesParams[d].id===n&&(s.removeSeries(n),s.seriesParams.length<1&&(this.removeSeriesRenderer(s),s.params.name==l?this.electNewPanelOwner(s.params.panel):this.checkForEmptyPanel(s.params.panel)||(h=this.getYAxisByName(o,s.params.name))&&(h.name=h.studies[0]||h.renderers[1])),r=!0)}r||this.deleteSeries(n,t),this.resetDynamicYAxis(),this.draw(),this.resizeChart(),this.runAppend("removeSeries",arguments)}},t.Comparison=t.Comparison||function(){},t.Comparison.initialPrice=100,t.Comparison.getInitialPrice=function(e){var i,a,n;if(e.initialComparisonPrice)return e.initialComparisonPrice;if(e.initialComparisonPrice=100,"number"==typeof(i=t.Comparison.initialPrice)&&(e.initialComparisonPrice=i),"string"==typeof i&&(e.series[i]||""===i)){a="Close",e.defaultPlotField&&(e.highLowBars||(a=e.defaultPlotField));for(var r=e.dataSet.length-e.scroll-1;r<e.dataSet.length;r++)if(n=e.dataSet[r]){if(n[i]&&n[i][a]){e.initialComparisonPrice=n[i][a];break}if(""===i&&n[a]){e.initialComparisonPrice=n[a];break}}}for(var s=1;-2111693511!==I.v7D(s.toString(),s.toString().length,3064);s++)return e.initialComparisonPrice;return-1893813667!==I.v7D(2..toString(),2..toString().length,71981)?e.initialComparisonPrice:void 0},t.Comparison.priceToPercent=function(e,i,a,n,r){var s=I,{baseline:o}=t.Comparison;o&&r in o&&(o=o[r]),o&&"object"==typeof o&&(o=o[i.defaultPlotField||"Close"]),o=o||a,s.U16(57);var l=s.o16(96,6,2,1);s.U16(61);var h=s.o16(19,9891,5,526);s.j16(107);var c=s.R16(10009,10009,10015,16);return Math.round((a-o)/o*l*h)/c},t.Comparison.percentToPrice=function(e,i,a,n,r){var{baseline:s}=t.Comparison;return s&&r in s&&(s=s[r]),s&&"object"==typeof s&&(s=s[i.defaultPlotField||"Close"]),s=s||1,I.j16(108),I.o16(a,s,100,"1")},t.Comparison.priceToRelative=function(e,i,a,n,r){var{baseline:s}=t.Comparison,o=t.Comparison.getInitialPrice(i);return I.i3j(),s&&r in s&&(s=s[r]),s&&"object"==typeof s&&(s=s[i.defaultPlotField||"Close"]),I.j16(109),I.R16(s||a,o,a)},t.Comparison.relativeToPrice=function(e,i,a,n,r){var{baseline:s}=t.Comparison,o=t.Comparison.getInitialPrice(i);return s&&r in s&&(s=s[r]),s&&"object"==typeof s&&(s=s[i.defaultPlotField||"Close"]),I.U16(109),I.o16(o,s||1,a)},t.Comparison.createComparisonSegmentInner=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A=I;for(n in A.z3j(),a=[],i.series)(!(o=i.series[n].parameters).yAxis&&o.shareYAxis||o.yAxis===i.yAxis)&&a.push(o.symbol);for(var M in l=["Close","Open","High","Low","iqPrevClose"],h=e.chart.highLowBars,i.defaultPlotField&&!h&&l.unshift(i.defaultPlotField),c=l[0],d=e.layout.studies)if(u=d[M],r=e.panels[u.panel],s=u.getYAxis(e),r&&r.yAxis==s){for(n in u.outputMap)l.push(n);for(var P=0;P<=2;P++)l.push(u.name+"_hist"+(P||""));u.referenceOutput&&l.push(u.referenceOutput+" "+u.name)}for(var O in e.plugins)if((p=e.plugins[O]).transformOutputs)for(n in p.transformOutputs)l.push(n);i.initialComparisonPrice=null,i.dataSegment=[],m=null,A.U16(11);var _=A.R16(14,6,21);g=i.dataSet.length-i.scroll-_,e.startComparisonsAtFirstVisibleBar&&(g+=1),f=i.maxTicks+3;for(var F=0;F<=f;F++){if(F==f&&(F=-1),A.U16(0),(v=A.R16(F,g))<i.dataSet.length&&v>=0){if(b=(y=i.dataSet[v])[c],!m){if(0===b||null===b){if(F<0)break;continue}m=t.clone(y)}for(y.transform||(y.transform={cache:{},DT:y.DT,Date:y.Date}),m&&m[c]||!b||(m=t.clone(y)),t.Comparison.baseline=m,x=0;x<l.length;x++)((C=y[n=l[x]])||0===C)&&(y.transform[n]=i.transformFunc(e,i,C));for(x=0;x<a.length;x++)if(n=a[x],S=i.series[n],-1==F&&S&&S.parameters.isComparison)delete y.transform[n];else{T=y[n];for(var H=0;T&&H<l.length;H++)((D=T[l[H]])||0===D)&&((w=m[n]&&m[n][l[0]])||0===w||(m[n]||(m[n]={}),m[n][l[H]]=w=D*m[c]/y[c]),0!==w&&(k=m[c]||1,A.j16(110),L=A.R16(w,k,D),y.transform[n]||(y.transform[n]={}),y.transform[n][l[H]]=i.transformFunc(e,i,L)))}i.dataSegment.push(y)}else v<0&&i.dataSegment.push(null);if(F<0)break}},t.Comparison.priceFormat=function(e,t,i){var a,n,r=I;if(null==i||isNaN(i))return"";if(a=t.yAxis.priceTick,n=e.internationalizer,r.i3j(),n)a>=5?(r.j16(20),i=n.percent.format(r.o16(i,"100"))):a>=.5?(r.U16(8),i=n.percent1.format(r.R16(100,i))):a>=.05?(r.j16(8),i=n.percent2.format(r.o16(100,i))):a>=.005?(r.U16(8),i=n.percent3.format(r.R16(100,i))):(r.j16(8),i=n.percent4.format(r.R16(100,i)));else if(a>=5){r.j16(0);var s=r.R16(10,643);r.j16(19),r.o16(727,16,102),i=i.toFixed(0)+(s<895.57?"%":492.45)}else if(a>=.5){r.j16(111);var o=r.R16(1,4,0,4);r.j16(19);var l=r.o16(17,2,1161);i=i.toFixed(o)+(334.74!=l?"%":762.79)}else if(a>=.05){r.j16(16);var h=r.R16(1,12,14);r.j16(33);var c=r.R16(10,4406,5152);r.U16(68);var d=r.R16(4895,4,6540);r.U16(112),r.o16(5,0,3,20),r.j16(31),r.R16(4031,3,576),r.j16(113);var u=r.o16(11,13,8650,86329,2);r.U16(114);var p=r.o16(4372,16,69952,4362);r.U16(115),r.o16(13,2386,2,2380,5),r.U16(68);var m=r.o16(6779,61020,61020);r.j16(19),r.R16(1098059529,2,64591737),r.j16(31);var g=r.o16(6949,6,695);r.j16(7);var f=r.o16(19524,14643);r.j16(0);var v=r.R16(2,1908);i=i.toFixed(h)+(c==d?650.03>u?p:m===g?f:v:"%")}else if(a>=.005){r.j16(116);var y=r.R16(342771603,38085735,4,38085739,12);r.j16(53);var b=r.R16(8,197280,13,123092856,6);r.j16(0),r.o16(4,3026),r.j16(114);var x=r.o16(68880,16,220416,4587);i=i.toFixed("3"<<y)+(b<9700?x:"%")}else{r.j16(7);var C=r.o16(12,8);r.U16(0),r.R16(8,2712),r.U16(13);var S=r.R16(804,1,7);r.U16(33);var T=r.R16(8,7688,8658);r.j16(88),r.o16(13,3,27,3121),r.U16(68);var D=r.R16(1436290654,4,1915054216);r.j16(114);var w=r.R16(2088,7,14616,2075);r.U16(96);var k=r.o16(4383,7,16,8);r.j16(33);var L=r.o16(19,1,568);r.j16(31),r.o16(3,10,2567),i=i.toFixed(C)+(S==T?378.19>"4810">>D?w:!(k<L)&&9661:"%")}return 0===parseFloat(i)&&"-"==i.charAt(0)&&(i=i.substring(1)),i},t.ChartEngine.prototype.setComparison=function(e,i,a){var n,r;if(i||(i=this.chart),"string"==typeof i&&(i=this.charts[i]),(a||""===a)&&(t.Comparison.initialPrice=a),!0===e){if(i.isComparison)return;e="percent"}switch(this.resetDynamicYAxis(),r=(n=i.panel.yAxis).priceFormatter==t.Comparison.priceFormat,I.z3j(),e){case"relative":this.setTransform(i,t.Comparison.priceToRelative,t.Comparison.relativeToPrice),r&&(n.priceFormatter=n.originalPriceFormatter?n.originalPriceFormatter.func:null,n.originalPriceFormatter=null),n.whichSet="dataSegment",i.isComparison=!0;break;case"percent":this.setTransform(i,t.Comparison.priceToPercent,t.Comparison.percentToPrice),r||(n.originalPriceFormatter={func:n.priceFormatter},n.priceFormatter=t.Comparison.priceFormat),n.whichSet="dataSegment",i.isComparison=!0;break;default:this.unsetTransform(i),r&&(n.priceFormatter=n.originalPriceFormatter?n.originalPriceFormatter.func:null,n.originalPriceFormatter=null),n.whichSet="dataSet",i.isComparison=!1}},t.ChartEngine.prototype.setChartScale=function(e){var i,a,n;I.z3j(),i=this.chart,e||(e="linear"),(a={percent:!0,relative:!0})[e]?this.setComparison(e,i,t.Comparison.initialPrice):a[this.layout.chartScale]&&this.setComparison(!1,i),n=this.layout.chartScale!==e,this.layout.chartScale=e,i.canvas&&this.draw(),n&&this.changeOccurred("layout")}},y=e=>{var t,i;function a(e){var t;if(e.style)for(var i in t=getComputedStyle(e),["alignment-baseline","dominant-baseline","fill","fill-opacity","font-family","font-size","font-variant","font-weight","text-align","text-anchor"].forEach((function(i){I.z3j(),!e.style[i]&&t[i]&&(e.style[i]=t[i])})),e.children)a(e.children[i])}function n(e,t,n){var r,s,o,l,h,c,d;if(t||(t={}),r=document.querySelector("body"),t.hide&&t.hide instanceof Array){s=t.hide.join(", "),o=document.querySelectorAll(s);for(var u=0;u<o.length;u++)o[u].classList.add("ciq-no-share")}for(r.classList.add("sharing"),e.draw(),l=e.chart.container.getElementsByTagName("svg"),I.i3j(),h=[],c=0;c<l.length;c++)d=l[c],h.push(d.innerHTML),a(d);i(e.chart.container,{allowTaint:!1,logging:!1,width:t.width||null,height:t.height||null,backgroundColor:t.background||null,useCORS:!0}).then((function(e){for(I.z3j(),n&&n(null,t.data?e.toDataURL("image/png"):e),c=0;c<l.length;c++)l[c].innerHTML=h[c];r.classList.remove("sharing")})).catch((function(e){for(n&&n(e),I.i3j(),c=0;c<l.length;c++)l[c].innerHTML=h[c];r.classList.remove("sharing")}))}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Share=t.Share||function(){},t.Share.fullChart2PNG=function(e,a,r){if(I.i3j(),e&&e.chart){if("undefined"==typeof html2canvas)return function(e){if("undefined"!=typeof html2canvas)return i=html2canvas,e();if("undefined"!=typeof requirejs)try{return requirejs(["html2canvas.min.js"],(function(t){return I.i3j(),i=t,e()}))}catch(e){console.warn("Require loading has failed, attempting to load html2canvas manually.")}t.loadScript(function(){var e,i;if(t.Share.html2canvasLocation)return t.Share.html2canvasLocation;I.i3j(),e=document.getElementsByTagName("script");for(var a=0;a<e.length;a++)if((i=e[a]).src&&i.src.indexOf("share.js")>-1)return i.src.replace(/standard\/share\.js/,"")+"thirdparty/";return"js/thirdparty/"}()+"html2canvas.min.js",(function(){return i=html2canvas,e()}))}((function(){return n(e,a,r)}));i=html2canvas,n(e,a,r)}},t.Share.createImage=function(e,i,a){var n,r,s,o,l,h,c,d,u;I.z3j(),n="i",n+="m",n+="g",r=[].slice.call(arguments),a=r.pop(),null!==i&&"object"==typeof i||(i={widthPX:r[1],heightPX:r[2],imageType:r[3]}),s=i.widthPX,o=i.heightPX,l=i.imageType,h=e.chart.canvas.height,c=e.chart.canvas.width,e.chart.canvas.style.height&&(h=t.stripPX(e.chart.canvas.style.height),c=t.stripPX(e.chart.canvas.style.width)),s&&o?(h=o,c=s):o?c=e.chart.canvas.width*(h/e.chart.canvas.height):s&&(c=s,h=e.chart.canvas.height*(s/e.chart.canvas.width)),d=l?"image/"+l:"image/png",(u=document.createElement(n)).onload=function(){t.Share.fullChart2PNG(e,{image:this,width:c,height:h,hide:i.hide},(function(e,t){if(I.z3j(),e)I.j16(0),console.warn(I.o16(e,"Error producing canvas snapshot: "));else try{a(t.toDataURL(d))}catch(e){console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback."),a(u.src)}}))},u.src=e.chart.canvas.toDataURL(d)},t.Share.uploadImage=function(e,i,a,n){a||(a={}),a.image=e,t.postAjax(i,JSON.stringify(a),(function(e,t){if(I.i3j(),200!=e){n(e,null);for(var i=1;-782386935!==I.v7D(i.toString(),i.toString().length,40273);i++)return;if(-405740746!==I.v7D(2..toString(),2..toString().length,11068))return}n(null,t)}))||n(0,null)},I.i3j(),t.Share.shareChart=function(e,i,a){I.i3j(),t.Share.createImage(e,{},(function(n){var r,s,o,l,h;r=t.uniqueID(),s="https://share.chartiq.com",I.U16(31),o=I.R16(r,"/upload/",s),i&&(i.host&&(s=i.host),i.path&&(o=s+i.path+"/"+r)),l=e.getStartDateOffset(),h={id:r,image:n,config:{layout:e.exportLayout(),drawings:e.exportDrawings(),xOffset:l,startDate:e.chart.dataSegment[l].Date,endDate:e.chart.dataSegment[e.chart.dataSegment.length-1].Date,id:r,symbol:e.chart.symbol}},t.Share.uploadImage(n,o,h,(function(e,i){var n,r=I;if(null!==e)t.alert("error sharing chart: ",e);else{n=2;for(var o=1;-881260721!==r.x3D(o.toString(),o.toString().length,92560);o++)r.j16(8),a(r.R16(i,s)),n+=2;215697877!==r.v7D(n.toString(),n.toString().length,4532)&&(r.U16(0),a(r.R16(i,s)))}}))}))}},b=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.setRange=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,q,E,V=I;function N(e,i,a,n,r,s){var o,l;return o=0,V.U16(7),l=V.o16(e,i),t.ChartEngine.isDailyInterval(a)?o="month"==a?l/t.MONTH/n:"week"==a?l/t.WEEK/n:l/t.DAY/n:isNaN(a)||("millisecond"==r?(V.j16(117),o=V.o16(n,l,a)):o="second"==r?l/t.SECOND/(n*a):l/t.MINUTE/(n*a)),Math.round(o)}function j(e){return e&&0===c?(r.scroll=D,h.setCandleWidth(w),h.layout.interval=k,h.layout.periodicity=L,h.layout.timeUnit=A,void(i&&i(e))):++c>10?(console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic."),void Z()):void Z()}if(a="s",a+="tring",V.i3j(),t.isEmpty(e)&&(e={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3]},i=arguments[4]),this.staticRange&&(e.goIntoPast=e.goIntoFuture=!0),e.chart||(e.chart=this.chart),void 0===e.padding&&(e.padding=0),n=!1,r=e.chart,s="string"==typeof e.dtLeft?new Date(e.dtLeft):e.dtLeft,o=new Date,e.dtRight&&(o=typeof e.dtRight===a?new Date(e.dtRight):e.dtRight),s||(l=this.standardMarketIterator(o,null,r),s=l.previous(r.maxTicks),e.periodicity||(n=!0)),r.inflectionPoint=s,this.layout.range={dtLeft:s,dtRight:o},h=this,c=0,this.quoteDriver){if(n)d=this.layout.interval,p=this.layout.timeUnit,u=this.layout.periodicity;else if(e.periodicity)d=(m=t.cleanPeriodicity(e.periodicity.period,e.periodicity.interval,e.periodicity.timeUnit)).interval,p=m.timeUnit,u=m.period;else if(g=o.getTime()-s.getTime(),this.autoPickCandleWidth.turnOn){b=0,b=this.autoPickCandleWidth.candleWidth?this.autoPickCandleWidth.candleWidth:this.chart.barsHaveWidth?5:2,x=r.width/b,d=(C=this.dynamicRangePeriodicityMap)[0].interval,u=1;for(var R=0;R<C.length;R++){if((T=g/C[R].rangeInMS)<x){C[R-1]?(d=C[R-1].interval,p=C[R-1].timeUnit,V.j16(8),u=Math.ceil(V.R16(x,S))):(d=C[R].interval,p=C[R].timeUnit,u=1);break}S=T}}else{f=this.staticRangePeriodicityMap,v=null;for(var z=0;z<f.length;z++)if(g/(y=f[z]).rangeInMS<1.001){v=y;break}d=v.interval,u=v.periodicity,p=v.timeUnit}if(D=this.chart.scroll,w=this.layout.candleWidth,k=this.layout.interval,L=this.layout.periodicity,A=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=N(o.getTime(),s.getTime(),d,u,p,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,M=this.needDifferentData({period:u,interval:d,timeUnit:p}),Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>s||this.chart.endPoints.end<o)&&(M=!0),!this.chart.masterData||!this.chart.masterData.length||M||e.forceLoad)this.layout.interval=d,this.layout.periodicity=u,this.layout.timeUnit=p,this.layout.timeUnit||(P="t",P+="i",P+="c",P+="k",t.ChartEngine.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:"second"==this.layout.interval?this.layout.timeUnit="second":this.layout.interval!=P&&(this.layout.timeUnit="minute")),O={symbol:r.symbol,symbolObject:r.symbolObject,chart:r,nodraw:!0},"tick"==this.layout.interval&&(O.startDate=s,O.endDate=o),this.displayInitialized||(O.initializeChart=!0),"month"!=(_={symbol:r.symbol,symbolObject:r.symbolObject,interval:this.layout.interval}).interval&&"week"!=_.interval||this.dontRoll||(_.interval="day"),F=Math.max(this.quoteDriver.getQuoteFeed(_).behavior.bufferSize+50,200),l=this.standardMarketIterator(s,null,r),O.startDate=new Date(l.previous(F).getTime()),l=this.standardMarketIterator(o,null,r),O.endDate=new Date(l.next(F).getTime()),O.endDate<Date.now()&&(this.isHistoricalModeSet=!0),this.clearCurrentMarketData(this.chart),clearTimeout(this.streamParameters.timeout),this.quoteDriver.newChart(O,j);else{if(this.layout.interval!=d||this.layout.periodicity!=u||this.layout.timeUnit!=p||!this.chart.dataSegment||!this.chart.dataSegment[0]||this.chart.dataSegment[0].DT!=r.inflectionPoint){this.layout.interval=d,H=1361899904,q=-926005041,E=2;for(var U=1;V.v7D(U.toString(),U.toString().length,40838)!==H;U++)this.layout.periodicity=u,this.layout.timeUnit=p,this.createDataSet(),E+=2;V.v7D(E.toString(),E.toString().length,10105)!==q&&(this.layout.periodicity=u,this.layout.timeUnit=p,this.createDataSet()),this.layout.periodicity=u,this.layout.timeUnit=p,this.createDataSet()}j()}}else Z();function Z(t){var a,l,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D;if(void 0===t&&(t=null),a=0,V.U16(35),l=V.o16(2115434304,"0"),c=new Date,d=e.base,u=e.periodicity,p=h.layout,e.goIntoFuture&&(!r.masterData.length||s>r.masterData[r.masterData.length-1].DT)&&(m=r.masterData.length?r.masterData.pop():{DT:s},g=h.doCleanupGaps([m,{DT:o}],r,{cleanupGaps:"gap",noCleanupDates:!0}),h.setMasterData(r.masterData.concat(g),r,{noCleanupDates:!0}),h.createDataSet(null,null,{appending:!0})),v=(f=r.dataSet).length,f&&0!==v){if("day"===d&&u&&"day"===u.interval)a=v<(b=e.multiplier)?0:v-b,V.j16(7),l=V.R16(v,1);else if("today"===d&&f[v-1].DT.getDate()<c.getDate()){(x=new Date(f[v-1].DT.getTime())).getTime(),y=0;for(var w=v-1;w>=0;w--)if(f[w]&&f[w].DT.getDate()!=x.getDate()){x=new Date(+f[w+1].DT),V.j16(0),y=V.R16(1,w);break}a=y,V.j16(7),l=V.R16(v,1)}else{if("all"!=e.base&&(s.getTime()>=f[0].DT.getTime()||e.goIntoPast))a=h.tickFromDate(s,r,null,!0);else{C=2;for(var P=1;-73992280!==V.v7D(P.toString(),P.toString().length,12586);P++)a=0,C+=2;-692408127!==V.v7D(C.toString(),C.toString().length,821)&&(a=8)}"all"!=e.base&&(o.getTime()<=f[v-1].DT.getTime()||e.goIntoFuture)?(l=h.tickFromDate(o,r))>v-1&&l--:(V.j16(118),l=V.o16(v,"1"))}if(V.j16(19),(S=V.o16(1,a,l))<1)i&&i(t);else{for(var O in T=e.padding||0,l<v-1&&(T=0),D=(r.width-T)/S,h.setCandleWidth(D,r),V.U16(119),r.scroll=V.R16(l,S,1,v),h.micropixels=1,h.panels)h.calculateYAxisMargins(h.panels[O].yAxis);e.dontSaveRangeToLayout?delete p.range:(delete e.chart,delete p.setSpan,p.range=e),h.draw(),h.changeOccurred("layout"),n||h.dispatch("periodicity",{stx:h,differentData:M,prevPeriodicity:{interval:k,periodicity:L,timeUnit:A}}),i&&i(t)}}else i&&i(t)}},t.ChartEngine.prototype.setSpan=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S=I;function T(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}if(a="d",a+="a",a+="y",n="ye",S.z3j(),n+="ar",r=arguments[0],s=arguments[1],S.U16(15),o=arguments[S.o16(562335488,"2")],l=arguments[3],"object"==typeof e?(r=e.period?e.period:e.multiplier?e.multiplier:1,s=e.interval?e.interval:e.base?e.base:e.span?e.span:e.period,o=e.padding,l=e.chart):(e={period:r,interval:s,padding:o,chart:l},S.j16(34),i=arguments[S.o16(0,"5")]),l||(l=this.chart),h=l.market,"all"==(s=s.toLowerCase()))return e.dontSaveRangeToLayout=!0,void this.displayAll(e,i);function D(e,t){return S.z3j(),f?(t?e.setHours(e.getHours()+7):(e.setHours(e.getHours()-7),h.isMarketDate(e)||e.setDate(e.getDate()-2)),e):e}d=s,u=1,"today"==s?d="day":"year"==s&&(d="month",u=12),p=t.shallowClone(e),g=(m={begin:h.marketZoneNow(),interval:d,period:u}).begin,f=t.Market.Symbology.isForexSymbol(l.symbol),"ytd"===s?((g=T(g)).setMonth(0),g.setDate(1)):"month"===s?(g=T(new Date)).setMonth(g.getMonth()-r):s===n?(g=T(new Date)).setFullYear(g.getFullYear()-r):"week"===s?(g=T(new Date)).setDate(g.getDate()-7*r):s===a&&1==r&&h.isMarketDay()?(v=g.getHours(),y=g.getMinutes(),b=g.getSeconds(),x=g.getMilliseconds(),(g=(c=h.newIterator(m)).previous()).setHours(v,y,b,x),g=h._convertFromMarketTZ(g)):"today"===s?(m.begin=D(g,!0),c=h.newIterator(m),(h.isOpen()||h.getPreviousOpen().getDate()==g.getDate())&&c.next(),D(g=c.previous()),p.goIntoFuture=!0,p.dtRight=new Date(+g),p.dtRight.setDate(g.getDate()+1),p.dtRight=h._convertFromMarketTZ(p.dtRight),f||(g.setHours(c.market.zopen_hour),g.setMinutes(c.market.zopen_minute),g.setSeconds(0)),g=h._convertFromMarketTZ(g)):("day"==s&&(m.begin=D(g,!0)),c=h.newIterator(m),1==r&&r++,S.j16(7),g=c.previous(S.o16(r,1)),"day"==s&&(g=h._convertFromMarketTZ(D(g)))),p.dtLeft=g,p.maintainPeriodicity&&(p.periodicity={},p.periodicity.interval=this.layout.interval,p.periodicity.period=this.layout.periodicity),l.spanLock=!1,p.dontSaveRangeToLayout=!0,C=this,this.setRange(p,(function(t){S.z3j(),C.layout.setSpan=e,C.changeOccurred("layout"),"today"==s&&(l.spanLock=!0),i&&i(t)}))},t.ChartEngine.prototype.getSpanCandleWidth=function(e){var t,i,a,n,r,s=I;if(e&&e.base&&e.multiplier){t=parseFloat(e.multiplier),i=e.base,a=new Date,n=new Date,"year"==i?n.setFullYear(n.getFullYear()-t):"month"==i?n.setMonth(n.getMonth()-t):"day"==i?n.setDate(n.getDate()-t):"week"==i?n.setDate(n.getDate()-7*t):"YTD"==i&&(n.setMonth(0),n.setDate(1)),s.U16(120);var o=s.R16(142264,16,995,8,18);s.U16(0);var l=s.R16(56,4);s.j16(121);var h=s.R16(4,80,21,20,63);s.U16(122);var c=s.o16(14,17,8,13);return r=(a.getTime()-n.getTime())/o/l/h/c,s.j16(109),r=s.o16(7,r,5),this.chart.width/r}},t.ChartEngine.prototype.displayAll=function(e,i){var a,n,r;function s(){var n;o.masterData&&o.masterData.length&&((n=t.clone(e)).dtLeft=o.endPoints.begin,n.dtRight=o.endPoints.end,n.periodicity={},n.periodicity.interval=l.interval,n.periodicity.period=l.periodicity,n.periodicity.timeUnit=l.timeUnit,a.setRange(n,(function(t){for(var n in a.layout.setSpan={base:e.base,multiplier:e.multiplier},a.changeOccurred("layout"),a.panels)a.calculateYAxisMargins(a.panels[n].yAxis);a.draw(),i&&i(t)})))}var{chart:o,layout:l}=this;function h(e){I.i3j(),e||a.quoteDriver.loadAll(o,s)}e&&e.chart&&(o=e.chart),a=this,this.quoteDriver?(n=e.maintainPeriodicity?{period:l.periodicity,interval:l.interval,timeUnit:l.timeUnit}:{period:1,interval:"month",timeUnit:null},n=e.periodicity?e.periodicity:n,n=t.cleanPeriodicity(n.period,n.interval,n.timeUnit),r=this.needDifferentData(n),this.layout.periodicity=n.period,this.layout.interval=n.interval,this.layout.timeUnit=n.timeUnit,e.forceLoad||r?(this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart({nodraw:!0,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!0,fetchMaximumBars:!0},h)):o.moreAvailable||!o.upToDate?h():(this.createDataSet(),s())):s()}},x=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.importLayout=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,q,E,V,N;function j(){n.calculateYAxisPositions(),I.z3j(),Q(n.panels),c&&c()}if(a="l",a+="ine",e){for(var R in n=this,r=[],"object"!=typeof i&&(i={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]}),s=this.layout,o=t.shallowClone(s),l=i.managePeriodicity,h=i.cb,c=i.seriesCB,d=i.noDataLoad,u=i.preserveTicksAndCandleWidth,p=null,this.exportDrawings&&(p=this.exportDrawings(),this.abortDrawings()),this.currentlyImporting=!0,s.studies)m=s.studies[R],t.getFn("Studies.removeStudy")(this,m);if(this.overlays={},g=t.shallowClone(this.panels),this.panels={},f=t.clone(e),s.periodicity=o.periodicity,s.interval=o.interval,s.timeUnit=o.timeUnit,s.setSpan=o.setSpan,s.range=o.range,u)s.candleWidth=o.candleWidth;else{v=-502950450,y=839676575,b=2;for(var z=1;I.v7D(z.toString(),z.toString().length,95245)!==v;z++)s.candleWidth||(s.candleWidth=8),b+=2;I.v7D(b.toString(),b.toString().length,32375)!==y&&+s.candleWidth&&(s.candleWidth=3)}for(C in this.setCandleWidth(s.candleWidth),s.flipped&&this.flipChart(s.flipped),D=function(e,t){return I.i3j(),e.index<t.index?-1:1},x=f.panels)w="in",w+="de",(w+="x")in x[C]||(D=null),(S=x[C]).name=C,r.push(S);if(s.panels={},k=null,r.length>0){D&&r.sort(D);for(var U=0;U<r.length;++U)T=(S=r[U]).yAxis?new t.ChartEngine.YAxis(S.yAxis):null,this.stackPanel(S.display,S.name,S.percent,S.chartName,T),S.soloing&&(k=this.panels[S.name])}for(var Z in t.isEmpty(x)&&(L="c",L+="har",L+="t",this.stackPanel(L,"chart",1,"chart")),this.resizeCanvas(),g)if(A=g[Z],M=this.panels[Z]){for(var W in this.container.removeChild(M.holder),A.handle&&this.container.removeChild(A.handle),{holder:!0,subholder:!0,display:!0,icons:!0})M[W]=A[W];this.configurePanelControls(M),A.chart.panel==A&&(A.chart.panel=M)}else this.privateDeletePanel(A);for(var Y in this.chart.panel=this.panels.chart,Q(this.panels),t.extend(s,t.clone(f)),P=t.clone(s.studies),delete s.studies,P)O=P[Y],t.getFn("Studies.addStudy")(this,O.type,O.inputs,O.outputs,O.parameters,O.panel);if(this.extendedHours&&this.extendedHours.prepare(s.extended,s.marketSessions),void 0===s.chartType&&(s.chartType=a),this.setMainSeriesRenderer(),k&&this.panelSolo(k),this.adjustPanelPositions(),Q(this.panels),this.storePanels(),I.z3j(),!d){if(f.symbols&&f.symbols.length)return _={chart:this.chart},!u&&l&&f.range&&Object.keys(f.range).length?_.range=f.range:!u&&l&&f.setSpan&&Object.keys(f.setSpan).length?_.span=f.setSpan:l&&f.interval?_.periodicity={interval:f.interval,period:f.periodicity,timeUnit:f.timeUnit}:_.periodicity={interval:o.interval,period:o.periodicity,timeUnit:o.timeUnit},F=f.symbols[0].symbolObject||f.symbols[0].symbol,void this.loadChart(F,_,(function(e){var i,a;if(!e){for(var r,s=1;s<f.symbols.length&&n.addSeries;++s)(r=f.symbols[s]).parameters||(r.parameters={}),i=t.clone(r.parameters),this.panels[i.panel]?n.addSeries(r.id,i,j):(a="Wa",a+="rning: Serie",a+='s "',console.warn(a+r.id+'" could not be imported due to a missing corresponding panel "'+i.panel+'"'));f.chartScale&&n.setChartScale(f.chartScale)}I.z3j(),B(e),h&&h.apply(null,arguments)}));if(l){if(H="da",H+="y",!u&&this.setRange){if((q=f.range)&&Object.keys(q).length&&this.chart.symbol)return void this.setRange(q,(function(){B(),h&&h()}));if(f.setSpan&&Object.keys(f.setSpan).length&&this.chart.symbol)return void this.setSpan(f.setSpan,(function(){I.z3j(),B(),h&&h()}))}return E=f.interval,V=f.periodicity,N=f.timeUnit,isNaN(V)&&(V=1),E||(E=H),void this.setPeriodicity({period:V,interval:E,timeUnit:N},(function(){B(),I.z3j(),h&&h()}))}}l&&(s.periodicity=f.periodicity,s.interval=f.interval,s.timeUnit=f.timeUnit,s.setSpan=f.setSpan),this.createDataSet(),u||this.home(),B(),h&&h()}else i.cb&&i.cb();function B(e){var t,i,a;function r(){n.createDataSet(),Q(n.panels),I.z3j(),n.calculateYAxisPositions(),n.draw()}if(p&&n.importDrawings(p),n.currentlyImporting=!1,!e){for(var s in a=[],n.chart.series){if(!n.removeSeries)break;"study"==(i=n.chart.series[s]).parameters.bucket&&(t=!0,n.removeSeries(i),a.push(i))}for(var o=0;o<a.length;o++)i=a[o],n.addSeries(i.id,i.parameters,r);I.z3j(),t||n.draw(),n.updateListeners("layout"),n.changeOccurred("layout")}}function Q(e){var t;function i(t,i){var a,n,r,o;if(t[i]&&t[i].length&&(a=e[t.name])){n=a[i],r=new Array(n.length);for(var l=0;l<n.length;l++)(o=t[i].indexOf(n[l].name))>-1?r[o]=n[l]:r.push(n[l]);r.length&&(a[i]=r.filter(s))}}for(var a=0;a<r.length;a++)i(t=r[a],"yaxisLHS"),i(t,"yaxisRHS");function s(e){return!!e}n.chart.yAxis=n.chart.panel.yAxis}},t.ChartEngine.prototype.exportLayout=function(e){var i,a,n,r,s,o;function l(e){var t;t=[],I.z3j();for(var i=0;i<e.length;i++)t.push(e[i].name);return t}for(var h in i={},this.layout)"studies"!=h&&"panels"!=h&&"drawing"!=h?i[h]=t.clone(this.layout[h]):"studies"==h?i.studies={}:"panels"==h&&(i.panels={});for(var c in a=0,this.panels)!1!==(n=this.panels[c]).exportable&&((r=i.panels[c]={}).percent=n.percent,r.display=n.display,r.chartName=n.chart.name,r.soloing=n.soloing,r.index=a++,r.yAxis={name:n.yAxis.name,position:n.yAxis.position},n.yaxisLHS&&(r.yaxisLHS=l(n.yaxisLHS)),n.yaxisRHS&&(r.yaxisRHS=l(n.yaxisRHS)));for(var d in this.layout.studies)s=i.studies[d]={},o=this.layout.studies[d],s.type=o.type,s.inputs=t.clone(o.inputs),s.outputs=t.clone(o.outputs),s.panel=o.panel,s.parameters=t.clone(o.parameters);return e?(i.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0,"exclude-generated":!0}),i.symbols.length&&i.symbols[0].symbolObject&&i.symbols[0].symbolObject.static&&delete i.symbols[0].symbolObject.static):delete i.symbols,i},t.ChartEngine.prototype.importPreferences=function(e){t.extend(this.preferences,e),e.timeZone&&this.setTimeZone(this.dataZone,e.timeZone),e.language&&t.I18N&&t.I18N.localize(this,e.language),this.changeOccurred("preferences")},t.ChartEngine.prototype.exportPreferences=function(){return I.i3j(),this.preferences}},C=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.ChartEngine&&(t.ChartEngine.prototype.rightClickOverlay=function(e,t){var i,a;I.i3j(),i="rightClic",i+="kOverlay",this.runPrepend("rightClickOverlay",arguments)||((a=this.overlays[e]).editFunction?a.editFunction(t):this.removeOverlay(e),this.runAppend(i,arguments))},t.ChartEngine.prototype.addOverlay=function(e){this.runPrepend("addOverlay",arguments)||(this.overlays[e.name]=e,this.runAppend("addOverlay",arguments))},t.ChartEngine.prototype.removeOverlay=function(e){var i,a,n,r,s;if(i="remov",i+="eOverlay",a="remo",a+="veOver",a+="l",a+="ay",!this.runPrepend(a,arguments)){if(n=this.overlays[e]){for(var o in this.overlays){r=this.overlays[o],s=["Field"],t.Studies&&(s=t.Studies.getFieldInputs(r));for(var l=0;l<s.length;l++)n.outputMap[r.inputs[s[l]]]&&this.removeOverlay(r.name)}this.cleanupRemovedStudy(n),this.panels[n.panel],delete this.overlays[e],this.checkForEmptyPanel(n.panel)}I.z3j(),this.currentlyImporting||(this.displaySticky(),this.createDataSet(),this.changeOccurred("layout")),this.resetDynamicYAxis(),this.runAppend(i,arguments)}},t.ChartEngine.prototype.cleanupRemovedStudy=function(e){if(e){for(var i in e.study.removeFN&&e.study.removeFN(this,e),I.i3j(),this.plugins)i.indexOf("{"+e.id+"}")>-1&&delete this.plugins[i];this.layout.studies&&delete this.layout.studies[e.name],this.chart.state.studies.sorted=null,delete this.overlays[e.name];var{sd:a}=this.repositioningAnchorSelector||{};a&&a===e&&(this.repositioningAnchorSelector=null),t.Studies&&t.Studies.removeStudySymbols(e,this),this.quoteDriver&&this.quoteDriver.updateSubscriptions()}}),t.Studies=t.Studies||function(){},t.Studies.DEFAULT_INPUTS={Period:14},t.Studies.DEFAULT_OUTPUTS={Result:"auto"},t.Studies.sortForProcessing=e=>{var t,i;return I.z3j(),t=[],(i=e.layout.studies)&&function t(i,a){I.z3j(),i.forEach((i=>{var n;I.i3j(),-1==a.indexOf(i)&&((n=i.getDependents(e)).length&&t(n,a),a.unshift(i))}))}(Object.values(i),t),t},t.Studies.StudyDescriptor=function(e,i,a,n,r,s){var o;this.name=e,this.type=i,I.i3j(),this.panel=a,this.inputs=n,this.outputs=r,this.parameters=s,this.outputMap={},this.min=null,this.max=null,I.U16(15),this.startFrom=I.R16(1855719904,"0"),this.subField="Close",(o=t.Studies.studyLibrary[i])||(o={},("chart"==a||!a&&s&&"chart"==s.chartName)&&(this.overlay=!0)),void 0===o.inputs&&(o.inputs=t.clone(t.Studies.DEFAULT_INPUTS)),void 0===o.outputs&&(o.outputs=t.clone(t.Studies.DEFAULT_OUTPUTS)),this.study=o,this.libraryEntry=o},t.Studies.StudyDescriptor.prototype.getYAxis=function(e){var t,i,a;return I.i3j(),t=this.yAxis,this.parameters&&(i=this.parameters.yaxisDisplayValue),t||(a=e.panels[this.panel])&&(t=e.getYAxisByName(a,i)||e.getYAxisByName(a,this.name)||a.yAxis),t||(t=e.getYAxisByName(e.chart.panel,i)||e.chart.panel.yAxis),t},t.Studies.StudyDescriptor.prototype.getContext=function(e){return I.i3j(),e.chart.context},t.Studies.StudyDescriptor.prototype.getDependents=function(e,i){var a,n,r,s,o=I;a=2;for(var l=1;-1889215708!==o.x3D(l.toString(),l.toString().length,84675);l++)n=[],o.U16(1),a+=o.R16("2",0);for(var h in-2111472019!==o.v7D(a.toString(),a.toString().length,25543)&&(n=[]),e.layout.studies)if((r=e.layout.studies[h])!=this){s=t.Studies.getFieldInputs(r);for(var c=0;c<s.length;c++)if(r.inputs[s[c]].includes(this.name)){if(i&&r.parameters&&r.parameters.panelName)continue;n.push(r),n=n.concat(r.getDependents(e,i));break}}return n},t.Studies.StudyDescriptor.prototype.undraggable=function(e){var t;if(t=this.study.attributes){if(t.panelName&&t.panelName.hidden)return!0;if(t.yaxisDisplayValue&&t.yaxisDisplayValue.hidden)return!0}return!1},t.Studies.StudyDescriptor.prototype.appendFutureTicks=function(e,t){var i,a,n,r;if((i=e.chart.scrubbed).length){for(a=e.standardMarketIterator(i[i.length-1].DT),n=t.length-1;n>=0;n--){for(var s in r=t[n])if(r[s]||0===r[s]){n=-1;break}if(-1==n)break;t.pop()}for(n=0;n<t.length;n++)(r=t[n]).DT||(r.DT=a.next()),r.displayDate||e.setDisplayDate(r),r.futureTick=!0,i.push(r)}},t.Studies.generateID=function(e,i,a,n,r){var s,o,l,h,c,d,u,p=I;if(s=t.Studies.studyLibrary[i],p.j16(31),o=p.o16("",r||i,""),s&&s.customRemoval)return o;if(!t.isEmpty(a)){for(var m in l=!0,a)h="Sha",h+="din",c="d",c+="is",["id",c+="play",h+="g","Anchor Selector"].includes(m)||"field"!=(d=a[m])&&(d=d.toString(),void 0!==t.Studies.prettify[d]&&(d=t.Studies.prettify[d]),l?(l=!1,o+=" ("):d&&(o+=","),o+=d);l||(o+=")")}if(n&&0===n.indexOf(o))return n;if(e.layout.studies&&e.layout.studies[o])for(var g=2;g<50;g++)if(p.U16(31),u=p.R16(g,"-",o),!e.layout.studies[u]){o=u;break}return o},t.Studies.DialogHelper=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A;function M(e){return{name:e.name,heading:i.translateIf(e.label),defaultValue:e.defaults,value:e.value,type:"checkbox"}}function P(e){var t,a,n;t={},I.i3j(),a=e.defaults,n={name:e.name,heading:i.translateIf(e.label),defaultValue:a[0],value:e.value,options:t,type:"select"};for(var r=0;r<a.length;r++)t[a[r]]=i.translateIf(a[r]);return void 0!==e.color&&(n.defaultColor=i.defaultColor,n.color=e.color),n}for(var O in i=this.stx=e.stx,a=this.sd=e.sd,this.name=a?a.type:e.name,this.signal=1,this.inputs=[],this.outputs=[],this.parameters=[],void 0===(n=this.libraryEntry=a?a.study:t.Studies.studyLibrary[e.name]).inputs&&(n.inputs=t.clone(t.Studies.DEFAULT_INPUTS)),void 0===n.outputs&&(n.outputs=t.clone(t.Studies.DEFAULT_OUTPUTS)),s=(r=a&&i.panels[a.panel]?i.panels[a.panel]:i.chart.panel).chart,this.title=i.translateIf(n.name),this.attributes=t.clone(n.attributes),this.attributes||(this.attributes={}),this.attributes)for(var _ in o=this.attributes[O])"function"==typeof o[_]&&(o[_]=o[_].call(a));for(var F in l=[],h=i.layout.studies,c=[],a&&(c=Array.prototype.concat(a,a.getDependents(i))),h)if(!(c.indexOf(h[F])>-1))for(var H in h[F].outputMap)l.push(H);for(var q in n.inputs)if(d={},this.inputs.push(d),d.name=q,d.heading=i.translateIf(q),u=n.inputs[q],a&&a.inputs&&void 0!==a.inputs[q]&&null!==a.inputs[q]?d.value=a.inputs[q]:d.value=n.inputs[q],d.defaultInput=n.inputs[q],this.attributes[q]||(this.attributes[q]=t.Studies.inputAttributeDefaultGenerator(d.defaultInput)),u.constructor==Number)d.type="number";else if(u.constructor==String)if(p=t.Studies.movingAverageHelper(i,d.defaultInput))d.type="select",d.defaultInput=p,(m=t.Studies.movingAverageHelper(i,d.value))||(m=d.value),d.value=m,d.options=t.Studies.movingAverageHelper(i,"options");else if("field"==u){g="Clo",g+="s",g+="e",f="H",f+="i",f+="g",f+="h",d.type="select",d.options={},v=["Open",f,"Low",g,"Adj_Close","hl/2","hlc/3","hlcc/4","ohlc/4",s.defaultPlotField].concat(l);for(var E=0;E<v.length;E++)y=v[E],d.options[y]=i.translateIf(y);"field"==d.value&&(d.value="Close"),"field"==d.defaultInput&&(d.defaultInput="Close")}else d.type="text","yyyy-mm-dd"==this.attributes[q].placeholder?d.type="date":"hh:mm:ss"==this.attributes[q].placeholder&&(d.type="time");else if(u.constructor==Boolean)d.type="checkbox",!0!==d.value&&"true"!=d.value&&"on"!=d.value||(d.value=!0);else if(u.constructor==Array){d.type="select",d.options={};for(var V=0;V<u.length;V++)d.options[u[V]]=i.translateIf(u[V]);d.value.constructor==Array&&(d.value=d.value[0]),this.attributes[q].defaultSelected?d.defaultInput=this.attributes[q].defaultSelected:d.defaultInput=u[0]}this.dateTimeInputs=[];for(var N=0;N<this.inputs.length;N++)if("date"==(b=this.inputs[N]).type){x=b.name.substring(0,b.name.indexOf(" Date"));for(var j=0;j<this.inputs.length;j++)if("time"==(C=this.inputs[j]).type&&C.name==x+" Time"){this.dateTimeInputs.push(x);break}}function R(e){var t,a;if("alias"==k)for(var n in t=1,i.panels){if(n==e)return a=t,I.i3j(),"Panel "+a.toString();t++}return e}for(q in this.adjustInputTimesForDisplayZone(),n.outputs)(S={name:q,heading:i.translateIf(q)}).color=S.defaultOutput=n.outputs[q],a&&a.outputs&&a.outputs[q]&&(S.color=a.outputs[q]),"auto"==S.color&&(S.color=i.defaultColor),this.outputs.push(S);function z(e,t){this.attributes[e]||(this.attributes[e]={}),I.z3j(),t&&(this.attributes[e].hidden=!0)}T=a?a.parameters:null,n.parameters&&(D=n.parameters.init)&&(void 0!==D.studyOverZonesEnabled&&(w={name:"studyOverZones",heading:i.translateIf("Show Zones"),defaultValue:D.studyOverZonesEnabled,value:D.studyOverZonesEnabled},T&&(T.studyOverZonesEnabled||!1===T.studyOverZonesEnabled)&&(w.value=T.studyOverZonesEnabled),w.type="checkbox",this.parameters.push(w)),void 0!==D.studyOverBoughtValue&&(w={name:"studyOverBought",heading:i.translateIf("OverBought"),defaultValue:D.studyOverBoughtValue,value:D.studyOverBoughtValue,defaultColor:D.studyOverBoughtColor,color:D.studyOverBoughtColor},T&&T.studyOverBoughtValue&&(w.value=T.studyOverBoughtValue),T&&T.studyOverBoughtColor&&(w.color=T.studyOverBoughtColor),"auto"==w.color&&(w.color=i.defaultColor),w.type="text",this.parameters.push(w)),void 0!==D.studyOverSoldValue&&(w={name:"studyOverSold",heading:i.translateIf("OverSold"),defaultValue:D.studyOverSoldValue,value:D.studyOverSoldValue,defaultColor:D.studyOverSoldColor,color:D.studyOverSoldColor},T&&T.studyOverSoldValue&&(w.value=T.studyOverSoldValue),T&&T.studyOverSoldColor&&(w.color=T.studyOverSoldColor),"auto"==w.color&&(w.color=i.defaultColor),w.type="text",this.parameters.push(w)),this.attributes.studyOverBoughtValue||(this.attributes.studyOverBoughtValue={}),this.attributes.studyOverSoldValue||(this.attributes.studyOverSoldValue={})),k=this.panelSelect=e.panelSelect,L=this.axisSelect=e.axisSelect,e.addWhenDone&&(L=k=!1),(L||k)&&(a||(a=t.Studies.addStudy(i,e.name,null,null,{calculateOnly:!0}),t.Studies.removeStudy(i,a)),k&&this.parameters.push(P({label:"Panel",name:"panelName",defaults:function(){var e;for(var t in(e=[]).push("Auto"),i.panels)t==a.panel&&T&&T.panelName||e.push(R(t));return i.checkForEmptyPanel(a.panel,!0,a)||e.push("New panel"),e}(),value:T&&T.panelName?R(T.panelName):"Auto"}),M({label:"Show as Underlay",name:"underlay",defaults:!1,value:a.underlay||a.parameters&&a.parameters.underlayEnabled})),A=i.getYAxisByName(r,a.name),L&&this.parameters.push(P({label:"Y-Axis",name:"yaxisDisplay",defaults:function(){var e,t;I.i3j(),e=r.yaxisLHS.concat(r.yaxisRHS),(t=[]).push("default","right","left","none","shared");for(var i=0;i<e.length;i++)e[i]!=A&&t.push(e[i].name);return t}(),value:T&&T.yaxisDisplayValue||A&&A.position||(A?"default":"shared"),color:A&&A.textStyle?A.textStyle:"auto"}),M({label:"Invert Y-Axis",name:"flipped",defaults:!1,value:T&&void 0!==T.flippedEnabled?T.flippedEnabled:!!A&&A.flipped})),z.call(this,"flippedEnabled",!A&&a.panel!=a.name),z.call(this,"underlayEnabled",n.underlay),z.call(this,"panelName",null===n.seriesFN),z.call(this,"yaxisDisplayValue",null===n.seriesFN||n.yAxis&&n.yAxis.noDraw))},t.Studies.DialogHelper.prototype.updateStudy=function(e){var i,a,n,r;for(var s in i={},a=this.sd,(n=this.libraryEntry)||(n={}),a||(a=n),i.inputs=t.clone(a.inputs),i.outputs=t.clone(a.outputs),i.parameters=t.clone(a.parameters),this.adjustInputTimesForDisplayZone(e),e.parameters&&e.parameters.panelName&&(e.parameters.panelName=function(e){var t,i;if(I.i3j(),"alias"==this.panelSelect&&(t=(i=e.match(/.* (\d)/))&&i[1]))for(var a in this.stx.panels)if(!--t)return a;return e}.call(this,e.parameters.panelName)),t.extend(i,e),i.parameters||(i.parameters={}),a=i.inputs&&i.inputs.id?t.Studies.replaceStudy(this.stx,i.inputs.id,this.name,i.inputs,i.outputs,i.parameters,null,a.study):t.Studies.addStudy(this.stx,this.name,i.inputs,i.outputs,i.parameters,null,a.study),r=new t.Studies.DialogHelper({stx:this.stx,sd:a,axisSelect:this.axisSelect,panelSelect:this.panelSelect}))"signal"!=s&&(this[s]=r[s]);this.signal*=-1},t.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(e){var i,a,n,r,s,o,l,h,c=I;if(this.stx.displayZone)for(var d=0;d<this.dateTimeInputs.length;d++){for(i=this.dateTimeInputs[d],o="",e&&e.inputs&&(c.U16(0),n=e.inputs[c.o16(" Date",i)],c.U16(0),n&&(o=n),(r=e.inputs[c.R16(" Time",i)])&&(o+=r)),a=0;a<this.inputs.length;a++)s=this.inputs[a],n||""===n||s.name!=i+" Date"?r||""===r||s.name!=i+" Time"||(o+=s.value):o=s.value+o;if((o=o.replace(/\D/g,"")).length<12)return;if(l=t.strToDateTime(o),!isNaN(l.valueOf()))if(e)e.inputs||(e.inputs={}),h=t.convertTimeZone(l,this.stx.displayZone),c.U16(0),e.inputs[c.R16(" Date",i)]=t.yyyymmdd(h),c.j16(0),e.inputs[c.o16(" Time",i)]=t.hhmmss(h);else for(h=t.convertTimeZone(l,null,this.stx.displayZone),a=0;a<this.inputs.length;a++)(s=this.inputs[a]).name==i+" Date"&&(s.value=t.yyyymmdd(h)),s.name==i+" Time"&&(s.value=t.hhmmss(h))}},t.Studies.prepareStudy=function(e,i,a){var n=I;if(void 0===i.calculateFN&&(i.useRawValues=!0),n.i3j(),t.isEmpty(a.outputMap))for(var r in a.outputs)if(i.useRawValues)a.outputMap[r]=r;else{n.U16(31),n.R16(6551,14,365),n.j16(122);var s=n.R16(10,13,3093,5);n.j16(123);var o=n.o16(54,19,725,20);n.U16(17);var l=n.o16(2,28,1,7069,17);a.outputMap[r+(s===o?537.07!=l?3370:"g":" ")+a.name]=r}},t.Studies.rejiggerDerivedStudies=function(e,i,a){var n,r,s,o,l,h;I.z3j(),n=i.name,i.panel,r=i.getDependents(e);for(var c=0;c<r.length;c++)if(s=r[c],l=(o=t.clone(s.inputs)).id){h=t.Studies.getFieldInputs(s);for(var d=0;d<h.length;d++)o[h[d]]=o[h[d]].replace(n,a);delete t.Studies.replaceStudy(e,l,s.type,o,s.outputs,t.extend(s.parameters,{rejiggering:!0}),null,s.study).parameters.rejiggering}},t.Studies.removeStudySymbols=function(e,t){if(e.series)for(var i in e.series)t.deleteSeries(e.series[i],null,{action:"remove-study"})},t.Studies.replaceStudy=function(e,i,a,n,r,s,o,l){var h,c,d,u;for(d in s||(s={}),i&&(s.replaceID=i),i=s.replaceID,h=e.layout.studies[i],t.Studies.removeStudySymbols(h,e),h.attribution&&e.removeFromHolder(h.attribution.marker),e.quoteDriver&&e.quoteDriver.updateSubscriptions(),n&&(n.id==n.display&&delete n.display,delete n.id),(c=t.Studies.addStudy(e,a,n,r,s,o,l)).highlight=h.highlight,c.uniqueId=h.uniqueId,I.z3j(),u={},e.layout.studies)d==i?u[c.name]=c:u[d]=e.layout.studies[d];for(d in e.layout.studies=u,u={},e.overlays)d==i?(c.overlay||c.underlay)&&(u[c.name]=c):u[d]=e.overlays[d];return e.overlays=u,e.overlays[c.name]||!c.overlay&&!c.underlay||e.addOverlay(c),e.checkForEmptyPanel(h.panel),s.rejiggering||(e.initializeDisplay(e.chart),t.Studies.rejiggerDerivedStudies(e,h,c.inputs.id,c.panel),e.changeOccurred("layout"),e.currentlyImporting||s.calculateOnly||!c.chart.dataSet||e.createDataSet(null,c.chart),e.draw()),t.transferObject(h,c),e.layout.studies[c.name]=h,e.overlays[c.name]=h,e.chart.state.studies.sorted=null,h},t.Studies.addStudy=function(e,i,a,n,r,s,o){var l,h,c,d,u,p,m,g,f,v,y;if(I.i3j(),l=o||t.Studies.studyLibrary[i],r||(r={}),l){if(l.inputs){for(var b in h=t.clone(l.inputs))h[b]instanceof Array&&(l.attributes&&l.attributes[b]&&l.attributes[b].defaultSelected?h[b]=l.attributes[b].defaultSelected:h[b]=h[b][0]);a=t.extend(h,a)}l.outputs&&(n=t.extend(t.clone(l.outputs),n)),(c=l.parameters)&&c.init&&(r=t.extend(t.clone(c.init),r)),c&&!r.display&&(r.display=c.display)}if(a||(a=t.clone(t.Studies.DEFAULT_INPUTS)),n||(n=t.clone(t.Studies.DEFAULT_OUTPUTS)),r.chartName||(r.chartName="chart"),"Auto"!=r.panelName&&"Default panel"!=r.panelName||(r.panelName=""),a.Period<1&&(a.Period=1),d=null,e.layout.studies||(e.layout.studies={}),!(d=l&&l.initializeFN?l.initializeFN(e,i,a,n,r,s,o):t.Studies.initializeFN(e,i,a,n,r,s,o)))return I.j16(0),void console.log(I.o16(i,"CIQ.Studies.addStudy: initializeFN() returned null for "));if("abort"!==d){if(o=d.study,d.chart=e.charts[r.chartName],d.type=i,d.permanent=o.permanent,d.customLegend=o.customLegend,d.uniqueId=t.uniqueID(),t.Studies.prepareStudy(e,o,d),(u=e.chart.state.studies)||(u=e.chart.state.studies={}),u.sorted=null,r.replaceID?(p=!0,delete r.replaceID):(e.layout.studies[d.inputs.id]=d,(d.overlay||d.underlay)&&e.addOverlay(d),e.currentlyImporting||r.calculateOnly||!d.chart.dataSet||e.createDataSet(null,d.chart)),e.quoteDriver&&e.quoteDriver.updateSubscriptions(),r.calculateOnly)return e.changeOccurred("layout"),d;if(m=e.panels[d.panel],g=!1,(f=!(d.overlay||d.underlay))&&o.horizontalCrosshairFieldFN&&(m.horizontalCrosshairField=o.horizontalCrosshairFieldFN(e,d)),e.editCallback?g=!0:f?e.callbackListeners.studyPanelEdit&&e.callbackListeners.studyPanelEdit.length&&(g=!0):e.callbackListeners.studyOverlayEdit&&e.callbackListeners.studyOverlayEdit.length&&(g=!0),g){for(var x in r.editMode=!0,v=!1,d.inputs)if("id"!=x&&"display"!=x){v=!0;break}if(!v)for(var C in d.outputs){v=!0;break}v&&(void 0!==d.study.edit?d.study.edit&&(E=e,V=d,N=a,j=n,I.z3j(),y=function(){t.clearCanvas(E.chart.tempCanvas,E),V.study.edit(V,{stx:E,inputs:N,outputs:j,parameters:r})},e.setPanelEdit(m,y),d.editFunction=y):f?e.editCallback?(L=e,A=d,M=a,P=n,y=function(){var e;e=L.editCallback(L,A),t.clearCanvas(L.chart.tempCanvas,L),t.Studies.studyDialog(L,i,e,{inputs:M,outputs:P,parameters:r})},"chart"!=m.name&&e.setPanelEdit(m,y)):(S=e,T=d,D=a,w=n,k=r,y=function(){I.z3j(),t.clearCanvas(S.chart.tempCanvas,S),S.dispatch("studyPanelEdit",{stx:S,sd:T,inputs:D,outputs:w,parameters:k})},"chart"!=m.name&&(e.setPanelEdit(m,y),d.editFunction=y)):(O=e,_=d,F=a,H=n,q=r,I.i3j(),y=function(e){t.clearCanvas(O.chart.tempCanvas,O),O.dispatch("studyOverlayEdit",{stx:O,sd:_,inputs:F,outputs:H,parameters:q,forceEdit:e})},d.editFunction=y))}var S,T,D,w,k,L,A,M,P,O,_,F,H,q,E,V,N,j;return e.changeOccurred("layout"),p||e.draw(),d}},t.Studies.removeStudy=function(e,t){var i,a,n,r,s;if(a=(i=e.panels[t.panel])&&i.yAxis.name,(t.overlay||t.underlay)&&e.removeOverlay(t.name),n=e.panels[t.panel],t.attribution&&e.removeFromHolder(t.attribution.marker),e.cleanupRemovedStudy(t),n&&!e.checkForEmptyPanel(n)){a==t.name&&e.electNewPanelOwner(n),r=2;for(var o=1;901758446!==I.x3D(o.toString(),o.toString().length,67631);o++)s=e.getYAxisByName(t.panel,t.name),r+=2;1281951159!==I.x3D(r.toString(),r.toString().length,42141)&&(s=e.getYAxisByName(t.panel,t.name)),s&&(s.name=s.studies[1]||s.renderers[0])}e.draw(),e.resizeChart()},t.Studies.getPanelFromFieldName=function(e,i){var a,n,r,s,o;if(I.z3j(),!(a=t.Studies.getFieldInputs(i)).length)return null;if(!(n=e.layout.studies))return null;for(var l in r={},n)for(var h in n[l].outputMap)r[h]=n[l].panel;for(var c=0;c<a.length;c++)if((s=i.inputs[a[c]])&&(o=r[s]))return o;return null},t.Studies.createLibraryHash=function(){return Object.keys(t.Studies.studyLibrary).join("|")},t.Studies.displayStudies=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v;if(a&&(i.studyLibraryHash=t.Studies.createLibraryHash()),n=e.layout.studies)for(var y in(r={})[i.name]=!0,n)if((o=(s=n[y]).study)&&(l=s.underlay||s.parameters&&s.parameters.underlayEnabled,!(a&&!l||!a&&l)))if(!(h=t.clone(o.renderer))||h instanceof Array||(h=[h]),c=e.panels[s.panel]){if(c.chart==i&&!c.hidden)if(r[c.name]||(d=s.permanent||!e.manageTouchAndMouse,c.closeX?d&&(c.closeX.style.display="none"):c.close&&d&&(c.close.style.display="none"),c.edit&&d&&(c.edit.style.display="none"),r[c.name]=d),u=s.chart.dataSegment,s.panel!=s.parameters.chartName||s.parameters&&s.parameters.panelName||(p=t.Studies.getPanelFromFieldName(e,s))&&s.panel!=p&&(s.panel=p),void 0===o.seriesFN){if(h){s.overlay||t.Studies.createYAxis(e,s,u,c);for(var b=0;b<h.length;b++){for(var x in m=h[b],s.outputMap)s.outputMap[x]==m.field&&(m.field=x);if(m.field){if(m.panel=s.panel,g=m.binding)for(var C in g)(f=t.Studies.determineColor(s.outputs[g[C]]))&&"auto"!=f&&(m[C]=f);m.yAxis=null,(v=t.Renderer.produce(m.type,m)).stx=e,v.attachSeries(null,m).draw()}}}else t.Studies.displaySeriesAsLine(e,s,u);c&&t.Studies.displayError(e,s)}else o.seriesFN&&c&&(o.seriesFN(e,s,u),t.Studies.displayError(e,s))}else e.currentlyImporting&&delete n[y]},t.Studies.displayError=function(e,t,i){var a,n;t.error&&(a=i&&i.panel?i.panel:t.panel,n=!0===t.error?e.translateIf("Not enough data to compute ")+e.translateIf(t.study.name):e.translateIf(t.error),!i||"center"===i.h&&"bottom"===i.v?(I.i3j(),e.displayErrorAsWatermark(a,n)):e.watermark(a,i))},t.Studies.calculateMinMaxForDataPoint=function(e,t,i){var a,n,r;a=Number.MAX_VALUE,I.i3j(),n=-1*Number.MAX_VALUE;for(var s=0;s<i.length;s++)null!=(r=i[s][t])&&(isNaN(r)||(a=Math.min(r,a),n=Math.max(r,n)));return{min:a,max:n}},t.Studies.getYAxisParameters=function(e,t){var i,a,n;return I.i3j(),i={},(a=e.layout.studies&&e.layout.studies[t.name])&&((n=a.study).yaxis||n.yAxisFN?i.noDraw=!0:(n.parameters&&n.parameters.excludeYAxis&&(i.noDraw=!0),i.ground=n.yAxis&&n.yAxis.ground,t&&("bypass"!=n.range&&("0 to 100"==n.range?(I.U16(7),i.range=[0,I.o16("100",0)]):"-1 to 1"==n.range?i.range=[-1,1]:"0 to max"==n.range?i.range=[0,Math.max(0,t.high)]:(n.centerline||0===n.centerline)&&(i.range=[Math.min(n.centerline,t.low),Math.max(n.centerline,t.high)])),i.range&&(t.low=i.range[0],t.high=i.range[1]),a.min&&(t.min=a.min),a.max&&(t.max=a.max),a.parameters&&a.parameters.studyOverZonesEnabled&&(i.noDraw=!0)))),i},t.Studies.doPostDrawYAxis=function(e,i){var a,n,r,s;for(var o in I.i3j(),e.layout.studies)a=e.layout.studies[o],(n=e.panels[a.panel])&&!n.hidden&&a.getYAxis(e)==i&&(r=a.study,i.name==a.name&&(r.yaxis&&r.yaxis(e,a),r.yAxisFN&&r.yAxisFN(e,a)),t.Studies.drawZones(e,a),a.error||((s=r.centerline)||0===s||null!==s&&i.highValue-1e-12>0&&i.lowValue+1e-12<0)&&t.Studies.drawHorizontal(e,a,null,s||0,i))},t.Studies.displaySeriesAsLine=function(e,i,a){var n;if(a.length&&(n=e.panels[i.panel],I.i3j(),n&&!n.hidden))for(var r in i.outputMap)t.Studies.displayIndividualSeriesAsLine(e,i,n,r,a)},t.Studies.displaySeriesAsHistogram=function(e,t,i){var a,n,r,s,o,l,h,c,d,u;if(I.i3j(),i.length&&(a=e.panels[t.panel])&&!a.hidden){for(var p in n=[],t.outputMap)(r=t.outputs[t.outputMap[p]])&&(s=.3,"object"==typeof r&&(s=r.opacity,r=r.color),o={field:p,fill_color_up:r,border_color_up:r,fill_color_down:r,border_color_down:r},t.underlay&&(o.opacity_up=o.opacity_down=s||.3),n.push(o));l=t.getYAxis(e),c=(h=t.inputs).WidthFactor,t.study&&t.study.parameters&&void 0!==(d=t.study.parameters).widthFactor&&(c=d.widthFactor),u={name:t.name,type:h.HistogramType?h.HistogramType:"overlaid",panel:t.panel,yAxis:l,widthFactor:c||.5,bindToYAxis:!0,highlight:t.highlight},e.drawHistogram(u,n)}},t.Studies.displayIndividualSeriesAsLine=function(e,i,a,n,r){var s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C=I;if(a.height||(a.height=a.bottom-a.top),s=i.getContext(e),o=i.outputs[i.outputMap[n]]){if(s.save(),"string"==typeof o&&(o={color:o,width:1}),s.lineWidth=o.width||1,"auto"==(l=o.color)&&(l=e.defaultColor),s.strokeStyle=l,h=o.pattern,s.setLineDash(t.borderPatternToArray(s.lineWidth,h)),C.U16(1),s.lineDashOffset=C.o16("0",0),c=0,d=i.study,u=i.getYAxis(e),c=e.decimalPlacesFromPriceTick(u.priceTick,u.idealTickSizePixels),(i.overlay||i.underlay)&&(c=null),(u.decimalPlaces||0===u.decimalPlaces)&&(c=u.decimalPlaces),p=null,i.parameters&&(p=i.parameters.label),(m=d.parameters)||(m={}),g="step"==m.plotType,i.series)for(var S in i.series)(f=i.series[S].parameters.type)&&(C.U16(73),g=C.o16(f,"step"));m.noLabels&&(p=!1),i.noSlopes||!1===i.noSlopes||(i.noSlopes=m.noSlopes),i.extendToEnd||!1===i.extendToEnd||(i.extendToEnd=m.extendToEnd),v=p||e.preferences.labels&&!1!==p,!1===(y=i.gaplines)&&(y="transparent"),b=i.inputs.Symbol,x=y?e.getGapColorFunction(b,n,o,y):null,e.plotDataSegmentAsLine(n,a,{yAxis:u,skipTransform:e.panels[i.panel].name!=i.chart.name,label:v,labelDecimalPlaces:c,noSlopes:i.noSlopes,step:g,alignStepToSide:i.alignStepToSide,extendToEndOfLastBar:i.extendToEndOfLastBar,width:i.lineWidth,extendToEndOfDataSet:i.extendToEnd,gapDisplayStyle:y,highlight:i.highlight},x),d.appendDisplaySeriesAsLine&&d.appendDisplaySeriesAsLine(e,i,r,n,a),s.restore()}},t.Studies.drawHorizontal=function(e,t,i,a,n,r){var s,o,l;s=e.panels[t.panel],o=e.getBackgroundCanvas().context,s&&(r||(r=n.textStyle),l=e.pixelFromPrice(a,s,n),I.z3j(),l>n.top&&l<n.bottom&&e.plotLine(s.left,s.right,l,l,r,"segment",o,!1,{opacity:r&&r.opacity?r.opacity:.5}))},t.Studies.displayHistogramWithSeries=function(e,i,a){var n,r,s=I;n=2;for(var o=1;742527955!==s.v7D(o.toString(),o.toString().length,22556);o++)e.panels[i.panel],n+=2;-1581533922!==s.v7D(n.toString(),n.toString().length,99603)&&e.panels[i.panel],r=.5,i.underlay&&(s.U16(2),r=s.o16(1,"0.3")),t.Studies.createHistogram(e,i,a,!1,r),t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.drawZones=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P=I;if(i.parameters&&i.parameters.studyOverZonesEnabled){n=parseFloat(i.parameters.studyOverSoldValue),r=parseFloat(i.parameters.studyOverBoughtValue),s=i.parameters.studyOverSoldColor,o=i.parameters.studyOverBoughtColor,(l=i.zoneOutput)||(l="Result"),(h=t.Studies.determineColor(i.outputs[l]))&&"auto"!=h&&!t.isTransparent(h)||(h=e.defaultColor),s||(s=h),s&&"auto"!=s&&!t.isTransparent(s)||(s=e.defaultColor),o||(o=h),o&&"auto"!=o&&!t.isTransparent(o)||(o=e.defaultColor),c=e.panels[i.panel],u=(d=i.getYAxis(e)).displayBorder,!1===e.axisBorders&&(u=!1),!0===e.axisBorders&&(u=!0),0===d.width&&(u=!1),p=e.getYAxisCurrentPosition(d,c),P.j16(73),m=P.o16(p,"left"),(g=d.justifyRight)||!1===g||(g=e.chart.yAxis.justifyRight||!1===e.chart.yAxis.justifyRight?e.chart.yAxis.justifyRight:m),P.U16(83);var O=P.R16(10,12,1,9,540);if(f=Math.round(d.left+(m?d.width:"0"*O))+.5,v=u?3:0,b=(y=e.getBackgroundCanvas().context).fillStyle,y.globalAlpha=.2,e.startClip(c.name,!0),y.beginPath(),x=Math.round(e.pixelFromPrice(r,c,d))+.5,y.strokeStyle=o,y.moveTo(c.left,x),y.lineTo(c.right,x),y.stroke(),y.closePath(),y.beginPath(),C=Math.round(e.pixelFromPrice(n,c,d))+.5,y.strokeStyle=s,y.moveTo(c.left,C),y.lineTo(c.right,C),y.stroke(),y.closePath(),(S=new t.Plotter).newSeries("border","stroke",e.canvasStyle("stx_grid_border")),u&&(T=m?f-v:f-.5,D=m?f+.5:f+v,S.moveTo("border",T,x),S.lineTo("border",D,x),S.moveTo("border",T,C),S.lineTo("border",D,C)),y.fillStyle=b,w={skipTransform:e.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:l+" "+i.name,yAxis:d,opacity:.3},!i.highlight&&e.highlightedDraggable&&(w.opacity*=.3),t.preparePeakValleyFill(e,t.extend(w,{threshold:r,direction:d.flipped?-1:1,color:o})),t.preparePeakValleyFill(e,t.extend(w,{threshold:n,direction:d.flipped?1:-1,color:s})),y.globalAlpha=1,!(i.study&&i.study.yaxis||(u&&(k=Math.round(d.bottom)+.5,S.moveTo("border",f,d.top),S.lineTo("border",f,k),S.draw(y,"border")),0===d.width))){e.canvasFont("stx_yaxis",y),e.canvasColor("stx_yaxis",y),y.textAlign=g?"right":"left",P.j16(13);var _=P.o16(0,14,16);if(L=e.getCanvasFontSize("stx_yaxis")/_,m){P.U16(19);var F=P.R16(22,20,1);if(A=d.left+F,g){P.j16(7);var H=P.o16(5,2);A=d.left+d.width-v-H}}else{M=2;for(var q=1;982625160!==P.x3D(q.toString(),q.toString().length,11836);q++){P.j16(124);var E=P.R16(11,3,10,3);A=d.left/v-E,M+=2}1415877195!==P.x3D(M.toString(),M.toString().length,18251)&&(A=0*(d.left+v)),P.j16(111);var V=P.R16(1,1,9,10);A=d.left+v+("3"|V),g&&(A=d.left+d.width)}x>d.top+L&&(y.fillStyle=o,y.fillText(r,A,x)),C<d.bottom-L&&(y.fillStyle=s,y.fillText(n,A,C)),y.fillStyle=b}e.endClip(),y.globalAlpha=1,d.name==i.name&&(d.yAxisPlotter=new t.Plotter)}},t.Studies.createHistogram=function(e,i,a,n,r){var s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w=I;s=e.panels[i.panel],o=i.getContext(e),l=i.getYAxis(e),e.startClip(s.name),w.U16(0);var k=w.R16(2,0);(h=e.layout.candleWidth-k)<2&&(h=1),w.U16(34),c=e.pixelFromPrice(w.o16(0,"0"),s,l),l.min>0&&(c=e.pixelFromPrice(l.min,s,l)),n&&(c=Math.floor(s.top+s.height/2)),d=i.name+"_hist",e.canvasColor("stx_histogram"),u=o.fillStyle,(r||0===r)&&(o.globalAlpha=r),!i.highlight&&e.highlightedDraggable&&(o.globalAlpha*=.3),p=null,m=null,g=i.outputs;for(var L=0;L<a.length;L++)if(f=a[L]){if(f.candleWidth&&(h=Math.floor(Math.max(1,f.candleWidth-2))),v=Math.floor(e.pixelFromBar(L,s.chart)-h/2),y=Math.floor(h),null===p){w.U16(96);var A=w.R16(0,16,8,7);p=(b=e.tickFromPixel(v,s.chart)-A)<0?m:e.pixelFromPrice(e.chart.dataSet[b][d],s,l)-c}else p=m;m=e.pixelFromPrice(f[d],s,l)-c,x=t.Studies.determineColor(g["Decreasing Bar"]),C=t.Studies.determineColor(g["Increasing Bar"]),S=t.Studies.determineColor(g["Positive Bar"]),T=t.Studies.determineColor(g["Negative Bar"]),D=l.flipped,o.fillStyle=u,x&&(D?m<p:m>p)?o.fillStyle=x:C&&(D?m>p:m<p)?o.fillStyle=C:S&&(D?m>0:m<0)?o.fillStyle=S:T&&(D?m<0:m>0)&&(o.fillStyle=T),o.fillRect(v,c,y,Math.floor(m))}o.globalAlpha=1,e.endClip()},t.Studies.prettify={Close:"C",Open:"O",High:"H",Low:"L",simple:"ma",exponential:"ema",triangular:"tma",VIDYA:"vdma",weighted:"wma","welles wilder":"smma",true:"y",false:"n"},t.Studies.prettyRE=/^.*\((.*?)\).*$/,t.Studies.prettyDisplay=function(e){var i,a;if(!(i=t.Studies.prettyRE.exec(e)))return e;if(I.U16(35),a=i[I.R16(705546112,"1")]){for(var n in t.Studies.prettify)a=a.replace(n,t.Studies.prettify[n]);e=e.replace(i[1],a)}return e},t.Studies.getFieldInputs=function(e){var t,i;for(var a in t=[],i=e.study.inputs)"field"==i[a]&&t.push(a);return I.i3j(),t},t.Studies.initializeFN=function(e,i,a,n,r,s,o){var l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D;if(a||(a={}),r||(r={}),a.id||(a.id=t.Studies.generateID(e,i,a,r.replaceID,r.display)),a.display||(a.display=a.id),l=new t.Studies.StudyDescriptor(a.id,i,a.id,a,n,r),a.Period&&(l.days=Math.max(1,parseInt(l.inputs.Period,10))),o?(o.inputs||(o.inputs=l.study.inputs),o.outputs||(o.outputs=l.study.outputs),l.study=o):o=l.study,o.display&&(a.display=o.display),"string"==typeof r.panelName&&(s=r.panelName),(s==a.id||s&&!e.panelExists(s))&&(l.underlay=l.overlay=!1),"Own panel"!=s&&"New panel"!=s||(s=null),h=l.overlay||a.Overlay||!1!==l.overlay&&o.overlay,c=l.underlay||a.Underlay||!1!==l.underlay&&o.underlay,h&&r.underlayEnabled&&(c=!0),c&&(l.underlay=!0),!c&&e.chart.panel&&s==e.chart.panel.name&&(h=!0),h&&(l.overlay=!0),(!0===(d=e.preferences.dragging)||d&&d.study)&&(l.overlay=!0),s?r.panelName=s:h||c||(s=a.id),r.calculateOnly)return(h||c)&&(e.panels[r.panelName]?l.panel=r.panelName:l.panel=t.Studies.getPanelFromFieldName(e,l)||r.chartName),l;if(u={},(p=e.layout.studies[r.replaceID])&&(u={outputMap:t.clone(p.outputMap),panel:p.panel}),l.panel="",s?(m="n",m+="o",m+="ne",g="r",g+="i",g+="g",g+="ht",(f=t.Studies.smartMovePanel(e,l.inputs,s,r.replaceID,"New panel"==r.panelName))&&(l.panel=f.name),!r.yaxisDisplayValue||["left",g,m,"shared","default"].includes(r.yaxisDisplayValue)||e.getYAxisByName(f,r.yaxisDisplayValue)||(r.yaxisDisplayValue="default")):(h||c)&&(l.panel=t.Studies.getPanelFromFieldName(e,l)||r.chartName),l.panel||(v=o.panelHeight||null,(y=r.yAxis||o.yAxis||{}).name=l.inputs.id,l.panel=l.inputs.id,e.createPanel(l.inputs.display,l.panel,v,r.chartName,new t.ChartEngine.YAxis(y))),l.parameters&&l.parameters.panelName&&(l.parameters.panelName=l.panel),b=e.panels[l.panel],x=o?t.clone(o.yAxis):null,((C=r.yAxis||x)||{}).ground&&(I.U16(15),C["initialMargin"+(C.flipped?"Top":"Bottom")]=I.o16(1031609696,"0")),(S=t.Studies.smartCreateYAxis(e,b,l.inputs.id,r.yaxisDisplayValue,C))&&(S.name==r.replaceID&&(S.name=l.inputs.id),r.replaceID||S.name!==l.name||e.calculateYAxisMargins(S),S.allowSharing=!r.yAxis&&!o.yAxis,S.width="none"==S.position?0:t.ChartEngine.YAxis.prototype.width,"shared"==r.yaxisDisplayValue||"default"==r.yaxisDisplayValue?delete r.yaxisDisplayValue:(x&&t.ensureDefaults(S,x),S.name==l.name&&(!(x||{}).textStyle&&!r.yaxisDisplayColor||"auto"==r.yaxisDisplayColor?delete S.textStyle:r.yaxisDisplayColor&&(S.textStyle=t.colorToHex(r.yaxisDisplayColor)),void 0===(x||{}).justifyRight&&(S.justifyRight=null),void 0!==r.flippedEnabled&&(S.flipped=r.flippedEnabled))),S!=b.yAxis?S.displayGridLines=!1:S!=e.chart.yAxis&&(S.displayGridLines=e.displayGridLinesInStudies)),e.calculateYAxisPositions(),p){for(var w in T=!1,e.drawingObjects)D=e.drawingObjects[w],u.outputMap&&u.outputMap.hasOwnProperty(D.field)?(D.field=D.field.replace(r.replaceID,l.inputs.id),l.parameters&&l.parameters.panelName?D.panelName=l.parameters.panelName:D.panelName=l.panel,T=!0):u.panel&&u.panel==D.panelName&&(D.panelName=D.panelName.replace(r.replaceID,l.inputs.id),T=!0);T&&e.changeOccurred("vector")}return l},t.Studies.smartMovePanel=function(e,t,i,a,n){var r,s,o,l;return I.i3j(),s=t.id,a&&(r=e.layout.studies[a]),r&&(o=e.panels[r.panel])&&o.yAxis.name==a&&((n||i!=a&&i!=s)&&!e.checkForEmptyPanel(o.name,!0,r)?(e.electNewPanelOwner(o),(l=r.getYAxis(e)).name==a&&e.electNewYAxisOwner(l)):i!=a&&e.panels[i]||(s!=o.name&&e.modifyPanel(o,{name:s,display:t.display}),i=s)),e.panels[i]},t.Studies.smartCreateYAxis=function(e,i,a,n,r){var s,o,l,h,c,d,u;return s="ri",s+="gh",s+="t",o="l",o+="ef",o+="t",l=r||{},h=e.getYAxisByName(i,a),!n&&r&&(n=r.position),[o,s,"none"].indexOf(n)>-1||void 0===n&&r?(!h||h.isShared(e)?(t.extend(l,{name:a,position:n}),h||e.currentlyImporting||i==i.chart.panel||i.yAxis.studies.length||i.yAxis.renderers.length?(c=h==i.yAxis,h&&(h.name=e.electNewYAxisOwner(h)),(d=h||i.yAxis).lockScale&&t.extend(l,{zoom:d.zoom,scroll:d.scroll,lockScale:!0}),h=e.addYAxis(i,new t.ChartEngine.YAxis(l)),c&&(i.yAxis=h)):(h=i.yAxis,t.extend(h,l))):(r&&t.extend(h,r),h.position=n,h.name=a),h):n&&"default"!==n&&"shared"!==n&&n!==i.yAxis.name?((u=e.getYAxisByName(i,n))&&h==i.yAxis&&!h.isShared(e)&&(i.yAxis=u),h&&h.isShared(e)?h.name=e.electNewYAxisOwner(h):h!==i.yAxis&&e.deleteYAxisIfUnused(i,h),u):"shared"==n||n==i.yAxis.name||i.yAxis.allowSharing&&(!h||h.allowSharing)?(h&&(h!==i.yAxis&&h.isShared(e)?h.name=e.electNewYAxisOwner(h):(delete h.position,e.deleteYAxisIfUnused(i,h))),e.resizeChart(),i.yAxis):(t.extend(l,{name:a}),h&&(h.name=e.electNewYAxisOwner(h)),!h||h.name?h=e.addYAxis(i,new t.ChartEngine.YAxis(l)):(t.extend(h,l),delete h.position),h)},t.Studies.calculateVolume=function(e,i){var a,n,r;if(I.i3j(),"vol undr"==i.type){if(!e||!e.chart.dataSet)return;a=e.layout,n=i.parameters.removeStudy,r=a.volumeUnderlay,a.volumeUnderlay=!n,r!=a.volumeUnderlay&&e.changeOccurred("layout"),n&&t.Studies.removeStudy(e,i)}i.outputMap={},i.outputMap.Volume=""},t.Studies.MA=function(e,i,a,n,r,s,o,l){var h,c=I;c.j16(13),c.o16(69720,59763,3),c.U16(107);var d=c.R16(2,1286,5802,17);c.U16(125);var u=c.o16(8,941,7,5635);c.i3j(),c.U16(7);var p=c.R16(94600,86e3);(h=new t.Studies.StudyDescriptor(r+(338.16!=d?" ":836.63==u?"J":p)+o.name,"ma",o.panel)).chart=o.chart,c.j16(1),h.days=parseInt(i,c.o16("10",10)),h.startFrom=o.startFrom,l&&(h.subField=l),h.inputs={},e&&(h.inputs.Type=e),a&&(h.inputs.Field=a),n&&(c.j16(15),h.inputs.Offset=parseInt(n,c.o16(1371796384,"10"))),t.Studies.calculateMovingAverage(s,h)},t.Studies.movingAverage={conversions:{ma:"simple",sma:"simple",ema:"exponential",tma:"triangular",vdma:"vidya",wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential",triangular:"Triangular",vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:"Exponential",exponential:"Exponential",tma:"Triangular",triangular:"Triangular",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}},t.Studies.movingAverageHelper=function(e,i){var a;if("options"==i){for(var n in a={},t.Studies.movingAverage.translations)a[n]=e.translateIf(t.Studies.movingAverage.translations[n]);return a}return t.Studies.movingAverage.conversions[i]},t.Studies.createVolumeChart=function(e,i,a){var n,r,s,o,l,h,c,d,u=I;n=i.panel,i.inputs,u.z3j(),r=i.underlay,i.overlay,s=t.Studies.determineColor(i.outputs["Up Volume"]),o=t.Studies.determineColor(i.outputs["Down Volume"]),l=r?"stx_volume_underlay":"stx_volume",u.U16(0),e.setStyle(u.o16("_up",l),"color",s),u.U16(0),e.setStyle(u.o16("_down",l),"color",o),h=[{field:i.volumeField||"Volume",fill_color_up:e.canvasStyle(l+"_up").color,border_color_up:e.canvasStyle(l+"_up").borderLeftColor,opacity_up:e.canvasStyle(l+"_up").opacity,fill_color_down:e.canvasStyle(l+"_down").color,border_color_down:e.canvasStyle(l+"_down").borderLeftColor,opacity_down:e.canvasStyle(l+"_down").opacity,color_function:i.colorFunction}],c=h[0],r||"rgb(184, 44, 12)"!==c.border_color_down||(c.border_color_down="#000000",c.border_color_up="#000000"),d={name:"Volume",panel:n,yAxis:i.getYAxis(e),widthFactor:1,bindToYAxis:!0,highlight:i.highlight},t.extend(d,i.study.parameters),t.extend(d,i.parameters),e.colorByCandleDirection&&!i.colorFunction&&(c.color_function=function(e){var t,i;return{fill_color:(t=e.Open)>(i=e.Close)?c.fill_color_down:c.fill_color_up,border_color:t>i?c.border_color_down:c.border_color_up,opacity:t>i?c.opacity_down:c.opacity_up}}),e.drawHistogram(d,h)},t.Studies.calculateStandardDeviation=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f=I;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var v in(n=i.inputs.Field)&&"field"!=n||(n="Close"),(r=i.inputs["Moving Average Type"])||(r=i.inputs.Type),t.Studies.MA(r,i.days,n,i.inputs.Offset,"_MA",e,i),f.j16(35),s=f.o16(1859648864,"0"),o=0,l=0,(h=Number(i.inputs["Standard Deviations"]))<0&&(h=2),c=i.name,i.outputs)f.j16(31),c=f.R16(c," ",v);for(d=i.startFrom-1,p=0;d>=0&&p<i.days;d--,p++)(u=a[d][n])&&"object"==typeof u&&(u=u[i.subField]),isNaN(u)&&(f.j16(2),u=f.o16(1,"0")),s+=Math.pow(u,2),o+=u;for(d=i.startFrom;d<a.length;d++)if((u=(m=a[d])[n])&&"object"==typeof u&&(u=u[i.subField]),u||0===u||(u=0),s+=Math.pow(u,2),o+=u,!(d<i.days-1)&&(d>=i.days&&((g=a[d-i.days][n])&&"object"==typeof g&&(g=g[i.subField]),isNaN(g)&&(g=0),f.j16(7),s-=Math.pow(g,f.R16("2",0)),o-=g),(l=m["_MA "+i.name])||0===l)){f.j16(126);var y=f.R16(13,9,8,18,14);f.j16(127);var b=f.R16(20,19,1,454,4);m[c]=Math.sqrt((s+i.days*Math.pow(l,y)-b*l*o)/i.days)*h}}},t.Studies.calculateMovingAverage=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y;if(i.chart.scrubbed){if("ma"!=(a=i.inputs.Type)&&"sma"!=a&&a||(a="simple"),a in(n=t.Studies.movingAverage.typeMap))return t.Studies["calculateMovingAverage"+n[a]](e,i);if("simple"===a){for(var b in r=i.chart.scrubbed,s=0,o=[],l=i.name,i.outputs)I.U16(31),l=I.R16(l," ",b);for((h=i.inputs.Field)&&"field"!=h||(h="Close"),c=parseInt(i.inputs.Offset,10),isNaN(c)&&(c=0),m=i.startFrom,g=c,d=i.startFrom-1;d>=0;d--)if((u=r[d][h])&&"object"==typeof u&&(u=u[i.subField]),u||0===u)if(g>0)g--,m=d;else{if(o.length==i.days-1)break;s+=u,o.unshift(u)}for(o.length<i.days-1&&(o=[],m=0),f=[],d=m;d<r.length;d++)(u=r[d][h])&&"object"==typeof u&&(u=u[i.subField]),v=d+c>=0&&d+c<r.length?r[d+c]:null,u||0===u?(s+=u,o.push(u),o.length>i.days&&(s-=o.shift()),y=o.length==i.days?s/i.days:null,v?v[l]=y:d+c>=r.length&&((p={})[l]=y,f.push(p))):v?v[l]=null:d+c>=r.length&&((p={})[l]=null,f.push(p));i.appendFutureTicks(e,f)}}},t.Studies.calculateMovingAverageExponential=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x=I;i=t.inputs.Type,a=t.chart.scrubbed,n=0,r=0,x.z3j(),s=0,x.U16(128);var C=x.R16(7,15,4,0,163);x.j16(13);var S=x.o16(0,11,12);for(var T in o=C/(t.days+S),("welles wilder"===i||"smma"===i)&&(x.j16(19),o="1"*x.R16(19,18,0)/t.days),l=null,h=t.name,t.outputs)x.U16(31),h=x.o16(h," ",T);for((c=t.inputs.Field)&&"field"!=c||(c="Close"),d=parseInt(t.inputs.Offset,10),isNaN(d)&&(d=0),m=t.startFrom,g=d,u=t.startFrom-1;u>=0;u--)if((p=a[u][h])||0===p){if(null===l&&(l=p),s=t.days,g<=0)break;g--,m=u}for(null===l&&(l=m=0),f=[],u=m;u<a.length;u++)(p=a[u][c])&&"object"==typeof p&&(p=p[t.subField]),v=u+d>=0&&u+d<a.length?a[u+d]:null,p||0===p?(s==t.days-1?y=r=(n+=p)/t.days:s<t.days-1?(n+=p,x.U16(129),r=x.o16(1,n,s),y=null):0===s?(r=n+=p,y=null):(l||0===l)&&(x.j16(46),y=r=x.R16(p,o,l,l)),l=r,s++):y=null,v?v[h]=y:u+d>=a.length&&((b={})[h]=y,f.push(b));t.appendFutureTicks(e,f)},t.Studies.calculateMovingAverageVIDYA=function(e,i){var a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b=I;i.inputs.Type,a=i.chart.scrubbed,b.j16(130);var x=b.o16(6,12,434,6);b.j16(99);var C=b.o16(4,13,4,22);for(var S in n=x/(i.days+C),r=null,s=i.name,b.i3j(),i.outputs)b.j16(31),s=b.R16(s," ",S);for((o=i.inputs.Field)&&"field"!=o||(o="Close"),i.std=new t.Studies.StudyDescriptor(i.name,"sdev",i.panel),i.std.chart=i.chart,i.std.days=5,i.std.startFrom=i.startFrom,i.std.inputs={Field:o,"Standard Deviations":1,Type:"ma"},i.std.outputs={_STD:null},t.Studies.calculateStandardDeviation(e,i.std),t.Studies.MA("ma",20,"_STD "+i.name,0,"_MASTD",e,i),l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),u=i.startFrom,p=l,h=i.startFrom-1;h>=0;h--)if((c=a[h][s])||0===c){if(null===r&&(r=c),p<=0)break;p--,u=h}for(null===r&&(r=u=0),m=[],h=u;h<a.length;h++)(c=(g=a[h])[o])&&"object"==typeof c&&(c=c[i.subField]),f=h+l>=0&&h+l<a.length?a[h+l]:null,c||0===c?(g["_MASTD "+i.name]||0===g["_MASTD "+i.name])&&(v=g["_STD "+i.name]/g["_MASTD "+i.name],b.U16(131),r=y=b.o16(r,1,v,n,c,v,n),h<i.days&&(y=null),f?f[s]=y:h+l>=a.length&&((d={})[s]=y,m.push(d))):f?f[s]=null:h+l>=a.length&&((d={})[s]=null,m.push(d));i.appendFutureTicks(e,m)},t.Studies.calculateMovingAverageTriangular=function(e,i){var a,n,r,s,o,l,h,c,d,u=I;for(var p in a=i.chart.scrubbed,(n=i.inputs.Field)&&"field"!=n||(n="Close"),r=Math.ceil(i.days/2),u.j16(1),t.Studies.MA("simple",r,n,u.R16("0",0),"TRI1",e,i),i.days%2==0&&r++,t.Studies.MA("simple",r,"TRI1 "+i.name,0,"TRI2",e,i),s=i.name,i.outputs)u.U16(31),s=u.o16(s," ",p);o=parseInt(i.inputs.Offset,10),isNaN(o)&&(o=0),l=o;for(var m=i.startFrom-1;m>=0;m--)if((h=a[m][s])||0===h){if(!(l>0))break;l--}for(c=[],m++;m<a.length;m++)m+o>=0&&(m+o<a.length?(u.U16(0),a[u.o16(o,m)][s]=a[m]["TRI2 "+i.name]):((d={})[s]=a[m]["TRI2 "+i.name],c.push(d)));i.appendFutureTicks(e,c)},t.Studies.calculateMovingAverageWeighted=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y=I;i=t.chart.scrubbed,a=0,n=0,(r=t.inputs.Field)&&"field"!=r||(r="Close"),y.U16(132);var b=y.o16(5,14,20,108,14);for(var x in s=t.days*(t.days+1)/b,o=t.name,t.outputs)y.U16(31),o=y.o16(o," ",x);for(l=parseInt(t.inputs.Offset,10),isNaN(l)&&(l=0),u=[],p=t.startFrom,m=l,h=t.startFrom-1;h>=0;h--)if((c=i[h][r])&&"object"==typeof c&&(c=c[t.subField]),c||0===c)if(m>0)m--,p=h;else{if(u.length==t.days-1)break;u.unshift(c)}for(u.length<t.days-1&&(u=[],y.j16(7),p=y.o16("0",0)),h=0;h<u.length;h++)y.j16(57),a+=(h+y.o16(3,0,14,7))*u[h],n+=u[h];for(g=[],h=p;h<i.length;h++)(c=i[h][r])&&"object"==typeof c&&(c=c[t.subField]),f=h+l>=0&&h+l<i.length?i[h+l]:null,c||0===c?(u.push(c),u.length>t.days&&(a-=n,n-=u.shift()),a+=u.length*c,n+=c,v=h<t.days-1?null:a/s,f?f[o]=v:h+l>=i.length&&((d={})[o]=v,g.push(d))):f?f[o]=null:h+l>=i.length&&((d={})[o]=null,g.push(d));t.appendFutureTicks(e,g)},t.Studies.calculateStudyATR=function(e,t){var i,a,n,r,s,o,l,h=I;if(i=t.chart.scrubbed,a=t.days,i.length<a+1)t.error=!0;else{n=0,r=t.name,h.i3j();for(var c=Math.max(t.startFrom,1);c<i.length;c++)if(s=i[c],h.j16(7),o=i[h.o16(c,1)],l=s.trueRange,o["Sum True Range "+r]&&(h.j16(0),n=o[h.R16(r,"Sum True Range ")]),n+=l,c>a&&(h.j16(7),n-=i[h.R16(c,a)][h.o16(r,"True Range ",h.j16(0))]),h.j16(0),s[h.o16(r,"True Range ")]=l,h.j16(0),s[h.o16(r,"Sum True Range ")]=n,c==a)h.j16(0),s[h.R16(r,"ATR ")]=h.o16(a,n,h.j16(8));else if(c>a){h.U16(7);var d=h.R16(14,13);h.j16(0),s[h.R16(r,"ATR ")]=(o["ATR "+r]*(a-d)+l)/a}}},t.Studies.displayPSAR2=function(e,i,a){var n,r,s,o,l,h,c,d,u,p,m,g,f,v=I;for(var y in n=e.panels[i.panel],s=(r=i.getYAxis(e))==e.chart.panel.yAxis,e.startClip(n.name),o=i.getContext(e),l="squarewave"==i.inputs["Plot Type"],i.outputs){v.U16(133);var b=v.R16(1719,8,8583,8595,10);v.U16(33);var x=v.o16(16,0,4620);v.j16(0);var C=v.o16(18,7705);v.j16(134),v.R16(564,2,7455,10,7),v.j16(7);var S=v.R16(94380,85800);v.U16(135),v.o16(697,4,697,4),v.U16(23);var T=v.R16(1,15,3757,7240,2);h=y+(b!==x?" ":505.65>=C?"U":S<T&&"P")+i.name,o.beginPath(),c=e.layout.candleWidth,d=Math.max(3,Math.floor(e.chart.tmpWidth/2));for(var D=0;D<a.length;D++)(u=a[D])&&(u[h]||0===u[h])&&(u.candleWidth&&(c=u.candleWidth),s&&u.transform&&(u=u.transform),p=e.pixelFromBar(D,n.chart),l&&(v.U16(8),p-=v.o16(2,c)),m=e.pixelFromTransformedValue(u[i.referenceOutput?i.referenceOutput+" "+i.name:h],n,r),0!==D&&a[D-1]&&(a[D-1][h]||0===a[D-1][h])||o.moveTo(p,m),l?(o.lineTo(p,m),v.j16(0),o.lineTo(v.o16(c,p),m),a[D+1]&&(v.j16(0),g=a[v.o16(1,D)],s&&g.transform&&(g=g.transform),g[h]||0===g[h]||(v.j16(0),o.lineTo(v.R16(c,p),e.pixelFromTransformedValue(g[i.referenceOutput?i.referenceOutput+" "+i.name:h],e.panels[i.panel],r))))):(v.j16(42),o.moveTo(v.R16(p,2,d),m),v.U16(136),o.lineTo(v.R16(0,d,"2",p),m)));o.lineWidth=1,i.highlight&&(o.lineWidth=3),"auto"==(f=t.Studies.determineColor(i.outputs[y]))&&(f=e.defaultColor),o.strokeStyle=f,!i.highlight&&e.highlightedDraggable&&(o.globalAlpha*=.3),o.stroke(),o.closePath(),o.lineWidth=1}e.endClip()},t.Studies.inputAttributeDefaultGenerator=function(e){return!e&&0!==e||e.constructor!=Number?{}:Math.floor(e)==e?e>0?{min:1,step:1}:{step:1}:e>0?{min:0,step:.01}:{step:.01}},t.Studies.getMarketOffset=function({stx:e,localQuoteDate:i,shiftToDateBoundary:a}){var n,r,s,o,l;arguments.length>1&&(e=arguments[0],i=arguments[1],n=arguments[2]);var{symbol:h}=e.chart;return r=t.getFn("Market.Symbology.isForexMetal")(h),void 0===n&&(n=t.getFn("Market.Symbology.isForexSymbol")(h)),s=e.chart.market?n?"America/New_York":e.chart.market.market_tz:null,o=new Date(i.getTime()+6e4*i.getTimezoneOffset()),s&&-1!=s.indexOf("UTC")||(o=t.convertTimeZone(o,"UTC",s)),l=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime()-i.getTime(),a&&n&&(I.U16(137),l+=I.R16(1e3,r?6:7,60,60)),l},t.Studies.getStudyList=function(e){var i,a;for(var n in i={},a={},t.extend(a,e),I.z3j(),t.Studies.studyLibrary)a[n]||(i[t.Studies.studyLibrary[n].name]=n);return i},t.Studies.determineColor=function(e){return e?"object"==typeof e?e.color:(I.z3j(),e):null},t.Studies.calculateGenericEnvelope=function(e,t,i,a,n,r){var s,o,l,h,c,d,u,p=I;p.i3j(),i||(i=0),r||(r=0),a&&"field"!=a||(a="Close"),n||(n=a),s=t.chart.scrubbed,(o=t.inputs.Field)&&"field"!==o||(o="Close");for(var m=t.startFrom;s&&m<s.length;m++)(l=s[m])&&l[a]&&((h=l[o])&&"object"==typeof h&&(h=h.Close),(c=l[a])&&"object"==typeof c&&(c=c[t.subField]),(d=l[n])&&"object"==typeof d&&(d=d[t.subField]),p.U16(138),u=p.R16(d,i,r),p.j16(0),l[t.type+" Top "+t.name]=p.R16(u,c),p.U16(7),l[t.type+" Bottom "+t.name]=p.o16(c,u),l[t.type+" Median "+t.name]=c,l["Bandwidth "+t.name]=c?200*u/c:0,p.U16(139),l["%b "+t.name]=p.o16(c,h,50,u,1))},t.Studies.displayChannel=function(e,i,a){var n,r,s,o=I;if(o.i3j(),i.inputs["Channel Fill"]){for(var l in n={panelName:i.panel},i.outputs)if("Top"==(r=l.split(" ").pop())||"High"==r){o.U16(31);var h=o.o16(1222374072,15,152796761);o.j16(29);var c=o.o16(17,139632,8726);o.j16(107),o.R16(251,1004,1002,14),o.U16(140),o.R16(1429397779,714698893,13,1429397758,6),o.U16(141);var d=o.o16(10,275,275,1,5507);o.j16(7),o.o16(109850,101400),o.j16(0);var u=o.R16(7776,864);n.topBand=l+(!("2754">>h<=195.01)&&(c<=8557?69.68:343.85<d?" ":u))+i.name}else if("Bottom"==r||"Low"==r){o.U16(7);var p=o.R16(16,15);o.U16(138);var m=o.R16(2,189,1886);o.U16(0),o.R16(458041936,458041936),o.j16(142);var g=o.o16(6570,12,439,439);o.j16(143);var f=o.R16(11,16,44430,7419,7);o.U16(7),o.R16(6265,7),o.U16(18);var v=o.R16(7,314,15,14);o.U16(18);var y=o.R16(15,154560,17,9645);n.bottomBand=l+("9253"*p<=m?487.79:g<f?" ":"117.28"*v<=y?211.74:"m")+i.name}else"Median"!=r&&"Channel"!=r||(n.color=t.Studies.determineColor(i.outputs[l]));i.parameters&&i.parameters.opacity?n.opacity=i.parameters.opacity:n.opacity=.2,s=e.panels[i.panel],n.skipTransform=s.name!=i.chart.name,n.yAxis=i.getYAxis(e),!i.highlight&&e.highlightedDraggable&&(n.opacity*=.3),t.prepareChannelFill(e,n)}t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.initAnchorHandle=function(e,t){var{handle:i}=t;i||(e.controls.anchorHandles||(e.controls.anchorHandles={}),e.controls.anchorHandles[t.uniqueId]?({handle:i}=e.controls.anchorHandles[t.uniqueId]):((i=document.createElement("div")).classList.add("stx_anchor_handle"),i.setAttribute(t.uniqueId,""),e.controls.anchorHandles[t.uniqueId]={handle:i,sd:t},e.controls.chartControls.parentElement.appendChild(i)),t.anchorHandle=i)},t.Studies.removeAnchorHandle=function(e,t){I.i3j();var{handle:i}=(e.controls.anchorHandles||{})[t.uniqueId]||{};i&&(delete e.controls.anchorHandles[t.uniqueId],i.remove())},t.Studies.repositionAnchor=function(e,a){var n,r,s,o,l,h,{currentAnchorTime:c,uniqueId:d}=a,{hoverTick:u}=e.repositioningAnchorSelector||{},{dataSet:p,market:m}=e.chart;e.controls.anchorHandles||(e.controls.anchorHandles={});var{anchorHandles:g}=e.controls;if(n={},u||0===u){if(u>=p.length)return;if(r=!a.inputs.hasOwnProperty("Anchor Date"),s=p[u].DT,o=t.Studies.getMarketOffset({stx:e,localQuoteDate:s,shiftToDateBoundary:!0}),c&&r&&new Date(s.getTime()+o).getDate()!==new Date(c.getTime()+o).getDate())return;m.market_def&&m.market_def.market_tz&&(s=new i.Date(s,m.market_def.market_tz)),l=!r&&t.dateToStr(s,"YYYY-MM-dd"),n={"Anchor Time":t.dateToStr(s,"HH:mm:ss")},l&&(n["Anchor Date"]=l)}I.z3j(),h=t.Studies.replaceStudy(e,a.inputs.id,a.type,Object.assign(a.inputs,n),a.outputs,a.parameters,a.panel),g[d]&&(g[d].sd=h),e.draw()},t.Studies.cancelRepositionAnchor=function(e){var{sd:i,tapToAdd:a}=e.repositioningAnchorSelector||{};i&&(a&&t.Studies.removeStudy(e,i),e.repositioningAnchorSelector=null,e.draw())},t.Studies.displayAnchorHandleAndLine=function(e,a,n){var r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C=I;r=(e.repositioningAnchorSelector||{}).sd===a;var{hoverTick:S}=r&&e.repositioningAnchorSelector,{chart:T,panels:D,cy:w}=e,{market:k={},symbol:L}=T;s=D[a.panel];var{top:A,right:M,left:P,height:O,subholder:_}=s,{bottom:F}=s.yAxis,{inputs:H,anchorHandle:q,currentAnchorTime:E,lineWidth:V=1}=a,{backgroundColor:N,borderLeftColor:j}=e.canvasStyle("stx_anchor_handle"),[R,z,U=0]=(H["Anchor Time"]||"").split(":"),[Z,W,Y]=(H["Anchor Date"]||"").split("-");o=!H["Anchor Date"],l=t.getFn("Market.Symbology.isForexSymbol")(L),h=(S||0===S)&&(e.chart.dataSet[S]||{}).DT,c=t.Studies.getMarketOffset({stx:e,localQuoteDate:n[n.length-1].DT,shiftToDateBoundary:!0}),d=E&&h&&o&&new Date(h.getTime()+c).getDate()!==new Date(E.getTime()+c).getDate();var{floatDate:B,anchorHandles:Q={}}=e.controls;u=Q[a.uniqueId]||{};var{highlighted:X}=u,[G,K]=k.getNormalOpen().split(":").map((e=>parseInt(e)));p=t=>{var i;return i=t?e.tickFromDate(t,null,null,!0):S,[e.pixelFromTick(i,T),i]},m={y0:A,y1:F,type:"line",confineToPanel:s};var[$]=p();if($&&(C.U16(7),$-=C.o16("0.5",0),e.plotLine(Object.assign(m,{x0:$,x1:$,color:d?j:N,pattern:[6,6],lineWidth:1,opacity:d?.5:1})),t.efficientDOMUpdate(B.style,"visibility",""),e.updateChartAccessories()),q){g=o?new Date(n[n.length-1].DT):t.strToDate(H["Anchor Date"]),k.market_def&&k.market_def.market_tz&&(g=new i.Date(g,k.market_def.market_tz)),o||(C.j16(7),g.setFullYear(Z,C.R16(W,1),Y)),g.setHours(R,z,U),(f=l&&(g.getHours()>G||g.getHours()===G&&g.getMinutes()>=K))&&g.setDate(g.getDate()-1);var[J,ee]=p(g);(v=new Date(g)).setHours(...k.getNormalClose().split(":")),f&&v.setDate(v.getDate()+1);var[te]=v&&p(v)||[];if(o&&(J>M||te>M)){y=new Date(g);do{y.setDate(y.getDate()-1)}while(k&&!k.isMarketDate(y));var[ie,ae]=p(y);ie>P&&(g=y,J=ie,ee=ae)}if(J-=.5,e.plotLine(Object.assign(m,{x0:J,x1:J,color:N,pattern:"solid",lineWidth:V,opacity:X||a.highlight?1:.5})),u.currentPixel=J,X){q.style.display="",C.U16(0);var ne=C.R16(24,1);C.j16(112);var re=C.o16(1,1,0,3);C.U16(144);var se=C.R16(10,3,7,24,14);q.style.height=Math.max(Math.min(ne,O/re),se)+"px",b=q.getBoundingClientRect(),x=Math.max(Math.min(w-b.height/2,F-3-b.height),A+3),C.j16(0),q.style.top=C.o16("px",x),C.j16(140);var oe=C.o16(0,1,9,11,18);q.style.left=(S||0===S?$:J)-b.width/oe+"px",_.style.cursor="ew-resize"}else q.style.display="none",_.style.cursor="auto";a.currentAnchorTime=g,a.currentAnchorTick=ee}},t.Studies.studyScriptLibrary={},t.Studies.studyLibrary=t.Studies.studyLibrary||{},t.extend(t.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!0,calculateFN:t.Studies.calculateMovingAverage,inputs:{Period:50,Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},"STD Dev":{name:"Standard Deviation",calculateFN:t.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"True Range":{name:"True Range",calculateFN:t.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},volume:{name:"Volume Chart",range:"0 to max",yAxis:{ground:!0},seriesFN:t.Studies.createVolumeChart,calculateFN:t.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"}}})},S=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.Driver?(t.ChartEngine.Driver.Lookup=function(e){},t.ChartEngine.Driver.Lookup.prototype.acceptText=function(e,t,i,a){I.i3j(),this.cb}):console.error("symbolLookupBase feature requires first activating quoteFeed feature.")},T=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ThemeHelper=t.ThemeHelper||function(e){var i,a;I.z3j(),this.params=e,a="#FFFFFF",(i=e.stx).chart.container&&(a=getComputedStyle(i.chart.container).backgroundColor,t.isTransparent(a)&&(a=i.containerColor)),this.settings.chart.Background.color=t.hexToRgba(a),this.settings.chart["Grid Lines"].color=t.hexToRgba(i.canvasStyle("stx_grid").color),this.settings.chart["Grid Dividers"].color=t.hexToRgba(i.canvasStyle("stx_grid_dark").color),this.settings.chart["Axis Text"].color=t.hexToRgba(i.canvasStyle("stx_xaxis").color),this.settings.chartTypes["Candle/Bar"].up.color=t.hexToRgba(i.canvasStyle("stx_candle_up").color),this.settings.chartTypes["Candle/Bar"].down.color=t.hexToRgba(i.canvasStyle("stx_candle_down").color),this.settings.chartTypes["Candle/Bar"].up.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_up").color),this.settings.chartTypes["Candle/Bar"].down.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_down").color),this.settings.chartTypes["Candle/Bar"].even.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_even").color),this.settings.chartTypes["Candle/Bar"].up.border=t.hexToRgba(i.canvasStyle("stx_candle_up").borderLeftColor),this.settings.chartTypes["Candle/Bar"].down.border=t.hexToRgba(i.canvasStyle("stx_candle_down").borderLeftColor),t.isTransparent(i.canvasStyle("stx_candle_up").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].up.border=null),t.isTransparent(i.canvasStyle("stx_candle_down").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].down.border=null),this.settings.chartTypes.Line.color=t.hexToRgba(i.canvasStyle("stx_line_chart").color),this.settings.chartTypes.Mountain.color=t.hexToRgba(i.canvasStyle("stx_mountain_chart").backgroundColor),this.settings.chartTypes.Mountain.basecolor=t.hexToRgba(i.canvasStyle("stx_mountain_chart").color)},t.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}},t.ThemeHelper.prototype.update=function(e){var i,a;function n(t,a,n){for(var r in i[t])e.setStyle(r,a,n)}e||(e=this.params.stx),i={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_candle_even:{stx_hollow_candle_even:!0,stx_bar_even:!0},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!0},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0,stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}},e.chart.container.style.backgroundColor=this.settings.chart.Background.color,e.defaultColor="",n("stx_grid","color",this.settings.chart["Grid Lines"].color),n("stx_grid_dark","color",this.settings.chart["Grid Dividers"].color),n("stx_xaxis","color",this.settings.chart["Axis Text"].color),(a=this.settings.chartTypes["Candle/Bar"]).even||(a.even={color:null,wick:t.hexToRgba(e.canvasStyle("stx_candle_shadow_even").color),border:null}),n("stx_candle_up","color",a.up.color),n("stx_candle_down","color",a.down.color),n("stx_candle_even","color",a.even.color),n("stx_shadow_up","color",a.up.wick),n("stx_shadow_down","color",a.down.wick),n("stx_shadow_even","color",a.even.wick),e.setStyle("stx_candle_up","borderLeftColor",a.up.border),e.setStyle("stx_candle_down","borderLeftColor",a.down.border),n("stx_line_chart","color",this.settings.chartTypes.Line.color),e.setStyle("stx_mountain_chart","borderTopColor",t.hexToRgba(this.settings.chartTypes.Mountain.color,1)),e.setStyle("stx_mountain_chart","backgroundColor",t.hexToRgba(this.settings.chartTypes.Mountain.color,.5)),e.setStyle("stx_mountain_chart","color",t.hexToRgba(this.settings.chartTypes.Mountain.basecolor,.01)),e.draw()},I.i3j(),t.ChartEngine.prototype.setThemeSettings=function(e){var i;this.styles={},this.chart.container.style.backgroundColor="",this.defaultColor="",e&&((i=new t.ThemeHelper({stx:this})).settings=e,i.update()),this.updateListeners("theme"),this.changeOccurred("theme"),this.displayInitialized&&(this.headsUpHR(),this.clearPixelCache(),this.updateListeners("theme"),this.draw())}},D=e=>{var t,a;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,a="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":"Pacific/Pago_Pago","(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":"America/Chihuahua","(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":"America/Costa_Rica","(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-06:00) Saskatchewan":"America/Regina","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":"America/Port-au-Prince","(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":"America/Santiago","(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Cancun, Jamaica, Panama":"America/Panama","(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":"America/Sao_Paulo","(UTC-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(UTC-01:00) Azores":"Atlantic/Azores","(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Casablanca":"Africa/Casablanca","(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":"Europe/Bucharest","(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":"Africa/Johannesburg","(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":"Europe/Helsinki","(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Damascus":"Asia/Damascus","(UTC+02:00) Jerusalem":"Asia/Jerusalem","(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":"Europe/Istanbul","(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":"Asia/Riyadh","(UTC+03:00) Minsk, Moscow, Kirov, Simferopol":"Europe/Moscow","(UTC+03:00) Volgograd":"Europe/Volgograd","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":"Asia/Dubai","(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":"Asia/Kabul","(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":"Asia/Novosibirsk","(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":"Asia/Ulaanbaatar","(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":"Australia/Perth","(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":"Asia/Pyongyang","(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":"Asia/Yakutsk","(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":"Australia/Brisbane","(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":"Pacific/Guam","(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":"Pacific/Noumea","(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":"Asia/Srednekolymsk","(UTC+12:00) Anadyr, Kamchatka":"Asia/Kamchatka","(UTC+12:00) Auckland, Wellington":"Pacific/Auckland","(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":"Pacific/Chatham","(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":"Pacific/Kiritimati"},function(){var e,n,r,s,o,l,h,c,d,u;e=("undefined"!=typeof window?window:null)||(void 0!==i.g?i.g:{}),a.VERSION="0.4.11",n=e.$||e.jQuery||e.Zepto,r=e.fleegix,s=a.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=a.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],l={},h={},c={};for(var p=0;p<o.length;p++)l[o[p].substr(0,3)]=p;for(p=0;p<s.length;p++)h[s[p].substr(0,3)]=p;Array.prototype.indexOf,d=function(e,t){var i,a,n,r=I;if("number"!=typeof e)throw r.j16(0),r.o16(e,"not a number: ");if(r.U16(74),i=r.R16(e,1e3),n=(a=e.toString()).length,i&&n>t)return r.j16(7),a.substr(r.o16(n,t),n);for(a=[a];n<t;)a.unshift("0"),n++;return a.join("")},u=function(e){if(e){if(!e.url)throw new Error("URL must be specified");if("async"in e||(e.async=!0),!(r&&void 0!==r.xhr||n&&void 0!==n.ajax))throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");return e.async?r&&r.xhr?r.xhr.send({url:e.url,method:"get",handleSuccess:e.success,handleErr:e.error}):n.ajax({url:e.url,dataType:"text",method:"GET",error:e.error,success:e.success}):r&&r.xhr?r.xhr.doReq({url:e.url,async:!1}):n.ajax({url:e.url,async:!1,dataType:"text"}).responseText}},a.ruleCache={},I.i3j(),a.Date=function(){var e,t,i,n,r,s,o,l,h,c=I;if(e="str",e+="ing",t="[object A",t+="rr",t+="ay]",this===a)throw"timezoneJS.Date object must be constructed with 'new'";switch(i=Array.prototype.slice.apply(arguments),n=null,r=null,s=[],o=!1,Object.prototype.toString.call(i[0])===t&&(i=i[0]),typeof i[i.length-1]===e&&(o=Date.parse(i[i.length-1].replace(/GMT[+-]\d+/,"")),(isNaN(o)||null===o)&&(r=i.pop())),l=!1,i.length){case 0:n=new Date;break;case 1:n=new Date(i[0]),"string"==typeof i[0]&&-1==i[0].search(/[+-][0-9]{4}/)&&-1==i[0].search(/Z/)&&-1==i[0].search(/T/)&&(l=!0);break;case 2:c.U16(1),n=new Date(i[0],i[c.R16("1",1)]),l=!0;break;default:for(var d=0;d<7;d++)s[d]=i[d]||0;c.U16(7),n=new Date(s[c.R16("0",0)],s[1],s[2],s[3],s[4],s[5],s[6]),l=!0}if(isNaN(n.getTime()))throw h="Invalid d",h+="a",h+="te",new Error(h);this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,this.date=0,this.hours=0,c.i3j(),this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=r||null,l?this.setFromDateObjProxy(n):this.setFromTimeProxy(n.getTime(),r)},t.extend(a.Date.prototype,{getDate:function(){return I.z3j(),this.date},getDay:function(){return I.i3j(),this._day},getFullYear:function(){return this.year},getMonth:function(){return I.i3j(),this.month},getYear:function(){I.j16(146),I.z3j();var e=I.R16(1882,1895,6,2268,8);return this.year-e},getHours:function(){return this.hours},getMilliseconds:function(){return I.i3j(),this.milliseconds},getMinutes:function(){return this.minutes},getSeconds:function(){return this.seconds},getUTCDate:function(){return I.i3j(),this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){var e=I;e.U16(147);var t=e.R16(343,13,80,3,13);e.j16(148);var i=e.o16(17,52941,167,19);return this._timeProxy+this.getTimezoneOffset()*t*i},getTimezone:function(){return this.timezone},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){var e;return this._useCache?this._tzInfo:(e=this.timezone?"Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:"UTC"}:a.timezone.getTzInfo(this._timeProxy,this.timezone):{tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=e,this._useCache=!0,e)},getUTCDateProxy:function(){var e;return I.z3j(),(e=new Date(this._timeProxy)).setUTCMinutes(e.getUTCMinutes()+this.getTimezoneOffset()),e},setDate:function(e){return I.i3j(),this.setAttribute("date",e),this.getTime()},setFullYear:function(e,t,i){return void 0!==i&&this.setAttribute("date",1),this.setAttribute("year",e),void 0!==t&&this.setAttribute("month",t),void 0!==i&&this.setAttribute("date",i),this.getTime()},setMonth:function(e,t){return this.setAttribute("month",e),void 0!==t&&this.setAttribute("date",t),this.getTime()},setYear:function(e){return e=Number(e),I.i3j(),0<=e&&e<=99&&(e+=1900),this.setUTCAttribute("year",e),this.getTime()},setHours:function(e,t,i,a){return this.setAttribute("hours",e),void 0!==t&&this.setAttribute("minutes",t),void 0!==i&&this.setAttribute("seconds",i),void 0!==a&&this.setAttribute("milliseconds",a),I.z3j(),this.getTime()},setMinutes:function(e,t,i){return this.setAttribute("minutes",e),void 0!==t&&this.setAttribute("seconds",t),I.i3j(),void 0!==i&&this.setAttribute("milliseconds",i),this.getTime()},setSeconds:function(e,t){return this.setAttribute("seconds",e),void 0!==t&&this.setAttribute("milliseconds",t),this.getTime()},setMilliseconds:function(e){return this.setAttribute("milliseconds",e),this.getTime()},setTime:function(e){if(isNaN(e))throw new Error("Units must be a number.");return this.setFromTimeProxy(e,this.timezone),I.i3j(),this.getTime()},setUTCFullYear:function(e,t,i){return void 0!==i&&this.setUTCAttribute("date",1),I.z3j(),this.setUTCAttribute("year",e),void 0!==t&&this.setUTCAttribute("month",t),void 0!==i&&this.setUTCAttribute("date",i),this.getTime()},setUTCMonth:function(e,t){return this.setUTCAttribute("month",e),void 0!==t&&this.setUTCAttribute("date",t),this.getTime()},setUTCDate:function(e){return I.z3j(),this.setUTCAttribute("date",e),this.getTime()},setUTCHours:function(e,t,i,a){return this.setUTCAttribute("hours",e),void 0!==t&&this.setUTCAttribute("minutes",t),void 0!==i&&this.setUTCAttribute("seconds",i),void 0!==a&&this.setUTCAttribute("milliseconds",a),this.getTime()},setUTCMinutes:function(e,t,i){return this.setUTCAttribute("minutes",e),void 0!==t&&this.setUTCAttribute("seconds",t),void 0!==i&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCSeconds:function(e,t){return this.setUTCAttribute("seconds",e),I.i3j(),void 0!==t&&this.setUTCAttribute("milliseconds",t),this.getTime()},setUTCMilliseconds:function(e){return this.setUTCAttribute("milliseconds",e),this.getTime()},setFromDateObjProxy:function(e){this.year=e.getFullYear(),this.month=e.getMonth(),this.date=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this._day=e.getDay(),this._dateProxy=e,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(e,t){var i,n;i=new Date(e),n=t?a.timezone.getTzInfo(e,t,!0).tzOffset:i.getTimezoneOffset(),I.i3j(),i.setTime(e+6e4*(i.getTimezoneOffset()-n)),this.setFromDateObjProxy(i)},setAttribute:function(e,t){var i;if(isNaN(t))throw new Error("Units must be a number.");(i=this._dateProxy)["set"+("year"===e?"FullYear":e.substr(0,1).toUpperCase()+e.substr(1))](t),this.setFromDateObjProxy(i)},setUTCAttribute:function(e,t){var i,a;if(I.i3j(),isNaN(t))throw new Error("Units must be a number.");i="year"===e?"FullYear":e.substr(0,1).toUpperCase()+e.substr(1),(a=this.getUTCDateProxy())["setUTC"+i](t),a.setUTCMinutes(a.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(a.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(e){var t;t=this.getTimezoneInfo().tzOffset,I.i3j(),this.timezone=e,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+t)},removeTimezone:function(){this.timezone=null,this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return I.z3j(),this.timezone?new a.Date(this.getTime(),this.timezone):new a.Date(this.getTime())},toGMTString:function(){return I.z3j(),this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){var e=I;e.U16(0);var t=e.R16(6631,829);e.j16(29);var i=e.o16(10,31595,3509);e.U16(68);var a=e.o16(2278,76,152);e.U16(68);var n=e.o16(748943167,2,1497886338);e.U16(29),e.o16(4,1712,576),e.j16(29);var r=e.o16(14,118159,9090);return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+(959.57!=t?i==a?"0x20be">>n:"Z":r)},toJSON:function(){return I.z3j(),this.toISOString()},toDateString:function(){return I.z3j(),this.toString("EEE MMM dd yyyy")},toTimeString:function(){return I.i3j(),this.toString("H:mm k")},toString:function(e,t){var i,n,r,o;return e||(e="yyyy-MM-ddTHH:mm:ss.SSS"),i=e,n=t?a.timezone.getTzInfo(this.getTime(),t):this.getTimezoneInfo(),r=this,t&&(r=this.clone()).setTimezone(t),o=r.getHours(),i.replace(/a+/g,(function(){return I.i3j(),"k"})).replace(/y+/g,(function(e){return I.z3j(),d(r.getFullYear(),e.length)})).replace(/d+/g,(function(e){return d(r.getDate(),e.length)})).replace(/m+/g,(function(e){return I.z3j(),d(r.getMinutes(),e.length)})).replace(/s+/g,(function(e){return I.z3j(),d(r.getSeconds(),e.length)})).replace(/S+/g,(function(e){return d(r.getMilliseconds(),e.length)})).replace(/h+/g,(function(e){return I.i3j(),d(o%12==0?12:o%12,e.length)})).replace(/M+/g,(function(e){var t,i,n=I;return t=r.getMonth(),i=e.length,n.i3j(),i>3?a.Months[t]:i>2?(n.j16(35),a.Months[t].substring(n.R16(2047215104,"0"),i)):(n.U16(0),d(n.R16(1,t),i))})).replace(/k+/g,(function(){return o>=12?(o>12&&(I.j16(7),o-=I.R16("12",0)),"PM"):"AM"})).replace(/H+/g,(function(e){return I.z3j(),d(o,e.length)})).replace(/E+/g,(function(e){return I.i3j(),s[r.getDay()].substring(0,e.length)})).replace(/Z+/gi,(function(){return n.tzAbbr}))},toUTCString:function(){return I.z3j(),this.toGMTString()},civilToJulianDayNumber:function(e,t,i){var a,n,r=I;++t>12&&(r.U16(20),a=parseInt(r.o16(t,"12"),10),r.j16(82),t=r.R16(t,12),e+=a),t<=2&&(e-=1,t+=12),r.U16(149),a=Math.floor(r.R16(e,0,"100")),r.U16(140);var s=r.o16(7,3,6,3,16);r.j16(26);var o=r.o16(10,14,10,17,8);n=s-a+Math.floor(a/o),r.U16(31);var l=r.R16(4440,14,262);r.j16(16);var h=r.o16(1,18,19);r.U16(7);var c=r.R16(13,12);r.U16(125);var d=r.o16(5,305,20,4571);return Math.floor(365.25*(e+l))+Math.floor("30.6001"*h*(t+c))+i+n-d},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset()}},!0),a.timezone=new function(){var e,t,i;function n(e){var t,i,a,n;if(e[3])return t=parseInt(e[3],10),i=11,a=31,e[4]&&(i=l[e[4].substr(0,3)],a=parseInt(e[5],10)||1),[t,i,a,(n=e[6]?s(e[6]):[0,0,0])[0],n[1],n[2]]}function r(e,t){return I.j16(7),I.i3j(),-Math.ceil(I.R16(t,e))}function s(e){var t,i;return I.z3j(),t=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,(i=e.match(t))[1]=parseInt(i[1],10),i[2]=i[2]?parseInt(i[2],10):0,i[3]=i[3]?parseInt(i[3],10):0,i.slice(1,5)}function o(e){throw I.z3j(),I.j16(31),new Error(I.o16("' is either incorrect, or not loaded in the timezone registry.",e,"Timezone '"))}function d(t,i){var a,n,r,s,l=I;for(a="number"==typeof t?t:new Date(+t).getTime(),n=i,r=e.zones[n];"string"==typeof r;)n=r,r=e.zones[n];if(!r){if(!e.loadedZones.backward)return e.loadZoneFile("backward"),d(t,i);if(n&&n!==i)return e.lazyLoadZoneFiles(n),d(t,n);o(n)}if(0===r.length)throw l.j16(45),new Error(l.R16("No Zone found for '","' on ",t,i));for(var h=r.length-1;h>=0&&!((s=r[h])[3]&&a>s[3]);h--);return l.j16(0),r[l.R16(1,h)]}function p(a){var n,r,s,l;return(n=i[a])?n:(r=a.split("/")[0],(s=t[r])?s:(l=e.zones[a],I.z3j(),"string"==typeof l?p(l):e.loadedZones.backward?void o(a):(e.loadZoneFile("backward"),p(a))))}function m(e){var t,i,a=I;t=s(e),i="-"===e.charAt(0)?-1:1,a.U16(0);var n=a.o16(11,49);a.j16(33);var r=a.o16(6,11,18);a.U16(57);var o=a.o16(59,73,14,59);a.U16(7);var l=a.R16(40,38);a.j16(154);var h=a.o16(50,25,1,998);return t=i*(((t[0]*n+t[r])*o+t[l])*h),a.U16(155),a.R16(t,"1000",60)}e=this,t={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},i={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"},this.zoneFileBasePath=null,this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=p,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},I.z3j(),this.rules={},this.init=function(e){var t,i;for(var a in I.i3j(),t={async:!0},i=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica",e)t[a]=e[a];return this.loadZoneFiles(i,t)},this.loadZoneFiles=function(e,t){var i,a;if(I.z3j(),a=0,"string"==typeof e)return this.loadZoneFile(e,t);i=(t=t||{}).callback,t.callback=function(){++a===e.length&&"function"==typeof i&&i()};for(var n=0;n<e.length;n++)this.loadZoneFile(e[n],t)},this.loadZoneFile=function(t,i){if(void 0===this.zoneFileBasePath)throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");var a,n,r;if(!this.loadedZones[t])return I.i3j(),this.loadedZones[t]=!0,a=t,n=i,r=e.zoneFileBasePath+"/"+a,n&&n.async?e.transport({async:!0,url:r,success:function(t){return I.i3j(),e.parseZones(t)&&"function"==typeof n.callback&&n.callback()},error:function(){throw I.j16(31),I.i3j(),new Error(I.o16("' zoneinfo files",r,"Error retrieving '"))}}):e.parseZones(e.transport({url:r,async:!1}))},this.loadZoneJSONData=function(t,i){var a;return I.i3j(),a=function(t){for(var i in(t=JSON.parse(t)).zones)e.zones[i]=t.zones[i];for(var a in t.rules)e.rules[a]=t.rules[a]},i?a(e.transport({url:t,async:!1})):e.transport({url:t,success:a})},this.loadZoneDataFromObject=function(t){if(t){for(var i in t.zones)e.zones[i]=t.zones[i];for(var a in t.rules)e.rules[a]=t.rules[a]}},this.getAllZones=function(){var e;for(var t in I.i3j(),e=[],this.zones)e.push(t);return e.sort()},this.parseZones=function(t){var i,a,r,o,l,h=I;if(!t){for(var c=1;-1927428354!==h.v7D(c.toString(),c.toString().length,75389);c++)return!1;if(452442811!==h.v7D(2..toString(),2..toString().length,41023))return!0}i=t.split("\n"),a=[],o=null,l=null;for(var d=0;d<i.length;d++)if((r=i[d]).match(/^\s/)&&(h.j16(31),r=h.R16(r,o,"Zone ")),(r=r.split("#")[h.R16("0",0,h.U16(1))]).length>3)switch((a=r.split(/\s+/)).shift()){case"Zone":if(o=a.shift(),e.zones[o]||(e.zones[o]=[]),a.length<3)break;a.splice(3,a.length,n(a)),a[3]&&(a[3]=Date.UTC.apply(null,a[3])),a[0]=-m(a[0]),e.zones[o].push(a);break;case"Rule":l=a.shift(),e.rules[l]||(e.rules[l]=[]),a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||a[1],a[5]=s(a[5]),a[6]=m(a[6]),e.rules[l].push(a);break;case"Link":if(e.zones[a[1]]){h.j16(123);var u=h.o16(34,14,0,19);throw new Error("Error with Link "+a[u]+". Cannot create link of a preexisted zone.")}isNaN(a[0])?e.zones[a[1]]=a[0]:e.zones[a[1]]=parseInt(a[0],10)}return h.z3j(),!0},this.transport=u,this.getTzInfo=function(t,i,n){var s,o,u;return this.lazyLoadZoneFiles(i),o=+(s=d(t,i))[0],I.z3j(),(u=function(t,i,n,s){var o,d,u,p,m,g,f,v,y,b,x,C,S,T=I;if(o="number"==typeof t?new Date(t):t,d=i[1],u=i[0],p=d.match(/^([0-9]):([0-9][0-9])$/)){T.U16(96);var D=T.o16(100,13,8,95);T.j16(64);var w=T.o16(8372,16,13,59,660);T.U16(150);var k=T.o16(17,38,20,58,15);T.j16(7);var L=T.o16(16,6);return[-1e6,"max","-","Jan",1,[0,0,0],parseInt(p[1],D)*w+parseInt(p[k],L),"-"]}if(m=function(e,t,i){var a;if(a=0,"u"===t||"g"===t||"z"===t)a=0;else if("s"===t)a=u;else{if("w"!==t&&t)throw T.j16(0),new Error(T.o16(t,"unknown type "));a=r(u,i[6])}return T.U16(151),a*=T.R16("1000",60),new Date(e.getTime()+a)},g=function(e,t){var i,a,n,r,s,o,d;return i=e[0],n=(a=e[1])[5],c[i]||(c[i]={}),T.z3j(),c[i][a]?r=c[i][a]:(isNaN(a[4])?("last"===a[4].substr(0,4)?(r=new Date(Date.UTC(i,l[a[3]]+1,1,n[0]-24,n[1],n[2],0)),s=h[a[4].substr(4,T.o16(1,"3",T.j16(2)))],o="<="):(r=new Date(Date.UTC(i,l[a[3]],a[4].substr(5),n[0],n[1],n[2],0)),s=h[a[4].substr(0,3)],o=a[4].substr(3,2)),d=r.getUTCDay(),">="===o?r.setUTCDate(r.getUTCDate()+(s-d+(s<d?7:0))):r.setUTCDate(r.getUTCDate()+(s-d-(s>d?7:0)))):r=new Date(Date.UTC(i,l[a[3]],a[4],n[0],n[1],n[2],0)),c[i][a]=r),t&&(r=m(r,n[3],t)),r},T.z3j(),f=function(e,t){var i;i=[];for(var a=0;t&&a<t.length;a++)t[a][0]<=e&&(t[a][1]>=e||t[a][0]===e&&"only"===t[a][1]||"max"===t[a][1])&&i.push([e,t[a]]);return T.z3j(),i},v=function(e,t,i){var a,r;return e instanceof Date?i&&(e=m(e,n?"u":"w",i)):(T.U16(15),a=e[T.R16(2115909408,"0")],r=e[1],e=!i&&c[a]&&c[a][r]?c[a][r]:g(e,i)),t instanceof Date?i&&(t=m(t,n?"u":"w",i)):(a=t[0],T.U16(15),r=t[T.o16(1605647360,"1")],t=!i&&c[a]&&c[a][r]?c[a][r]:g(t,i)),e=Number(e),t=Number(t),T.j16(7),T.R16(e,t)},y=o.getUTCFullYear(),(x=a.ruleCache[s])||(x=a.ruleCache[s]={}),(b=x[y])||(T.U16(152),(b=(b=f(T.o16(1716882304,y,"1"),e.rules[d])).concat(f(y,e.rules[d]))).sort(v),x[y]=b),!b||!b.length)return null;for(var A=b.length-1;A>=0;A--)if(A>0?(T.U16(153),C=b[T.o16(1662959072,"1",A)][1]):C=null,(S=b[A])[2]||(T.U16(2),S[T.o16(1,"2")]=g(S,C)),v(o,S,C)>=0)return S[1];return null}(t,s,n,i))&&(o=r(o,u[6])),{tzOffset:o,tzAbbr:function(e,t){var i,a,n;if((i=e[2]).indexOf("%s")>-1){if(t){n=2;for(var r=1;-1131469163!==I.x3D(r.toString(),r.toString().length,8941);r++)a="-"===t[7]?"":t[7],n+=2;-1747026432!==I.v7D(n.toString(),n.toString().length,53101)&&(a=48680!=t[1]?"":t[8])}else a="S";return i.replace("%s",a)}return i.indexOf("/")>-1?i.split("/",2)[t&&t[6]?1:0]:i}(s,u)}},this.lazyLoadZoneFiles=function(e){var t;if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){if(!(t=p(e)))throw new Error("Not a valid timezone ID.");this.loadZoneFiles(t)}}}}.call("undefined"!=typeof window?window:void 0),a.timezone.loadingScheme=a.timezone.loadingSchemes.MANUAL_LOAD,a.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,"-","-01",null]],"Africa/Cairo":[[-120,"","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,"Morocco","+00/+01",15406956e5],[-60,"Morocco","+01/+00",null]],"Africa/Windhoek":[[-120,"Namibia","%s",null]],"Africa/Johannesburg":[[-120,"","SAST",null]],"Africa/Tunis":[[-60,"","CE%sT",null]],"Antarctica/Troll":[[0,"Troll","%s",null]],"Asia/Kabul":[[-270,"-","+0430",null]],"Asia/Baku":[[-240,"","+04/+05",null]],"Asia/Dhaka":[[-360,"","+06/+07",null]],"Asia/Yangon":[[-390,"-","+0630",null]],"Asia/Shanghai":[[-480,"","C%sT",null]],"Asia/Hong_Kong":[[-480,"","HK%sT",null]],"Asia/Taipei":[[-480,"","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia","EE%sT",null]],"Asia/Kolkata":[[-330,"-","IST",null]],"Asia/Tehran":[[-210,"Iran","+0330/+0430",null]],"Asia/Jerusalem":[[-120,"Zion","I%sT",null]],"Asia/Tokyo":[[-540,"","J%sT",null]],"Asia/Amman":[[-120,"Jordan","EE%sT",null]],"Asia/Almaty":[[-360,"-","ALMT",null]],"Asia/Seoul":[[-540,"","K%sT",null]],"Asia/Pyongyang":[[-510,"-","KST",15254766e5],[-540,"-","KST",null]],"Asia/Beirut":[[-120,"Lebanon","EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-420,"","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol","+08/+09",null]],"Asia/Kathmandu":[[-345,"-","+0545",null]],"Asia/Karachi":[[-300,"","PK%sT",null]],"Asia/Hebron":[[-120,"Palestine","EE%sT",null]],"Asia/Riyadh":[[-180,"-","+03",null]],"Asia/Damascus":[[-120,"Syria","EE%sT",null]],"Asia/Bangkok":[[-420,"-","+07",null]],"Asia/Dubai":[[-240,"-","+04",null]],"Australia/Darwin":[[-570,"","AC%sT",null]],"Australia/Perth":[[-480,"","AW%sT",null]],"Australia/Eucla":[[-525,"AW","+0845/+0945",null]],"Australia/Brisbane":[[-600,"","AE%sT",null]],"Australia/Adelaide":[[-570,"AS","AC%sT",null]],"Australia/Hobart":[[-600,"AT","AE%sT",null]],"Australia/Melbourne":[[-600,"AV","AE%sT",null]],"Australia/Sydney":[[-600,"AN","AE%sT",null]],"Australia/Lord_Howe":[[-630,"LH","+1030/+11",null]],"Pacific/Fiji":[[-720,"Fiji","+12/+13",null]],"Pacific/Guam":[[-600,"-","ChST",null]],"Pacific/Kiritimati":[[-840,"-","+14",null]],"Pacific/Noumea":[[-660,"","+11/+12",null]],"Pacific/Auckland":[[-720,"NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,"Chatham","+1245/+1345",null]],"Pacific/Pago_Pago":[[660,"-","SST",null]],"Pacific/Apia":[[-780,"WS","+13/+14",null]],"Pacific/Tongatapu":[[-780,"","+13/+14",null]],"Etc/UTC":[[0,"-","UTC",null]],UTC:"Etc/UTC","Europe/London":[[0,"EU","GMT/BST",null]],"Europe/Dublin":[[0,"Eire","IST/GMT",null]],WET:[[0,"EU","WE%sT",null]],CET:[[-60,"C-Eur","CE%sT",null]],MET:[[-60,"C-Eur","ME%sT",null]],EET:[[-120,"EU","EE%sT",null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"America/Thule":[[240,"Thule","A%sT",null]],"Europe/Helsinki":[[-120,"EU","EE%sT",null]],"Europe/Paris":[[-60,"EU","CE%sT",null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU","-01/+00",null]],"Europe/Bucharest":[[-120,"EU","EE%sT",null]],"Europe/Kaliningrad":[[-120,"-","EET",null]],"Europe/Moscow":[[-180,"-","MSK",null]],"Europe/Volgograd":[[-180,"-","+03",1540692e6],[-240,"-","+04",16090344e5],[-180,"-","+03",null]],"Europe/Samara":[[-240,"-","+04",null]],"Asia/Yekaterinburg":[[-300,"-","+05",null]],"Asia/Omsk":[[-360,"-","+06",null]],"Asia/Novosibirsk":[[-420,"-","+07",null]],"Asia/Novokuznetsk":[[-420,"-","+07",null]],"Asia/Krasnoyarsk":[[-420,"-","+07",null]],"Asia/Irkutsk":[[-480,"-","+08",null]],"Asia/Yakutsk":[[-540,"-","+09",null]],"Asia/Vladivostok":[[-600,"-","+10",null]],"Asia/Magadan":[[-660,"-","+11",null]],"Asia/Srednekolymsk":[[-660,"-","+11",null]],"Asia/Kamchatka":[[-720,"-","+12",null]],"Europe/Belgrade":[[-60,"EU","CE%sT",null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Istanbul":[[-180,"-","+03",null]],"America/New_York":[[300,"US","E%sT",null]],"America/Chicago":[[360,"US","C%sT",null]],"America/Denver":[[420,"US","M%sT",null]],"America/Los_Angeles":[[480,"US","P%sT",null]],"America/Juneau":[[540,"US","AK%sT",null]],"Pacific/Honolulu":[[600,"-","HST",null]],"America/Phoenix":[[420,"-","MST",null]],"America/St_Johns":[[210,"Canada","N%sT",null]],"America/Halifax":[[240,"Canada","A%sT",null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,"Mexico","M%sT",null]],"America/Costa_Rica":[[360,"","C%sT",null]],"America/Havana":[[300,"Cuba","C%sT",null]],"America/Port-au-Prince":[[300,"Haiti","E%sT",null]],"America/Panama":[[300,"-","EST",null]],"America/Puerto_Rico":[[240,"-","AST",null]],"America/Argentina/Buenos_Aires":[[180,"","-03/-02",null]],"America/Sao_Paulo":[[180,"Brazil","-03/-02",null]],"America/Santiago":[[240,"Chile","-04/-03",null]],"America/Punta_Arenas":[[180,"-","-03",null]],"America/Bogota":[[300,"","-05/-04",null]],"America/Asuncion":[[240,"Para","-04/-03",null]],"Atlantic/South_Georgia":[[120,"-","-02",null]],"America/Montevideo":[[180,"","-03/-02",null]],"America/Caracas":[[240,"-","-04",null]],"Europe/Athens":"Europe/Bucharest","Europe/Simferopol":"Europe/Moscow","Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":"Asia/Riyadh","Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul"},rules:{Morocco:[[2013,2018,"-","Oct","lastSun",[3,0,0,null],0,"-"],[2014,2018,"-","Mar","lastSun",[2,0,0,null],60,"-"],[2017,"only","-","May","21",[3,0,0,null],0,"-"],[2017,"only","-","Jul","2",[2,0,0,null],60,"-"],[2018,"only","-","May","13",[3,0,0,null],0,"-"],[2018,"only","-","Jun","17",[2,0,0,null],60,"-"],[2019,"only","-","May","5",[3,0,0,null],-60,"-"],[2019,"only","-","Jun","9",[2,0,0,null],0,"-"],[2020,"only","-","Apr","19",[3,0,0,null],-60,"-"],[2020,"only","-","May","31",[2,0,0,null],0,"-"],[2021,"only","-","Apr","11",[3,0,0,null],-60,"-"],[2021,"only","-","May","16",[2,0,0,null],0,"-"],[2022,"only","-","Mar","27",[3,0,0,null],-60,"-"],[2022,"only","-","May","8",[2,0,0,null],0,"-"],[2023,"only","-","Mar","19",[3,0,0,null],-60,"-"],[2023,"only","-","Apr","30",[2,0,0,null],0,"-"],[2024,"only","-","Mar","10",[3,0,0,null],-60,"-"],[2024,"only","-","Apr","14",[2,0,0,null],0,"-"],[2025,"only","-","Feb","23",[3,0,0,null],-60,"-"],[2025,"only","-","Apr","6",[2,0,0,null],0,"-"]],Namibia:[[1994,2017,"-","Sep","Sun>=1",[2,0,0,null],0,"CAT"],[1995,2017,"-","Apr","Sun>=1",[2,0,0,null],-60,"WAT"]],Troll:[[2005,"max","-","Mar","lastSun",[1,0,0,"u"],120,"+02"],[2004,"max","-","Oct","lastSun",[1,0,0,"u"],0,"+00"]],EUAsia:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],Iran:[[2017,2019,"-","Mar","21",[24,0,0,null],60,"-"],[2017,2019,"-","Sep","21",[24,0,0,null],0,"-"],[2020,"only","-","Mar","20",[24,0,0,null],60,"-"],[2020,"only","-","Sep","20",[24,0,0,null],0,"-"],[2021,2023,"-","Mar","21",[24,0,0,null],60,"-"],[2021,2023,"-","Sep","21",[24,0,0,null],0,"-"],[2024,"only","-","Mar","20",[24,0,0,null],60,"-"],[2024,"only","-","Sep","20",[24,0,0,null],0,"-"],[2025,2027,"-","Mar","21",[24,0,0,null],60,"-"],[2025,2027,"-","Sep","21",[24,0,0,null],0,"-"]],Zion:[[2013,"max","-","Mar","Fri>=23",[2,0,0,null],60,"D"],[2013,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],Jordan:[[2014,"max","-","Mar","lastThu",[24,0,0,null],60,"S"],[2014,"max","-","Oct","lastFri",[0,0,0,"s"],0,"-"]],Lebanon:[[1993,"max","-","Mar","lastSun",[0,0,0,null],60,"S"],[1999,"max","-","Oct","lastSun",[0,0,0,null],0,"-"]],Palestine:[[2016,2018,"-","Mar","Sat>=24",[1,0,0,null],60,"S"],[2016,2018,"-","Oct","Sat>=24",[1,0,0,null],0,"-"],[2019,"only","-","Mar","29",[0,0,0,null],60,"S"],[2019,"only","-","Oct","Sat>=24",[0,0,0,null],60,"-"],[2020,"max","-","Mar","Sat>=24",[0,0,0,null],60,"S"],[2020,"max","-","Oct","Sat>=24",[1,0,0,null],60,"-"]],Syria:[[2012,"max","-","Mar","lastFri",[0,0,0,null],60,"S"],[2009,"max","-","Oct","lastFri",[0,0,0,null],0,"-"]],AS:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],AT:[[2001,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],AV:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],AN:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],LH:[[2008,"max","-","Apr","Sun>=1",[2,0,0,null],0,"-"],[2008,"max","-","Oct","Sun>=1",[2,0,0,null],30,"-"]],Fiji:[[2014,2018,"-","Nov","Sun>=1",[2,0,0,null],60,"-"],[2015,"max","-","Jan","Sun>=12",[3,0,0,null],0,"-"],[2019,"only","-","Nov","Sun>=8",[2,0,0,null],60,"-"],[2020,"only","-","Dec","20",[2,0,0,null],60,"-"],[2021,"max","-","Nov","Sun>=8",[2,0,0,null],60,"-"]],NZ:[[2007,"max","-","Sep","lastSun",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],Chatham:[[2007,"max","-","Sep","lastSun",[2,45,0,"s"],60,"-"],[2008,"max","-","Apr","Sun>=1",[2,45,0,"s"],0,"-"]],WS:[[2012,"max","-","Apr","Sun>=1",[4,0,0,null],0,"-"],[2012,"max","-","Sep","lastSun",[3,0,0,null],60,"-"]],Eire:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],0,"-"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],-60,"-"]],EU:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],"C-Eur":[[1981,"max","-","Mar","lastSun",[2,0,0,"s"],60,"S"],[1996,"max","-","Oct","lastSun",[2,0,0,"s"],0,"-"]],Thule:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],US:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Canada:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Mexico:[[2002,"max","-","Apr","Sun>=1",[2,0,0,null],60,"D"],[2002,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],Cuba:[[2012,"max","-","Nov","Sun>=1",[0,0,0,"s"],0,"S"],[2013,"max","-","Mar","Sun>=8",[0,0,0,"s"],60,"D"]],Haiti:[[2017,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2017,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Brazil:[[2008,2017,"-","Oct","Sun>=15",[0,0,0,null],60,"-"],[2016,2019,"-","Feb","Sun>=15",[0,0,0,null],0,"-"],[2018,"only","-","Nov","Sun>=1",[0,0,0,null],60,"-"]],Chile:[[2016,2018,"-","May","Sun>=9",[3,0,0,"u"],0,"-"],[2016,2018,"-","Aug","Sun>=9",[4,0,0,"u"],60,"-"],[2019,"max","-","Apr","Sun>=2",[3,0,0,"u"],0,"-"],[2019,"max","-","Sep","Sun>=2",[4,0,0,"u"],60,"-"]],Para:[[2010,"max","-","Oct","Sun>=1",[0,0,0,null],60,"-"],[2013,"max","-","Mar","Sun>=22",[0,0,0,null],0,"-"]]}})},w=e=>{var t,i;function a(e,i,a){var n;e.layout.crosshair||(t.ChartEngine.crosshairY=0,t.ChartEngine.crosshairX=0,e.cx=e.backOutX(0),e.cy=e.backOutY(0),e.findHighlights(null,!0),t.ChartEngine.crosshairY=a,t.ChartEngine.crosshairX=i,n=e.container.getBoundingClientRect(),e.top=n.top,e.left=n.left,e.right=e.left+e.width,e.bottom=e.top+e.height,e.cx=e.backOutX(i),e.cy=e.backOutY(a),e.currentPanel&&e.currentPanel.chart.dataSet&&(e.crosshairTick=e.tickFromPixel(e.cx,e.currentPanel.chart),e.crosshairValue=e.adjustIfNecessary(e.currentPanel,e.crosshairTick,e.valueFromPixel(e.cy,e.currentPanel))),e.headsUpHR()),I.z3j(),e.findHighlights(!0),e.draw()}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.touchSingleClick=function(e,i,n){var r,s;return r=this,I.i3j(),s=arguments,function(){I.z3j(),function(){var e,r,o;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",s))return;if(this.editingAnnotation)return;if(this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},!this.displayCrosshairs)return;if(!this.displayInitialized)return;if(""!==this.openDialog)return;if(i<this.left||i>this.right||n<this.top||n>this.bottom)return;e=this.backOutY(t.ChartEngine.crosshairY),r=this.backOutX(t.ChartEngine.crosshairX),this.currentPanel=this.whichPanel(e),o=this.currentVectorParameters.vectorType,t.Drawing&&o&&t.Drawing[o]&&(new t.Drawing[o]).dragToDraw||(this.drawingClick(this.currentPanel,r,e)||a(this,i,n),this.currentVectorParameters.vectorType||this.activeMarker&&this.activeMarker.click({cx:r,cy:e,panel:this.currentPanel})||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:r,y:e}))}this.runAppend("touchSingleClick",s)}.apply(r,s)}},t.ChartEngine.prototype.touchDoubleClick=function(e,i,n){var r;if(r="double",I.i3j(),r+="Tap",!this.runPrepend("touchDoubleClick",arguments)&&!this.editingAnnotation)return t.ChartEngine.drawingLine?this.undo():void(this.activeDrawing||(a(this,i,n),this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:n,panel:this.currentPanel})||this.dispatch(r,{stx:this,finger:e,x:i,y:n}),this.runAppend("touchDoubleClick",arguments)))},t.ChartEngine.prototype.startProxy=function(e){I.z3j(),this.touchPointerType=e.pointerType,"touch"==this.touchPointerType?(this.mouseMode=!1,this.touches[this.touches.length]={pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY},this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],1==this.touches.length&&(this.gesturePointerId=e.pointerId),this.touchstart(e)):this.mouseMode=!0},t.ChartEngine.prototype.moveProxy=function(e){e.pointerType&&"touch"!=e.pointerType?this.mouseMode=!0:(this.mouseMode=!1,this.touchmove(e))},t.ChartEngine.prototype.endProxy=function(e){var t;if("touch"==this.touchPointerType){this.mouseMode=!1,I.i3j(),t=this.touches.length;for(var i=0;i<this.touches.length;i++)if(this.touches[i].pointerId==e.pointerId){this.touches.splice(i,1);break}if(i==t)return this.touches=[],this.grabbingScreen=!1,void(this.touching=!1);this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],this.touchend(e)}else this.mouseMode=!0},t.ChartEngine.prototype.msMouseMoveProxy=function(e){!this.touches.length&&this.mouseMode&&(I.z3j(),this.mousemove(e))},t.ChartEngine.prototype.msMouseDownProxy=function(e){this.mouseMode&&(I.z3j(),this.mousedown(e))},t.ChartEngine.prototype.msMouseUpProxy=function(e){this.mouseMode&&(I.i3j(),this.mouseup(e))},t.ChartEngine.prototype.iosMouseMoveProxy=function(e){this.touching||this.mousemove(e)},t.ChartEngine.prototype.iosMouseDownProxy=function(e){I.z3j(),this.touching?this.mouseMode=!1:(this.mouseMode=!0,this.mousedown(e))},t.ChartEngine.prototype.iosMouseUpProxy=function(e){this.touching||(I.z3j(),this.mouseup(e))},t.ChartEngine.prototype.touchmove=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F,H,q,E,V,N,j,R,z,U,Z,W,Y,B,Q,X=I;if(i="to",i+="uc",i+="hmove",this.displayInitialized&&""===this.openDialog&&!0!==t.ChartEngine.ignoreTouch){if(a=[],(!this.overYAxis||this.controls&&this.controls.crossX&&"none"!=this.controls.crossX.style.display)&&(e&&e.preventDefault&&e.cancelable&&this.captureTouchEvents&&e.preventDefault(),e&&e.stopPropagation()),n=(new Date).getTime(),-1==this.clicks.s2MS){if(this.clicks.e1MS=n,this.clicks.e1MS-this.clicks.s1MS<25)return}else if(this.clicks.e2MS=n,this.clicks.e2MS-this.clicks.s2MS<25)return;if(e.pointerType||(e.pointerType=this.touchPointerType),t.isSurface){if(this.mouseMode)return;e.pointerId||(e.pointerId=this.gesturePointerId);for(var G=0;G<this.touches.length;G++)if(this.touches[G].pointerId==e.pointerId){if(r=Math.abs(this.touches[G].pageX-e.clientX),s=Math.abs(this.touches[G].pageY-e.clientY),X.U16(38),!Math.sqrt(X.o16(r,s,s,r)))return;if(this.clicks.e1MS=(new Date).getTime(),this.clicks.e1MS-this.clicks.s1MS<50)return;if(this.touches[G].pageX==e.clientX&&this.touches[G].pageY==e.clientY)return;this.touches[G].pageX=this.touches[G].clientX=e.clientX,this.touches[G].pageY=this.touches[G].clientY=e.clientY;break}if(0===G?this.movedPrimary=!0:this.movedSecondary=!0,G==this.touches.length)return;this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],a=this.touches.length?this.touches:this.changedTouches}else a=e.touches,this.changedTouches=e.changedTouches;if(!(1==a.length&&Math.pow(this.clicks.x-a[0].clientX,2)+Math.pow(this.clicks.y-a[0].clientY,2)<=16)){if(o=this.crosshairXOffset,l=this.crosshairYOffset,h=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,c=!this.layout.crosshair&&!h&&!this.touchNoPan,"pen"==e.pointerType||c||this.activeDrawing&&"freeform"==this.activeDrawing.name){d=1379041846,u=-1382781785,X.U16(27),p=X.o16("2",2147483647);for(var K=1;X.x3D(K.toString(),K.toString().length,56564)!==d;K++)o=l=2,p+=2;X.v7D(p.toString(),p.toString().length,32572)!==u&&(o=l=2),o=l=0}if(!this.runPrepend("touchmove",arguments)){if(t.ChartEngine.resizingPanel)return X.j16(34),m=(f=a[X.R16(0,"0")]).clientX,g=f.clientY,X.j16(0),void this.mousemoveinner(X.o16(o,m),X.o16(l,g));if(-1!=this.moveB&&(this.touchMoveTime=new Date),this.moveA=this.moveB,this.moveB=a[0].pageX,1!=a.length||this.twoFingerStart){if(2==a.length){if(!this.allowZoom||this.activeDrawing&&!this.allowDrawingZoom)return;if(!this.displayCrosshairs)return;S=(C=a[0]).clientX,T=C.clientY,w=(D=a[1]).clientX,k=D.clientY,X.j16(156),v=Math.sqrt(X.o16(T,S,k,w,T,S,k,w)),X.U16(18);var $=X.o16(16,222,14,0);if(this.pinchingCenter=(Math.min(S,w)-Math.max(S,w))/$,L=Math.round(this.gestureStartDistance-v),c&&(this.pinchingScreen=5),this.clearPixelCache(),this.pinchingScreen<2){if(t.isSurface&&(!this.movedPrimary||!this.movedSecondary))return;if(S<this.pt.x1&&w<this.pt.x2||S>this.pt.x1&&w>this.pt.x2||T<this.pt.y1&&k<this.pt.y2||T>this.pt.y1&&k>this.pt.y2)this.pinchingScreen=0;else if(this.pinchingScreen++,this.pinchingScreen<2)return}if(this.pt={x1:S,x2:w,y1:T,y2:k},0===this.pinchingScreen)A="p",A+="a",A+="n",this.grabMode=A,X.U16(0),this.mousemoveinner(X.o16(o,S),X.R16(l,T)),this.gestureStartDistance=v;else if(this.grabStartValues){if(M=Math.asin((Math.max(k,T)-Math.min(k,T))/v),Math.abs(L)<12&&!c){if(this.moveCount++,4==this.moveCount)return this.pinchingScreen=0,void(this.moveCount=0)}else this.moveCount=0;if(M<1||!this.goneVertical&&M<1.37){if(!this.currentPanel)return;P=this.currentPanel.chart,this.goneVertical=!1,v=this.pt.x2-this.pt.x1,O=this.grabStartValues.t2-this.grabStartValues.t1||1,X.U16(18);var J=X.R16(2,38,20,0);_=this.grabStartValues.t1+O/J,X.j16(8),F=Math.abs(X.o16(O,v)),!1===P.allowScrollFuture&&!1===P.allowScrollPast&&(F=Math.max(F,P.width/P.dataSet.length)),H=643071491,q=728585765,E=2;for(var ee=1;X.x3D(ee.toString(),ee.toString().length,45252)!==H;ee++)V=this.layout.candleWidth,this.setCandleWidth(F,P),E+=2;if(X.x3D(E.toString(),E.toString().length,64064)!==q&&(V=this.layout.candleWidth,this.setCandleWidth(F,P)),P.maxTicks<this.minimumZoomTicks)return void this.setCandleWidth(V,P);this.micropixels=0,N=this.pixelFromTick(Math.round(_),P),X.U16(157);var te=X.o16(17,9,11,15,2);j=this.pt.x1-this.left+Math.round(v/te),X.U16(7),R=X.o16(N,j),X.U16(8),z=X.R16(F,R),U=Math.round(z),P.scroll-=U,X.j16(7),this.microscroll=X.R16(U,z),this.micropixels=F*this.microscroll,this.draw()}else if(Z=this.grabStartYAxis,this.goneVertical=!0,Z){if(Z.zoom=this.grabStartZoom+(this.gestureStartDistance-v),this.grabStartZoom<Z.height)Z.zoom>=Z.height&&(Z.zoom=Z.height-1);else{W=-944364038,Y=-270685185,B=2;for(var ie=1;X.x3D(ie.toString(),ie.toString().length,6459)!==W;ie++)Z.zoom>=Z.height&&(Z.zoom=Z.height%2),B+=2;if(X.x3D(B.toString(),B.toString().length,89040)!==Y&&Z.zoom>=Z.height){X.j16(7);var ae=X.R16(10,8);Z.zoom=Z.height%ae}if(Z.zoom<=Z.height){X.j16(96);var ne=X.o16(0,11,2,8);Z.zoom=Z.height+ne}}this.draw()}this.updateChartAccessories()}}else if(3==a.length&&t.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs)return;Q=a[0].clientX,v=this.grabStartX-Q,X.j16(18);var re=X.o16(14,22,2,2);this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(v/re),this.grabEndPeriodicity<1&&(this.grabEndPeriodicity=1)}}else X.U16(35),m=(y=a[X.o16(860704288,"0")]).clientX,g=y.clientY,X.U16(34),this.pinchingScreen=X.R16(0,"0"),X.j16(0),this.mousemoveinner(X.o16(o,m),X.o16(l,g)),b=this.whichPanel(g),x=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=g<=this.top+x&&g>=x-this.xaxisHeight+this.top&&this.insideChart,this.overYAxis=!!b&&(m>=b.right||m<=b.left)&&this.insideChart;this.runAppend(i,arguments)}}}},t.ChartEngine.prototype.touchstart=function(e){var i,n,r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,_,F=I;if(i="t",i+="o",i+="uchstart",!t.ChartEngine.ignoreTouch&&(t.isSurface?(this.movedPrimary=!1,this.movedSecondary=!1):(this.touchingEvent&&clearTimeout(this.touchingEvent),this.touching=!0,this.touches=e.touches,this.changedTouches=e.changedTouches),!t.ChartEngine.resizingPanel&&(n=this.crosshairXOffset,r=this.crosshairYOffset,"pen"==this.touchPointerType&&(F.U16(35),n=r=F.R16(1139384192,"0")),!this.runPrepend(i,arguments)))){var H,q,E,{layout:V}=this,{vectorType:N}=this.currentVectorParameters;if(s=V.crosshair&&""!==N||N,this.manageTouchAndMouse&&e&&e.preventDefault&&e.cancelable&&this.captureTouchEvents&&e.preventDefault(),this.hasDragged=!1,this.doubleFingerMoves=0,this.moveCount=0,this.twoFingerStart=!1,1==this.touches.length||2==this.touches.length){if(this.touchMoveTime=Date.now(),u=this.touches[0],h=u.clientX,c=u.clientY,this.moveA=h,this.moveB=-1,""===this.openDialog&&(p="do",p+="w",p+="n",this.registerPointerEvent({x:h,y:c,time:this.touchMoveTime},p),1!=this.changedTouches.length||this.isDoubleClick(!0)||t.extend(this.clicks,{s1MS:this.touchMoveTime,e1MS:-1,s2MS:-1,e2MS:-1,x:this.changedTouches[0].pageX,y:this.changedTouches[0].pageY})),m=this.container.getBoundingClientRect(),this.top=m.top,this.left=m.left,this.right=this.left+this.width,this.bottom=this.top+this.height,1==this.touches.length&&(g=this.backOutY(c),this.currentPanel=this.whichPanel(g)),this.currentPanel||(this.currentPanel=this.chart.panel),d=this.currentPanel,h>=this.left&&h<=this.right&&c>=this.top&&c<=this.bottom){this.insideChart=!0,f=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=c<=this.top+f&&c>=this.top+f-this.xaxisHeight,this.overYAxis=h>=this.left+d.right||h<=this.left+d.left,v=-1,this.cy=this.backOutY(c),this.cx=this.backOutX(h),this.crosshairTick=this.tickFromPixel(this.cx,d.chart),this.crosshairValue=this.adjustIfNecessary(d,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var j=0;j<this.drawingObjects.length;j++)if((y=this.drawingObjects[j]).highlighted){if(v<0&&(v=j),b=y.highlighted,this.findHighlights(!0),j==v&&y.highlighted&&!y.permanent)return void(-1==this.clicks.s2MS?this.activateRepositioning(y):this.findHighlights(!1,!0));this.anyHighlighted=!0,y.highlighted=b}}else this.insideChart=!1;if(!this.insideChart||s||"floating"===V.headsUp||V.headsUp&&V.headsUp.floating||N||this.touchNoPan){if(this.grabbingScreen=!1,this.insideChart&&d.subholder===e.target&&(A=this.currentVectorParameters.vectorType,t.Drawing&&A&&t.Drawing[A]&&(new t.Drawing[A]).dragToDraw))return this.userPointerDown=!0,t.ChartEngine.crosshairX=h,t.ChartEngine.crosshairY=c,d&&d.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.backOutX(t.ChartEngine.crosshairX),this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(d,this.crosshairTick,this.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),this.currentPanel))),this.drawingClick(d,this.backOutX(h),this.backOutY(c)),void this.headsUpHR()}else{n=r=0;var{baselineHelper:R}=this;if(R.size&&this.findBaselineHandle(e,!0))return;if(this.controls.anchorHandles){x=Object.values(this.controls.anchorHandles),C=!1;for(var z=0;z<x.length;z++){S=x[z];var{handle:U,sd:Z}=S;T=this.resolveX(this.cx),D=this.resolveY(this.cy);var{left:W,top:Y,right:B,bottom:Q}=U.getBoundingClientRect();w=this.preferences.highlightsTapRadius,F.U16(7),(k=t.boxIntersects(F.o16(W,w),Y,F.R16(w,B,F.U16(0)),Q,T,D,T,D))&&(L="stx",L+="-gr",L+="a",L+="b",this.repositioningAnchorSelector={sd:Z},U.classList.add(L),C=!0),S.highlighted=k}if(C)return}for(o in this.panels)if((l=this.panels[o]).highlighted)return void this.grabHandle(l);this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),d.chart.spanLock=!1,this.yToleranceBroken=!1,F.U16(0),this.grabStartX=F.o16(n,h),F.j16(0),this.grabStartY=F.R16(r,c),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=d.chart.scroll,this.grabStartScrollY=d.yAxis.scroll,this.grabStartPanel=this.currentPanel,this.swipeStart&&this.swipeStart(d.chart),this.grabStartYAxis=this.whichYAxis(d,this.backOutX(h)),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,setTimeout((q=this,F.z3j(),function(){F.z3j(),q.grabbingHand()}),100)}1==this.touches.length&&(s?N||d.subholder!==e.target||(F.j16(0),this.mousemoveinner(F.R16(n,h),F.o16(r,c))):(this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer((H=this,()=>(F.i3j(),a(H,h,c))))))}if(2==this.touches.length){if(this.cancelLongHold=!0,this.swipe.end=!0,!this.displayCrosshairs&&!this.touchNoPan||!this.insideChart)return;for(o in P=(M=this.touches[1]).clientX,O=M.clientY,this.panels)if((l=this.panels[o]).highlighted)return void this.grabHandle(l);d=this.currentPanel,F.U16(156),this.gestureStartDistance=Math.sqrt(F.R16(c,h,O,P,c,h,O,P)),this.pt={x1:h,x2:P,y1:c,y2:O},this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),d.chart.spanLock=!1,F.j16(0),this.grabStartX=F.R16(n,h),F.U16(0),this.grabStartY=F.R16(r,c),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=d.chart.scroll,this.grabStartScrollY=d.yAxis.scroll,this.grabStartPanel=d,this.swipeStart&&this.swipeStart(d.chart),this.grabStartCandleWidth=V.candleWidth,this.grabStartYAxis=this.whichYAxis(d,this.backOutX((h+P)/2))||d.yAxis,this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPt=this.pt,this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,d),y2:this.valueFromPixel(this.pt.y2-this.top,d),t1:this.tickFromPixel(this.pt.x1-this.left,d.chart),t2:this.tickFromPixel(this.pt.x2-this.left,d.chart)},this.twoFingerStart=!0,setTimeout((E=this,function(){F.i3j(),E.grabbingHand()}),100)}else if(3==this.touches.length){if(!this.displayCrosshairs)return;_=this.touches[0].clientX,this.grabStartX=_,this.grabStartPeriodicity=V.periodicity}this.runAppend("touchstart",arguments)}},t.ChartEngine.prototype.touchend=function(e){var i,a,n,r,s,o,l,h,c,d,u,p,m=I;if(!t.ChartEngine.ignoreTouch&&(this.swipe.end=!0,t.isSurface||(this.touches=e.touches,this.changedTouches=e.changedTouches),!this.runPrepend("touchend",arguments))){var g,{touches:f,layout:v}=this,{vectorType:y}=this.currentVectorParameters;if(i=v.crosshair&&""!==y||y,this.cancelLongHold=!0,f.length<=1&&i&&(f.length&&this.twoFingerStart||(this.grabbingScreen=!1)),f.length&&(m.j16(1),this.grabStartX=-m.o16("1",1),this.grabStartY=-1),a=this.pinchingScreen,this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),f.length){if(t.ChartEngine.resizingPanel)return}else{if(this.touchingEvent=setTimeout((g=this,function(){m.i3j(),g.touching=!1}),500),t.ChartEngine.resizingPanel)return void this.releaseHandle();this.pinchingScreen=null,this.pinchingCenter=null,this.goneVertical=!1,this.grabbingScreen=!1,this.grabMode="",this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(this.cx,this.cy),this.currentPanel=this.whichPanel(this.cy)),this.grabStartYAxis=null,this.displayDragOK(),this.doDisplayCrosshairs(),this.updateChartAccessories()}m.j16(22);var b=m.o16(10,11);if(n=f.length+b,1===this.changedTouches.length){if(r=Date.now(),m.j16(7),s=this.changedTouches[m.o16("0",0)],o=this.backOutY(s.pageY)+this.crosshairYOffset,l=this.backOutX(s.pageX)+this.crosshairXOffset,c=(h=this.currentPanel)&&h.subholder===e.target,this.repositioningDrawing)return this.changeOccurred("vector"),t.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.draw(),void(i||this.findHighlights(!1,!0));if(this.repositioningBaseline)return this.repositioningBaseline=null,this.controls.baselineHandle.classList.remove("stx-grab"),(d=this.mainSeriesRenderer||{}).params&&d.params.baseline&&d.params.type,void this.draw();if(this.repositioningAnchorSelector)return this.repositioningAnchorSelector.hoverTick||(this.repositioningAnchorSelector.hoverTick=this.tickFromPixel(l-this.crosshairXOffset,this.chart)),t.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd),this.repositioningAnchorSelector=null,void Object.values(this.controls.anchorHandles).forEach((({handle:e})=>e.classList.remove("stx-grab")));if(""===this.openDialog&&e.changedTouches.length&&(u=e.changedTouches[0],this.registerPointerEvent({x:u.clientX,y:u.clientY,time:r},"up")),-1==this.clicks.s2MS){if(this.clicks.e1MS=r,!(t.Drawing&&y&&t.Drawing[y]&&(new t.Drawing[y]).dragToDraw)){var{up:x,down:C}=this.pointerEvents;p=1200,m.j16(13);var S=m.o16(1476735792,20,4);m.U16(0);var T=m.o16(2,0);Math.pow(C[0].x-x[0].x,2)+Math.pow(C["0">>S].y-x[0].y,T)<=p&&this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&(!this.hasDragged||i)?setTimeout(this.touchSingleClick(n,this.clicks.x,this.clicks.y),this.doubleClickTime+1):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}if(this.userPointerDown=!1,t.Drawing&&this.activeDrawing&&this.activeDrawing.dragToDraw&&c)return void this.drawingClick(h,l,o);this.isDoubleClick(!0)&&(c||this.overYAxis||this.overXAxis)&&this.touchDoubleClick(n,this.clicks.x,this.clicks.y)}else this.clicks.e2MS=r,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}else this.displayCrosshairs&&(-1==this.grabEndPeriodicity||isNaN(this.grabEndPeriodicity)||((t.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute)&&this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval}),this.grabEndPeriodicity=-1));this.changedTouches.length&&((!i&&!this.currentVectorParameters.vectorType&&1==n||this.twoFingerStart&&!a&&!this.touches.length)&&(this.swipeRelease&&this.swipeRelease(),this.findHighlights(!1,!0)),a&&this.continuousZoom&&(this.continuousZoom.execute(),this.continuousZoom.execute(!0))),f.length||(this.twoFingerStart=!1),this.runAppend("touchend",arguments)}},i=!1,I.z3j(),t.ChartEngine.prototype.mousemoveinner=t.ChartEngine.prototype.mousemoveinner||function(e,t){i||console.error("touch feature requires activating movement feature."),i=!0}},k=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Visualization=t.Visualization||function(e){e?"function"==typeof e.renderFunction?(this.container=null,this.attributes=e,I.i3j(),this.data=null,this.object=null):console.log("CIQ.Visualization() missing renderFunction property in attributes."):console.log("CIQ.Visualization() missing attributes argument.")},t.extend(t.Visualization.prototype,{destroy:function(e){var i;i=this.container,t.resizeObserver(i,null,i.resizeHandle),i.autoGenerated?(i.remove(),delete this.container):i.innerHTML="",e||(this.attributes=null,I.z3j(),this.container=null,this.data=null,this.object=null,this.destroy=this.draw=this.setAttributes=function(){},this.updateData=function(){I.i3j()})},draw:function(e){var i,a,n,r,s;this.data&&"object"==typeof this.data?(a=(i=this.attributes).container||this.container,I.i3j(),"string"==typeof a&&(a=document.querySelector(a)),a||((a=document.createElement("div")).style.height=a.style.width="300px",document.body.appendChild(a),a.autoGenerated=!0),i.stx&&(n=i.stx.chart.canvasShim,i.useCanvasShim&&n&&n!==a&&n!==a.parentNode&&(a.autoGenerated||((a=a.cloneNode()).id="",a.autoGenerated=!0),n.appendChild(a))),this.container&&this.container!==a&&this.destroy(!0),a.resizeHandle||(r=function(e){return function(){e.data&&e.container&&document.body.contains(e.container)&&e.draw.call(e,!0)}},a.resizeHandle=t.resizeObserver(a,r(this),null,100)),this.container=a,this.attributes=i,(s=(i=t.ensureDefaults({container:this.container},this.attributes)).renderFunction(Object.values(this.data).sort((function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})),i))&&(i.id&&(s.id=i.id),(e||i.forceReplace)&&(this.container.innerHTML="",this.container.appendChild(s))),this.attributes=i,this.object=s):console.log("CIQ.Visualization.draw() missing data.")},setAttributes:function(e,t){var i,a,n;if(i=["renderFunction","container","stx","useCanvasShim","id","forceReplace"],a=!1,n=e,"string"==typeof e&&((n={})[e]=t),"object"==typeof n)for(var r in n)this.attributes[r]!==n[r]&&-1!==i.indexOf(r)&&(a=!0),this.attributes[r]=n[r];this.draw(a)},updateData:function(e,i){var a,n,r;for(a in r=Array.isArray(e)?e.reduce((function(e,t){return I.z3j(),e[t.name]=t,e}),{}):t.shallowClone(e))n=r[a],"[object Object]"!==Object.prototype.toString.call(n)&&(r[a]={value:n}),r[a].name||(r[a].name=a),r[a].value||(r[a].value=0);switch(i||(i="replace"),i.toLowerCase()){case"delete":for(a in r)delete this.data[a];break;case"replace":this.data={};case"update":case"add":for(a in r)for(var s in this.data[a]||(this.data[a]={name:a}),n=r[a].value,"[object Number]"==Object.prototype.toString.call(n)?(this.data[a].value&&"update"!=i||(this.data[a].value=0),this.data[a].value+=n):this.data[a].value=n,r[a])"value"!==s&&(this.data[a][s]=r[a][s]);break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.")}return this.draw(this.attributes.forceReplace),this}}),t.ChartEngine.prototype.embedVisualization=function(e){return e||(e={}),I.z3j(),e.stx=this,e.useCanvasShim=!0,e.translator=function(t){return e.stx.translateIf(t)},new t.Visualization(e)}},L=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateTypicalPrice=function(e,t){var i,a,n,r,s,o=I;if(i=t.chart.scrubbed,a=t.days,i.length<a+1)t.overlay||(t.error=!0);else{for(var l in n=t.name,t.outputs)o.j16(31),n=o.R16(n," ",l);r="hlc/3","Med Price"==t.type?r="hl/2":"Weighted Close"==t.type&&(r="hlcc/4"),s=0,t.startFrom<=a&&(t.startFrom=0);for(var h=t.startFrom;h<i.length;h++)h&&i[h-1][n]&&(o.U16(104),s=i[h-o.o16(4,39,0,19,17)][n]*a),s+=i[h][r],h>=a&&(o.U16(7),s-=i[o.o16(h,a)][r],o.U16(8),i[h][n]=o.o16(a,s))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Med Price":{name:"Median Price",calculateFN:t.Studies.calculateTypicalPrice,inputs:{Period:14}}})):console.error("medianPrice feature requires first activating studies feature.")},A=e=>{var t;I.z3j(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateRateOfChange=function(e,t){var i,a,n,r,s,o,l,h=I;if(h.z3j(),(i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{for(var c in(a=t.inputs.Field)&&"field"!=a||(a="Close"),t.parameters.isVolume&&(a="Volume"),n=t.name,t.outputs)h.U16(31),n=h.o16(n," ",c);(r=t.inputs["Center Line"])?(h.U16(34),r=parseInt(r,h.R16(0,"10"))):r=0;for(var d=Math.max(t.startFrom,t.days);d<i.length;d++)(s=i[d][a])&&"object"==typeof s&&(s=s[t.subField]),(o=i[d-t.days][a])&&"object"==typeof o&&(o=o[t.subField]),"Momentum"==t.type?(h.U16(19),i[d][n]=h.o16(r,o,s)):(l=o)&&(h.U16(158),i[d][n]=h.R16(100,r,1,l,s))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:t.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:t.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0}})):console.error("momentum feature requires first activating studies feature.")},M=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.initPriceRelative=function(e,i,a,n,r,s){var o,l;return l=[(o=t.Studies.initializeFN(e,i,a,n,r,s)).inputs["Comparison Symbol"].toUpperCase()],I.z3j(),t.Studies.fetchAdditionalInstruments(e,o,l),o},t.Studies.calculatePriceRelative=function(e,i){var a,n,r,s,o,l;if(a=i.chart.scrubbed,(n=i.inputs["Comparison Symbol"].toUpperCase())||(n=i.study.inputs["Comparison Symbol"]),(r={})[s=(s=e.chart.symbol||"").replace(/[=+\-*\\%]/g,"")]=a.slice(i.startFrom),r[s].length){s!=n&&(r[n]=null),I.U16(77),o=t.computeEquationChart(I.R16("]/[",n,s,"[","]"),r),l=0;for(var h=i.startFrom;h<a.length&&l<o.length;h++){for(;l<o.length&&a[h].DT.getTime()>o[l].DT.getTime();)l++;a[h].DT.getTime()<o[l].DT.getTime()||(a[h]["Result "+i.name]=o[l].Close,l++)}}},t.Studies.displayVsComparisonSymbol=function(e,i,a){var n,r,s,o;if(I.z3j(),n=i.inputs["Comparison Symbol"].toUpperCase(),e.getSeries({symbol:n,chart:i.chart}).length){s=(r={skipTransform:e.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:"Result "+i.name,threshold:i.study.centerline,yAxis:i.getYAxis(e),gapDisplayStyle:!0}).yAxis?r.yAxis.flipped:e.panels[i.panel].yAxis.flipped,o=.3,!i.highlight&&e.highlightedDraggable&&(o*=.3);for(var l=a.length-1;l>=0;l--)if(a[l]&&a[l][n])return t.Studies.displaySeriesAsLine(e,i,a),void((i.study.centerline||0===i.study.centerline)&&(i.outputs.Gain&&t.preparePeakValleyFill(e,t.extend(r,{direction:s?-1:1,color:t.Studies.determineColor(i.outputs.Gain),opacity:o})),i.outputs.Loss&&t.preparePeakValleyFill(e,t.extend(r,{direction:s?1:-1,color:t.Studies.determineColor(i.outputs.Loss),opacity:o}))))}else e.displayErrorAsWatermark(i.panel,e.translateIf(i.study.name)+": "+e.translateIf("Not Available"))},t.Studies.fetchAdditionalInstruments=function(e,i,a,n){var r,s,o,l,h,c;if(e.quoteDriver)for(r=e.panels[i.panel].chart,i.symbols=a,s=0;s<a.length;s++)o=l=a[s],"object"==typeof l?o=l.symbol:l={symbol:o},h={symbol:o,symbolObject:l,bucket:"study",studyName:i.name,chartName:r.name,action:"add-study"},t.extend(h,n),c=h.loadData,e.currentlyImporting&&(h.loadData=!1),i.series||(i.series={}),i.series[o]=e.addSeries(null,h,d),i.series[o].parameters.loadData=c;else console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");function d(){e.createDataSet(),I.i3j(),e.draw()}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0}})):console.error("priceRelative feature requires first activating studies feature.")},P=e=>{var t,i,a;I.i3j(),t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i=2;for(var n=1;1987176415!==I.v7D(n.toString(),n.toString().length,56739);n++)a="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,i+=2;2039421902!==I.v7D(i.toString(),i.toString().length,81657)&&(a=""==+_timezoneJS?_timezoneJS:e.timezoneJS),t.Studies?(t.Studies.calculateVWAP=function(e,i){var n,r,s,o,l,h,c,d,u,p,m,g,f,v,y=I;if(!(i.parameters.state||{}).interactiveAdd){var{inputs:b,name:x,chart:C}=i,{market:S}=C;if(n="AVWAP"===i.type,(r=C.scrubbed).length){if(!n&&t.ChartEngine.isDailyInterval(e.layout.interval))return void(i.error="VWAP is Intraday Only");if(s="hlc/3",n&&((s=b.Field)&&"field"!=s||(s=b.Field="hlc/3",e.changeOccurred("layout"))),o=null,l=0,y.z3j(),h=0,c=0,d=!1,i.startFrom>1&&(l=r[i.startFrom-1]["_V "+x]||0,h=r[i.startFrom-1]["_VxP "+x]||0,c=r[i.startFrom-1]["_VxP2 "+x]||0),n){var{market_tz:T}=S.market_def||{},[,D,w,k]=(b["Anchor Date"]||"").match(/^(\d{4})-?(\d{2})-?(\d{2})$/)||[];y.U16(1);var[,L=0,A=I.o16("0",0),M=0]=(b["Anchor Time"]||"").match(/^(\d{2}):?(\d{2}):?(\d{2})?$/)||[];if(![D,w,k].every((e=>(y.i3j(),e||0===e))))return void(i.error="Invalid Anchor Date");y.j16(7),u=new a.Date(D,y.R16(w,1),k,L,A,M,T||""),!i.startFrom&&u>=r[0].DT&&(i.startFrom=e.tickFromDate(u,e.chart,null,!0)),b["Anchor Selector"]?t.Studies.initAnchorHandle(e,i):t.Studies.removeAnchorHandle(e,i)}for(var P=i.startFrom;P<r.length;P++)if(n||(null===o&&(o=t.Studies.getMarketOffset({stx:e,localQuoteDate:r[P].DT,shiftToDateBoundary:!0})),r[P-1]&&r[P-1].DT&&(p=new Date(new Date(+r[P].DT).setMilliseconds(r[P].DT.getMilliseconds()+o)),new Date(new Date(+r[P-1].DT).setMilliseconds(r[P-1].DT.getMilliseconds()+o)).getDate()!==p.getDate()&&e.chart.market.isMarketDate(p)&&(o=null,l=h=c=0))),m=r[P][s],g=r[P].Volume,n&&!g&&(g=1),l+=g,y.U16(2),h+=y.R16(m,g),y.U16(159),c+=y.R16(m,m,g),n||l){y.j16(0),r[P][y.o16(x,"_V ")]=l,y.j16(0),r[P][y.R16(x,"_VxP ")]=h,y.U16(0),r[P][y.R16(x,"_VxP2 ")]=c,y.j16(0),f=r[P][y.R16(x,"_SDVWAP ")]=Math.sqrt(Math.max(0,c/l-Math.pow(h/l,2))),y.j16(0),v=r[P][y.o16(x,"VWAP ")]=y.R16(l,h,y.U16(8));for(var O=1;O<=3;O++)y.U16(45),r[P][y.o16("SDVWAP","+ ",x,O)]=y.o16(O,v,f,y.j16(41)),y.U16(45),r[P][y.R16("SDVWAP","- ",x,O)]=y.R16(f,v,O,y.j16(160));d=!0}for(var _=1;_<=3;_++)b["Display "+_+" Standard Deviation ("+_+")"]&&(y.j16(45),i.outputMap[y.R16("SDVWAP","+ ",x,_)]=y.o16(_,_,")"," Standard Deviation ("),y.U16(45),i.outputMap[y.R16("SDVWAP","- ",x,_)]=y.R16(_,_,")"," Standard Deviation ("));n||d||(i.error="VWAP Requires Volume")}}},t.Studies.initAnchoredVWAP=function(e,i,a,n,r,s){var o,l,h;r.state||(r.state={});var{interactiveAdd:c,state:d}=r;if(l="Click to select AVWAP anchor time",(o=!(a["Anchor Date"]||a["Anchor Time"]))&&(d.interactiveAdd||e.repositioningAnchorSelector))return"abort";if(o&&!c)for(var{dataSegment:u}=e.chart,p=0;u&&p<u.length;p++)if(u[p]){var{DT:m}=u[p];a["Anchor Date"]=t.dateToStr(m,"YYYY-MM-dd"),a["Anchor Time"]=t.dateToStr(m,"HH:mm:ss");break}return o&&c?d.interactiveAdd=!0:(delete d.interactiveAdd,delete r.interactiveAdd),h=t.Studies.initializeFN(e,i,a,n,r,s),d.interactiveAdd?(e.repositioningAnchorSelector={sd:h,tapToAdd:!0},e.dispatch("notification",{message:l,type:"info",displayTime:0})):e.dispatch("notification",{message:l,remove:!0}),h},t.Studies.displayVWAP=function(e,i,a){var n,r,s,o,l,h,c;t.Studies.displaySeriesAsLine(e,i,a),n=i.inputs["Display 1 Standard Deviation (1)"],r=i.inputs["Display 2 Standard Deviation (2)"],s=i.inputs["Display 3 Standard Deviation (3)"],(n||r||s)&&i.inputs.Shading&&(o=e.panels[i.panel],l={opacity:i.parameters.opacity?i.parameters.opacity:.2,skipTransform:o.name!=i.chart.name,yAxis:i.getYAxis(e)},!i.highlight&&e.highlightedDraggable&&(l.opacity*=.3),h="VWAP "+i.name,c="VWAP "+i.name,n&&(t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP1+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP1+ "+i.name]])},l)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP1- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP1- "+i.name]])},l)),h="SDVWAP1+ "+i.name,c="SDVWAP1- "+i.name),r&&(t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP2+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP2+ "+i.name]])},l)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP2- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP2- "+i.name]])},l)),h="SDVWAP2+ "+i.name,c="SDVWAP2- "+i.name),s&&(t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP3+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP3+ "+i.name]])},l)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP3- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP3- "+i.name]])},l)))),(i.anchorHandle||(i.parameters.state||{}).interactiveAdd)&&t.Studies.displayAnchorHandleAndLine(e,i,a)},t.Studies.removeAnchoredVWAP=function(e,i){e.dispatch("notification",{message:"Click to select AVWAP anchor time",remove:!0}),t.Studies.removeAnchorHandle(e,i)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{AVWAP:{name:"Anchored VWAP",overlay:!0,calculateFN:t.Studies.calculateVWAP,seriesFN:t.Studies.displayVWAP,initializeFN:t.Studies.initAnchoredVWAP,removeFN:t.Studies.removeAnchoredVWAP,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1,Shading:!1,"Anchor Selector":!0},outputs:{VWAP:"#FF0000","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"},parameters:{init:{opacity:.2,interactiveAdd:!0}},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:"hh:mm:ss",step:1}}},VWAP:{name:"VWAP",overlay:!0,calculateFN:t.Studies.calculateVWAP,seriesFN:t.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1,Shading:!1},outputs:{VWAP:"#FF0000","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"},parameters:{init:{opacity:.2}}}})):console.error("vwap feature requires first activating studies feature.")},O=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,I.i3j(),t.Studies?(t.Studies.calculateZigZag=function(e,t){var i,a,n,r,s,o,l,h,c,d,u,p,m,g,f,v=I;if((i=t.chart.scrubbed)&&i.length){a=t.highLowChart,n=null,r=null,s=t.inputs["Distance(%)"],o=0,l=0,v.z3j(),h=0,c=null,d=null,u=0;for(var y=Math.min(i.length-1,t.startFrom);y>=0;y--)if(u=y,i[y]["_state "+t.name]){n=(p=i[y]["_state "+t.name])[0],v.U16(7),r=p[v.o16("1",0)],o=p[2],l=p[3],v.U16(34),h=p[v.R16(0,"4")],c=p[5],d=p[6];break}for(var b=u;b<i.length;b++){if(m=i[b][a?"High":"Close"],g=i[b][a?"Low":"Close"],null===r||r<m)if(r=m,o<0&&(n=g),v.U16(161),c=v.o16(995484288,r,100,s,"1"),o>-1){if(null!==d&&r>d){i[l]["Result "+t.name]=i[l][a?"Low":"Close"],x(h,l),o=-1,n=g,h=l,l=b;continue}}else l=b;if(null===n||n>g)if(n=g,o>0&&(r=m),v.j16(162),d=v.o16(1,s,100,n),o<1){if(null!==c&&n<c){i[l]["Result "+t.name]=i[l][a?"High":"Close"],x(h,l),o=1,r=m,h=l,l=b;continue}}else l=b}for(i[l]["Result "+t.name]=i[l][a?1==o?"Low":"High":"Close"],i[l]["_state "+t.name]=[n,r,o,l,h,c,d],x(h,l),f=i.length-1;f>l;){if(i[f].Close||0===i[f].Close){i[f]["Result "+t.name]=i[f][a?1==o?"High":"Low":"Close"];break}f--}x(l,f)}function x(e,a){for(var n=e+1;n<a;n++)i[n]["ShadowResult "+t.name]=(i[a]["Result "+t.name]-i[e]["Result "+t.name])*(n-e)/(a-e)+i[e]["Result "+t.name],delete i[n]["Result "+t.name]}},t.Studies.displayZigZag=function(e,i,a){var n,r,s,o,l,h,c=I;n=e.chart.highLowBars,i.highLowChart!=n&&(i.highLowChart=n,i.startFrom=0,i.study.calculateFN(e,i)),r=e.chart;for(var d=0;d<a.length;d++)(s=a[d])&&(s["_shadowCopy "+i.name]&&(delete s["Result "+i.name],delete s["_shadowCopy "+i.name]),s["Result "+i.name]||s.transform&&delete s.transform["Result "+i.name]);o=a[0],c.U16(29);var u=c.R16(18,197,11);if(l=a[a.length-u],o&&o["ShadowResult "+i.name]&&(o["Result "+i.name]=o["ShadowResult "+i.name],o.transform&&(o.transform["Result "+i.name]=r.transformFunc(e,r,o["ShadowResult "+i.name])),o["_shadowCopy "+i.name]=1),l&&l["ShadowResult "+i.name]){h=2;for(var p=1;-72911207!==c.v7D(p.toString(),p.toString().length,21864);p++)l["Result "+i.name]=l["ShadowResult "+i.name],h+=2;-667712166!==c.v7D(h.toString(),h.toString().length,55212)&&(l["Result "/i.name]=l["Result "*i.name]),l.transform&&(l.transform["Result "+i.name]=r.transformFunc(e,r,l["ShadowResult "+i.name])),l["_shadowCopy "+i.name]=1}t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ZigZag:{name:"ZigZag",overlay:!0,seriesFN:t.Studies.displayZigZag,calculateFN:t.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!1}},attributes:{"Distance(%)":{min:.1,step:.1}}}})):console.error("zigzag feature requires first activating studies feature.")},_={CIQ:H.Pz,SplinePlotter:H.rx,timezoneJS:H.hM,$$:H.$$,$$$:H.$I},"undefined"==typeof __TREE_SHAKE__||!__TREE_SHAKE__){F=2;for(var q=1;-1034447485!==I.v7D(q.toString(),q.toString().length,53527);q++)(_.CIQ||H.Pz).activateImports(r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,null),F+=2;653716877!==I.x3D(F.toString(),F.toString().length,70325)&&(_.CIQ&&H.Pz).activateImports(r,s,o,l,h,c,d,u,p,m,g,f,v,y,b,x,C,S,T,D,w,k,L,A,M,P,O,1)}},577:(e,t,i)=>{function a(e){return getComputedStyle(e)}function n(e,t){for(var i in t){var a=t[i];"number"==typeof a&&(a+="px"),e.style[i]=a}return e}function r(e){var t=document.createElement("div");return t.className=e,t}i.d(t,{Z:()=>_});var s="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function o(e,t){if(!s)throw new Error("No element matching method supported");return s.call(e,t)}function l(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function h(e,t){return Array.prototype.filter.call(e.children,(function(e){return o(e,t)}))}var c=function(e){return"ps__thumb-"+e},d=function(e){return"ps__rail-"+e},u="ps__child--consume",p="ps--focus",m="ps--clicking",g=function(e){return"ps--active-"+e},f=function(e){return"ps--scrolling-"+e},v={x:null,y:null};function y(e,t){var i=e.element.classList,a=f(t);i.contains(a)?clearTimeout(v[t]):i.add(a)}function b(e,t){v[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(f(t))}),e.settings.scrollingThreshold)}var x=function(e){this.element=e,this.handlers={}},C={isEmpty:{configurable:!0}};x.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,{passive:!1})},x.prototype.unbind=function(e,t){var i=this;this.handlers[e]=this.handlers[e].filter((function(a){return!(!t||a===t)||(i.element.removeEventListener(e,a,!1),!1)}))},x.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},C.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(x.prototype,C);var S=function(){this.eventElements=[]};function T(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function D(e,t,i,a,n){var r;if(void 0===a&&(a=!0),void 0===n&&(n=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,i,a,n){var r=i[0],s=i[1],o=i[2],l=i[3],h=i[4],c=i[5];void 0===a&&(a=!0),void 0===n&&(n=!1);var d=e.element;e.reach[l]=null,d[o]<1&&(e.reach[l]="start"),d[o]>e[r]-e[s]-1&&(e.reach[l]="end"),t&&(d.dispatchEvent(T("ps-scroll-"+l)),t<0?d.dispatchEvent(T("ps-scroll-"+h)):t>0&&d.dispatchEvent(T("ps-scroll-"+c)),a&&function(e,t){y(e,t),b(e,t)}(e,l)),e.reach[l]&&(t||n)&&d.dispatchEvent(T("ps-"+l+"-reach-"+e.reach[l]))}(e,i,r,a,n)}function w(e){return parseInt(e,10)||0}S.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new x(e),this.eventElements.push(t)),t},S.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},S.prototype.unbind=function(e,t,i){var a=this.eventElement(e);a.unbind(t,i),a.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(a),1)},S.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},S.prototype.once=function(e,t,i){var a=this.eventElement(e),n=function(e){a.unbind(t,n),i(e)};a.bind(t,n)};var k={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function L(e){var t=e.element,i=Math.floor(t.scrollTop),a=t.getBoundingClientRect();e.containerWidth=Math.ceil(a.width),e.containerHeight=Math.ceil(a.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(h(t,d("x")).forEach((function(e){return l(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(h(t,d("y")).forEach((function(e){return l(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=A(e,w(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=w((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=A(e,w(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=w(i*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var i={width:t.railXWidth},a=Math.floor(e.scrollTop);t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-a:i.top=t.scrollbarXTop+a,n(t.scrollbarXRail,i);var r={top:a,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft,r.top+r.height>e.scrollHeight&&(r.top=e.scrollHeight-r.height),n(t.scrollbarYRail,r),n(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),n(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(g("x")):(t.classList.remove(g("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(g("y")):(t.classList.remove(g("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function A(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function M(e,t){var i=t[0],a=t[1],n=t[2],r=t[3],s=t[4],o=t[5],l=t[6],h=t[7],c=t[8],d=e.element,u=null,p=null,g=null;function f(t){t.touches&&t.touches[0]&&(t[n]=t.touches[0].pageY),d[l]=u+g*(t[n]-p),y(e,h),L(e),t.stopPropagation(),t.preventDefault()}function v(){b(e,h),e[c].classList.remove(m),e.event.unbind(e.ownerDocument,"mousemove",f)}function x(t,s){u=d[l],s&&t.touches&&(t[n]=t.touches[0].pageY),p=t[n],g=(e[a]-e[i])/(e[r]-e[o]),s?e.event.bind(e.ownerDocument,"touchmove",f):(e.event.bind(e.ownerDocument,"mousemove",f),e.event.once(e.ownerDocument,"mouseup",v),t.preventDefault()),e[c].classList.add(m),t.stopPropagation()}e.event.bind(e[s],"mousedown",(function(e){x(e)})),e.event.bind(e[s],"touchstart",(function(e){x(e,!0)}))}var P={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var i=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=i*e.containerHeight,L(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var i=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=i*e.containerWidth,L(e),t.stopPropagation()}))},"drag-thumb":function(e){M(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),M(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(o(t,":hover")||o(e.scrollbarX,":focus")||o(e.scrollbarY,":focus"))){var a,n=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else for(;n.shadowRoot;)n=n.shadowRoot.activeElement;if(o(a=n,"input,[contenteditable]")||o(a,"select,[contenteditable]")||o(a,"textarea,[contenteditable]")||o(a,"button,[contenteditable]"))return}var r=0,s=0;switch(i.which){case 37:r=i.metaKey?-e.contentWidth:i.altKey?-e.containerWidth:-30;break;case 38:s=i.metaKey?e.contentHeight:i.altKey?e.containerHeight:30;break;case 39:r=i.metaKey?e.contentWidth:i.altKey?e.containerWidth:30;break;case 40:s=i.metaKey?-e.contentHeight:i.altKey?-e.containerHeight:-30;break;case 32:s=i.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:s=e.containerHeight;break;case 34:s=-e.containerHeight;break;case 36:s=e.contentHeight;break;case 35:s=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==r||e.settings.suppressScrollY&&0!==s||(t.scrollTop-=s,t.scrollLeft+=r,L(e),function(i,a){var n=Math.floor(t.scrollTop);if(0===i){if(!e.scrollbarYActive)return!1;if(0===n&&a>0||n>=e.contentHeight-e.containerHeight&&a<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===a){if(!e.scrollbarXActive)return!1;if(0===r&&i<0||r>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}(r,s)&&i.preventDefault())}}))},wheel:function(e){var t=e.element;function i(i){var n=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(i),r=n[0],s=n[1];if(!function(e,i,n){if(!k.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var r=e;r&&r!==t;){if(r.classList.contains(u))return!0;var s=a(r);if(n&&s.overflowY.match(/(scroll|auto)/)){var o=r.scrollHeight-r.clientHeight;if(o>0&&(r.scrollTop>0&&n<0||r.scrollTop<o&&n>0))return!0}if(i&&s.overflowX.match(/(scroll|auto)/)){var l=r.scrollWidth-r.clientWidth;if(l>0&&(r.scrollLeft>0&&i<0||r.scrollLeft<l&&i>0))return!0}r=r.parentNode}return!1}(i.target,r,s)){var o=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(s?t.scrollTop-=s*e.settings.wheelSpeed:t.scrollTop+=r*e.settings.wheelSpeed,o=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(r?t.scrollLeft+=r*e.settings.wheelSpeed:t.scrollLeft-=s*e.settings.wheelSpeed,o=!0):(t.scrollTop-=s*e.settings.wheelSpeed,t.scrollLeft+=r*e.settings.wheelSpeed),L(e),o=o||function(i,a){var n=Math.floor(t.scrollTop),r=0===t.scrollTop,s=n+t.offsetHeight===t.scrollHeight,o=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(a)>Math.abs(i)?r||s:o||l)||!e.settings.wheelPropagation}(r,s),o&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",i):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",i)},touch:function(e){if(k.supportsTouch||k.supportsIePointer){var t=e.element,i={},n=0,r={},s=null;k.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",d),e.event.bind(t,"touchend",p)):k.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",d),e.event.bind(t,"pointerup",p)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",d),e.event.bind(t,"MSPointerUp",p)))}function o(i,a){t.scrollTop-=a,t.scrollLeft-=i,L(e)}function l(e){return e.targetTouches?e.targetTouches[0]:e}function h(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(h(e)){var t=l(e);i.pageX=t.pageX,i.pageY=t.pageY,n=(new Date).getTime(),null!==s&&clearInterval(s)}}function d(s){if(h(s)){var c=l(s),d={pageX:c.pageX,pageY:c.pageY},p=d.pageX-i.pageX,m=d.pageY-i.pageY;if(function(e,i,n){if(!t.contains(e))return!1;for(var r=e;r&&r!==t;){if(r.classList.contains(u))return!0;var s=a(r);if(n&&s.overflowY.match(/(scroll|auto)/)){var o=r.scrollHeight-r.clientHeight;if(o>0&&(r.scrollTop>0&&n<0||r.scrollTop<o&&n>0))return!0}if(i&&s.overflowX.match(/(scroll|auto)/)){var l=r.scrollWidth-r.clientWidth;if(l>0&&(r.scrollLeft>0&&i<0||r.scrollLeft<l&&i>0))return!0}r=r.parentNode}return!1}(s.target,p,m))return;o(p,m),i=d;var g=(new Date).getTime(),f=g-n;f>0&&(r.x=p/f,r.y=m/f,n=g),function(i,a){var n=Math.floor(t.scrollTop),r=t.scrollLeft,s=Math.abs(i),o=Math.abs(a);if(o>s){if(a<0&&n===e.contentHeight-e.containerHeight||a>0&&0===n)return 0===window.scrollY&&a>0&&k.isChrome}else if(s>o&&(i<0&&r===e.contentWidth-e.containerWidth||i>0&&0===r))return!0;return!0}(p,m)&&s.preventDefault()}}function p(){e.settings.swipeEasing&&(clearInterval(s),s=setInterval((function(){e.isInitialized?clearInterval(s):r.x||r.y?Math.abs(r.x)<.01&&Math.abs(r.y)<.01?clearInterval(s):(o(30*r.x,30*r.y),r.x*=.8,r.y*=.8):clearInterval(s)}),10))}}},O=function(e,t){var i=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var s in this.element=e,e.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[s]=t[s];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,l,h=function(){return e.classList.add(p)},u=function(){return e.classList.remove(p)};this.isRtl="rtl"===a(e).direction,!0===this.isRtl&&e.classList.add("ps__rtl"),this.isNegativeScroll=(l=e.scrollLeft,e.scrollLeft=-1,o=e.scrollLeft<0,e.scrollLeft=l,o),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new S,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=r(d("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=r(c("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",h),this.event.bind(this.scrollbarX,"blur",u),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var m=a(this.scrollbarXRail);this.scrollbarXBottom=parseInt(m.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=w(m.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=w(m.borderLeftWidth)+w(m.borderRightWidth),n(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=w(m.marginLeft)+w(m.marginRight),n(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=r(d("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=r(c("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",h),this.event.bind(this.scrollbarY,"blur",u),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var g=a(this.scrollbarYRail);this.scrollbarYRight=parseInt(g.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=w(g.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=a(e);return w(t.width)+w(t.paddingLeft)+w(t.paddingRight)+w(t.borderLeftWidth)+w(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=w(g.borderTopWidth)+w(g.borderBottomWidth),n(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=w(g.marginTop)+w(g.marginBottom),n(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return P[e](i)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return i.onScroll(e)})),L(this)};O.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,n(this.scrollbarXRail,{display:"block"}),n(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=w(a(this.scrollbarXRail).marginLeft)+w(a(this.scrollbarXRail).marginRight),this.railYMarginHeight=w(a(this.scrollbarYRail).marginTop)+w(a(this.scrollbarYRail).marginBottom),n(this.scrollbarXRail,{display:"none"}),n(this.scrollbarYRail,{display:"none"}),L(this),D(this,"top",0,!1,!0),D(this,"left",0,!1,!0),n(this.scrollbarXRail,{display:""}),n(this.scrollbarYRail,{display:""}))},O.prototype.onScroll=function(e){this.isAlive&&(L(this),D(this,"top",this.element.scrollTop-this.lastScrollTop),D(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},O.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),l(this.scrollbarX),l(this.scrollbarY),l(this.scrollbarXRail),l(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},O.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};const _=O},552:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(81),n=i.n(a),r=i(645),s=i.n(r),o=i(667),l=i.n(o),h=new URL(i(929),i.b),c=s()(n()),d=l()(h);c.push([e.id,".stx-marker.abstract {\r\n\twidth: 0;\r\n\ttransition: all .2s;\r\n}\r\n\r\n.stx-marker-content .sample {\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tmargin-left: -67px;\r\n\twidth: 135px;\r\n\theight: 135px;\r\n\tbackground: rgba(255, 255, 255, .1);\r\n\ttext-align: left;\r\n\tborder-radius: 50%;\r\n\t-webkit-transition: width 0.2s 0s, height 0.2s 0s, border-radius 0.2s 0s, margin 0.2s 0s, background 0.5s;\r\n\ttransition: width 0.2s 0s, height 0.2s 0s, border-radius 0.2s 0s, margin 0.2s 0s, background 0.5s;\r\n}\r\n\r\n.sample:hover {\r\n\twidth: 250px;\r\n\tmargin-left: -125px;\r\n\tborder-radius: 5px;\r\n\tbackground: #fff;\r\n\t-webkit-transition: width 0.2s .5s, height 0.2s .5s, border-radius 0.2s .5s, margin 0.2s .5s, background 1s;\r\n\ttransition: width 0.2s .5s, height 0.2s .5s, border-radius 0.2s .5s, margin 0.2s .5s, background 1s;\r\n}\r\n\r\n.sample .text {\r\n\tposition: absolute;\r\n\tfont-size: 11px;\r\n\tleft: 160px;\r\n\twidth: 80px;\r\n\tbottom: 13px;\r\n\topacity: 0;\r\n\tline-height: 13px;\r\n\t-webkit-transition: opacity 0s 0s;\r\n\t-moz-transition: opacity 0s 0s;\r\n\ttransition: opacity 0s 0s;\r\n}\r\n\r\n.sample:hover .text {\r\n\topacity: 1;\r\n\t-webkit-transition: opacity 0.4s .7s;\r\n\t-moz-transition: opacity 0.4s .7s;\r\n\ttransition: opacity 0.4s .7s;\r\n}\r\n\r\n[stage] {\r\n\tposition: absolute;\r\n\tleft: 10px;\r\n\tbottom: 10px;\r\n\twidth: 115px;\r\n\theight: 115px;\r\n\tbackground: #e8e8e8;\r\n\tborder-radius: 50%;\r\n\t-webkit-transition: width 0.2s 0s, height 0.2s 0s, border-radius 0.2s 0s, margin 0.2s 0s, background 0.2s;\r\n\ttransition: width 0.2s 0s, height 0.2s 0s, border-radius 0.2s 0s, margin 0.2s 0s, background 0.2s;\r\n}\r\n\r\n.sample:hover [stage] {\r\n\twidth: 135px;\r\n\tborder-radius: 5px;\r\n\tbackground: #e8e8e8;\r\n\t-webkit-transition: width 0.2s .5s, height 0.2s .5s, border-radius 0.2s .5s, margin 0.2s .5s, background 0.2s;\r\n\ttransition: width 0.2s .5s, height 0.2s .5s, border-radius 0.2s .5s, margin 0.2s .5s, background 0.2s;\r\n}\r\n\r\n@-webkit-keyframes heli-hover {\r\n\t0% {\r\n\t\t-webkit-transform: rotate(0deg) translateY(0px);\r\n\t}\r\n\t35% {\r\n\t\t-webkit-transform: rotate(6deg) translateY(-70px);\r\n\t}\r\n\t80% {\r\n\t\t-webkit-transform: rotate(-4deg) translateY(0px);\r\n\t}\r\n\t100% {\r\n\t\t-webkit-transform: translateY(0px);\r\n\t}\r\n}\r\n\r\n@keyframes heli-hover {\r\n\t0% {\r\n\t\ttransform: rotate(0deg) translateY(0px);\r\n\t}\r\n\t35% {\r\n\t\ttransform: rotate(6deg) translateY(-70px);\r\n\t}\r\n\t80% {\r\n\t\ttransform: rotate(-4deg) translateY(0px);\r\n\t}\r\n\t100% {\r\n\t\ttransform: translateY(0px);\r\n\t}\r\n}\r\n\r\n[helicopter] {\r\n\tposition: absolute;\r\n\tmargin-left: -5px;\r\n\tmargin-bottom: 5px;\r\n\tleft: -10px;\r\n\tbottom: 15px;\r\n\twidth: 145px;\r\n\theight: 55px;\r\n\t-webkit-transition: margin 0.75s;\r\n\ttransition: margin 0.75s;\r\n}\r\n\r\n.sample:hover [helicopter] {\r\n\tmargin-left: 0px;\r\n\tmargin-bottom: 0;\r\n\t-webkit-animation: heli-hover 6s ease-in-out infinite;\r\n\t/* Chrome, Safari, Opera */\r\n\tanimation: heli-hover 6s ease-in-out infinite;\r\n\t/* Standard syntax */\r\n}\r\n\r\n[propeller] {\r\n\tposition: absolute;\r\n\ttop: 2px;\r\n\tleft: 30px;\r\n\twidth: 0px;\r\n\tperspective: 500px;\r\n\t-webkit-perspective: 500px;\r\n\tz-index: 1;\r\n}\r\n\r\n@keyframes spinner {\r\n\tfrom {\r\n\t\ttransform: rotateY(0deg);\r\n\t}\r\n\tto {\r\n\t\ttransform: rotateY(-360deg);\r\n\t}\r\n}\r\n\r\n@-webkit-keyframes spinner {\r\n\tfrom {\r\n\t\t-webkit-transform: rotateY(0deg);\r\n\t}\r\n\tto {\r\n\t\t-webkit-transform: rotateY(-360deg);\r\n\t}\r\n}\r\n\r\n[spinner] {\r\n\t-webkit-animation: spinner 1s linear infinite;\r\n\t/* Chrome, Safari, Opera */\r\n\tanimation: spinner 1s linear infinite;\r\n\t/* Standard syntax */\r\n\t-webkit-transform-style: preserve-3d;\r\n\ttransform-style: preserve-3d;\r\n}\r\n\r\n[spinner] div {\r\n\tposition: absolute;\r\n\tbackground: #999;\r\n\twidth: 80px;\r\n\theight: 4px;\r\n}\r\n\r\n[heli-body] {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\twidth: 145px;\r\n\theight: 55px;\r\n\tposition: absolute;\r\n\tbackground: url("+d+") no-repeat center;\r\n\tz-index: 2;\r\n}\r\n",""]);const u=c},598:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(81),n=i.n(a),r=i(645),s=i.n(r)()(n());s.push([e.id,"body .ta_markers-ui {\r\n\tdisplay: inherit;\r\n}\r\n\r\n.stx-marker.trade .stx-visual {\r\n\tbackground: #C950d7;\r\n\twidth: 5px;\r\n\theight: 5px;\r\n}\r\n\r\n.stx-marker.analysis .stx-visual {\r\n\tbackground: rgba(36,88,242,0.85);\r\n}\r\n\r\n.stx-performance-marker.stx-marker-expand h4 {\r\n\tdisplay: block;\r\n}\r\n\r\n.stx-marker.analysis p {\r\n\ttext-align: left;\r\n\twhite-space: pre-line;\r\n}\r\n",""]);const o=s},110:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(81),n=i.n(a),r=i(645),s=i.n(r),o=i(667),l=i.n(o),h=new URL(i(875),i.b),c=s()(n()),d=l()(h);c.push([e.id,"body .video_markers-ui {\r\n\tdisplay: inherit;\r\n}\r\n\r\n.stx-marker.highlight.square \r\n.stx-marker-video.stx-marker-expand {\r\n\twidth: 320px;\r\n\tmax-height: 400px;\r\n\tpadding: 4px;\r\n}\r\n\r\n.stx-marker-video.stx-marker-expand .ciq-close {\r\n\tfloat: right;\r\n}\r\n\r\n.stx-marker-video video {\r\n\twidth: 100%;\r\n}\r\n\r\n.stx-marker.video .stx-visual {\r\n\tbackground-color: #eee;\r\n\tbackground-image: url("+d+");\r\n\tbackground-position: -725px -28px;\r\n\tborder: solid 1px #027598;\r\n\tborder-radius: 2px;\r\n\twidth: 24px;\r\n\theight: 20px;\r\n\topacity: .95;\r\n}\r\n\r\n.stx-marker.video .stx-visual:hover {\r\n\topacity: 1;\r\n}\r\n\r\n.ciq-night .stx-marker.video .stx-visual {\r\n\tbackground-color: #222;\r\n}\r\n\r\n.stx-marker.video.square.highlight .stx-visual:after {\r\n\theight: 32px;\r\n}\r\n",""]);const u=c},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",a=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),a&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),a&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,a,n,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var h=0;h<e.length;h++){var c=[].concat(e[h]);a&&s[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},330:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var a=i(379),n=i.n(a),r=i(795),s=i.n(r),o=i(569),l=i.n(o),h=i(565),c=i.n(h),d=i(216),u=i.n(d),p=i(589),m=i.n(p),g=i(552),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=u(),n()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},8:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var a=i(379),n=i.n(a),r=i(795),s=i.n(r),o=i(569),l=i.n(o),h=i(565),c=i.n(h),d=i(216),u=i.n(d),p=i(589),m=i.n(p),g=i(598),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=u(),n()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},15:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var a=i(379),n=i.n(a),r=i(795),s=i.n(r),o=i(569),l=i.n(o),h=i(565),c=i.n(h),d=i(216),u=i.n(d),p=i(589),m=i.n(p),g=i(110),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=u(),n()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},379:e=>{var t=[];function i(e){for(var i=-1,a=0;a<t.length;a++)if(t[a].identifier===e){i=a;break}return i}function a(e,a){for(var r={},s=[],o=0;o<e.length;o++){var l=e[o],h=a.base?l[0]+a.base:l[0],c=r[h]||0,d="".concat(h," ").concat(c);r[h]=c+1;var u=i(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var m=n(p,a);a.byIndex=o,t.splice(o,0,{identifier:d,updater:m,references:1})}s.push(d)}return s}function n(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,n){var r=a(e=e||[],n=n||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var o=i(r[s]);t[o].references--}for(var l=a(e,n),h=0;h<r.length;h++){var c=i(r[h]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}r=l}}},569:e=>{var t={};e.exports=function(e,i){var a=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(i)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var a="";i.supports&&(a+="@supports (".concat(i.supports,") {")),i.media&&(a+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(a+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),a+=i.css,n&&(a+="}"),i.media&&(a+="}"),i.supports&&(a+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},875:(e,t,i)=>{e.exports=i.p+"99d1283097f1f2109124.svg"},929:(e,t,i)=>{e.exports=i.p+"6095a74c9f143b9f9f9a.png"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{var _advanced_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(638),_addOns_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(579),_components_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(261),_defaultConfiguration_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(768),_thirdparty_perfect_scrollbar_esm_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(577),_examples_feeds_quoteFeedSimulator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86),_examples_feeds_symbolLookupChartIQ_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(505),_examples_markets_marketDefinitionsSample_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(663),_examples_markets_marketSymbologySample_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(147),_examples_markers_markersSample_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(770),_examples_markers_tradeAnalyticsSample_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(673),_examples_markers_videoSample_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(459),_examples_translations_translationSample_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(799),_examples_feeds_quoteFeedForecastSimulator_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(699),myQuoteFeed={url:"https://jsfiddle.chartiq.com/sample_json.js",fetchInitialData:function(e,t,i,a,n){console.log("Asking for initial data...");var r=this.url+"?symbol="+e+"&interval="+a.interval+"&startDate="+_components_js__WEBPACK_IMPORTED_MODULE_2__.Pz.yyyymmddhhmm(t)+"&endDate="+_components_js__WEBPACK_IMPORTED_MODULE_2__.Pz.yyyymmddhhmm(i);_components_js__WEBPACK_IMPORTED_MODULE_2__.Pz.postAjax(r,null,(function(e,t){n(200==e?{quotes:JSON.parse(t),moreAvailable:!0}:{error:t||e})}))},fetchUpdateData:function(e,t,i,a){console.log("Chart called for a refresh."),this.url,i.interval,_components_js__WEBPACK_IMPORTED_MODULE_2__.Pz.yyyymmddhhmm(t),a({quotes:[{Date:"20150101",Open:139,High:140,Low:138,Close:139+Math.random(),Volume:1e3}]})},fetchPaginationData:function(e,t,i,a,n){console.log("More data requested..."),this.url,_components_js__WEBPACK_IMPORTED_MODULE_2__.Pz.yyyymmddhhmm(i),a.ticks,n({quotes:[],moreAvailable:!1})}},behavior={refreshInterval:5};function ChartInit(e){const t=(0,_defaultConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.Z)({markerSample:_examples_markers_markersSample_js__WEBPACK_IMPORTED_MODULE_9__.Z.MarkersSample,scrollStyle:_thirdparty_perfect_scrollbar_esm_js__WEBPACK_IMPORTED_MODULE_4__.Z,nameValueStore:_components_js__WEBPACK_IMPORTED_MODULE_2__.Pz.NameValueStore});window.stxx=t.createChart(),stxx=window.stxx,stxx.addEventListener("symbolChange",(function(e){e.symbol!=e.prevSymbol&&addToChart(e.symbol,'([{"DT":"2017-05-09T01:00:00Z","Open":56.649999999999999,"Close":56.32,"High":56.82,"Low":55.93,"Volume":2189984,"Date":"20170508080000000"},{"DT":"2017-05-10T01:00:00Z","Open":56.420000000000002,"Close":56.869999999999997,"High":56.890000000000001,"Low":56.289999999999999,"Volume":1559975,"Date":"20170509080000000"},{"DT":"2017-05-11T01:00:00Z","Open":56.850000000000001,"Close":56.270000000000003,"High":56.939999999999998,"Low":56.079999999999998,"Volume":1566289,"Date":"20170510080000000"},{"DT":"2017-05-12T01:00:00Z","Open":56.130000000000003,"Close":56.229999999999997,"High":56.380000000000003,"Low":55.799999999999997,"Volume":1347633,"Date":"20170511080000000"},{"DT":"2017-05-13T01:00:00Z","Open":56.159999999999997,"Close":56.159999999999997,"High":56.399999999999999,"Low":55.960000000000001,"Volume":1578292,"Date":"20170512080000000"},{"DT":"2017-05-16T01:00:00Z","Open":56.07,"Close":56.700000000000003,"High":56.759999999999998,"Low":56.009999999999998,"Volume":1472226,"Date":"20170515080000000"},{"DT":"2017-05-17T01:00:00Z","Open":58.380000000000003,"Close":56.829999999999998,"High":58.380000000000003,"Low":56.450000000000003,"Volume":1032600,"Date":"20170516080000000"},{"DT":"2017-05-18T01:00:00Z","Open":56.310000000000002,"Close":55.770000000000003,"High":56.369999999999997,"Low":55.670000000000002,"Volume":1839737,"Date":"20170517080000000"},{"DT":"2017-05-19T01:00:00Z","Open":55.899999999999999,"Close":55.850000000000001,"High":56.270000000000003,"Low":55.600000000000001,"Volume":1934996,"Date":"20170518080000000"},{"DT":"2017-05-20T01:00:00Z","Open":56.090000000000003,"Close":56.130000000000003,"High":56.32,"Low":55.859999999999999,"Volume":1654441,"Date":"20170519080000000"},{"DT":"2017-05-23T01:00:00Z","Open":56.520000000000003,"Close":56.079999999999998,"High":56.520000000000003,"Low":55.850000000000001,"Volume":4264780,"Date":"20170522080000000"},{"DT":"2017-05-24T01:00:00Z","Open":59.799999999999997,"Close":58.659999999999997,"High":59.979999999999997,"Low":58,"Volume":7510578,"Date":"20170523080000000"},{"DT":"2017-05-25T01:00:00Z","Open":58.5,"Close":59.229999999999997,"High":59.340000000000003,"Low":58.072499999999998,"Volume":4105470,"Date":"20170524080000000"},{"DT":"2017-05-26T01:00:00Z","Open":59.530000000000001,"Close":59.299999999999997,"High":59.700000000000003,"Low":58.920000000000002,"Volume":2772812,"Date":"20170525080000000"},{"DT":"2017-05-27T01:00:00Z","Open":59.229999999999997,"Close":59.509999999999998,"High":59.719999999999999,"Low":59.040999999999997,"Volume":1535237,"Date":"20170526080000000"},{"DT":"2017-05-31T01:00:00Z","Open":59.539999999999999,"Close":60.369999999999997,"High":60.479999999999997,"Low":59.409999999999997,"Volume":2576416,"Date":"20170530080000000"},{"DT":"2017-06-01T01:00:00Z","Open":59.450000000000003,"Close":60.340000000000003,"High":60.810000000000002,"Low":59.450000000000003,"Volume":2552411,"Date":"20170531080000000"},{"DT":"2017-06-02T01:00:00Z","Open":60.009999999999998,"Close":60.729999999999997,"High":60.770000000000003,"Low":59.810000000000002,"Volume":2100441,"Date":"20170601080000000"},{"DT":"2017-06-03T01:00:00Z","Open":60.799999999999997,"Close":60.810000000000002,"High":61.149999999999999,"Low":60.759999999999998,"Volume":1666245,"Date":"20170602080000000"},{"DT":"2017-06-06T01:00:00Z","Open":60.799999999999997,"Close":60.399999999999999,"High":60.840000000000003,"Low":60.329999999999998,"Volume":1473282,"Date":"20170605080000000"},{"DT":"2017-06-07T01:00:00Z","Open":60.140000000000001,"Close":60.100000000000001,"High":60.545000000000002,"Low":60.100000000000001,"Volume":1968022,"Date":"20170606080000000"},{"DT":"2017-06-08T01:00:00Z","Open":60.259999999999998,"Close":60.630000000000003,"High":60.765000000000001,"Low":59.979999999999997,"Volume":1617604,"Date":"20170607080000000"},{"DT":"2017-06-09T01:00:00Z","Open":60.619999999999997,"Close":60.149999999999999,"High":60.725000000000001,"Low":59.710000000000001,"Volume":3486602,"Date":"20170608080000000"},{"DT":"2017-06-10T01:00:00Z","Open":60.310000000000002,"Close":59.210000000000001,"High":60.450000000000003,"Low":59.130000000000003,"Volume":2352814,"Date":"20170609080000000"},{"DT":"2017-06-13T01:00:00Z","Open":59.140000000000001,"Close":58.990000000000002,"High":59.409999999999997,"Low":57.920000000000002,"Volume":2579658,"Date":"20170612080000000"},{"DT":"2017-06-14T01:00:00Z","Open":59.07,"Close":59.280000000000001,"High":59.640000000000001,"Low":58.93,"Volume":1527210,"Date":"20170613080000000"},{"DT":"2017-06-15T01:00:00Z","Open":59.539999999999999,"Close":59.380000000000003,"High":59.780000000000001,"Low":59.049999999999997,"Volume":1203468,"Date":"20170614080000000"},{"DT":"2017-06-16T01:00:00Z","Open":59.219999999999999,"Close":59.210000000000001,"High":59.289999999999999,"Low":58.82,"Volume":1092596,"Date":"20170615080000000"},{"DT":"2017-06-17T01:00:00Z","Open":59.369999999999997,"Close":59.509999999999998,"High":59.789999999999999,"Low":59.234999999999999,"Volume":2157514,"Date":"20170616080000000"},{"DT":"2017-06-20T01:00:00Z","Open":59.579999999999998,"Close":60.549999999999997,"High":60.670000000000002,"Low":59.579999999999998,"Volume":2383659,"Date":"20170619080000000"},{"DT":"2017-06-21T01:00:00Z","Open":60.549999999999997,"Close":60.329999999999998,"High":60.920000000000002,"Low":60.295000000000002,"Volume":1821710,"Date":"20170620080000000"},{"DT":"2017-06-22T01:00:00Z","Open":60.310000000000002,"Close":59.789999999999999,"High":60.530000000000001,"Low":59.670000000000002,"Volume":2247944,"Date":"20170621080000000"},{"DT":"2017-06-23T01:00:00Z","Open":59.939999999999998,"Close":60.609999999999999,"High":60.799999999999997,"Low":59.609999999999999,"Volume":3473861,"Date":"20170622080000000"},{"DT":"2017-06-24T01:00:00Z","Open":60.590000000000003,"Close":59.770000000000003,"High":60.590000000000003,"Low":59.500100000000003,"Volume":2879785,"Date":"20170623080000000"},{"DT":"2017-06-27T01:00:00Z","Open":59.789999999999999,"Close":59.240000000000002,"High":59.950000000000003,"Low":59.149999999999999,"Volume":1535542,"Date":"20170626080000000"},{"DT":"2017-06-28T01:00:00Z","Open":59.130000000000003,"Close":58.880000000000003,"High":59.57,"Low":58.840000000000003,"Volume":1060391,"Date":"20170627080000000"},{"DT":"2017-06-29T01:00:00Z","Open":59.270000000000003,"Close":59.399999999999999,"High":59.700000000000003,"Low":59.200000000000003,"Volume":1191537,"Date":"20170628080000000"},{"DT":"2017-06-30T01:00:00Z","Open":59.350000000000001,"Close":58.799999999999997,"High":59.630000000000003,"Low":58.490000000000002,"Volume":1357538,"Date":"20170629080000000"},{"DT":"2017-07-01T01:00:00Z","Open":59,"Close":59.310000000000002,"High":59.57,"Low":58.835000000000001,"Volume":1593786,"Date":"20170630080000000"},{"DT":"2017-07-04T01:00:00Z","Open":59.590000000000003,"Close":59.130000000000003,"High":59.979999999999997,"Low":59.130000000000003,"Volume":1489574,"Date":"20170703080000000"},{"DT":"2017-07-06T01:00:00Z","Open":59.189999999999998,"Close":59.770000000000003,"High":60.049999999999997,"Low":59.189999999999998,"Volume":1638980,"Date":"20170705080000000"},{"DT":"2017-07-07T01:00:00Z","Open":59.460000000000001,"Close":59.219999999999999,"High":59.770000000000003,"Low":59.07,"Volume":2249516,"Date":"20170706080000000"},{"DT":"2017-07-08T01:00:00Z","Open":59.530000000000001,"Close":59.630000000000003,"High":60.07,"Low":59.329999999999998,"Volume":965439,"Date":"20170707080000000"},{"DT":"2017-07-11T01:00:00Z","Open":59.479999999999997,"Close":59.859999999999999,"High":60.045000000000002,"Low":59.380000000000003,"Volume":1146033,"Date":"20170710080000000"},{"DT":"2017-07-12T01:00:00Z","Open":59.990000000000002,"Close":59.799999999999997,"High":60.159999999999997,"Low":59.460000000000001,"Volume":2976519,"Date":"20170711080000000"},{"DT":"2017-07-13T01:00:00Z","Open":60.329999999999998,"Close":60.729999999999997,"High":60.990000000000002,"Low":60.159999999999997,"Volume":1439395,"Date":"20170712080000000"},{"DT":"2017-07-14T01:00:00Z","Open":61.25,"Close":61.189999999999998,"High":61.310000000000002,"Low":60.670000000000002,"Volume":2060109,"Date":"20170713080000000"},{"DT":"2017-07-15T01:00:00Z","Open":61.280000000000001,"Close":61.520000000000003,"High":61.655000000000001,"Low":60.914999999999999,"Volume":1286073,"Date":"20170714080000000"},{"DT":"2017-07-18T01:00:00Z","Open":61.600000000000001,"Close":61.549999999999997,"High":61.840000000000003,"Low":61.399999999999999,"Volume":1332751,"Date":"20170717080000000"},{"DT":"2017-07-19T01:00:00Z","Open":61.43,"Close":61.210000000000001,"High":61.539999999999999,"Low":60.950000000000003,"Volume":1520122,"Date":"20170718080000000"},{"DT":"2017-07-20T01:00:00Z","Open":61.32,"Close":61.380000000000003,"High":61.640000000000001,"Low":61.170000000000002,"Volume":1512177,"Date":"20170719080000000"},{"DT":"2017-07-21T01:00:00Z","Open":61.450000000000003,"Close":60.979999999999997,"High":61.549999999999997,"Low":60.810000000000002,"Volume":2009405,"Date":"20170720080000000"},{"DT":"2017-07-22T01:00:00Z","Open":60.829999999999998,"Close":61.369999999999997,"High":61.600000000000001,"Low":60.759999999999998,"Volume":1283236,"Date":"20170721080000000"},{"DT":"2017-07-25T01:00:00Z","Open":61.380000000000003,"Close":61.5,"High":61.579999999999998,"Low":61.25,"Volume":973808,"Date":"20170724080000000"},{"DT":"2017-07-26T01:00:00Z","Open":61.57,"Close":60.539999999999999,"High":61.659999999999997,"Low":60.380000000000003,"Volume":1691988,"Date":"20170725080000000"},{"DT":"2017-07-27T01:00:00Z","Open":60.579999999999998,"Close":59.719999999999999,"High":60.810000000000002,"Low":59.390000000000001,"Volume":2520698,"Date":"20170726080000000"},{"DT":"2017-07-28T01:00:00Z","Open":59.82,"Close":59.909999999999997,"High":60.240000000000002,"Low":59.600000000000001,"Volume":1944962,"Date":"20170727080000000"},{"DT":"2017-07-29T01:00:00Z","Open":59.909999999999997,"Close":60.079999999999998,"High":60.229999999999997,"Low":59.609999999999999,"Volume":1236434,"Date":"20170728080000000"},{"DT":"2017-08-01T01:00:00Z","Open":60.32,"Close":59.789999999999999,"High":60.619999999999997,"Low":59.759999999999998,"Volume":1043729,"Date":"20170731080000000"},{"DT":"2017-08-02T01:00:00Z","Open":60.039999999999999,"Close":59.939999999999998,"High":60.289900000000003,"Low":59.805,"Volume":1324251,"Date":"20170801080000000"},{"DT":"2017-08-03T01:00:00Z","Open":60,"Close":60.200000000000003,"High":60.329999999999998,"Low":59.520000000000003,"Volume":1121566,"Date":"20170802080000000"},{"DT":"2017-08-04T01:00:00Z","Open":60.149999999999999,"Close":60.369999999999997,"High":60.439999999999998,"Low":59.969999999999999,"Volume":983246,"Date":"20170803080000000"},{"DT":"2017-08-05T01:00:00Z","Open":60.520000000000003,"Close":60.130000000000003,"High":60.740000000000002,"Low":60.009999999999998,"Volume":778762,"Date":"20170804080000000"},{"DT":"2017-08-08T01:00:00Z","Open":60.159999999999997,"Close":60.869999999999997,"High":60.890000000000001,"Low":60.005000000000003,"Volume":975738,"Date":"20170807080000000"},{"DT":"2017-08-09T01:00:00Z","Open":60.670000000000002,"Close":60.140000000000001,"High":60.979999999999997,"Low":60.079999999999998,"Volume":1162440,"Date":"20170808080000000"},{"DT":"2017-08-10T01:00:00Z","Open":60.07,"Close":59.68,"High":60.229999999999997,"Low":59.380000000000003,"Volume":1965048,"Date":"20170809080000000"},{"DT":"2017-08-11T01:00:00Z","Open":59.350000000000001,"Close":58.57,"High":59.5,"Low":58.219999999999999,"Volume":2471473,"Date":"20170810080000000"},{"DT":"2017-08-12T01:00:00Z","Open":58.700000000000003,"Close":59.329999999999998,"High":59.700000000000003,"Low":58.689999999999998,"Volume":1511552,"Date":"20170811080000000"},{"DT":"2017-08-15T01:00:00Z","Open":59.799999999999997,"Close":59.619999999999997,"High":60.039999999999999,"Low":59.549999999999997,"Volume":2409765,"Date":"20170814080000000"},{"DT":"2017-08-16T01:00:00Z","Open":59.700000000000003,"Close":59.380000000000003,"High":59.880000000000003,"Low":59.109999999999999,"Volume":2933295,"Date":"20170815080000000"},{"DT":"2017-08-17T01:00:00Z","Open":62.149999999999999,"Close":62.140000000000001,"High":62.420000000000002,"Low":60.759999999999998,"Volume":6892023,"Date":"20170816080000000"},{"DT":"2017-08-18T01:00:00Z","Open":62,"Close":60.859999999999999,"High":62.07,"Low":60.780000000000001,"Volume":3501640,"Date":"20170817080000000"},{"DT":"2017-08-19T01:00:00Z","Open":60.759999999999998,"Close":61.25,"High":61.719999999999999,"Low":60.280000000000001,"Volume":2357872,"Date":"20170818080000000"},{"DT":"2017-08-22T01:00:00Z","Open":61.090000000000003,"Close":61.740000000000002,"High":62,"Low":60.960000000000001,"Volume":1486144,"Date":"20170821080000000"},{"DT":"2017-08-23T01:00:00Z","Open":61.869999999999997,"Close":62.960000000000001,"High":63.020000000000003,"Low":61.850000000000001,"Volume":1666369,"Date":"20170822080000000"},{"DT":"2017-08-24T01:00:00Z","Open":62.719999999999999,"Close":62.770000000000003,"High":63.365000000000002,"Low":62.600000000000001,"Volume":1445677,"Date":"20170823080000000"},{"DT":"2017-08-25T01:00:00Z","Open":62.869999999999997,"Close":62.68,"High":63.149999999999999,"Low":62.350000000000001,"Volume":1584503,"Date":"20170824080000000"},{"DT":"2017-08-26T01:00:00Z","Open":63.060000000000002,"Close":62.899999999999999,"High":63.140000000000001,"Low":62.670000000000002,"Volume":1352761,"Date":"20170825080000000"},{"DT":"2017-08-29T01:00:00Z","Open":63.100000000000001,"Close":63.460000000000001,"High":63.575000000000003,"Low":62.969999999999999,"Volume":1290434,"Date":"20170828080000000"},{"DT":"2017-08-30T01:00:00Z","Open":63.039999999999999,"Close":63.490000000000002,"High":63.630000000000003,"Low":63.021000000000001,"Volume":1206649,"Date":"20170829080000000"},{"DT":"2017-08-31T01:00:00Z","Open":63.399999999999999,"Close":63.899999999999999,"High":63.93,"Low":63.390000000000001,"Volume":1072530,"Date":"20170830080000000"},{"DT":"2017-09-01T01:00:00Z","Open":64,"Close":64.719999999999999,"High":64.829999999999998,"Low":63.899999999999999,"Volume":1930071,"Date":"20170831080000000"},{"DT":"2017-09-02T01:00:00Z","Open":64.900000000000006,"Close":64.379999999999995,"High":65.180000000000007,"Low":64.209999999999994,"Volume":1224667,"Date":"20170901080000000"},{"DT":"2017-09-06T01:00:00Z","Open":64.019999999999996,"Close":64.290000000000006,"High":64.480000000000004,"Low":63.810000000000002,"Volume":910613,"Date":"20170905080000000"},{"DT":"2017-09-07T01:00:00Z","Open":64.560000000000002,"Close":64.709999999999994,"High":64.810000000000002,"Low":64.049999999999997,"Volume":974511,"Date":"20170906080000000"},{"DT":"2017-09-08T01:00:00Z","Open":64.849999999999994,"Close":65.140000000000001,"High":65.245000000000005,"Low":64.489999999999995,"Volume":1075757,"Date":"20170907080000000"},{"DT":"2017-09-09T01:00:00Z","Open":65.150000000000006,"Close":65.019999999999996,"High":65.680000000000007,"Low":64.829999999999998,"Volume":1588439,"Date":"20170908080000000"},{"DT":"2017-09-12T01:00:00Z","Open":65.5,"Close":66.109999999999999,"High":66.269999999999996,"Low":65.379999999999995,"Volume":1770025,"Date":"20170911080000000"},{"DT":"2017-09-13T01:00:00Z","Open":66.269999999999996,"Close":66.140000000000001,"High":66.420000000000002,"Low":65.890000000000001,"Volume":1082149,"Date":"20170912080000000"},{"DT":"2017-09-14T01:00:00Z","Open":65.909999999999997,"Close":65.439999999999998,"High":66.219999999999999,"Low":65.409999999999997,"Volume":2042563,"Date":"20170913080000000"},{"DT":"2017-09-15T01:00:00Z","Open":65.310000000000002,"Close":65.680000000000007,"High":65.870000000000005,"Low":65.159999999999997,"Volume":1481022,"Date":"20170914080000000"},{"DT":"2017-09-16T01:00:00Z","Open":65.680000000000007,"Close":65.959999999999994,"High":66.129999999999995,"Low":65.620000000000005,"Volume":2295974,"Date":"20170915080000000"},{"DT":"2017-09-19T01:00:00Z","Open":66.090000000000003,"Close":66.079999999999998,"High":66.299999999999997,"Low":65.700000000000003,"Volume":1562007,"Date":"20170918080000000"},{"DT":"2017-09-20T01:00:00Z","Open":66.25,"Close":66.170000000000002,"High":66.450000000000003,"Low":66,"Volume":1238004,"Date":"20170919080000000"},{"DT":"2017-09-21T01:00:00Z","Open":66.310000000000002,"Close":66.090000000000003,"High":66.359999999999999,"Low":65.769999999999996,"Volume":1186007,"Date":"20170920080000000"},{"DT":"2017-09-22T01:00:00Z","Open":65.879999999999995,"Close":65.920000000000002,"High":66.140000000000001,"Low":65.629999999999995,"Volume":874785,"Date":"20170921080000000"},{"DT":"2017-09-23T01:00:00Z","Open":65.849999999999994,"Close":65.780000000000001,"High":66.269999999999996,"Low":65.709999999999994,"Volume":1296244,"Date":"20170922080000000"},{"DT":"2017-09-26T01:00:00Z","Open":65.799999999999997,"Close":64.730000000000004,"High":65.900000000000006,"Low":64.439999999999998,"Volume":1841833,"Date":"20170925080000000"},{"DT":"2017-09-27T01:00:00Z","Open":64.650000000000006,"Close":64.109999999999999,"High":64.900000000000006,"Low":63.909999999999997,"Volume":1615338,"Date":"20170926080000000"},{"DT":"2017-09-28T01:00:00Z","Open":64.269999999999996,"Close":64.390000000000001,"High":64.659999999999997,"Low":64.049999999999997,"Volume":1272526,"Date":"20170927080000000"},{"DT":"2017-09-29T01:00:00Z","Open":64.25,"Close":63.979999999999997,"High":64.620000000000005,"Low":63.969999999999999,"Volume":1126243,"Date":"20170928080000000"},{"DT":"2017-09-30T01:00:00Z","Open":64,"Close":64.200000000000003,"High":64.275000000000006,"Low":63.719999999999999,"Volume":1672816,"Date":"20170929080000000"},{"DT":"2017-10-03T01:00:00Z","Open":64.290000000000006,"Close":64.870000000000005,"High":65.069999999999993,"Low":64.209999999999994,"Volume":1693854,"Date":"20171002080000000"},{"DT":"2017-10-04T01:00:00Z","Open":65.060000000000002,"Close":65.150000000000006,"High":65.780000000000001,"Low":65.060000000000002,"Volume":1216981,"Date":"20171003080000000"},{"DT":"2017-10-05T01:00:00Z","Open":65.150000000000006,"Close":65.829999999999998,"High":65.870000000000005,"Low":65.150000000000006,"Volume":745628,"Date":"20171004080000000"},{"DT":"2017-10-06T01:00:00Z","Open":65.849999999999994,"Close":65.700000000000003,"High":65.989999999999995,"Low":65.519999999999996,"Volume":1974081,"Date":"20171005080000000"},{"DT":"2017-10-07T01:00:00Z","Open":65.680000000000007,"Close":66.359999999999999,"High":66.379999999999995,"Low":65.659999999999997,"Volume":1405100,"Date":"20171006080000000"},{"DT":"2017-10-10T01:00:00Z","Open":66.489999999999995,"Close":66.560000000000002,"High":66.769999999999996,"Low":66.019999999999996,"Volume":1542307,"Date":"20171009080000000"},{"DT":"2017-10-11T01:00:00Z","Open":66.680000000000007,"Close":66.599999999999994,"High":66.859999999999999,"Low":66.219999999999999,"Volume":1143075,"Date":"20171010080000000"},{"DT":"2017-10-12T01:00:00Z","Open":66.680000000000007,"Close":66.620000000000005,"High":66.969999999999999,"Low":66.340000000000003,"Volume":1794800,"Date":"20171011080000000"},{"DT":"2017-10-13T01:00:00Z","Open":66.650000000000006,"Close":67.540000000000006,"High":67.599999999999994,"Low":66.540000000000006,"Volume":1454994,"Date":"20171012080000000"},{"DT":"2017-10-14T01:00:00Z","Open":67.629999999999995,"Close":66.989999999999995,"High":67.819999999999993,"Low":66.890000000000001,"Volume":943164,"Date":"20171013080000000"},{"DT":"2017-10-17T01:00:00Z","Open":67.200000000000003,"Close":66.909999999999997,"High":67.370000000000005,"Low":66.769999999999996,"Volume":1473459,"Date":"20171016080000000"},{"DT":"2017-10-18T01:00:00Z","Open":66.680000000000007,"Close":66.120000000000005,"High":66.680000000000007,"Low":65.989999999999995,"Volume":1711833,"Date":"20171017080000000"},{"DT":"2017-10-19T01:00:00Z","Open":66.379999999999995,"Close":66.439999999999998,"High":66.584999999999994,"Low":66.069999999999993,"Volume":1150468,"Date":"20171018080000000"},{"DT":"2017-10-20T01:00:00Z","Open":66.439999999999998,"Close":66.879999999999995,"High":66.974999999999994,"Low":66.060000000000002,"Volume":1359119,"Date":"20171019080000000"},{"DT":"2017-10-21T01:00:00Z","Open":67.189999999999998,"Close":67.25,"High":67.530000000000001,"Low":67.069999999999993,"Volume":1506112,"Date":"20171020080000000"},{"DT":"2017-10-24T01:00:00Z","Open":67.450000000000003,"Close":67.019999999999996,"High":67.680000000000007,"Low":66.930000000000007,"Volume":1267570,"Date":"20171023080000000"},{"DT":"2017-10-25T01:00:00Z","Open":67.310000000000002,"Close":67.319999999999993,"High":67.549999999999997,"Low":66.879999999999995,"Volume":1975704,"Date":"20171024080000000"},{"DT":"2017-10-26T01:00:00Z","Open":67.900000000000006,"Close":67.390000000000001,"High":68.519999999999996,"Low":67.030000000000001,"Volume":1795014,"Date":"20171025080000000"},{"DT":"2017-10-27T01:00:00Z","Open":67.530000000000001,"Close":67.709999999999994,"High":67.829999999999998,"Low":67.200000000000003,"Volume":1418152,"Date":"20171026080000000"},{"DT":"2017-10-28T01:00:00Z","Open":67.810000000000002,"Close":67.969999999999999,"High":68.010000000000005,"Low":67.409999999999997,"Volume":1440996,"Date":"20171027080000000"},{"DT":"2017-10-31T01:00:00Z","Open":67.799999999999997,"Close":67.489999999999995,"High":67.930000000000007,"Low":67.099999999999994,"Volume":846605,"Date":"20171030080000000"},{"DT":"2017-11-01T01:00:00Z","Open":67.739999999999995,"Close":68.030000000000001,"High":68.170000000000002,"Low":67.540000000000006,"Volume":1614432,"Date":"20171031080000000"},{"DT":"2017-11-02T01:00:00Z","Open":68.200000000000003,"Close":68.019999999999996,"High":68.439999999999998,"Low":67.840000000000003,"Volume":1357998,"Date":"20171101080000000"},{"DT":"2017-11-03T01:00:00Z","Open":68.079999999999998,"Close":68.129999999999995,"High":68.379999999999995,"Low":67.810000000000002,"Volume":1856865,"Date":"20171102080000000"},{"DT":"2017-11-04T01:00:00Z","Open":68.090000000000003,"Close":68.370000000000005,"High":68.670000000000002,"Low":68.010000000000005,"Volume":1072288,"Date":"20171103080000000"},{"DT":"2017-11-07T02:00:00Z","Open":68.269999999999996,"Close":68.219999999999999,"High":68.450000000000003,"Low":67.870000000000005,"Volume":995731,"Date":"20171106080000000"},{"DT":"2017-11-08T02:00:00Z","Open":68.319999999999993,"Close":68.25,"High":68.640000000000001,"Low":68.040000000000006,"Volume":956466,"Date":"20171107080000000"},{"DT":"2017-11-09T02:00:00Z","Open":68.099999999999994,"Close":68.109999999999999,"High":68.329999999999998,"Low":67.771000000000001,"Volume":977616,"Date":"20171108080000000"},{"DT":"2017-11-10T02:00:00Z","Open":67.920000000000002,"Close":67.469999999999999,"High":67.980000000000004,"Low":66.909999999999997,"Volume":1665083,"Date":"20171109080000000"},{"DT":"2017-11-11T02:00:00Z","Open":67.349999999999994,"Close":66.810000000000002,"High":67.579999999999998,"Low":66.700000000000003,"Volume":1704549,"Date":"20171110080000000"},{"DT":"2017-11-14T02:00:00Z","Open":66.450000000000003,"Close":67.129999999999995,"High":67.390000000000001,"Low":66.25,"Volume":1536388,"Date":"20171113080000000"},{"DT":"2017-11-15T02:00:00Z","Open":66.980000000000004,"Close":67.459999999999994,"High":67.799999999999997,"Low":66.890000000000001,"Volume":2426247,"Date":"20171114080000000"},{"DT":"2017-11-16T02:00:00Z","Open":67.290000000000006,"Close":67.310000000000002,"High":67.560000000000002,"Low":66.909999999999997,"Volume":2042296,"Date":"20171115080000000"},{"DT":"2017-11-17T02:00:00Z","Open":67.5,"Close":68.739999999999995,"High":68.950000000000003,"Low":67.450000000000003,"Volume":2300408,"Date":"20171116080000000"},{"DT":"2017-11-18T02:00:00Z","Open":68.530000000000001,"Close":68.790000000000006,"High":69.090000000000003,"Low":68.290000000000006,"Volume":1823122,"Date":"20171117080000000"},{"DT":"2017-11-21T02:00:00Z","Open":69.280000000000001,"Close":69.959999999999994,"High":70.230000000000004,"Low":68.950000000000003,"Volume":4143453,"Date":"20171120080000000"},{"DT":"2017-11-22T02:00:00Z","Open":70.049999999999997,"Close":69.909999999999997,"High":70.810000000000002,"Low":67.700000000000003,"Volume":5330554,"Date":"20171121080000000"},{"DT":"2017-11-23T02:00:00Z","Open":69.140000000000001,"Close":68.689999999999998,"High":69.370000000000005,"Low":68.299999999999997,"Volume":3041728,"Date":"20171122080000000"},{"DT":"2017-11-25T02:00:00Z","Open":68.840000000000003,"Close":69.359999999999999,"High":69.390000000000001,"Low":68.780000000000001,"Volume":643664,"Date":"20171124080000000"},{"DT":"2017-11-28T02:00:00Z","Open":69.219999999999999,"Close":69.310000000000002,"High":69.489999999999995,"Low":69.170000000000002,"Volume":1439275,"Date":"20171127080000000"},{"DT":"2017-11-29T02:00:00Z","Open":69.560000000000002,"Close":70.590000000000003,"High":70.930000000000007,"Low":69.420000000000002,"Volume":2473433,"Date":"20171128080000000"},{"DT":"2017-11-30T02:00:00Z","Open":70.5,"Close":68.689999999999998,"High":70.840000000000003,"Low":68.450000000000003,"Volume":1904175,"Date":"20171129080000000"},{"DT":"2017-12-01T02:00:00Z","Open":68.969999999999999,"Close":69.239999999999995,"High":69.590000000000003,"Low":68.209999999999994,"Volume":1922514,"Date":"20171130080000000"},{"DT":"2017-12-02T02:00:00Z","Open":69.189999999999998,"Close":68.689999999999998,"High":70,"Low":67.230000000000004,"Volume":2516564,"Date":"20171201080000000"},{"DT":"2017-12-05T02:00:00Z","Open":68.939999999999998,"Close":66.239999999999995,"High":69.170000000000002,"Low":66.180000000000007,"Volume":2899424,"Date":"20171204080000000"},{"DT":"2017-12-06T02:00:00Z","Open":66.200000000000003,"Close":65.829999999999998,"High":67,"Low":65.730000000000004,"Volume":2383974,"Date":"20171205080000000"},{"DT":"2017-12-07T02:00:00Z","Open":65.879999999999995,"Close":65.890000000000001,"High":66.25,"Low":65.600999999999999,"Volume":1690108,"Date":"20171206080000000"},{"DT":"2017-12-08T02:00:00Z","Open":65.909999999999997,"Close":66.709999999999994,"High":66.881100000000004,"Low":65.769999999999996,"Volume":2294513,"Date":"20171207080000000"},{"DT":"2017-12-09T02:00:00Z","Open":66.939999999999998,"Close":67.379999999999995,"High":67.546800000000005,"Low":66.652299999999997,"Volume":2195577,"Date":"20171208080000000"},{"DT":"2017-12-12T02:00:00Z","Open":67.430000000000007,"Close":67,"High":67.75,"Low":66.480000000000004,"Volume":2438556,"Date":"20171211080000000"},{"DT":"2017-12-13T02:00:00Z","Open":67,"Close":67.060000000000002,"High":67.159999999999997,"Low":66.5,"Volume":2180984,"Date":"20171212080000000"},{"DT":"2017-12-14T02:00:00Z","Open":67.230000000000004,"Close":66.680000000000007,"High":67.659999999999997,"Low":66.640000000000001,"Volume":1684618,"Date":"20171213080000000"},{"DT":"2017-12-15T02:00:00Z","Open":66.680000000000007,"Close":66.510000000000005,"High":67.090000000000003,"Low":66.370000000000005,"Volume":1774564,"Date":"20171214080000000"},{"DT":"2017-12-16T02:00:00Z","Open":67,"Close":67.609999999999999,"High":67.859999999999999,"Low":66.689999999999998,"Volume":2871925,"Date":"20171215080000000"},{"DT":"2017-12-19T02:00:00Z","Open":67.890000000000001,"Close":67.659999999999997,"High":68.510000000000005,"Low":67.480000000000004,"Volume":2306264,"Date":"20171218080000000"},{"DT":"2017-12-20T02:00:00Z","Open":67.939999999999998,"Close":67.75,"High":68.049999999999997,"Low":67.489999999999995,"Volume":1469439,"Date":"20171219080000000"},{"DT":"2017-12-21T02:00:00Z","Open":67.810000000000002,"Close":67.400000000000006,"High":68.140000000000001,"Low":67.159999999999997,"Volume":1363529,"Date":"20171220080000000"},{"DT":"2017-12-22T02:00:00Z","Open":67.510000000000005,"Close":67.519999999999996,"High":67.870000000000005,"Low":67.267899999999997,"Volume":1502218,"Date":"20171221080000000"},{"DT":"2017-12-23T02:00:00Z","Open":67.409999999999997,"Close":67.349999999999994,"High":67.539900000000003,"Low":66.859999999999999,"Volume":1221315,"Date":"20171222080000000"},{"DT":"2017-12-27T02:00:00Z","Open":67.310000000000002,"Close":67.25,"High":67.450000000000003,"Low":67.049999999999997,"Volume":532863,"Date":"20171226080000000"},{"DT":"2017-12-28T02:00:00Z","Open":67.209999999999994,"Close":67.299999999999997,"High":67.459999999999994,"Low":67.150000000000006,"Volume":1038585,"Date":"20171227080000000"},{"DT":"2017-12-29T02:00:00Z","Open":67.439999999999998,"Close":67.450000000000003,"High":67.480000000000004,"Low":67.019999999999996,"Volume":607022,"Date":"20171228080000000"},{"DT":"2017-12-30T02:00:00Z","Open":67.5,"Close":66.969999999999999,"High":67.579999999999998,"Low":66.930000000000007,"Volume":1064895,"Date":"20171229080000000"},{"DT":"2018-01-03T02:00:00Z","Open":67.420000000000002,"Close":67.599999999999994,"High":67.890000000000001,"Low":67.340000000000003,"Volume":1047830,"Date":"20180102080000000"},{"DT":"2018-01-04T02:00:00Z","Open":67.620000000000005,"Close":69.319999999999993,"High":69.489999999999995,"Low":67.599999999999994,"Volume":1698899,"Date":"20180103080000000"},{"DT":"2018-01-05T02:00:00Z","Open":69.540000000000006,"Close":68.799999999999997,"High":69.819999999999993,"Low":68.780000000000001,"Volume":2231534,"Date":"20180104080000000"},{"DT":"2018-01-06T02:00:00Z","Open":68.730000000000004,"Close":69.900000000000006,"High":70.099999999999994,"Low":68.730000000000004,"Volume":1632512,"Date":"20180105080000000"},{"DT":"2018-01-09T02:00:00Z","Open":69.730000000000004,"Close":70.049999999999997,"High":70.329999999999998,"Low":69.545000000000002,"Volume":1613911,"Date":"20180108080000000"},{"DT":"2018-01-10T02:00:00Z","Open":70.680000000000007,"Close":71.769999999999996,"High":72.329999999999998,"Low":70.170000000000002,"Volume":2666711,"Date":"20180109080000000"},{"DT":"2018-01-11T02:00:00Z","Open":71.450000000000003,"Close":70.790000000000006,"High":71.450000000000003,"Low":70.109999999999999,"Volume":2957184,"Date":"20180110080000000"},{"DT":"2018-01-12T02:00:00Z","Open":70.920000000000002,"Close":70.799999999999997,"High":71.180000000000007,"Low":70.299999999999997,"Volume":1511134,"Date":"20180111080000000"},{"DT":"2018-01-13T02:00:00Z","Open":70.730000000000004,"Close":71.730000000000004,"High":71.859999999999999,"Low":70.5,"Volume":1448155,"Date":"20180112080000000"},{"DT":"2018-01-17T02:00:00Z","Open":72.019999999999996,"Close":71.230000000000004,"High":72.469999999999999,"Low":71.060000000000002,"Volume":1703398,"Date":"20180116080000000"},{"DT":"2018-01-18T02:00:00Z","Open":71.719999999999999,"Close":72.060000000000002,"High":72.310000000000002,"Low":71.590000000000003,"Volume":1824511,"Date":"20180117080000000"},{"DT":"2018-01-19T02:00:00Z","Open":72.200000000000003,"Close":72.189999999999998,"High":72.5,"Low":71.670000000000002,"Volume":1828309,"Date":"20180118080000000"},{"DT":"2018-01-20T02:00:00Z","Open":72.480000000000004,"Close":73.069999999999993,"High":73.215000000000003,"Low":72.060000000000002,"Volume":2266103,"Date":"20180119080000000"},{"DT":"2018-01-23T02:00:00Z","Open":73.170000000000002,"Close":73.480000000000004,"High":73.549999999999997,"Low":72.599999999999994,"Volume":1963669,"Date":"20180122080000000"},{"DT":"2018-01-24T02:00:00Z","Open":74.049999999999997,"Close":73.439999999999998,"High":74.075000000000003,"Low":73.25,"Volume":1213446,"Date":"20180123080000000"},{"DT":"2018-01-25T02:00:00Z","Open":73.659999999999997,"Close":73.579999999999998,"High":73.859999999999999,"Low":73.049999999999997,"Volume":1754331,"Date":"20180124080000000"},{"DT":"2018-01-26T02:00:00Z","Open":74.170000000000002,"Close":73.859999999999999,"High":74.489999999999995,"Low":73.650000000000006,"Volume":1664109,"Date":"20180125080000000"},{"DT":"2018-01-27T02:00:00Z","Open":74.299999999999997,"Close":74.819999999999993,"High":74.829999999999998,"Low":73.590000000000003,"Volume":2386914,"Date":"20180126080000000"},{"DT":"2018-01-30T02:00:00Z","Open":74.480000000000004,"Close":74.530000000000001,"High":75,"Low":74.299999999999997,"Volume":1322157,"Date":"20180129080000000"},{"DT":"2018-01-31T02:00:00Z","Open":73.989999999999995,"Close":72.989999999999995,"High":74.079999999999998,"Low":72.930000000000007,"Volume":1816966,"Date":"20180130080000000"},{"DT":"2018-02-01T02:00:00Z","Open":73.769999999999996,"Close":73.430000000000007,"High":74.390000000000001,"Low":73.239999999999995,"Volume":2032808,"Date":"20180131080000000"},{"DT":"2018-02-02T02:00:00Z","Open":73.180000000000007,"Close":72.829999999999998,"High":73.780000000000001,"Low":72.510000000000005,"Volume":2008177,"Date":"20180201080000000"},{"DT":"2018-02-03T02:00:00Z","Open":72.319999999999993,"Close":71.25,"High":72.760000000000005,"Low":71.219999999999999,"Volume":1955697,"Date":"20180202080000000"},{"DT":"2018-02-06T02:00:00Z","Open":70.859999999999999,"Close":68.219999999999999,"High":71.480000000000004,"Low":68.180000000000007,"Volume":2860726,"Date":"20180205080000000"},{"DT":"2018-02-07T02:00:00Z","Open":66.959999999999994,"Close":68.450000000000003,"High":68.829999999999998,"Low":66.129999999999995,"Volume":4121239,"Date":"20180206080000000"},{"DT":"2018-02-08T02:00:00Z","Open":68.189999999999998,"Close":68.060000000000002,"High":69.084999999999994,"Low":67.905000000000001,"Volume":1988391,"Date":"20180207080000000"},{"DT":"2018-02-09T02:00:00Z","Open":68.090000000000003,"Close":65.049999999999997,"High":68.159999999999997,"Low":65.030000000000001,"Volume":4163352,"Date":"20180208080000000"},{"DT":"2018-02-10T02:00:00Z","Open":66.400000000000006,"Close":66.980000000000004,"High":67.530000000000001,"Low":65.290000000000006,"Volume":4516960,"Date":"20180209080000000"},{"DT":"2018-02-13T02:00:00Z","Open":67.459999999999994,"Close":68.430000000000007,"High":69.049999999999997,"Low":67.370000000000005,"Volume":4227645,"Date":"20180212080000000"},{"DT":"2018-02-14T02:00:00Z","Open":67.969999999999999,"Close":68.340000000000003,"High":68.489999999999995,"Low":67.659999999999997,"Volume":1825531,"Date":"20180213080000000"},{"DT":"2018-02-15T02:00:00Z","Open":67.799999999999997,"Close":69.700000000000003,"High":69.890000000000001,"Low":67.620000000000005,"Volume":3637770,"Date":"20180214080000000"},{"DT":"2018-02-16T02:00:00Z","Open":74.939999999999998,"Close":72.019999999999996,"High":74.989999999999995,"Low":71.219999999999999,"Volume":4899109,"Date":"20180215080000000"},{"DT":"2018-02-17T02:00:00Z","Open":71.969999999999999,"Close":71.969999999999999,"High":72.700000000000003,"Low":71.620699999999999,"Volume":2887139,"Date":"20180216080000000"},{"DT":"2018-02-21T02:00:00Z","Open":71.5,"Close":71.079999999999998,"High":71.849999999999994,"Low":70.700000000000003,"Volume":2580405,"Date":"20180220080000000"},{"DT":"2018-02-22T02:00:00Z","Open":71.120000000000005,"Close":71.25,"High":72.700000000000003,"Low":70.969999999999999,"Volume":1995589,"Date":"20180221080000000"},{"DT":"2018-02-23T02:00:00Z","Open":71.719999999999999,"Close":70.680000000000007,"High":71.760000000000005,"Low":70.510000000000005,"Volume":2403351,"Date":"20180222080000000"},{"DT":"2018-02-24T02:00:00Z","Open":71.150000000000006,"Close":70.700000000000003,"High":71.370000000000005,"Low":70.060000000000002,"Volume":4226987,"Date":"20180223080000000"},{"DT":"2018-02-27T02:00:00Z","Open":71,"Close":70.579999999999998,"High":71.209999999999994,"Low":70.010000000000005,"Volume":5947419,"Date":"20180226080000000"},{"DT":"2018-02-28T02:00:00Z","Open":70.75,"Close":69,"High":70.920000000000002,"Low":69,"Volume":3370532,"Date":"20180227080000000"},{"DT":"2018-03-01T02:00:00Z","Open":69.420000000000002,"Close":68.590000000000003,"High":70,"Low":68.569999999999993,"Volume":3289162,"Date":"20180228080000000"},{"DT":"2018-03-02T02:00:00Z","Open":68.469999999999999,"Close":67.379999999999995,"High":68.799999999999997,"Low":66.790000000000006,"Volume":2401795,"Date":"20180301080000000"},{"DT":"2018-03-03T02:00:00Z","Open":66.819999999999993,"Close":67.510000000000005,"High":67.680000000000007,"Low":66.650000000000006,"Volume":2057260,"Date":"20180302080000000"},{"DT":"2018-03-06T02:00:00Z","Open":67.25,"Close":67.549999999999997,"High":67.849999999999994,"Low":66.510000000000005,"Volume":1890858,"Date":"20180305080000000"},{"DT":"2018-03-07T02:00:00Z","Open":67.780000000000001,"Close":68.109999999999999,"High":68.420000000000002,"Low":67.450000000000003,"Volume":2944632,"Date":"20180306080000000"},{"DT":"2018-03-08T02:00:00Z","Open":67.359999999999999,"Close":69.700000000000003,"High":69.855000000000004,"Low":67.299999999999997,"Volume":3125788,"Date":"20180307080000000"},{"DT":"2018-03-09T02:00:00Z","Open":69.719999999999999,"Close":69.849999999999994,"High":70.269999999999996,"Low":69.189999999999998,"Volume":2453402,"Date":"20180308080000000"},{"DT":"2018-03-10T02:00:00Z","Open":70.269999999999996,"Close":71.129999999999995,"High":71.5,"Low":70,"Volume":2061190,"Date":"20180309080000000"},{"DT":"2018-03-13T01:00:00Z","Open":71.200000000000003,"Close":70.709999999999994,"High":71.530000000000001,"Low":70.670000000000002,"Volume":2049403,"Date":"20180312080000000"},{"DT":"2018-03-14T01:00:00Z","Open":71,"Close":70.680000000000007,"High":71.519999999999996,"Low":70.420000000000002,"Volume":1728144,"Date":"20180313080000000"},{"DT":"2018-03-15T01:00:00Z","Open":71.069999999999993,"Close":69.920000000000002,"High":71.159999999999997,"Low":69.690700000000007,"Volume":1866288,"Date":"20180314080000000"},{"DT":"2018-03-16T01:00:00Z","Open":70.090000000000003,"Close":70.180000000000007,"High":70.659999999999997,"Low":69.870000000000005,"Volume":2530377,"Date":"20180315080000000"},{"DT":"2018-03-17T01:00:00Z","Open":69.920000000000002,"Close":69.900000000000006,"High":70.340000000000003,"Low":69.049999999999997,"Volume":3378129,"Date":"20180316080000000"},{"DT":"2018-03-20T01:00:00Z","Open":69.790000000000006,"Close":69.340000000000003,"High":70.310000000000002,"Low":69.060000000000002,"Volume":2639402,"Date":"20180319080000000"},{"DT":"2018-03-21T01:00:00Z","Open":69.769999999999996,"Close":69.849999999999994,"High":70.069999999999993,"Low":69.450000000000003,"Volume":2379124,"Date":"20180320080000000"},{"DT":"2018-03-22T01:00:00Z","Open":69.879999999999995,"Close":69.400000000000006,"High":70.090000000000003,"Low":69.359999999999999,"Volume":1583159,"Date":"20180321080000000"},{"DT":"2018-03-23T01:00:00Z","Open":68.700000000000003,"Close":67.469999999999999,"High":69.200000000000003,"Low":67.329999999999998,"Volume":1689996,"Date":"20180322080000000"},{"DT":"2018-03-24T01:00:00Z","Open":67.579999999999998,"Close":66.060000000000002,"High":68.150000000000006,"Low":65.939999999999998,"Volume":2594081,"Date":"20180323080000000"},{"DT":"2018-03-27T01:00:00Z","Open":67.200000000000003,"Close":68.200000000000003,"High":68.284999999999997,"Low":66.655000000000001,"Volume":2263757,"Date":"20180326080000000"},{"DT":"2018-03-28T01:00:00Z","Open":68.480000000000004,"Close":67,"High":68.629999999999995,"Low":66.540000000000006,"Volume":2104527,"Date":"20180327080000000"},{"DT":"2018-03-29T01:00:00Z","Open":67.219999999999999,"Close":66.400000000000006,"High":67.379999999999995,"Low":65.810000000000002,"Volume":2267763,"Date":"20180328080000000"},{"DT":"2018-03-30T01:00:00Z","Open":66.75,"Close":66.900000000000006,"High":67.579999999999998,"Low":66.109999999999999,"Volume":2711285,"Date":"20180329080000000"},{"DT":"2018-04-03T01:00:00Z","Open":66.650000000000006,"Close":64.430000000000007,"High":66.969999999999999,"Low":63.729999999999997,"Volume":3085753,"Date":"20180402080000000"},{"DT":"2018-04-04T01:00:00Z","Open":64.939999999999998,"Close":65.420000000000002,"High":65.879999999999995,"Low":64.620000000000005,"Volume":2286132,"Date":"20180403080000000"},{"DT":"2018-04-05T01:00:00Z","Open":64.150000000000006,"Close":65.450000000000003,"High":65.644999999999996,"Low":63.645000000000003,"Volume":5084054,"Date":"20180404080000000"},{"DT":"2018-04-06T01:00:00Z","Open":65.819999999999993,"Close":65.680000000000007,"High":66.310000000000002,"Low":65.5,"Volume":2120181,"Date":"20180405080000000"},{"DT":"2018-04-07T01:00:00Z","Open":65.010000000000005,"Close":63.649999999999999,"High":65.560000000000002,"Low":63.380000000000003,"Volume":3578587,"Date":"20180406080000000"},{"DT":"2018-04-10T01:00:00Z","Open":64.920000000000002,"Close":65.189999999999998,"High":66.25,"Low":64.079999999999998,"Volume":2639750,"Date":"20180409080000000"},{"DT":"2018-04-11T01:00:00Z","Open":66.140000000000001,"Close":66.640000000000001,"High":66.790000000000006,"Low":65.900000000000006,"Volume":2120887,"Date":"20180410080000000"},{"DT":"2018-04-12T01:00:00Z","Open":65.980000000000004,"Close":66.079999999999998,"High":66.599999999999994,"Low":65.819999999999993,"Volume":1391380,"Date":"20180411080000000"},{"DT":"2018-04-13T01:00:00Z","Open":66.560000000000002,"Close":67.200000000000003,"High":67.640000000000001,"Low":66.453500000000005,"Volume":2180892,"Date":"20180412080000000"},{"DT":"2018-04-14T01:00:00Z","Open":67.5,"Close":67.209999999999994,"High":67.670000000000002,"Low":66.879999999999995,"Volume":2043908,"Date":"20180413080000000"},{"DT":"2018-04-17T01:00:00Z","Open":67.829999999999998,"Close":68.170000000000002,"High":68.370000000000005,"Low":67.489999999999995,"Volume":2887820,"Date":"20180416080000000"},{"DT":"2018-04-18T01:00:00Z","Open":68.599999999999994,"Close":68.439999999999998,"High":68.849999999999994,"Low":68.069999999999993,"Volume":2682621,"Date":"20180417080000000"},{"DT":"2018-04-19T01:00:00Z","Open":69.120000000000005,"Close":69.549999999999997,"High":70.290000000000006,"Low":68.650000000000006,"Volume":2678311,"Date":"20180418080000000"},{"DT":"2018-04-20T01:00:00Z","Open":69.480000000000004,"Close":67.969999999999999,"High":69.590000000000003,"Low":67.359999999999999,"Volume":2435090,"Date":"20180419080000000"},{"DT":"2018-04-21T01:00:00Z","Open":68.040000000000006,"Close":67.549999999999997,"High":68.260000000000005,"Low":67.319999999999993,"Volume":1917243,"Date":"20180420080000000"},{"DT":"2018-04-24T01:00:00Z","Open":67.709999999999994,"Close":68.069999999999993,"High":68.670000000000002,"Low":67.530000000000001,"Volume":2260555,"Date":"20180423080000000"},{"DT":"2018-04-25T01:00:00Z","Open":66.390000000000001,"Close":66.640000000000001,"High":67.905000000000001,"Low":66.040000000000006,"Volume":3701595,"Date":"20180424080000000"},{"DT":"2018-04-26T01:00:00Z","Open":66.689999999999998,"Close":65.799999999999997,"High":67.079999999999998,"Low":64.909999999999997,"Volume":4451605,"Date":"20180425080000000"},{"DT":"2018-04-27T01:00:00Z","Open":66.219999999999999,"Close":66.370000000000005,"High":66.760000000000005,"Low":65.894999999999996,"Volume":1978569,"Date":"20180426080000000"},{"DT":"2018-04-28T01:00:00Z","Open":66.340000000000003,"Close":66.280000000000001,"High":66.560000000000002,"Low":65.959999999999994,"Volume":1189195,"Date":"20180427080000000"},{"DT":"2018-05-01T01:00:00Z","Open":66.489999999999995,"Close":65.739999999999995,"High":66.659999999999997,"Low":65.730000000000004,"Volume":2277705,"Date":"20180430080000000"},{"DT":"2018-05-02T01:00:00Z","Open":65.629999999999995,"Close":66.239999999999995,"High":66.349999999999994,"Low":65.489999999999995,"Volume":3135146,"Date":"20180501080000000"},{"DT":"2018-05-03T01:00:00Z","Open":66,"Close":65.909999999999997,"High":66.859999999999999,"Low":65.769999999999996,"Volume":2240482,"Date":"20180502080000000"},{"DT":"2018-05-04T01:00:00Z","Open":65.769999999999996,"Close":66.340000000000003,"High":66.459999999999994,"Low":64.859999999999999,"Volume":2365851,"Date":"20180503080000000"},{"DT":"2018-05-05T01:00:00Z","Open":66.030000000000001,"Close":67,"High":67.25,"Low":65.540000000000006,"Volume":1331017,"Date":"20180504080000000"},{"DT":"2018-05-08T01:00:00Z","Open":67.159999999999997,"Close":67.390000000000001,"High":67.980000000000004,"Low":67.069999999999993,"Volume":1468735,"Date":"20180507080000000"},{"DT":"2018-05-09T01:00:00Z","Open":67.079999999999998,"Close":67.370000000000005,"High":67.435000000000002,"Low":66.840000000000003,"Volume":1916103,"Date":"20180508080000000"},{"DT":"2018-05-10T01:00:00Z","Open":67.379999999999995,"Close":68.129999999999995,"High":68.409999999999997,"Low":67.150000000000006,"Volume":2108506,"Date":"20180509080000000"},{"DT":"2018-05-11T01:00:00Z","Open":68.120000000000005,"Close":68.859999999999999,"High":68.879999999999995,"Low":68.120000000000005,"Volume":1844868,"Date":"20180510080000000"},{"DT":"2018-05-12T01:00:00Z","Open":69.189999999999998,"Close":69.450000000000003,"High":69.599999999999994,"Low":68.909999999999997,"Volume":1524184,"Date":"20180511080000000"},{"DT":"2018-05-15T01:00:00Z","Open":69.730000000000004,"Close":69.209999999999994,"High":70.450000000000003,"Low":69,"Volume":3322635,"Date":"20180514080000000"},{"DT":"2018-05-16T01:00:00Z","Open":61.840000000000003,"Close":62.5,"High":64.099999999999994,"Low":60.700000000000003,"Volume":14451191,"Date":"20180515080000000"},{"DT":"2018-05-17T01:00:00Z","Open":62.509999999999998,"Close":61.939999999999998,"High":62.988300000000002,"Low":61.649999999999999,"Volume":5872508,"Date":"20180516080000000"},{"DT":"2018-05-18T01:00:00Z","Open":61.979999999999997,"Close":63.590000000000003,"High":63.9054,"Low":61.759999999999998,"Volume":5211271,"Date":"20180517080000000"},{"DT":"2018-05-19T01:00:00Z","Open":63.630000000000003,"Close":64.319999999999993,"High":64.599900000000005,"Low":63.511000000000003,"Volume":4163534,"Date":"20180518080000000"},{"DT":"2018-05-22T01:00:00Z","Open":64.75,"Close":65.549999999999997,"High":65.989999999999995,"Low":64.680000000000007,"Volume":4527295,"Date":"20180521080000000"},{"DT":"2018-05-23T01:00:00Z","Open":65.620000000000005,"Close":64.840000000000003,"High":65.890000000000001,"Low":64.685000000000002,"Volume":3415571,"Date":"20180522080000000"},{"DT":"2018-05-24T01:00:00Z","Open":64.209999999999994,"Close":64.530000000000001,"High":65,"Low":64.209999999999994,"Volume":3222446,"Date":"20180523080000000"},{"DT":"2018-05-25T01:00:00Z","Open":64.620000000000005,"Close":64.120000000000005,"High":65,"Low":64.069999999999993,"Volume":1525894,"Date":"20180524080000000"},{"DT":"2018-05-26T01:00:00Z","Open":63.939999999999998,"Close":63.149999999999999,"High":64.109999999999999,"Low":62.840000000000003,"Volume":1742002,"Date":"20180525080000000"},{"DT":"2018-05-30T01:00:00Z","Open":62.630000000000003,"Close":61.850000000000001,"High":62.670000000000002,"Low":61.299999999999997,"Volume":3559198,"Date":"20180529080000000"},{"DT":"2018-05-31T01:00:00Z","Open":62.240000000000002,"Close":62.689999999999998,"High":63.060000000000002,"Low":61.994999999999997,"Volume":1731482,"Date":"20180530080000000"},{"DT":"2018-06-01T01:00:00Z","Open":62.649999999999999,"Close":61.920000000000002,"High":62.829999999999998,"Low":61.850000000000001,"Volume":2510357,"Date":"20180531080000000"},{"DT":"2018-06-02T01:00:00Z","Open":62.469999999999999,"Close":62.780000000000001,"High":63.229999999999997,"Low":62.439999999999998,"Volume":2277946,"Date":"20180601080000000"},{"DT":"2018-06-05T01:00:00Z","Open":63.170000000000002,"Close":63.380000000000003,"High":63.509999999999998,"Low":62.759999999999998,"Volume":1958048,"Date":"20180604080000000"},{"DT":"2018-06-06T01:00:00Z","Open":63.460000000000001,"Close":63.520000000000003,"High":63.869999999999997,"Low":63.090000000000003,"Volume":1889520,"Date":"20180605080000000"},{"DT":"2018-06-07T01:00:00Z","Open":63.75,"Close":65.189999999999998,"High":65.189999999999998,"Low":63.060000000000002,"Volume":3177630,"Date":"20180606080000000"},{"DT":"2018-06-08T01:00:00Z","Open":65.409999999999997,"Close":65.230000000000004,"High":66.090000000000003,"Low":64.799999999999997,"Volume":2977186,"Date":"20180607080000000"},{"DT":"2018-06-09T01:00:00Z","Open":65.349999999999994,"Close":65.730000000000004,"High":66.370000000000005,"Low":65.150000000000006,"Volume":3853848,"Date":"20180608080000000"},{"DT":"2018-06-12T01:00:00Z","Open":65.680000000000007,"Close":66.129999999999995,"High":66.75,"Low":65.590000000000003,"Volume":3316711,"Date":"20180611080000000"},{"DT":"2018-06-13T01:00:00Z","Open":65.969999999999999,"Close":66.319999999999993,"High":66.549999999999997,"Low":65.629999999999995,"Volume":2006950,"Date":"20180612080000000"},{"DT":"2018-06-14T01:00:00Z","Open":66.599999999999994,"Close":66.260000000000005,"High":66.680000000000007,"Low":65.969999999999999,"Volume":4357708,"Date":"20180613080000000"},{"DT":"2018-06-15T01:00:00Z","Open":66.450000000000003,"Close":66.310000000000002,"High":66.450000000000003,"Low":65.709999999999994,"Volume":3487894,"Date":"20180614080000000"},{"DT":"2018-06-16T01:00:00Z","Open":66.109999999999999,"Close":66.129999999999995,"High":66.239999999999995,"Low":65.189999999999998,"Volume":4113230,"Date":"20180615080000000"},{"DT":"2018-06-19T01:00:00Z","Open":65.480000000000004,"Close":64.969999999999999,"High":65.540000000000006,"Low":64.530000000000001,"Volume":2563129,"Date":"20180618080000000"},{"DT":"2018-06-20T01:00:00Z","Open":64.219999999999999,"Close":63.520000000000003,"High":64.450000000000003,"Low":63.200000000000003,"Volume":4621382,"Date":"20180619080000000"},{"DT":"2018-06-21T01:00:00Z","Open":63.539999999999999,"Close":62.789999999999999,"High":63.569000000000003,"Low":62.630000000000003,"Volume":4942091,"Date":"20180620080000000"},{"DT":"2018-06-22T01:00:00Z","Open":62.810000000000002,"Close":63.039999999999999,"High":63.219999999999999,"Low":62.270000000000003,"Volume":4319387,"Date":"20180621080000000"},{"DT":"2018-06-23T01:00:00Z","Open":63.579999999999998,"Close":62.789999999999999,"High":63.689999999999998,"Low":62.729999999999997,"Volume":3621863,"Date":"20180622080000000"},{"DT":"2018-06-26T01:00:00Z","Open":62.460000000000001,"Close":61.200000000000003,"High":62.689999999999998,"Low":60.799999999999997,"Volume":2426792,"Date":"20180625080000000"},{"DT":"2018-06-27T01:00:00Z","Open":61.229999999999997,"Close":61.979999999999997,"High":62.32,"Low":61.020000000000003,"Volume":3655622,"Date":"20180626080000000"},{"DT":"2018-06-28T01:00:00Z","Open":62.259999999999998,"Close":61.140000000000001,"High":63,"Low":61.100000000000001,"Volume":2025823,"Date":"20180627080000000"},{"DT":"2018-06-29T01:00:00Z","Open":61.130000000000003,"Close":61.289999999999999,"High":61.640000000000001,"Low":60.420000000000002,"Volume":1564067,"Date":"20180628080000000"},{"DT":"2018-06-30T01:00:00Z","Open":61.68,"Close":61.840000000000003,"High":62.465000000000003,"Low":61.57,"Volume":1942768,"Date":"20180629080000000"},{"DT":"2018-07-03T01:00:00Z","Open":61.359999999999999,"Close":61.469999999999999,"High":61.479999999999997,"Low":60.789999999999999,"Volume":1526468,"Date":"20180702080000000"},{"DT":"2018-07-04T01:00:00Z","Open":61.93,"Close":61.25,"High":62.090000000000003,"Low":61.060000000000002,"Volume":864379,"Date":"20180703080000000"},{"DT":"2018-07-06T01:00:00Z","Open":61.479999999999997,"Close":61.799999999999997,"High":61.890000000000001,"Low":60.909999999999997,"Volume":2247532,"Date":"20180705080000000"},{"DT":"2018-07-07T01:00:00Z","Open":61.920000000000002,"Close":62.289999999999999,"High":62.399999999999999,"Low":61.649999999999999,"Volume":2269660,"Date":"20180706080000000"},{"DT":"2018-07-10T01:00:00Z","Open":62.43,"Close":63.119999999999997,"High":63.314999999999998,"Low":62.43,"Volume":1508550,"Date":"20180709080000000"},{"DT":"2018-07-11T01:00:00Z","Open":63.369999999999997,"Close":63.670000000000002,"High":63.740000000000002,"Low":63.07,"Volume":1924366,"Date":"20180710080000000"},{"DT":"2018-07-12T01:00:00Z","Open":62.590000000000003,"Close":62.859999999999999,"High":63.280000000000001,"Low":62.590000000000003,"Volume":1780485,"Date":"20180711080000000"},{"DT":"2018-07-13T01:00:00Z","Open":63.329999999999998,"Close":63.450000000000003,"High":63.780000000000001,"Low":63.289999999999999,"Volume":1748125,"Date":"20180712080000000"},{"DT":"2018-07-14T01:00:00Z","Open":63.520000000000003,"Close":63.380000000000003,"High":63.829999999999998,"Low":63.210000000000001,"Volume":963652,"Date":"20180713080000000"},{"DT":"2018-07-17T01:00:00Z","Open":63.229999999999997,"Close":62.719999999999999,"High":63.229999999999997,"Low":62.630000000000003,"Volume":929264,"Date":"20180716080000000"},{"DT":"2018-07-18T01:00:00Z","Open":62.520000000000003,"Close":63.039999999999999,"High":63.259999999999998,"Low":62.149999999999999,"Volume":1469834,"Date":"20180717080000000"},{"DT":"2018-07-19T01:00:00Z","Open":63.030000000000001,"Close":62.990000000000002,"High":63.229999999999997,"Low":62.75,"Volume":1202284,"Date":"20180718080000000"},{"DT":"2018-07-20T01:00:00Z","Open":63.609999999999999,"Close":64.150000000000006,"High":64.650000000000006,"Low":63.399999999999999,"Volume":1726698,"Date":"20180719080000000"},{"DT":"2018-07-21T01:00:00Z","Open":63.829999999999998,"Close":63.850000000000001,"High":64.329999999999998,"Low":63.68,"Volume":1620195,"Date":"20180720080000000"},{"DT":"2018-07-24T01:00:00Z","Open":63.700000000000003,"Close":63.719999999999999,"High":64,"Low":63.369999999999997,"Volume":1417517,"Date":"20180723080000000"},{"DT":"2018-07-25T01:00:00Z","Open":63.939999999999998,"Close":64.790000000000006,"High":65.349999999999994,"Low":63.689999999999998,"Volume":2454398,"Date":"20180724080000000"},{"DT":"2018-07-26T01:00:00Z","Open":65.140000000000001,"Close":65.959999999999994,"High":66.040000000000006,"Low":64.840000000000003,"Volume":2924515,"Date":"20180725080000000"},{"DT":"2018-07-27T01:00:00Z","Open":66,"Close":66.75,"High":66.829999999999998,"Low":65.819999999999993,"Volume":2583476,"Date":"20180726080000000"},{"DT":"2018-07-28T01:00:00Z","Open":66.650000000000006,"Close":65.75,"High":66.769999999999996,"Low":65.359999999999999,"Volume":2638902,"Date":"20180727080000000"},{"DT":"2018-07-31T01:00:00Z","Open":65.870000000000005,"Close":64.629999999999995,"High":66.069999999999993,"Low":64.510000000000005,"Volume":1601219,"Date":"20180730080000000"},{"DT":"2018-08-01T01:00:00Z","Open":64.930000000000007,"Close":66.040000000000006,"High":66.685000000000002,"Low":64.534999999999997,"Volume":2539265,"Date":"20180731080000000"},{"DT":"2018-08-02T01:00:00Z","Open":65.840000000000003,"Close":64.980000000000004,"High":66.170000000000002,"Low":64.629999999999995,"Volume":2679180,"Date":"20180801080000000"},{"DT":"2018-08-03T01:00:00Z","Open":64.75,"Close":65.290000000000006,"High":65.390000000000001,"Low":64.5,"Volume":2263190,"Date":"20180802080000000"},{"DT":"2018-08-04T01:00:00Z","Open":65.5,"Close":65.730000000000004,"High":65.790000000000006,"Low":64.959999999999994,"Volume":1857308,"Date":"20180803080000000"},{"DT":"2018-08-07T01:00:00Z","Open":65.700000000000003,"Close":66.510000000000005,"High":66.659999999999997,"Low":65.329999999999998,"Volume":2873080,"Date":"20180806080000000"},{"DT":"2018-08-08T01:00:00Z","Open":66.829999999999998,"Close":67.659999999999997,"High":67.939999999999998,"Low":66.629999999999995,"Volume":2829039,"Date":"20180807080000000"},{"DT":"2018-08-09T01:00:00Z","Open":67.739999999999995,"Close":67.379999999999995,"High":68.150000000000006,"Low":67.340000000000003,"Volume":1682000,"Date":"20180808080000000"},{"DT":"2018-08-10T01:00:00Z","Open":67.480000000000004,"Close":66.689999999999998,"High":67.620000000000005,"Low":66.609999999999999,"Volume":1727776,"Date":"20180809080000000"},{"DT":"2018-08-11T01:00:00Z","Open":66.819999999999993,"Close":66.260000000000005,"High":66.870000000000005,"Low":65.930000000000007,"Volume":2166251,"Date":"20180810080000000"},{"DT":"2018-08-14T01:00:00Z","Open":66.439999999999998,"Close":65.939999999999998,"High":66.989999999999995,"Low":65.670000000000002,"Volume":2989306,"Date":"20180813080000000"},{"DT":"2018-08-15T01:00:00Z","Open":66.049999999999997,"Close":66.75,"High":67.260000000000005,"Low":66.049999999999997,"Volume":3110109,"Date":"20180814080000000"},{"DT":"2018-08-16T01:00:00Z","Open":65.939999999999998,"Close":64.730000000000004,"High":66.390000000000001,"Low":64.219999999999999,"Volume":6071456,"Date":"20180815080000000"},{"DT":"2018-08-17T01:00:00Z","Open":65.040000000000006,"Close":65.5,"High":65.670000000000002,"Low":64.810000000000002,"Volume":3149532,"Date":"20180816080000000"},{"DT":"2018-08-18T01:00:00Z","Open":65.480000000000004,"Close":64.659999999999997,"High":65.480000000000004,"Low":64.280000000000001,"Volume":2449200,"Date":"20180817080000000"},{"DT":"2018-08-21T01:00:00Z","Open":64.569999999999993,"Close":64.469999999999999,"High":65.109999999999999,"Low":64.459999999999994,"Volume":1619930,"Date":"20180820080000000"},{"DT":"2018-08-22T01:00:00Z","Open":64.739999999999995,"Close":64.930000000000007,"High":65.400000000000006,"Low":64.620000000000005,"Volume":2982791,"Date":"20180821080000000"},{"DT":"2018-08-23T01:00:00Z","Open":64.739999999999995,"Close":65.650000000000006,"High":65.870000000000005,"Low":64.549999999999997,"Volume":2565558,"Date":"20180822080000000"},{"DT":"2018-08-24T01:00:00Z","Open":65.689999999999998,"Close":65.689999999999998,"High":65.989999999999995,"Low":65.530000000000001,"Volume":2287703,"Date":"20180823080000000"},{"DT":"2018-08-25T01:00:00Z","Open":65.739999999999995,"Close":65.980000000000004,"High":66.260000000000005,"Low":65.590000000000003,"Volume":1904191,"Date":"20180824080000000"},{"DT":"2018-08-28T01:00:00Z","Open":66.329999999999998,"Close":66.079999999999998,"High":66.349999999999994,"Low":65.859999999999999,"Volume":1158772,"Date":"20180827080000000"},{"DT":"2018-08-29T01:00:00Z","Open":66.409999999999997,"Close":66.689999999999998,"High":67.299999999999997,"Low":66.349999999999994,"Volume":2284317,"Date":"20180828080000000"},{"DT":"2018-08-30T01:00:00Z","Open":66.689999999999998,"Close":67.010000000000005,"High":67.280000000000001,"Low":66.400000000000006,"Volume":1852130,"Date":"20180829080000000"},{"DT":"2018-08-31T01:00:00Z","Open":67,"Close":67.260000000000005,"High":67.650000000000006,"Low":66.859999999999999,"Volume":2246705,"Date":"20180830080000000"},{"DT":"2018-09-01T01:00:00Z","Open":67.140000000000001,"Close":67.540000000000006,"High":67.549999999999997,"Low":67.049999999999997,"Volume":1582405,"Date":"20180831080000000"},{"DT":"2018-09-05T01:00:00Z","Open":67.340000000000003,"Close":67.269999999999996,"High":67.560000000000002,"Low":66.849999999999994,"Volume":1727990,"Date":"20180904080000000"},{"DT":"2018-09-06T01:00:00Z","Open":67.280000000000001,"Close":66.959999999999994,"High":67.400000000000006,"Low":66.760000000000005,"Volume":1859604,"Date":"20180905080000000"},{"DT":"2018-09-07T01:00:00Z","Open":67,"Close":67.359999999999999,"High":67.549999999999997,"Low":66.829999999999998,"Volume":1031539,"Date":"20180906080000000"},{"DT":"2018-09-08T01:00:00Z","Open":67.150000000000006,"Close":67.400000000000006,"High":67.829999999999998,"Low":67.030000000000001,"Volume":1585499,"Date":"20180907080000000"},{"DT":"2018-09-11T01:00:00Z","Open":67.819999999999993,"Close":67.930000000000007,"High":68.409999999999997,"Low":67.719999999999999,"Volume":2065707,"Date":"20180910080000000"},{"DT":"2018-09-12T01:00:00Z","Open":67.700000000000003,"Close":67.620000000000005,"High":68.060000000000002,"Low":67.489999999999995,"Volume":1676778,"Date":"20180911080000000"},{"DT":"2018-09-13T01:00:00Z","Open":67.599999999999994,"Close":67.909999999999997,"High":68.004999999999995,"Low":67.25,"Volume":1125411,"Date":"20180912080000000"},{"DT":"2018-09-14T01:00:00Z","Open":68.099999999999994,"Close":69.329999999999998,"High":69.659999999999997,"Low":67.989999999999995,"Volume":2495037,"Date":"20180913080000000"},{"DT":"2018-09-15T01:00:00Z","Open":69.280000000000001,"Close":68.849999999999994,"High":69.409999999999997,"Low":68.560000000000002,"Volume":1461065,"Date":"20180914080000000"},{"DT":"2018-09-18T01:00:00Z","Open":69.640000000000001,"Close":69.079999999999998,"High":69.659999999999997,"Low":69,"Volume":1816610,"Date":"20180917080000000"},{"DT":"2018-09-19T01:00:00Z","Open":69.099999999999994,"Close":68.930000000000007,"High":69.269999999999996,"Low":68.409999999999997,"Volume":1780417,"Date":"20180918080000000"},{"DT":"2018-09-20T01:00:00Z","Open":69.040000000000006,"Close":69.560000000000002,"High":69.640000000000001,"Low":68.875,"Volume":1183395,"Date":"20180919080000000"},{"DT":"2018-09-21T01:00:00Z","Open":69.730000000000004,"Close":71.129999999999995,"High":71.159999999999997,"Low":69.700000000000003,"Volume":2865626,"Date":"20180920080000000"},{"DT":"2018-09-22T01:00:00Z","Open":71.430000000000007,"Close":70.719999999999999,"High":71.459999999999994,"Low":70.560000000000002,"Volume":3119673,"Date":"20180921080000000"},{"DT":"2018-09-25T01:00:00Z","Open":70.680000000000007,"Close":69.950000000000003,"High":70.680000000000007,"Low":69.700000000000003,"Volume":2333572,"Date":"20180924080000000"},{"DT":"2018-09-26T01:00:00Z","Open":70.170000000000002,"Close":70.379999999999995,"High":70.834999999999994,"Low":69.909999999999997,"Volume":2090165,"Date":"20180925080000000"},{"DT":"2018-09-27T01:00:00Z","Open":70.569999999999993,"Close":70.329999999999998,"High":70.989999999999995,"Low":70.049999999999997,"Volume":1830443,"Date":"20180926080000000"},{"DT":"2018-09-28T01:00:00Z","Open":70.579999999999998,"Close":70.799999999999997,"High":70.849999999999994,"Low":70.099999999999994,"Volume":1581665,"Date":"20180927080000000"},{"DT":"2018-09-29T01:00:00Z","Open":70.689999999999998,"Close":70.540000000000006,"High":70.995000000000005,"Low":70.459999999999994,"Volume":2248094,"Date":"20180928080000000"},{"DT":"2018-10-02T01:00:00Z","Open":70.680000000000007,"Close":71.260000000000005,"High":71.575999999999993,"Low":70.644999999999996,"Volume":2837493,"Date":"20181001080000000"},{"DT":"2018-10-03T01:00:00Z","Open":71.239999999999995,"Close":71.680000000000007,"High":71.730000000000004,"Low":70.980000000000004,"Volume":2617455,"Date":"20181002080000000"},{"DT":"2018-10-04T01:00:00Z","Open":71.680000000000007,"Close":72.120000000000005,"High":72.370000000000005,"Low":71.599999999999994,"Volume":3203130,"Date":"20181003080000000"},{"DT":"2018-10-05T01:00:00Z","Open":71.920000000000002,"Close":70.659999999999997,"High":72.129999999999995,"Low":70.480000000000004,"Volume":2961931,"Date":"20181004080000000"},{"DT":"2018-10-06T01:00:00Z","Open":70.670000000000002,"Close":70.299999999999997,"High":71.180000000000007,"Low":69.450000000000003,"Volume":2376806,"Date":"20181005080000000"},{"DT":"2018-10-09T01:00:00Z","Open":69.959999999999994,"Close":69.5,"High":70.049999999999997,"Low":68.969700000000003,"Volume":2179365,"Date":"20181008080000000"},{"DT":"2018-10-10T01:00:00Z","Open":69.340000000000003,"Close":69.409999999999997,"High":69.625,"Low":68.709999999999994,"Volume":2179198,"Date":"20181009080000000"},{"DT":"2018-10-11T01:00:00Z","Open":69.409999999999997,"Close":66.670000000000002,"High":69.409999999999997,"Low":66.609999999999999,"Volume":3055653,"Date":"20181010080000000"},{"DT":"2018-10-12T01:00:00Z","Open":66.640000000000001,"Close":64.890000000000001,"High":66.969999999999999,"Low":64.620000000000005,"Volume":3624612,"Date":"20181011080000000"},{"DT":"2018-10-13T01:00:00Z","Open":66.099999999999994,"Close":66.239999999999995,"High":67.030000000000001,"Low":65.299999999999997,"Volume":3669509,"Date":"20181012080000000"},{"DT":"2018-10-16T01:00:00Z","Open":65.920000000000002,"Close":65.629999999999995,"High":66.349999999999994,"Low":65.359999999999999,"Volume":1602860,"Date":"20181015080000000"},{"DT":"2018-10-17T01:00:00Z","Open":66.25,"Close":67.459999999999994,"High":67.569999999999993,"Low":65.989999999999995,"Volume":1868279,"Date":"20181016080000000"},{"DT":"2018-10-18T01:00:00Z","Open":67.170000000000002,"Close":67.200000000000003,"High":67.459999999999994,"Low":66.310000000000002,"Volume":1991212,"Date":"20181017080000000"},{"DT":"2018-10-19T01:00:00Z","Open":67.120000000000005,"Close":65.75,"High":67.200000000000003,"Low":65.254999999999995,"Volume":2327330,"Date":"20181018080000000"},{"DT":"2018-10-20T01:00:00Z","Open":65.810000000000002,"Close":64.469999999999999,"High":66.239999999999995,"Low":64.239999999999995,"Volume":2418302,"Date":"20181019080000000"},{"DT":"2018-10-23T01:00:00Z","Open":64.689999999999998,"Close":64.280000000000001,"High":64.840000000000003,"Low":63.539999999999999,"Volume":2227932,"Date":"20181022080000000"},{"DT":"2018-10-24T01:00:00Z","Open":62.82,"Close":62.729999999999997,"High":63.130000000000003,"Low":61.380000000000003,"Volume":4219761,"Date":"20181023080000000"},{"DT":"2018-10-25T01:00:00Z","Open":62.920000000000002,"Close":61.130000000000003,"High":63.759999999999998,"Low":61.009999999999998,"Volume":3481246,"Date":"20181024080000000"},{"DT":"2018-10-26T01:00:00Z","Open":61.490000000000002,"Close":62.609999999999999,"High":62.890000000000001,"Low":61.07,"Volume":3318277,"Date":"20181025080000000"},{"DT":"2018-10-27T01:00:00Z","Open":61.82,"Close":62.729999999999997,"High":63.109999999999999,"Low":61.130000000000003,"Volume":3119947,"Date":"20181026080000000"},{"DT":"2018-10-30T01:00:00Z","Open":63.649999999999999,"Close":62.079999999999998,"High":64.170000000000002,"Low":61.130000000000003,"Volume":2919874,"Date":"20181029080000000"},{"DT":"2018-10-31T01:00:00Z","Open":62.350000000000001,"Close":63.640000000000001,"High":63.719999999999999,"Low":61.68,"Volume":3076720,"Date":"20181030080000000"},{"DT":"2018-11-01T01:00:00Z","Open":64.349999999999994,"Close":64.790000000000006,"High":65.980000000000004,"Low":64.189999999999998,"Volume":3820987,"Date":"20181031080000000"},{"DT":"2018-11-02T01:00:00Z","Open":65.069999999999993,"Close":65.219999999999999,"High":65.340000000000003,"Low":64.584999999999994,"Volume":1882438,"Date":"20181101080000000"},{"DT":"2018-11-03T01:00:00Z","Open":65.799999999999997,"Close":65.930000000000007,"High":66.609999999999999,"Low":65.435000000000002,"Volume":2272114,"Date":"20181102080000000"},{"DT":"2018-11-06T02:00:00Z","Open":66.030000000000001,"Close":65.909999999999997,"High":66.390000000000001,"Low":65.230000000000004,"Volume":2348704,"Date":"20181105080000000"},{"DT":"2018-11-07T02:00:00Z","Open":66.040000000000006,"Close":65.980000000000004,"High":66.420000000000002,"Low":65.670000000000002,"Volume":2287255,"Date":"20181106080000000"},{"DT":"2018-11-08T02:00:00Z","Open":66.510000000000005,"Close":68.260000000000005,"High":68.379999999999995,"Low":66.275000000000006,"Volume":2700613,"Date":"20181107080000000"},{"DT":"2018-11-09T02:00:00Z","Open":67.989999999999995,"Close":67.790000000000006,"High":68.359999999999999,"Low":67.379999999999995,"Volume":2444607,"Date":"20181108080000000"},{"DT":"2018-11-10T02:00:00Z","Open":67.599999999999994,"Close":67.269999999999996,"High":67.760000000000005,"Low":66.700000000000003,"Volume":2573534,"Date":"20181109080000000"},{"DT":"2018-11-13T02:00:00Z","Open":66.159999999999997,"Close":64.5,"High":66.25,"Low":64.450000000000003,"Volume":2999960,"Date":"20181112080000000"},{"DT":"2018-11-14T02:00:00Z","Open":64.590000000000003,"Close":64.340000000000003,"High":65.469999999999999,"Low":63.939999999999998,"Volume":2216456,"Date":"20181113080000000"},{"DT":"2018-11-15T02:00:00Z","Open":64.640000000000001,"Close":63.469999999999999,"High":64.840000000000003,"Low":63.280000000000001,"Volume":4852556,"Date":"20181114080000000"},{"DT":"2018-11-16T02:00:00Z","Open":63.32,"Close":64.719999999999999,"High":64.950000000000003,"Low":62.539999999999999,"Volume":3846090,"Date":"20181115080000000"},{"DT":"2018-11-17T02:00:00Z","Open":64.379999999999995,"Close":64.989999999999995,"High":65.599999999999994,"Low":64.379999999999995,"Volume":2963305,"Date":"20181116080000000"},{"DT":"2018-11-20T02:00:00Z","Open":64.670000000000002,"Close":62.609999999999999,"High":64.959999999999994,"Low":62.399999999999999,"Volume":3392057,"Date":"20181119080000000"},{"DT":"2018-11-21T02:00:00Z","Open":66.25,"Close":67.519999999999996,"High":68.432400000000001,"Low":64.930000000000007,"Volume":8187326,"Date":"20181120080000000"},{"DT":"2018-11-22T02:00:00Z","Open":67.659999999999997,"Close":67.719999999999999,"High":68.670000000000002,"Low":67.189999999999998,"Volume":3557551,"Date":"20181121080000000"},{"DT":"2018-11-24T02:00:00Z","Open":67.040000000000006,"Close":68.209999999999994,"High":68.609999999999999,"Low":67.040000000000006,"Volume":1374274,"Date":"20181123080000000"},{"DT":"2018-11-27T02:00:00Z","Open":68.939999999999998,"Close":69.25,"High":69.299999999999997,"Low":68.390000000000001,"Volume":2406265,"Date":"20181126080000000"},{"DT":"2018-11-28T02:00:00Z","Open":68.870000000000005,"Close":69.359999999999999,"High":69.519999999999996,"Low":68.700000000000003,"Volume":2534279,"Date":"20181127080000000"},{"DT":"2018-11-29T02:00:00Z","Open":69.819999999999993,"Close":71.480000000000004,"High":71.484999999999999,"Low":69.430000000000007,"Volume":2661339,"Date":"20181128080000000"},{"DT":"2018-11-30T02:00:00Z","Open":71.230000000000004,"Close":71.569999999999993,"High":72.180000000000007,"Low":71.230000000000004,"Volume":2625819,"Date":"20181129080000000"},{"DT":"2018-12-01T02:00:00Z","Open":71.629999999999995,"Close":72.349999999999994,"High":72.644999999999996,"Low":71.340000000000003,"Volume":2279473,"Date":"20181130080000000"},{"DT":"2018-12-04T02:00:00Z","Open":73.329999999999998,"Close":74.670000000000002,"High":74.790000000000006,"Low":73.189999999999998,"Volume":4265221,"Date":"20181203080000000"},{"DT":"2018-12-05T02:00:00Z","Open":74.700000000000003,"Close":72.909999999999997,"High":75.114999999999995,"Low":72.629999999999995,"Volume":4263802,"Date":"20181204080000000"},{"DT":"2018-12-07T02:00:00Z","Open":71.200000000000003,"Close":71.909999999999997,"High":71.930000000000007,"Low":69.900000000000006,"Volume":3505914,"Date":"20181206080000000"},{"DT":"2018-12-08T02:00:00Z","Open":71.709999999999994,"Close":70.25,"High":72.090000000000003,"Low":69.650000000000006,"Volume":2184502,"Date":"20181207080000000"},{"DT":"2018-12-11T02:00:00Z","Open":70.430000000000007,"Close":70.590000000000003,"High":70.709999999999994,"Low":68.569999999999993,"Volume":2347157,"Date":"20181210080000000"},{"DT":"2018-12-12T02:00:00Z","Open":71.760000000000005,"Close":71.049999999999997,"High":72.439999999999998,"Low":70.700000000000003,"Volume":2926016,"Date":"20181211080000000"},{"DT":"2018-12-13T02:00:00Z","Open":72.170000000000002,"Close":71.75,"High":73.040000000000006,"Low":71.599999999999994,"Volume":2842861,"Date":"20181212080000000"},{"DT":"2018-12-14T02:00:00Z","Open":72.140000000000001,"Close":71.140000000000001,"High":72.680000000000007,"Low":70.900000000000006,"Volume":2200718,"Date":"20181213080000000"},{"DT":"2018-12-15T02:00:00Z","Open":70.420000000000002,"Close":69.359999999999999,"High":70.609999999999999,"Low":69.129999999999995,"Volume":1982726,"Date":"20181214080000000"},{"DT":"2018-12-18T02:00:00Z","Open":69.109999999999999,"Close":67.849999999999994,"High":69.625,"Low":67.400000000000006,"Volume":2241705,"Date":"20181217080000000"},{"DT":"2018-12-19T02:00:00Z","Open":68.450000000000003,"Close":67.989999999999995,"High":69.030000000000001,"Low":67.390000000000001,"Volume":2111981,"Date":"20181218080000000"},{"DT":"2018-12-20T02:00:00Z","Open":68.269999999999996,"Close":66.829999999999998,"High":69.090000000000003,"Low":65.810000000000002,"Volume":2845468,"Date":"20181219080000000"},{"DT":"2018-12-21T02:00:00Z","Open":66.329999999999998,"Close":65.189999999999998,"High":66.459999999999994,"Low":64.590000000000003,"Volume":3547814,"Date":"20181220080000000"},{"DT":"2018-12-22T02:00:00Z","Open":65.219999999999999,"Close":63.289999999999999,"High":66.230000000000004,"Low":63.219999999999999,"Volume":4684505,"Date":"20181221080000000"},{"DT":"2018-12-25T02:00:00Z","Open":62.93,"Close":62.670000000000002,"High":63.630000000000003,"Low":62.219999999999999,"Volume":1668490,"Date":"20181224080000000"},{"DT":"2018-12-27T02:00:00Z","Open":62.93,"Close":65.540000000000006,"High":65.579999999999998,"Low":62.759999999999998,"Volume":1701769,"Date":"20181226080000000"},{"DT":"2018-12-28T02:00:00Z","Open":64.5,"Close":66.480000000000004,"High":66.5,"Low":64,"Volume":1655033,"Date":"20181227080000000"},{"DT":"2018-12-29T02:00:00Z","Open":66.980000000000004,"Close":65.959999999999994,"High":67.120000000000005,"Low":65.709999999999994,"Volume":1927748,"Date":"20181228080000000"},{"DT":"2019-01-01T02:00:00Z","Open":66.340000000000003,"Close":67.459999999999994,"High":67.480000000000004,"Low":66.340000000000003,"Volume":1572136,"Date":"20181231080000000"},{"DT":"2019-01-03T02:00:00Z","Open":66.5,"Close":65.689999999999998,"High":66.569999999999993,"Low":65.299999999999997,"Volume":2115888,"Date":"20190102080000000"},{"DT":"2019-01-04T02:00:00Z","Open":65.530000000000001,"Close":63.270000000000003,"High":65.780000000000001,"Low":62,"Volume":5383926,"Date":"20190103080000000"},{"DT":"2019-01-05T02:00:00Z","Open":64.090000000000003,"Close":65.459999999999994,"High":65.950000000000003,"Low":64.090000000000003,"Volume":3123654,"Date":"20190104080000000"},{"DT":"2019-01-08T02:00:00Z","Open":65.640000000000001,"Close":66.849999999999994,"High":67.424999999999997,"Low":65.609999999999999,"Volume":3235055,"Date":"20190107080000000"},{"DT":"2019-01-09T02:00:00Z","Open":67.590000000000003,"Close":67.829999999999998,"High":68.209999999999994,"Low":66.700000000000003,"Volume":1578055,"Date":"20190108080000000"},{"DT":"2019-01-10T02:00:00Z","Open":68.200000000000003,"Close":69.25,"High":69.659999999999997,"Low":67.995000000000005,"Volume":2442291,"Date":"20190109080000000"},{"DT":"2019-01-11T02:00:00Z","Open":69.049999999999997,"Close":69.900000000000006,"High":69.950000000000003,"Low":68.599999999999994,"Volume":1080882,"Date":"20190110080000000"},{"DT":"2019-01-12T02:00:00Z","Open":69.290000000000006,"Close":70.379999999999995,"High":70.409999999999997,"Low":68.939999999999998,"Volume":1210791,"Date":"20190111080000000"},{"DT":"2019-01-15T02:00:00Z","Open":69.719999999999999,"Close":69.75,"High":70.290000000000006,"Low":69.670000000000002,"Volume":2182673,"Date":"20190114080000000"},{"DT":"2019-01-16T02:00:00Z","Open":69.950000000000003,"Close":70.599999999999994,"High":70.75,"Low":69.620000000000005,"Volume":1793061,"Date":"20190115080000000"},{"DT":"2019-01-17T02:00:00Z","Open":70.819999999999993,"Close":70.030000000000001,"High":71.129999999999995,"Low":69.974999999999994,"Volume":1480321,"Date":"20190116080000000"},{"DT":"2019-01-18T02:00:00Z","Open":69.760000000000005,"Close":70.819999999999993,"High":71.239999999999995,"Low":69.760000000000005,"Volume":1225840,"Date":"20190117080000000"},{"DT":"2019-01-19T02:00:00Z","Open":71.290000000000006,"Close":71.930000000000007,"High":72.310000000000002,"Low":70.849999999999994,"Volume":1551657,"Date":"20190118080000000"},{"DT":"2019-01-23T02:00:00Z","Open":71.439999999999998,"Close":71.319999999999993,"High":71.480000000000004,"Low":70.469999999999999,"Volume":1972650,"Date":"20190122080000000"},{"DT":"2019-01-24T02:00:00Z","Open":71.950000000000003,"Close":71.650000000000006,"High":72.849999999999994,"Low":70.739999999999995,"Volume":2050294,"Date":"20190123080000000"},{"DT":"2019-01-25T02:00:00Z","Open":71.459999999999994,"Close":72.180000000000007,"High":72.200000000000003,"Low":71.390000000000001,"Volume":1509599,"Date":"20190124080000000"},{"DT":"2019-01-26T02:00:00Z","Open":72.790000000000006,"Close":73.650000000000006,"High":73.730000000000004,"Low":72.560000000000002,"Volume":2215271,"Date":"20190125080000000"},{"DT":"2019-01-29T02:00:00Z","Open":72.760000000000005,"Close":73.269999999999996,"High":73.280000000000001,"Low":72.409999999999997,"Volume":1729625,"Date":"20190128080000000"},{"DT":"2019-01-30T02:00:00Z","Open":73.700000000000003,"Close":73.560000000000002,"High":74.060000000000002,"Low":73.200000000000003,"Volume":1684521,"Date":"20190129080000000"},{"DT":"2019-01-31T02:00:00Z","Open":73.739999999999995,"Close":75.439999999999998,"High":75.590000000000003,"Low":73.480000000000004,"Volume":1679472,"Date":"20190130080000000"},{"DT":"2019-02-01T02:00:00Z","Open":75.209999999999994,"Close":76.049999999999997,"High":76.310000000000002,"Low":74.670000000000002,"Volume":2951321,"Date":"20190131080000000"},{"DT":"2019-02-02T02:00:00Z","Open":76.159999999999997,"Close":76.040000000000006,"High":76.590000000000003,"Low":75.620000000000005,"Volume":1343915,"Date":"20190201080000000"},{"DT":"2019-02-05T02:00:00Z","Open":76.180000000000007,"Close":76.030000000000001,"High":76.230000000000004,"Low":75.319999999999993,"Volume":2245893,"Date":"20190204080000000"},{"DT":"2019-02-06T02:00:00Z","Open":75.799999999999997,"Close":76.310000000000002,"High":76.510000000000005,"Low":75.790000000000006,"Volume":1593537,"Date":"20190205080000000"},{"DT":"2019-02-07T02:00:00Z","Open":76.109999999999999,"Close":76.299999999999997,"High":76.689999999999998,"Low":76,"Volume":1504860,"Date":"20190206080000000"},{"DT":"2019-02-08T02:00:00Z","Open":75.719999999999999,"Close":75.329999999999998,"High":76.120000000000005,"Low":74.870000000000005,"Volume":1660637,"Date":"20190207080000000"},{"DT":"2019-02-09T02:00:00Z","Open":75.069999999999993,"Close":75.799999999999997,"High":75.810000000000002,"Low":74.760000000000005,"Volume":1318051,"Date":"20190208080000000"},{"DT":"2019-02-12T02:00:00Z","Open":76,"Close":76.079999999999998,"High":76.390000000000001,"Low":75.747500000000002,"Volume":1018208,"Date":"20190211080000000"},{"DT":"2019-02-13T02:00:00Z","Open":76.799999999999997,"Close":77.069999999999993,"High":77.25,"Low":76.430000000000007,"Volume":2045501,"Date":"20190212080000000"},{"DT":"2019-02-14T02:00:00Z","Open":77.370000000000005,"Close":77.25,"High":77.489999999999995,"Low":76.744100000000003,"Volume":1376358,"Date":"20190213080000000"},{"DT":"2019-02-15T02:00:00Z","Open":77,"Close":77.019999999999996,"High":77.280000000000001,"Low":76.519999999999996,"Volume":1618269,"Date":"20190214080000000"},{"DT":"2019-02-16T02:00:00Z","Open":77.629999999999995,"Close":78.299999999999997,"High":78.310000000000002,"Low":77.469999999999999,"Volume":1919672,"Date":"20190215080000000"},{"DT":"2019-02-20T02:00:00Z","Open":78,"Close":77.519999999999996,"High":78.319999999999993,"Low":77.409999999999997,"Volume":2967968,"Date":"20190219080000000"},{"DT":"2019-02-21T02:00:00Z","Open":77.530000000000001,"Close":78.560000000000002,"High":78.795000000000002,"Low":77.329999999999998,"Volume":2076523,"Date":"20190220080000000"},{"DT":"2019-02-22T02:00:00Z","Open":77.670000000000002,"Close":77.890000000000001,"High":78.579999999999998,"Low":76.5,"Volume":3570828,"Date":"20190221080000000"},{"DT":"2019-02-23T02:00:00Z","Open":78.159999999999997,"Close":78.420000000000002,"High":78.459999999999994,"Low":77.829999999999998,"Volume":2797669,"Date":"20190222080000000"},{"DT":"2019-02-26T02:00:00Z","Open":78.900000000000006,"Close":79.340000000000003,"High":79.840000000000003,"Low":78.849999999999994,"Volume":1878041,"Date":"20190225080000000"},{"DT":"2019-02-27T02:00:00Z","Open":79.209999999999994,"Close":78.549999999999997,"High":79.269999999999996,"Low":78.420000000000002,"Volume":1992595,"Date":"20190226080000000"},{"DT":"2019-02-28T02:00:00Z","Open":78.25,"Close":79.420000000000002,"High":79.549999999999997,"Low":78.25,"Volume":1254403,"Date":"20190227080000000"},{"DT":"2019-03-01T02:00:00Z","Open":79.180000000000007,"Close":79.439999999999998,"High":79.75,"Low":78.890000000000001,"Volume":1759103,"Date":"20190228080000000"},{"DT":"2019-03-02T02:00:00Z","Open":80,"Close":81.239999999999995,"High":81.444999999999993,"Low":80,"Volume":1625899,"Date":"20190301080000000"},{"DT":"2019-03-05T02:00:00Z","Open":81.5,"Close":80.129999999999995,"High":81.760000000000005,"Low":79.530000000000001,"Volume":3204122,"Date":"20190304080000000"},{"DT":"2019-03-06T02:00:00Z","Open":80.019999999999996,"Close":79.739999999999995,"High":80.030000000000001,"Low":79.359999999999999,"Volume":1405644,"Date":"20190305080000000"},{"DT":"2019-03-07T02:00:00Z","Open":79.819999999999993,"Close":78.75,"High":79.980000000000004,"Low":78.730000000000004,"Volume":1750488,"Date":"20190306080000000"},{"DT":"2019-03-08T02:00:00Z","Open":78.689999999999998,"Close":78.730000000000004,"High":79.099999999999994,"Low":78.010000000000005,"Volume":1818134,"Date":"20190307080000000"},{"DT":"2019-03-09T02:00:00Z","Open":78.180000000000007,"Close":77.980000000000004,"High":78.239999999999995,"Low":77.400000000000006,"Volume":1486987,"Date":"20190308080000000"},{"DT":"2019-03-12T01:00:00Z","Open":78.280000000000001,"Close":79.299999999999997,"High":79.469999999999999,"Low":78.260000000000005,"Volume":1210929,"Date":"20190311080000000"},{"DT":"2019-03-13T01:00:00Z","Open":79.579999999999998,"Close":79.930000000000007,"High":80.129999999999995,"Low":79.159999999999997,"Volume":1532269,"Date":"20190312080000000"},{"DT":"2019-03-14T01:00:00Z","Open":80.219999999999999,"Close":80.129999999999995,"High":80.739999999999995,"Low":80.019999999999996,"Volume":1529133,"Date":"20190313080000000"},{"DT":"2019-03-15T01:00:00Z","Open":80.060000000000002,"Close":80.609999999999999,"High":80.670000000000002,"Low":80.060000000000002,"Volume":1268470,"Date":"20190314080000000"},{"DT":"2019-03-16T01:00:00Z","Open":80.859999999999999,"Close":81.099999999999994,"High":81.430000000000007,"Low":80.825000000000003,"Volume":1999067,"Date":"20190315080000000"},{"DT":"2019-03-19T01:00:00Z","Open":81.099999999999994,"Close":80.969999999999999,"High":81.290000000000006,"Low":80.489999999999995,"Volume":1617696,"Date":"20190318080000000"},{"DT":"2019-03-20T01:00:00Z","Open":81.269999999999996,"Close":81.200000000000003,"High":81.769999999999996,"Low":81.030000000000001,"Volume":1172573,"Date":"20190319080000000"},{"DT":"2019-03-21T01:00:00Z","Open":81.280000000000001,"Close":80.920000000000002,"High":81.444999999999993,"Low":80.25,"Volume":1768328,"Date":"20190320080000000"},{"DT":"2019-03-22T01:00:00Z","Open":80.549999999999997,"Close":82,"High":82.269999999999996,"Low":80.549999999999997,"Volume":986602,"Date":"20190321080000000"},{"DT":"2019-03-23T01:00:00Z","Open":81.540000000000006,"Close":78.989999999999995,"High":81.674999999999997,"Low":78.969999999999999,"Volume":1435825,"Date":"20190322080000000"},{"DT":"2019-03-26T01:00:00Z","Open":79.090000000000003,"Close":79.519999999999996,"High":79.855400000000003,"Low":78.659999999999997,"Volume":923006,"Date":"20190325080000000"},{"DT":"2019-03-27T01:00:00Z","Open":80.390000000000001,"Close":80.650000000000006,"High":81.040000000000006,"Low":80.129999999999995,"Volume":1428157,"Date":"20190326080000000"},{"DT":"2019-03-28T01:00:00Z","Open":80.5,"Close":79,"High":80.769999999999996,"Low":78.885000000000005,"Volume":1446133,"Date":"20190327080000000"},{"DT":"2019-03-29T01:00:00Z","Open":79.390000000000001,"Close":79.700000000000003,"High":79.790000000000006,"Low":78.709999999999994,"Volume":1615615,"Date":"20190328080000000"},{"DT":"2019-03-30T01:00:00Z","Open":80.159999999999997,"Close":80.379999999999995,"High":80.670000000000002,"Low":79.950000000000003,"Volume":1585137,"Date":"20190329080000000"},{"DT":"2019-04-02T01:00:00Z","Open":80.959999999999994,"Close":81.560000000000002,"High":81.769999999999996,"Low":80.959999999999994,"Volume":1522681,"Date":"20190401080000000"},{"DT":"2019-04-03T01:00:00Z","Open":81.709999999999994,"Close":81.140000000000001,"High":81.760000000000005,"Low":81.030000000000001,"Volume":1203037,"Date":"20190402080000000"},{"DT":"2019-04-04T01:00:00Z","Open":81.540000000000006,"Close":81.939999999999998,"High":82.019999999999996,"Low":81.459999999999994,"Volume":2141025,"Date":"20190403080000000"},{"DT":"2019-04-05T01:00:00Z","Open":81.840000000000003,"Close":80.829999999999998,"High":82.049999999999997,"Low":80.439999999999998,"Volume":2180112,"Date":"20190404080000000"},{"DT":"2019-04-06T01:00:00Z","Open":81.189999999999998,"Close":81.469999999999999,"High":81.920000000000002,"Low":81.049999999999997,"Volume":1502875,"Date":"20190405080000000"},{"DT":"2019-04-09T01:00:00Z","Open":81.569999999999993,"Close":81.689999999999998,"High":81.709999999999994,"Low":80.584999999999994,"Volume":783350,"Date":"20190408080000000"},{"DT":"2019-04-10T01:00:00Z","Open":81.560000000000002,"Close":81.420000000000002,"High":81.719999999999999,"Low":81.269999999999996,"Volume":1254742,"Date":"20190409080000000"},{"DT":"2019-04-11T01:00:00Z","Open":81.450000000000003,"Close":81.680000000000007,"High":82.239999999999995,"Low":81.450000000000003,"Volume":982886,"Date":"20190410080000000"},{"DT":"2019-04-12T01:00:00Z","Open":81.879999999999995,"Close":81.079999999999998,"High":81.920000000000002,"Low":80.890000000000001,"Volume":1071479,"Date":"20190411080000000"},{"DT":"2019-04-13T01:00:00Z","Open":81.430000000000007,"Close":80.980000000000004,"High":82.060000000000002,"Low":80.900000000000006,"Volume":1249295,"Date":"20190412080000000"},{"DT":"2019-04-16T01:00:00Z","Open":81,"Close":80.400000000000006,"High":81.129999999999995,"Low":79.905000000000001,"Volume":1627268,"Date":"20190415080000000"},{"DT":"2019-04-17T01:00:00Z","Open":80.819999999999993,"Close":77.549999999999997,"High":80.959999999999994,"Low":77.189999999999998,"Volume":3441597,"Date":"20190416080000000"},{"DT":"2019-04-18T01:00:00Z","Open":78.150000000000006,"Close":75.430000000000007,"High":78.319999999999993,"Low":74.459999999999994,"Volume":4471971,"Date":"20190417080000000"},{"DT":"2019-04-19T01:00:00Z","Open":75.730000000000004,"Close":76.170000000000002,"High":76.540000000000006,"Low":75.310000000000002,"Volume":2874195,"Date":"20190418080000000"},{"DT":"2019-04-23T01:00:00Z","Open":75.930000000000007,"Close":75.569999999999993,"High":76.719999999999999,"Low":75.129999999999995,"Volume":2016043,"Date":"20190422080000000"},{"DT":"2019-04-24T01:00:00Z","Open":74.280000000000001,"Close":75.560000000000002,"High":76.799999999999997,"Low":73.760000000000005,"Volume":4607107,"Date":"20190423080000000"},{"DT":"2019-04-25T01:00:00Z","Open":75.840000000000003,"Close":75.790000000000006,"High":76.629999999999995,"Low":75.430599999999998,"Volume":1942651,"Date":"20190424080000000"},{"DT":"2019-04-26T01:00:00Z","Open":75.260000000000005,"Close":76.719999999999999,"High":77.040000000000006,"Low":74.939999999999998,"Volume":1481436,"Date":"20190425080000000"},{"DT":"2019-04-27T01:00:00Z","Open":76.980000000000004,"Close":77.420000000000002,"High":77.459999999999994,"Low":76.299999999999997,"Volume":1608922,"Date":"20190426080000000"},{"DT":"2019-04-30T01:00:00Z","Open":77.469999999999999,"Close":77.329999999999998,"High":78.439999999999998,"Low":77.319999999999993,"Volume":2177700,"Date":"20190429080000000"},{"DT":"2019-05-01T01:00:00Z","Open":77.439999999999998,"Close":78.5,"High":78.590000000000003,"Low":77.379999999999995,"Volume":1726239,"Date":"20190430080000000"},{"DT":"2019-05-02T01:00:00Z","Open":78.489999999999995,"Close":77.469999999999999,"High":78.920000000000002,"Low":77.280000000000001,"Volume":1078572,"Date":"20190501080000000"},{"DT":"2019-05-03T01:00:00Z","Open":77.409999999999997,"Close":78.200000000000003,"High":78.340000000000003,"Low":77.145300000000006,"Volume":946764,"Date":"20190502080000000"},{"DT":"2019-05-04T01:00:00Z","Open":78.579999999999998,"Close":79.290000000000006,"High":79.560000000000002,"Low":78.579999999999998,"Volume":1303198,"Date":"20190503080000000"},{"DT":"2019-05-07T01:00:00Z","Open":77.620000000000005,"Close":79.349999999999994,"High":79.409999999999997,"Low":77.209999999999994,"Volume":1624324,"Date":"20190506080000000"},{"DT":"2019-05-08T01:00:00Z","Open":78.590000000000003,"Close":76.670000000000002,"High":78.769999999999996,"Low":76.030000000000001,"Volume":1732161,"Date":"20190507080000000"},{"DT":"2019-05-09T01:00:00Z","Open":76.780000000000001,"Close":76.609999999999999,"High":77.299999999999997,"Low":76.129999999999995,"Volume":2243580,"Date":"20190508080000000"},{"DT":"2019-05-10T01:00:00Z","Open":75.670000000000002,"Close":77,"High":77.055000000000007,"Low":74.849999999999994,"Volume":1717541,"Date":"20190509080000000"},{"DT":"2019-05-11T01:00:00Z","Open":76.640000000000001,"Close":77.099999999999994,"High":77.140000000000001,"Low":74.090000000000003,"Volume":2849795,"Date":"20190510080000000"},{"DT":"2019-05-14T01:00:00Z","Open":75.75,"Close":73.840000000000003,"High":75.909999999999997,"Low":73.230000000000004,"Volume":3547282,"Date":"20190513080000000"},{"DT":"2019-05-15T01:00:00Z","Open":74.430000000000007,"Close":76.010000000000005,"High":76.670000000000002,"Low":74.304000000000002,"Volume":2557726,"Date":"20190514080000000"},{"DT":"2019-05-16T01:00:00Z","Open":67.359999999999999,"Close":67.640000000000001,"High":69.900000000000006,"Low":66.239999999999995,"Volume":14523763,"Date":"20190515080000000"},{"DT":"2019-05-17T01:00:00Z","Open":67.599999999999994,"Close":69.299999999999997,"High":69.420000000000002,"Low":67.599999999999994,"Volume":4567668,"Date":"20190516080000000"},{"DT":"2019-05-18T01:00:00Z","Open":68.439999999999998,"Close":69.109999999999999,"High":69.870000000000005,"Low":68.189999999999998,"Volume":3935714,"Date":"20190517080000000"},{"DT":"2019-05-21T01:00:00Z","Open":68.659999999999997,"Close":68.930000000000007,"High":69.969999999999999,"Low":68.640000000000001,"Volume":4029685,"Date":"20190520080000000"},{"DT":"2019-05-22T01:00:00Z","Open":69.370000000000005,"Close":68.319999999999993,"High":70.439999999999998,"Low":68.25,"Volume":3928214,"Date":"20190521080000000"},{"DT":"2019-05-23T01:00:00Z","Open":68.170000000000002,"Close":67.969999999999999,"High":68.640000000000001,"Low":67.510000000000005,"Volume":4985412,"Date":"20190522080000000"},{"DT":"2019-05-24T01:00:00Z","Open":67.180000000000007,"Close":67.700000000000003,"High":67.849999999999994,"Low":66.030000000000001,"Volume":5358753,"Date":"20190523080000000"},{"DT":"2019-05-25T01:00:00Z","Open":68.140000000000001,"Close":68.359999999999999,"High":69.890000000000001,"Low":68.084999999999994,"Volume":3852867,"Date":"20190524080000000"},{"DT":"2019-05-29T01:00:00Z","Open":68.430000000000007,"Close":67.079999999999998,"High":68.859999999999999,"Low":66.954999999999998,"Volume":2984703,"Date":"20190528080000000"},{"DT":"2019-05-30T01:00:00Z","Open":66.590000000000003,"Close":67.299999999999997,"High":67.989999999999995,"Low":66.590000000000003,"Volume":3722106,"Date":"20190529080000000"},{"DT":"2019-05-31T01:00:00Z","Open":67.590000000000003,"Close":66.890000000000001,"High":67.900000000000006,"Low":66.730000000000004,"Volume":2947887,"Date":"20190530080000000"},{"DT":"2019-06-01T01:00:00Z","Open":66.239999999999995,"Close":67.049999999999997,"High":67.560000000000002,"Low":66.069999999999993,"Volume":2829317,"Date":"20190531080000000"},{"DT":"2019-06-04T01:00:00Z","Open":67.040000000000006,"Close":66.989999999999995,"High":68.099999999999994,"Low":66.819999999999993,"Volume":2560644,"Date":"20190603080000000"},{"DT":"2019-06-05T01:00:00Z","Open":67.659999999999997,"Close":67.950000000000003,"High":68,"Low":66.409999999999997,"Volume":4402784,"Date":"20190604080000000"},{"DT":"2019-06-06T01:00:00Z","Open":68.609999999999999,"Close":68.349999999999994,"High":69.010000000000005,"Low":67.890000000000001,"Volume":2289217,"Date":"20190605080000000"},{"DT":"2019-06-07T01:00:00Z","Open":68.519999999999996,"Close":69.159999999999997,"High":69.674999999999997,"Low":68.519999999999996,"Volume":2468975,"Date":"20190606080000000"},{"DT":"2019-06-08T01:00:00Z","Open":69.700000000000003,"Close":69.519999999999996,"High":70.215000000000003,"Low":69.329999999999998,"Volume":1547509,"Date":"20190607080000000"},{"DT":"2019-06-11T01:00:00Z","Open":69.680000000000007,"Close":70.290000000000006,"High":70.549999999999997,"Low":69.359999999999999,"Volume":1477113,"Date":"20190610080000000"},{"DT":"2019-06-12T01:00:00Z","Open":72.25,"Close":70.090000000000003,"High":72.599999999999994,"Low":69.810000000000002,"Volume":1748246,"Date":"20190611080000000"},{"DT":"2019-06-13T01:00:00Z","Open":70.079999999999998,"Close":70.290000000000006,"High":70.290000000000006,"Low":68.930000000000007,"Volume":1546794,"Date":"20190612080000000"},{"DT":"2019-06-14T01:00:00Z","Open":70.560000000000002,"Close":70.299999999999997,"High":70.709999999999994,"Low":69.890000000000001,"Volume":1886929,"Date":"20190613080000000"},{"DT":"2019-06-15T01:00:00Z","Open":70.310000000000002,"Close":69.969999999999999,"High":70.450000000000003,"Low":69.739999999999995,"Volume":1602711,"Date":"20190614080000000"},{"DT":"2019-06-18T01:00:00Z","Open":70.25,"Close":70.290000000000006,"High":70.599999999999994,"Low":69.890000000000001,"Volume":1149172,"Date":"20190617080000000"},{"DT":"2019-06-19T01:00:00Z","Open":70.799999999999997,"Close":71.909999999999997,"High":72.219999999999999,"Low":70.569999999999993,"Volume":2350398,"Date":"20190618080000000"},{"DT":"2019-06-20T01:00:00Z","Open":71.890000000000001,"Close":72.650000000000006,"High":72.730000000000004,"Low":71.890000000000001,"Volume":1916665,"Date":"20190619080000000"},{"DT":"2019-06-21T01:00:00Z","Open":73.219999999999999,"Close":73.319999999999993,"High":73.420000000000002,"Low":72.364999999999995,"Volume":2077813,"Date":"20190620080000000"},{"DT":"2019-06-22T01:00:00Z","Open":73.140000000000001,"Close":73.340000000000003,"High":73.540000000000006,"Low":72.549999999999997,"Volume":3096151,"Date":"20190621080000000"},{"DT":"2019-06-25T01:00:00Z","Open":73.329999999999998,"Close":73.140000000000001,"High":73.680000000000007,"Low":72.260000000000005,"Volume":1251576,"Date":"20190624080000000"},{"DT":"2019-06-26T01:00:00Z","Open":73.189999999999998,"Close":72.510000000000005,"High":73.629999999999995,"Low":72.409999999999997,"Volume":1340355,"Date":"20190625080000000"},{"DT":"2019-06-27T01:00:00Z","Open":72.640000000000001,"Close":72.140000000000001,"High":73.180000000000007,"Low":72.040000000000006,"Volume":1583790,"Date":"20190626080000000"},{"DT":"2019-06-28T01:00:00Z","Open":72.549999999999997,"Close":73.189999999999998,"High":73.280000000000001,"Low":72.200000000000003,"Volume":1480248,"Date":"20190627080000000"},{"DT":"2019-06-29T01:00:00Z","Open":73.260000000000005,"Close":74.670000000000002,"High":74.700000000000003,"Low":73.099999999999994,"Volume":3159736,"Date":"20190628080000000"},{"DT":"2019-07-02T01:00:00Z","Open":75.599999999999994,"Close":75.780000000000001,"High":75.890000000000001,"Low":74.920000000000002,"Volume":2756169,"Date":"20190701080000000"},{"DT":"2019-07-03T01:00:00Z","Open":75.849999999999994,"Close":75.609999999999999,"High":76.180000000000007,"Low":75.25,"Volume":1876980,"Date":"20190702080000000"},{"DT":"2019-07-04T01:00:00Z","Open":75.859999999999999,"Close":76.799999999999997,"High":76.930000000000007,"Low":75.700000000000003,"Volume":1153149,"Date":"20190703080000000"},{"DT":"2019-07-06T01:00:00Z","Open":76.340000000000003,"Close":75.75,"High":76.469999999999999,"Low":75.299999999999997,"Volume":1493127,"Date":"20190705080000000"},{"DT":"2019-07-09T01:00:00Z","Open":75.530000000000001,"Close":73.840000000000003,"High":75.984999999999999,"Low":73.5,"Volume":2217365,"Date":"20190708080000000"},{"DT":"2019-07-10T01:00:00Z","Open":73.489999999999995,"Close":73.450000000000003,"High":74.081000000000003,"Low":73.105000000000004,"Volume":2092180,"Date":"20190709080000000"},{"DT":"2019-07-11T01:00:00Z","Open":73.579999999999998,"Close":73.370000000000005,"High":73.939999999999998,"Low":73.129999999999995,"Volume":1785225,"Date":"20190710080000000"},{"DT":"2019-07-12T01:00:00Z","Open":73.769999999999996,"Close":71.739999999999995,"High":73.780000000000001,"Low":71.480000000000004,"Volume":6562456,"Date":"20190711080000000"},{"DT":"2019-07-13T01:00:00Z","Open":71.280000000000001,"Close":71.650000000000006,"High":72.269999999999996,"Low":70.829999999999998,"Volume":2542424,"Date":"20190712080000000"},{"DT":"2019-07-16T01:00:00Z","Open":71.019999999999996,"Close":70.549999999999997,"High":71.019999999999996,"Low":69.484999999999999,"Volume":3955265,"Date":"20190715080000000"},{"DT":"2019-07-17T01:00:00Z","Open":70,"Close":69.950000000000003,"High":70.359999999999999,"Low":69.329999999999998,"Volume":3067218,"Date":"20190716080000000"},{"DT":"2019-07-18T01:00:00Z","Open":70.310000000000002,"Close":69.590000000000003,"High":70.560000000000002,"Low":69.590000000000003,"Volume":2402290,"Date":"20190717080000000"},{"DT":"2019-07-19T01:00:00Z","Open":70.010000000000005,"Close":70.129999999999995,"High":70.609999999999999,"Low":69.659999999999997,"Volume":2713000,"Date":"20190718080000000"},{"DT":"2019-07-20T01:00:00Z","Open":70.579999999999998,"Close":68.700000000000003,"High":70.579999999999998,"Low":68.599999999999994,"Volume":2694430,"Date":"20190719080000000"},{"DT":"2019-07-23T01:00:00Z","Open":68.909999999999997,"Close":69.090000000000003,"High":69.465000000000003,"Low":68.459999999999994,"Volume":3103341,"Date":"20190722080000000"},{"DT":"2019-07-24T01:00:00Z","Open":69.400000000000006,"Close":69.890000000000001,"High":70.170000000000002,"Low":69.159999999999997,"Volume":3304218,"Date":"20190723080000000"},{"DT":"2019-07-25T01:00:00Z","Open":69.25,"Close":69.579999999999998,"High":69.579999999999998,"Low":68.620000000000005,"Volume":3190394,"Date":"20190724080000000"},{"DT":"2019-07-26T01:00:00Z","Open":69.75,"Close":69.849999999999994,"High":70.010000000000005,"Low":69.545500000000004,"Volume":1904682,"Date":"20190725080000000"},{"DT":"2019-07-27T01:00:00Z","Open":70.129999999999995,"Close":69.5,"High":70.189999999999998,"Low":69.349999999999994,"Volume":2392634,"Date":"20190726080000000"},{"DT":"2019-07-30T01:00:00Z","Open":69.5,"Close":70.370000000000005,"High":70.5,"Low":69.379999999999995,"Volume":2750044,"Date":"20190729080000000"},{"DT":"2019-07-31T01:00:00Z","Open":69.25,"Close":70.150000000000006,"High":70.180000000000007,"Low":68.099999999999994,"Volume":2871810,"Date":"20190730080000000"},{"DT":"2019-08-01T01:00:00Z","Open":70.189999999999998,"Close":69.409999999999997,"High":70.655000000000001,"Low":68.915000000000006,"Volume":3846063,"Date":"20190731080000000"},{"DT":"2019-08-02T01:00:00Z","Open":69.629999999999995,"Close":69.209999999999994,"High":70.680000000000007,"Low":68.385000000000005,"Volume":2494123,"Date":"20190801080000000"},{"DT":"2019-08-03T01:00:00Z","Open":69.120000000000005,"Close":68.079999999999998,"High":69.129999999999995,"Low":67.555000000000007,"Volume":2803508,"Date":"20190802080000000"},{"DT":"2019-08-06T01:00:00Z","Open":66.840000000000003,"Close":65.859999999999999,"High":67.170000000000002,"Low":65.659999999999997,"Volume":3273115,"Date":"20190805080000000"},{"DT":"2019-08-07T01:00:00Z","Open":66.409999999999997,"Close":67.659999999999997,"High":67.680000000000007,"Low":66.040000000000006,"Volume":2436228,"Date":"20190806080000000"},{"DT":"2019-08-08T01:00:00Z","Open":66.870000000000005,"Close":67.969999999999999,"High":68.269999999999996,"Low":66.480000000000004,"Volume":2172854,"Date":"20190807080000000"},{"DT":"2019-08-09T01:00:00Z","Open":68.430000000000007,"Close":69.489999999999995,"High":69.510000000000005,"Low":68.099999999999994,"Volume":2014261,"Date":"20190808080000000"},{"DT":"2019-08-10T01:00:00Z","Open":68.939999999999998,"Close":68.640000000000001,"High":68.939999999999998,"Low":67.819999999999993,"Volume":1866212,"Date":"20190809080000000"},{"DT":"2019-08-13T01:00:00Z","Open":68.219999999999999,"Close":66.629999999999995,"High":68.379999999999995,"Low":66.5,"Volume":2194788,"Date":"20190812080000000"},{"DT":"2019-08-14T01:00:00Z","Open":66.909999999999997,"Close":67.640000000000001,"High":68.780000000000001,"Low":66.5,"Volume":3170549,"Date":"20190813080000000"},{"DT":"2019-08-15T01:00:00Z","Open":66.579999999999998,"Close":65.590000000000003,"High":67.019999999999996,"Low":65.349999999999994,"Volume":3509695,"Date":"20190814080000000"},{"DT":"2019-08-16T01:00:00Z","Open":71.939999999999998,"Close":69.590000000000003,"High":72.650000000000006,"Low":69.420000000000002,"Volume":6701003,"Date":"20190815080000000"},{"DT":"2019-08-17T01:00:00Z","Open":69.900000000000006,"Close":71.079999999999998,"High":71.180000000000007,"Low":68.959999999999994,"Volume":3367096,"Date":"20190816080000000"},{"DT":"2019-08-20T01:00:00Z","Open":71.930000000000007,"Close":71.75,"High":72.280000000000001,"Low":71.5,"Volume":2050446,"Date":"20190819080000000"},{"DT":"2019-08-21T01:00:00Z","Open":71.420000000000002,"Close":71.120000000000005,"High":72.260000000000005,"Low":71.099999999999994,"Volume":2171244,"Date":"20190820080000000"},{"DT":"2019-08-22T01:00:00Z","Open":71.959999999999994,"Close":72.200000000000003,"High":72.329999999999998,"Low":71.194999999999993,"Volume":1897423,"Date":"20190821080000000"},{"DT":"2019-08-23T01:00:00Z","Open":72.450000000000003,"Close":71.739999999999995,"High":72.769999999999996,"Low":71.25,"Volume":1643997,"Date":"20190822080000000"},{"DT":"2019-08-24T01:00:00Z","Open":71.5,"Close":69.549999999999997,"High":71.670000000000002,"Low":69.25,"Volume":2990027,"Date":"20190823080000000"},{"DT":"2019-08-27T01:00:00Z","Open":70.109999999999999,"Close":69.640000000000001,"High":70.635000000000005,"Low":68.790000000000006,"Volume":1827254,"Date":"20190826080000000"},{"DT":"2019-08-28T01:00:00Z","Open":70.049999999999997,"Close":69.480000000000004,"High":70.329999999999998,"Low":69.114999999999995,"Volume":2032338,"Date":"20190827080000000"},{"DT":"2019-08-29T01:00:00Z","Open":69.260000000000005,"Close":69.939999999999998,"High":70.263599999999997,"Low":68.806200000000004,"Volume":1673981,"Date":"20190828080000000"},{"DT":"2019-08-30T01:00:00Z","Open":70.810000000000002,"Close":70.700000000000003,"High":71.290000000000006,"Low":70.480000000000004,"Volume":1611155,"Date":"20190829080000000"},{"DT":"2019-08-31T01:00:00Z","Open":71.450000000000003,"Close":71.109999999999999,"High":72.450000000000003,"Low":70.819999999999993,"Volume":2356396,"Date":"20190830080000000"},{"DT":"2019-09-04T01:00:00Z","Open":70.700000000000003,"Close":70.409999999999997,"High":71.040000000000006,"Low":69.480999999999995,"Volume":2227812,"Date":"20190903080000000"},{"DT":"2019-09-05T01:00:00Z","Open":70.939999999999998,"Close":70.859999999999999,"High":71.219999999999999,"Low":69.959999999999994,"Volume":1820588,"Date":"20190904080000000"},{"DT":"2019-09-06T01:00:00Z","Open":71.640000000000001,"Close":73.519999999999996,"High":73.709999999999994,"Low":71.640000000000001,"Volume":2997855,"Date":"20190905080000000"},{"DT":"2019-09-07T01:00:00Z","Open":73.689999999999998,"Close":74.280000000000001,"High":74.370000000000005,"Low":73.689999999999998,"Volume":3117566,"Date":"20190906080000000"},{"DT":"2019-09-10T01:00:00Z","Open":74.390000000000001,"Close":74.180000000000007,"High":74.590000000000003,"Low":73.670000000000002,"Volume":2997015,"Date":"20190909080000000"},{"DT":"2019-09-11T01:00:00Z","Open":73.5,"Close":74.769999999999996,"High":75.030000000000001,"Low":73.290000000000006,"Volume":2838038,"Date":"20190910080000000"},{"DT":"2019-09-12T01:00:00Z","Open":75.069999999999993,"Close":76.989999999999995,"High":77.010000000000005,"Low":75.064999999999998,"Volume":2805546,"Date":"20190911080000000"},{"DT":"2019-09-13T01:00:00Z","Open":77.010000000000005,"Close":77.569999999999993,"High":78.090000000000003,"Low":76.709999999999994,"Volume":4009762,"Date":"20190912080000000"},{"DT":"2019-09-14T01:00:00Z","Open":77.590000000000003,"Close":77.900000000000006,"High":78.049999999999997,"Low":77.180000000000007,"Volume":2673363,"Date":"20190913080000000"},{"DT":"2019-09-17T01:00:00Z","Open":77.319999999999993,"Close":77.150000000000006,"High":77.430000000000007,"Low":76.459999999999994,"Volume":2874511,"Date":"20190916080000000"},{"DT":"2019-09-18T01:00:00Z","Open":76.950000000000003,"Close":76.400000000000006,"High":76.969999999999999,"Low":76.280000000000001,"Volume":2722866,"Date":"20190917080000000"},{"DT":"2019-09-19T01:00:00Z","Open":76.359999999999999,"Close":77.569999999999993,"High":77.569999999999993,"Low":75.745000000000005,"Volume":1993422,"Date":"20190918080000000"},{"DT":"2019-09-20T01:00:00Z","Open":77.579999999999998,"Close":78.069999999999993,"High":78.150000000000006,"Low":77.319999999999993,"Volume":1779338,"Date":"20190919080000000"},{"DT":"2019-09-21T01:00:00Z","Open":78.219999999999999,"Close":77.969999999999999,"High":78.739999999999995,"Low":77.909999999999997,"Volume":4615740,"Date":"20190920080000000"},{"DT":"2019-09-24T01:00:00Z","Open":77.480000000000004,"Close":78.060000000000002,"High":78.390000000000001,"Low":77.269999999999996,"Volume":2233638,"Date":"20190923080000000"},{"DT":"2019-09-25T01:00:00Z","Open":78.290000000000006,"Close":75.969999999999999,"High":78.390000000000001,"Low":75.640000000000001,"Volume":4317585,"Date":"20190924080000000"},{"DT":"2019-09-26T01:00:00Z","Open":76.049999999999997,"Close":76.329999999999998,"High":76.560000000000002,"Low":75.155000000000001,"Volume":1811568,"Date":"20190925080000000"},{"DT":"2019-09-27T01:00:00Z","Open":76.450000000000003,"Close":76.519999999999996,"High":76.959999999999994,"Low":76.090000000000003,"Volume":1328608,"Date":"20190926080000000"},{"DT":"2019-09-28T01:00:00Z","Open":77.019999999999996,"Close":76.390000000000001,"High":77.310000000000002,"Low":75.920000000000002,"Volume":1639829,"Date":"20190927080000000"},{"DT":"2019-10-01T01:00:00Z","Open":76.370000000000005,"Close":76.629999999999995,"High":77.109999999999999,"Low":76.334999999999994,"Volume":1713739,"Date":"20190930080000000"},{"DT":"2019-10-02T01:00:00Z","Open":76.5,"Close":74.840000000000003,"High":76.890000000000001,"Low":74.590000000000003,"Volume":2221177,"Date":"20191001080000000"},{"DT":"2019-10-03T01:00:00Z","Open":74.319999999999993,"Close":73.349999999999994,"High":74.540000000000006,"Low":72.900000000000006,"Volume":2031175,"Date":"20191002080000000"},{"DT":"2019-10-04T01:00:00Z","Open":73.379999999999995,"Close":73.870000000000005,"High":73.879999999999995,"Low":72.469999999999999,"Volume":1917328,"Date":"20191003080000000"},{"DT":"2019-10-05T01:00:00Z","Open":74.079999999999998,"Close":75.879999999999995,"High":75.909999999999997,"Low":74.060000000000002,"Volume":1289752,"Date":"20191004080000000"},{"DT":"2019-10-08T01:00:00Z","Open":75.349999999999994,"Close":75.099999999999994,"High":75.689999999999998,"Low":74.640000000000001,"Volume":1065442,"Date":"20191007080000000"},{"DT":"2019-10-09T01:00:00Z","Open":73.969999999999999,"Close":72.489999999999995,"High":73.969999999999999,"Low":71.730000000000004,"Volume":3034916,"Date":"20191008080000000"},{"DT":"2019-10-10T01:00:00Z","Open":73.049999999999997,"Close":73.469999999999999,"High":73.840000000000003,"Low":72.640000000000001,"Volume":1520220,"Date":"20191009080000000"},{"DT":"2019-10-11T01:00:00Z","Open":73.430000000000007,"Close":74,"High":74.430000000000007,"Low":73.430000000000007,"Volume":1460394,"Date":"20191010080000000"},{"DT":"2019-10-12T01:00:00Z","Open":75.549999999999997,"Close":75.299999999999997,"High":76.209999999999994,"Low":75.239999999999995,"Volume":1216971,"Date":"20191011080000000"},{"DT":"2019-10-15T01:00:00Z","Open":75.180000000000007,"Close":75.180000000000007,"High":75.799999999999997,"Low":74.989999999999995,"Volume":845358,"Date":"20191014080000000"},{"DT":"2019-10-16T01:00:00Z","Open":75.799999999999997,"Close":75.75,"High":76.359999999999999,"Low":75.680000000000007,"Volume":854689,"Date":"20191015080000000"},{"DT":"2019-10-17T01:00:00Z","Open":75.299999999999997,"Close":75.269999999999996,"High":75.879999999999995,"Low":74.959999999999994,"Volume":2401590,"Date":"20191016080000000"},{"DT":"2019-10-18T01:00:00Z","Open":75.689999999999998,"Close":74.920000000000002,"High":76.25,"Low":74.900000000000006,"Volume":1657180,"Date":"20191017080000000"},{"DT":"2019-10-19T01:00:00Z","Open":74,"Close":74.569999999999993,"High":74.819999999999993,"Low":73.769999999999996,"Volume":2121895,"Date":"20191018080000000"},{"DT":"2019-10-22T01:00:00Z","Open":74.879999999999995,"Close":75.480000000000004,"High":75.510000000000005,"Low":74.689999999999998,"Volume":1739523,"Date":"20191021080000000"},{"DT":"2019-10-23T01:00:00Z","Open":75.680000000000007,"Close":74.689999999999998,"High":76.329999999999998,"Low":74.635000000000005,"Volume":1327981,"Date":"20191022080000000"},{"DT":"2019-10-24T01:00:00Z","Open":75.019999999999996,"Close":74.980000000000004,"High":75.890000000000001,"Low":74.680000000000007,"Volume":1828337,"Date":"20191023080000000"},{"DT":"2019-10-25T01:00:00Z","Open":75.030000000000001,"Close":75,"High":75.109999999999999,"Low":74.459999999999994,"Volume":1582478,"Date":"20191024080000000"},{"DT":"2019-10-26T01:00:00Z","Open":74.700000000000003,"Close":75.390000000000001,"High":75.969999999999999,"Low":74.129999999999995,"Volume":835050,"Date":"20191025080000000"},{"DT":"2019-10-29T01:00:00Z","Open":75.689999999999998,"Close":76.150000000000006,"High":76.555000000000007,"Low":75.689999999999998,"Volume":1143869,"Date":"20191028080000000"},{"DT":"2019-10-30T01:00:00Z","Open":75.049999999999997,"Close":76.170000000000002,"High":76.680000000000007,"Low":74.939999999999998,"Volume":1113263,"Date":"20191029080000000"},{"DT":"2019-10-31T01:00:00Z","Open":76.040000000000006,"Close":76.120000000000005,"High":76.150000000000006,"Low":75.239999999999995,"Volume":914844,"Date":"20191030080000000"},{"DT":"2019-11-01T01:00:00Z","Open":76,"Close":75.75,"High":76.120000000000005,"Low":75.099999999999994,"Volume":970472,"Date":"20191031080000000"},{"DT":"2019-11-02T01:00:00Z","Open":76.510000000000005,"Close":76.969999999999999,"High":77.349999999999994,"Low":76.314999999999998,"Volume":1106314,"Date":"20191101080000000"},{"DT":"2019-11-05T02:00:00Z","Open":77.680000000000007,"Close":76.739999999999995,"High":77.844999999999999,"Low":76.730000000000004,"Volume":1010174,"Date":"20191104080000000"},{"DT":"2019-11-06T02:00:00Z","Open":76.819999999999993,"Close":75.549999999999997,"High":76.909999999999997,"Low":75.469999999999999,"Volume":2362670,"Date":"20191105080000000"},{"DT":"2019-11-07T02:00:00Z","Open":75.700000000000003,"Close":75.790000000000006,"High":75.939999999999998,"Low":74.939999999999998,"Volume":1355737,"Date":"20191106080000000"},{"DT":"2019-11-08T02:00:00Z","Open":76.340000000000003,"Close":75.909999999999997,"High":76.379999999999995,"Low":75.684100000000001,"Volume":860939,"Date":"20191107080000000"},{"DT":"2019-11-09T02:00:00Z","Open":75.900000000000006,"Close":76.640000000000001,"High":76.650000000000006,"Low":75.650000000000006,"Volume":1231456,"Date":"20191108080000000"},{"DT":"2019-11-12T02:00:00Z","Open":76.25,"Close":76.849999999999994,"High":76.849999999999994,"Low":76.129999999999995,"Volume":1149169,"Date":"20191111080000000"},{"DT":"2019-11-13T02:00:00Z","Open":77,"Close":77.049999999999997,"High":77.549999999999997,"Low":76.719999999999999,"Volume":1008787,"Date":"20191112080000000"},{"DT":"2019-11-14T02:00:00Z","Open":76.819999999999993,"Close":77.159999999999997,"High":77.5,"Low":76.560000000000002,"Volume":1104429,"Date":"20191113080000000"},{"DT":"2019-11-15T02:00:00Z","Open":77.209999999999994,"Close":76.760000000000005,"High":77.450000000000003,"Low":76.480000000000004,"Volume":1113519,"Date":"20191114080000000"},{"DT":"2019-11-16T02:00:00Z","Open":76.930000000000007,"Close":78.260000000000005,"High":78.310000000000002,"Low":76.609999999999999,"Volume":1700368,"Date":"20191115080000000"},{"DT":"2019-11-19T02:00:00Z","Open":78.140000000000001,"Close":77.939999999999998,"High":78.5,"Low":77.5,"Volume":1641215,"Date":"20191118080000000"},{"DT":"2019-11-20T02:00:00Z","Open":78.170000000000002,"Close":79.290000000000006,"High":79.489999999999995,"Low":77.840000000000003,"Volume":1704766,"Date":"20191119080000000"},{"DT":"2019-11-21T02:00:00Z","Open":79.159999999999997,"Close":78.519999999999996,"High":79.359999999999999,"Low":78.209999999999994,"Volume":2429830,"Date":"20191120080000000"},{"DT":"2019-11-22T02:00:00Z","Open":78.969999999999999,"Close":78.299999999999997,"High":78.969999999999999,"Low":77.310000000000002,"Volume":2142169,"Date":"20191121080000000"},{"DT":"2019-11-23T02:00:00Z","Open":78.609999999999999,"Close":79.120000000000005,"High":79.189999999999998,"Low":78.230000000000004,"Volume":1869712,"Date":"20191122080000000"},{"DT":"2019-11-26T02:00:00Z","Open":79.450000000000003,"Close":80.260000000000005,"High":80.462400000000002,"Low":79.299999999999997,"Volume":2642559,"Date":"20191125080000000"},{"DT":"2019-11-27T02:00:00Z","Open":78.569999999999993,"Close":80.950000000000003,"High":81.030000000000001,"Low":77.959999999999994,"Volume":5330601,"Date":"20191126080000000"},{"DT":"2019-11-28T02:00:00Z","Open":81.079999999999998,"Close":81.079999999999998,"High":81.340000000000003,"Low":80.689999999999998,"Volume":1628005,"Date":"20191127080000000"},{"DT":"2019-11-30T02:00:00Z","Open":80.959999999999994,"Close":80.769999999999996,"High":81.239999999999995,"Low":80.469999999999999,"Volume":835780,"Date":"20191129080000000"},{"DT":"2019-12-03T02:00:00Z","Open":80.780000000000001,"Close":80.349999999999994,"High":80.989999999999995,"Low":80.019999999999996,"Volume":1775635,"Date":"20191202080000000"},{"DT":"2019-12-04T02:00:00Z","Open":79.519999999999996,"Close":80.099999999999994,"High":80.109999999999999,"Low":79.170000000000002,"Volume":2110132,"Date":"20191203080000000"},{"DT":"2019-12-05T02:00:00Z","Open":80.299999999999997,"Close":80.930000000000007,"High":81,"Low":80.180000000000007,"Volume":1690909,"Date":"20191204080000000"},{"DT":"2019-12-06T02:00:00Z","Open":80.890000000000001,"Close":81.530000000000001,"High":81.734999999999999,"Low":80.5,"Volume":1900031,"Date":"20191205080000000"},{"DT":"2019-12-07T02:00:00Z","Open":82.239999999999995,"Close":82.209999999999994,"High":82.420000000000002,"Low":81.819999999999993,"Volume":1783441,"Date":"20191206080000000"},{"DT":"2019-12-10T02:00:00Z","Open":82.340000000000003,"Close":81.620000000000005,"High":82.469999999999999,"Low":81.549999999999997,"Volume":1941323,"Date":"20191209080000000"},{"DT":"2019-12-11T02:00:00Z","Open":82.900000000000006,"Close":82.930000000000007,"High":83.799999999999997,"Low":82.700000000000003,"Volume":3067695,"Date":"20191210080000000"},{"DT":"2019-12-12T02:00:00Z","Open":82.930000000000007,"Close":83.420000000000002,"High":83.469999999999999,"Low":82.569999999999993,"Volume":1718397,"Date":"20191211080000000"},{"DT":"2019-12-13T02:00:00Z","Open":83.489999999999995,"Close":84.810000000000002,"High":84.980000000000004,"Low":83.170000000000002,"Volume":1920881,"Date":"20191212080000000"},{"DT":"2019-12-14T02:00:00Z","Open":84.670000000000002,"Close":83.709999999999994,"High":84.739999999999995,"Low":83.590000000000003,"Volume":1811165,"Date":"20191213080000000"},{"DT":"2019-12-17T02:00:00Z","Open":84.469999999999999,"Close":84.450000000000003,"High":84.969999999999999,"Low":84,"Volume":1371246,"Date":"20191216080000000"},{"DT":"2019-12-18T02:00:00Z","Open":84.760000000000005,"Close":83.950000000000003,"High":84.859999999999999,"Low":83.780000000000001,"Volume":1653196,"Date":"20191217080000000"},{"DT":"2019-12-19T02:00:00Z","Open":83.75,"Close":83.430000000000007,"High":84.049999999999997,"Low":83.359999999999999,"Volume":2025494,"Date":"20191218080000000"},{"DT":"2019-12-20T02:00:00Z","Open":83.950000000000003,"Close":84.510000000000005,"High":84.670000000000002,"Low":83.560000000000002,"Volume":1696006,"Date":"20191219080000000"},{"DT":"2019-12-21T02:00:00Z","Open":84.939999999999998,"Close":85.189999999999998,"High":85.310000000000002,"Low":84.319999999999993,"Volume":2287898,"Date":"20191220080000000"},{"DT":"2019-12-24T02:00:00Z","Open":85.420000000000002,"Close":85.260000000000005,"High":85.439999999999998,"Low":84.760000000000005,"Volume":816020,"Date":"20191223080000000"},{"DT":"2019-12-25T02:00:00Z","Open":85.450000000000003,"Close":85.299999999999997,"High":85.450000000000003,"Low":84.980000000000004,"Volume":271858,"Date":"20191224080000000"},{"DT":"2019-12-27T02:00:00Z","Open":85.310000000000002,"Close":85.450000000000003,"High":85.640000000000001,"Low":85.090000000000003,"Volume":649078,"Date":"20191226080000000"},{"DT":"2019-12-28T02:00:00Z","Open":85.680000000000007,"Close":85.420000000000002,"High":85.680000000000007,"Low":85.109999999999999,"Volume":767716,"Date":"20191227080000000"},{"DT":"2019-12-31T02:00:00Z","Open":85.340000000000003,"Close":84.900000000000006,"High":85.400000000000006,"Low":84.640000000000001,"Volume":742820,"Date":"20191230080000000"},{"DT":"2020-01-01T02:00:00Z","Open":84.840000000000003,"Close":85.310000000000002,"High":85.340000000000003,"Low":84.670000000000002,"Volume":1176222,"Date":"20191231080000000"},{"DT":"2020-01-03T02:00:00Z","Open":85.900000000000006,"Close":85.950000000000003,"High":86.349999999999994,"Low":85.200000000000003,"Volume":1392522,"Date":"20200102080000000"},{"DT":"2020-01-04T02:00:00Z","Open":84.670000000000002,"Close":84.569999999999993,"High":85.329999999999998,"Low":84.5,"Volume":1118322,"Date":"20200103080000000"},{"DT":"2020-01-07T02:00:00Z","Open":84,"Close":84.819999999999993,"High":84.819999999999993,"Low":83.599999999999994,"Volume":1993195,"Date":"20200106080000000"},{"DT":"2020-01-08T02:00:00Z","Open":83.959999999999994,"Close":85.079999999999998,"High":85.260000000000005,"Low":83.939999999999998,"Volume":1723146,"Date":"20200107080000000"},{"DT":"2020-01-09T02:00:00Z","Open":85.959999999999994,"Close":85.920000000000002,"High":86.469999999999999,"Low":85.200000000000003,"Volume":1847585,"Date":"20200108080000000"},{"DT":"2020-01-10T02:00:00Z","Open":86.459999999999994,"Close":87.269999999999996,"High":87.700000000000003,"Low":86.170000000000002,"Volume":1912699,"Date":"20200109080000000"},{"DT":"2020-01-11T02:00:00Z","Open":87.719999999999999,"Close":87.590000000000003,"High":88.234999999999999,"Low":87.319999999999993,"Volume":1417028,"Date":"20200110080000000"},{"DT":"2020-01-14T02:00:00Z","Open":87.810000000000002,"Close":87.459999999999994,"High":88.319999999999993,"Low":86.738399999999999,"Volume":1630160,"Date":"20200113080000000"},{"DT":"2020-01-15T02:00:00Z","Open":87.269999999999996,"Close":87.989999999999995,"High":88.209999999999994,"Low":86.700000000000003,"Volume":1675253,"Date":"20200114080000000"},{"DT":"2020-01-16T02:00:00Z","Open":87.629999999999995,"Close":88.620000000000005,"High":89.109999999999999,"Low":87.549999999999997,"Volume":1630364,"Date":"20200115080000000"},{"DT":"2020-01-17T02:00:00Z","Open":89.120000000000005,"Close":89.459999999999994,"High":89.489999999999995,"Low":88.859999999999999,"Volume":1595891,"Date":"20200116080000000"},{"DT":"2020-01-18T02:00:00Z","Open":89.969999999999999,"Close":90.120000000000005,"High":90.280000000000001,"Low":89.204999999999998,"Volume":3718336,"Date":"20200117080000000"},{"DT":"2020-01-22T02:00:00Z","Open":89.799999999999997,"Close":89.609999999999999,"High":90.150000000000006,"Low":89.459999999999994,"Volume":2697372,"Date":"20200121080000000"},{"DT":"2020-01-23T02:00:00Z","Open":89.939999999999998,"Close":90.129999999999995,"High":90.640000000000001,"Low":89.841999999999999,"Volume":1665822,"Date":"20200122080000000"},{"DT":"2020-01-24T02:00:00Z","Open":89.620000000000005,"Close":89.069999999999993,"High":89.980000000000004,"Low":88.659999999999997,"Volume":1228291,"Date":"20200123080000000"},{"DT":"2020-01-25T02:00:00Z","Open":89.450000000000003,"Close":88.260000000000005,"High":89.459999999999994,"Low":87.579999999999998,"Volume":1164489,"Date":"20200124080000000"},{"DT":"2020-01-28T02:00:00Z","Open":86.540000000000006,"Close":86.560000000000002,"High":87.170000000000002,"Low":86.209999999999994,"Volume":1867959,"Date":"20200127080000000"},{"DT":"2020-01-29T02:00:00Z","Open":86.849999999999994,"Close":87.180000000000007,"High":87.480000000000004,"Low":86.189999999999998,"Volume":1652210,"Date":"20200128080000000"},{"DT":"2020-01-30T02:00:00Z","Open":87.549999999999997,"Close":87.239999999999995,"High":88.359999999999999,"Low":87.150000000000006,"Volume":1131523,"Date":"20200129080000000"},{"DT":"2020-01-31T02:00:00Z","Open":84.900000000000006,"Close":84.379999999999995,"High":85.030000000000001,"Low":83.599999999999994,"Volume":3026658,"Date":"20200130080000000"},{"DT":"2020-02-01T02:00:00Z","Open":84.030000000000001,"Close":82.560000000000002,"High":84.334999999999994,"Low":82.340000000000003,"Volume":2850446,"Date":"20200131080000000"},{"DT":"2020-02-04T02:00:00Z","Open":83.290000000000006,"Close":82.150000000000006,"High":83.689999999999998,"Low":82.109999999999999,"Volume":1919771,"Date":"20200203080000000"},{"DT":"2020-02-05T02:00:00Z","Open":82.849999999999994,"Close":83.519999999999996,"High":83.900000000000006,"Low":82.780000000000001,"Volume":1676020,"Date":"20200204080000000"},{"DT":"2020-02-06T02:00:00Z","Open":84.530000000000001,"Close":84.930000000000007,"High":85.5,"Low":84.390000000000001,"Volume":2345127,"Date":"20200205080000000"},{"DT":"2020-02-07T02:00:00Z","Open":85.310000000000002,"Close":84.819999999999993,"High":85.390000000000001,"Low":84.579999999999998,"Volume":835477,"Date":"20200206080000000"},{"DT":"2020-02-08T02:00:00Z","Open":84.609999999999999,"Close":83.170000000000002,"High":84.790000000000006,"Low":82.920000000000002,"Volume":1447645,"Date":"20200207080000000"},{"DT":"2020-02-11T02:00:00Z","Open":83.040000000000006,"Close":84.430000000000007,"High":84.635000000000005,"Low":82.924999999999997,"Volume":2066861,"Date":"20200210080000000"},{"DT":"2020-02-12T02:00:00Z","Open":85.030000000000001,"Close":85.090000000000003,"High":85.670000000000002,"Low":84.840000000000003,"Volume":1543233,"Date":"20200211080000000"},{"DT":"2020-02-13T02:00:00Z","Open":85.400000000000006,"Close":85.430000000000007,"High":86.060000000000002,"Low":85.290000000000006,"Volume":1464200,"Date":"20200212080000000"},{"DT":"2020-02-14T02:00:00Z","Open":85.099999999999994,"Close":85.469999999999999,"High":85.680000000000007,"Low":84.659999999999997,"Volume":1596270,"Date":"20200213080000000"},{"DT":"2020-02-15T02:00:00Z","Open":85.719999999999999,"Close":85.819999999999993,"High":85.859999999999999,"Low":85.114999999999995,"Volume":1965430,"Date":"20200214080000000"},{"DT":"2020-02-19T02:00:00Z","Open":85.659999999999997,"Close":84.790000000000006,"High":86.079999999999998,"Low":84.530000000000001,"Volume":2873640,"Date":"20200218080000000"},{"DT":"2020-02-20T02:00:00Z","Open":84.700000000000003,"Close":85.349999999999994,"High":85.840000000000003,"Low":83.450000000000003,"Volume":4741298,"Date":"20200219080000000"},{"DT":"2020-02-21T02:00:00Z","Open":84.900000000000006,"Close":84.340000000000003,"High":84.989999999999995,"Low":83.359999999999999,"Volume":2543584,"Date":"20200220080000000"},{"DT":"2020-02-22T02:00:00Z","Open":83.900000000000006,"Close":85.069999999999993,"High":85.090000000000003,"Low":83.402500000000003,"Volume":1762536,"Date":"20200221080000000"},{"DT":"2020-02-25T02:00:00Z","Open":82.219999999999999,"Close":80.5,"High":82.590000000000003,"Low":80.019999999999996,"Volume":2919380,"Date":"20200224080000000"},{"DT":"2020-02-26T02:00:00Z","Open":80.700000000000003,"Close":77.950000000000003,"High":80.879999999999995,"Low":77.689999999999998,"Volume":2767995,"Date":"20200225080000000"},{"DT":"2020-02-27T02:00:00Z","Open":78.659999999999997,"Close":78.109999999999999,"High":80.269999999999996,"Low":78.090000000000003,"Volume":2526026,"Date":"20200226080000000"},{"DT":"2020-02-28T02:00:00Z","Open":76.680000000000007,"Close":77.430000000000007,"High":80.299999999999997,"Low":76.370000000000005,"Volume":2879719,"Date":"20200227080000000"},{"DT":"2020-02-29T02:00:00Z","Open":74.969999999999999,"Close":77.069999999999993,"High":77.069999999999993,"Low":74.170000000000002,"Volume":3755580,"Date":"20200228080000000"},{"DT":"2020-03-03T02:00:00Z","Open":77.310000000000002,"Close":81.969999999999999,"High":82,"Low":77.234999999999999,"Volume":3407549,"Date":"20200302080000000"},{"DT":"2020-03-04T02:00:00Z","Open":81.890000000000001,"Close":80.319999999999993,"High":85,"Low":79.280000000000001,"Volume":3017230,"Date":"20200303080000000"},{"DT":"2020-03-05T02:00:00Z","Open":81.769999999999996,"Close":84.349999999999994,"High":84.430000000000007,"Low":80.719999999999999,"Volume":1905295,"Date":"20200304080000000"},{"DT":"2020-03-06T02:00:00Z","Open":82.140000000000001,"Close":80.459999999999994,"High":83.25,"Low":79.700000000000003,"Volume":2322637,"Date":"20200305080000000"},{"DT":"2020-03-07T02:00:00Z","Open":77.950000000000003,"Close":78.560000000000002,"High":78.900000000000006,"Low":76.495000000000005,"Volume":2959913,"Date":"20200306080000000"},{"DT":"2020-03-10T01:00:00Z","Open":72.590000000000003,"Close":70.75,"High":74.189999999999998,"Low":70.170000000000002,"Volume":4598185,"Date":"20200309080000000"},{"DT":"2020-03-11T01:00:00Z","Open":73.049999999999997,"Close":72.909999999999997,"High":73.620000000000005,"Low":69.659999999999997,"Volume":3537258,"Date":"20200310080000000"},{"DT":"2020-03-12T01:00:00Z","Open":70.760000000000005,"Close":68.840000000000003,"High":71.730000000000004,"Low":67.564999999999998,"Volume":4985886,"Date":"20200311080000000"},{"DT":"2020-03-13T01:00:00Z","Open":64,"Close":63.420000000000002,"High":67.140000000000001,"Low":62.155000000000001,"Volume":5054974,"Date":"20200312080000000"},{"DT":"2020-03-14T01:00:00Z","Open":66.530000000000001,"Close":69.200000000000003,"High":69.510000000000005,"Low":63.75,"Volume":3261168,"Date":"20200313080000000"},{"DT":"2020-03-17T01:00:00Z","Open":63.409999999999997,"Close":64.129999999999995,"High":66.620000000000005,"Low":61.130000000000003,"Volume":4742810,"Date":"20200316080000000"},{"DT":"2020-03-18T01:00:00Z","Open":66.019999999999996,"Close":70.439999999999998,"High":70.530000000000001,"Low":63.939999999999998,"Volume":3341896,"Date":"20200317080000000"},{"DT":"2020-03-19T01:00:00Z","Open":65.189999999999998,"Close":68.870000000000005,"High":69.879999999999995,"Low":65.180000000000007,"Volume":4123865,"Date":"20200318080000000"},{"DT":"2020-03-20T01:00:00Z","Open":68.540000000000006,"Close":65.760000000000005,"High":68.590000000000003,"Low":64.170000000000002,"Volume":3430844,"Date":"20200319080000000"},{"DT":"2020-03-21T01:00:00Z","Open":65.989999999999995,"Close":66.459999999999994,"High":71,"Low":64.959999999999994,"Volume":3258446,"Date":"20200320080000000"},{"DT":"2020-03-24T01:00:00Z","Open":66.799999999999997,"Close":63.369999999999997,"High":67.559899999999999,"Low":62.090000000000003,"Volume":2989765,"Date":"20200323080000000"},{"DT":"2020-03-25T01:00:00Z","Open":65.530000000000001,"Close":67,"High":68.183999999999998,"Low":64.599999999999994,"Volume":2868917,"Date":"20200324080000000"},{"DT":"2020-03-26T01:00:00Z","Open":67.120000000000005,"Close":69,"High":71.790000000000006,"Low":65.109999999999999,"Volume":2628144,"Date":"20200325080000000"},{"DT":"2020-03-27T01:00:00Z","Open":70,"Close":73.719999999999999,"High":74.4465,"Low":69.650000000000006,"Volume":3267458,"Date":"20200326080000000"},{"DT":"2020-03-28T01:00:00Z","Open":71.549999999999997,"Close":70.909999999999997,"High":73.209999999999994,"Low":70.280000000000001,"Volume":1829770,"Date":"20200327080000000"},{"DT":"2020-03-31T01:00:00Z","Open":71.060000000000002,"Close":72.670000000000002,"High":73.180000000000007,"Low":71.060000000000002,"Volume":1486203,"Date":"20200330080000000"},{"DT":"2020-04-01T01:00:00Z","Open":72.340000000000003,"Close":71.620000000000005,"High":72.799999999999997,"Low":70.5,"Volume":1822122,"Date":"20200331080000000"},{"DT":"2020-04-02T01:00:00Z","Open":69.469999999999999,"Close":68.920000000000002,"High":70.230000000000004,"Low":68.150000000000006,"Volume":2173595,"Date":"20200401080000000"},{"DT":"2020-04-03T01:00:00Z","Open":68.269999999999996,"Close":72.290000000000006,"High":72.450000000000003,"Low":68.140000000000001,"Volume":1840311,"Date":"20200402080000000"},{"DT":"2020-04-04T01:00:00Z","Open":71.709999999999994,"Close":70.420000000000002,"High":72.325000000000003,"Low":69.659999999999997,"Volume":2052649,"Date":"20200403080000000"},{"DT":"2020-04-07T01:00:00Z","Open":72.969999999999999,"Close":74.359999999999999,"High":74.989999999999995,"Low":72.245000000000005,"Volume":2312033,"Date":"20200406080000000"},{"DT":"2020-04-08T01:00:00Z","Open":76.609999999999999,"Close":74.030000000000001,"High":77.560000000000002,"Low":74.019999999999996,"Volume":2458009,"Date":"20200407080000000"},{"DT":"2020-04-09T01:00:00Z","Open":74.170000000000002,"Close":76.689999999999998,"High":77.170000000000002,"Low":72.75,"Volume":2702975,"Date":"20200408080000000"},{"DT":"2020-04-10T01:00:00Z","Open":76.430000000000007,"Close":78.329999999999998,"High":78.719999999999999,"Low":76.226799999999997,"Volume":2399963,"Date":"20200409080000000"},{"DT":"2020-04-14T01:00:00Z","Open":77.439999999999998,"Close":76.209999999999994,"High":77.989999999999995,"Low":75.019999999999996,"Volume":1533378,"Date":"20200413080000000"},{"DT":"2020-04-15T01:00:00Z","Open":77.299999999999997,"Close":78.829999999999998,"High":79.200000000000003,"Low":77.239999999999995,"Volume":2650262,"Date":"20200414080000000"},{"DT":"2020-04-16T01:00:00Z","Open":77.439999999999998,"Close":77.049999999999997,"High":78.390000000000001,"Low":77,"Volume":2721179,"Date":"20200415080000000"},{"DT":"2020-04-17T01:00:00Z","Open":78.060000000000002,"Close":78.75,"High":78.920000000000002,"Low":76.469999999999999,"Volume":1969280,"Date":"20200416080000000"},{"DT":"2020-04-18T01:00:00Z","Open":80.090000000000003,"Close":79.549999999999997,"High":80.349999999999994,"Low":78.310000000000002,"Volume":1313443,"Date":"20200417080000000"},{"DT":"2020-04-21T01:00:00Z","Open":79.049999999999997,"Close":77.370000000000005,"High":79.049999999999997,"Low":76.980000000000004,"Volume":1679446,"Date":"20200420080000000"},{"DT":"2020-04-22T01:00:00Z","Open":75.760000000000005,"Close":73.75,"High":75.799999999999997,"Low":73.709999999999994,"Volume":2848142,"Date":"20200421080000000"},{"DT":"2020-04-23T01:00:00Z","Open":74.75,"Close":75.170000000000002,"High":75.579999999999998,"Low":73.780000000000001,"Volume":2347360,"Date":"20200422080000000"},{"DT":"2020-04-24T01:00:00Z","Open":76.599999999999994,"Close":75.090000000000003,"High":77.489999999999995,"Low":75.049999999999997,"Volume":2097828,"Date":"20200423080000000"},{"DT":"2020-04-25T01:00:00Z","Open":75.620000000000005,"Close":75.75,"High":75.909999999999997,"Low":74.019999999999996,"Volume":1654283,"Date":"20200424080000000"},{"DT":"2020-04-28T01:00:00Z","Open":76.349999999999994,"Close":76.25,"High":76.620000000000005,"Low":75.840000000000003,"Volume":1295830,"Date":"20200427080000000"},{"DT":"2020-04-29T01:00:00Z","Open":77,"Close":75.450000000000003,"High":77,"Low":75.340000000000003,"Volume":1855939,"Date":"20200428080000000"},{"DT":"2020-04-30T01:00:00Z","Open":76.299999999999997,"Close":78.719999999999999,"High":79.379999999999995,"Low":76.140000000000001,"Volume":2409376,"Date":"20200429080000000"},{"DT":"2020-05-01T01:00:00Z","Open":77.959999999999994,"Close":76.659999999999997,"High":78.439999999999998,"Low":75.989999999999995,"Volume":1795164,"Date":"20200430080000000"},{"DT":"2020-05-02T01:00:00Z","Open":75.549999999999997,"Close":74.209999999999994,"High":76.094999999999999,"Low":73.569999999999993,"Volume":1618596,"Date":"20200501080000000"},{"DT":"2020-05-05T01:00:00Z","Open":74.280000000000001,"Close":74.560000000000002,"High":74.620000000000005,"Low":73.420000000000002,"Volume":1555396,"Date":"20200504080000000"},{"DT":"2020-05-06T01:00:00Z","Open":74.909999999999997,"Close":76.370000000000005,"High":77.579999999999998,"Low":74.829999999999998,"Volume":1476069,"Date":"20200505080000000"},{"DT":"2020-05-07T01:00:00Z","Open":76.689999999999998,"Close":77.870000000000005,"High":78.825000000000003,"Low":76.650000000000006,"Volume":2303584,"Date":"20200506080000000"},{"DT":"2020-05-08T01:00:00Z","Open":78.769999999999996,"Close":78.5,"High":79.329999999999998,"Low":77.540000000000006,"Volume":1190564,"Date":"20200507080000000"},{"DT":"2020-05-09T01:00:00Z","Open":79.670000000000002,"Close":79.709999999999994,"High":80.329999999999998,"Low":79.189999999999998,"Volume":2255008,"Date":"20200508080000000"},{"DT":"2020-05-12T01:00:00Z","Open":79.599999999999994,"Close":81.269999999999996,"High":81.989999999999995,"Low":79.5,"Volume":1691588,"Date":"20200511080000000"},{"DT":"2020-05-13T01:00:00Z","Open":81.579999999999998,"Close":79.849999999999994,"High":82.299999999999997,"Low":79.780000000000001,"Volume":2278944,"Date":"20200512080000000"},{"DT":"2020-05-14T01:00:00Z","Open":80.379999999999995,"Close":80.159999999999997,"High":81.930000000000007,"Low":79.030000000000001,"Volume":2664855,"Date":"20200513080000000"},{"DT":"2020-05-15T01:00:00Z","Open":79.290000000000006,"Close":81.640000000000001,"High":81.659999999999997,"Low":78.719999999999999,"Volume":2285942,"Date":"20200514080000000"},{"DT":"2020-05-16T01:00:00Z","Open":81.510000000000005,"Close":81.590000000000003,"High":82.829999999999998,"Low":81.219999999999999,"Volume":4529629,"Date":"20200515080000000"},{"DT":"2020-05-19T01:00:00Z","Open":83.239999999999995,"Close":83.659999999999997,"High":84.389899999999997,"Low":82.290000000000006,"Volume":2075974,"Date":"20200518080000000"},{"DT":"2020-05-20T01:00:00Z","Open":83.230000000000004,"Close":81.969999999999999,"High":83.540000000000006,"Low":81.890000000000001,"Volume":2087591,"Date":"20200519080000000"},{"DT":"2020-05-21T01:00:00Z","Open":82.980000000000004,"Close":81.709999999999994,"High":82.980000000000004,"Low":81.474999999999994,"Volume":2748256,"Date":"20200520080000000"},{"DT":"2020-05-22T01:00:00Z","Open":81.719999999999999,"Close":80.75,"High":82.189999999999998,"Low":80.459999999999994,"Volume":2576482,"Date":"20200521080000000"},{"DT":"2020-05-23T01:00:00Z","Open":85,"Close":84.980000000000004,"High":87.670000000000002,"Low":84.200000000000003,"Volume":5063406,"Date":"20200522080000000"},{"DT":"2020-05-27T01:00:00Z","Open":86.230000000000004,"Close":86.129999999999995,"High":86.790000000000006,"Low":85.640000000000001,"Volume":3173416,"Date":"20200526080000000"},{"DT":"2020-05-28T01:00:00Z","Open":86.299999999999997,"Close":86.180000000000007,"High":86.480000000000004,"Low":84.370000000000005,"Volume":1917594,"Date":"20200527080000000"},{"DT":"2020-05-29T01:00:00Z","Open":86.870000000000005,"Close":86.689999999999998,"High":87.849999999999994,"Low":86.060000000000002,"Volume":1908676,"Date":"20200528080000000"},{"DT":"2020-05-30T01:00:00Z","Open":87.170000000000002,"Close":88.140000000000001,"High":88.489999999999995,"Low":86.465000000000003,"Volume":2394576,"Date":"20200529080000000"},{"DT":"2020-06-02T01:00:00Z","Open":88.040000000000006,"Close":89.909999999999997,"High":89.980000000000004,"Low":87.939999999999998,"Volume":2482239,"Date":"20200601080000000"},{"DT":"2020-06-03T01:00:00Z","Open":90,"Close":90.290000000000006,"High":90.629999999999995,"Low":89.109999999999999,"Volume":1682945,"Date":"20200602080000000"},{"DT":"2020-06-04T01:00:00Z","Open":90.650000000000006,"Close":90.489999999999995,"High":91.140000000000001,"Low":90.260000000000005,"Volume":1382690,"Date":"20200603080000000"},{"DT":"2020-06-05T01:00:00Z","Open":89.819999999999993,"Close":91.140000000000001,"High":91.739999999999995,"Low":89.814999999999998,"Volume":2227462,"Date":"20200604080000000"},{"DT":"2020-06-06T01:00:00Z","Open":92.129999999999995,"Close":90.379999999999995,"High":93.040000000000006,"Low":90.090000000000003,"Volume":2844690,"Date":"20200605080000000"},{"DT":"2020-06-09T01:00:00Z","Open":89.310000000000002,"Close":90.290000000000006,"High":90.588999999999999,"Low":89.060000000000002,"Volume":1804747,"Date":"20200608080000000"},{"DT":"2020-06-10T01:00:00Z","Open":90.090000000000003,"Close":89.769999999999996,"High":90.510000000000005,"Low":89.319999999999993,"Volume":1817258,"Date":"20200609080000000"},{"DT":"2020-06-11T01:00:00Z","Open":90.319999999999993,"Close":89.810000000000002,"High":90.579999999999998,"Low":89.459999999999994,"Volume":1410326,"Date":"20200610080000000"},{"DT":"2020-06-12T01:00:00Z","Open":88.629999999999995,"Close":85.030000000000001,"High":88.629999999999995,"Low":85.019999999999996,"Volume":2491313,"Date":"20200611080000000"},{"DT":"2020-06-13T01:00:00Z","Open":86.829999999999998,"Close":86.109999999999999,"High":87.299999999999997,"Low":83.989999999999995,"Volume":1520001,"Date":"20200612080000000"},{"DT":"2020-06-16T01:00:00Z","Open":84.400000000000006,"Close":86.959999999999994,"High":87.280000000000001,"Low":83.709999999999994,"Volume":1551405,"Date":"20200615080000000"},{"DT":"2020-06-17T01:00:00Z","Open":88.879999999999995,"Close":87.439999999999998,"High":89.234999999999999,"Low":86.510000000000005,"Volume":1049239,"Date":"20200616080000000"},{"DT":"2020-06-18T01:00:00Z","Open":87.849999999999994,"Close":87.920000000000002,"High":88.75,"Low":87.459999999999994,"Volume":900794,"Date":"20200617080000000"},{"DT":"2020-06-19T01:00:00Z","Open":87.430000000000007,"Close":88.209999999999994,"High":88.5,"Low":87.260000000000005,"Volume":1491515,"Date":"20200618080000000"},{"DT":"2020-06-20T01:00:00Z","Open":89.409999999999997,"Close":88.730000000000004,"High":89.790000000000006,"Low":87.760000000000005,"Volume":1784741,"Date":"20200619080000000"},{"DT":"2020-06-23T01:00:00Z","Open":88.640000000000001,"Close":88.530000000000001,"High":89.069999999999993,"Low":87.767499999999998,"Volume":1245512,"Date":"20200622080000000"},{"DT":"2020-06-24T01:00:00Z","Open":89.189999999999998,"Close":89.280000000000001,"High":89.700000000000003,"Low":88.659999999999997,"Volume":1160309,"Date":"20200623080000000"},{"DT":"2020-06-25T01:00:00Z","Open":89.079999999999998,"Close":86.560000000000002,"High":89.079999999999998,"Low":86.319999999999993,"Volume":1806600,"Date":"20200624080000000"},{"DT":"2020-06-26T01:00:00Z","Open":86.430000000000007,"Close":87.260000000000005,"High":87.349999999999994,"Low":84.799999999999997,"Volume":1350229,"Date":"20200625080000000"},{"DT":"2020-06-27T01:00:00Z","Open":87.230000000000004,"Close":85.900000000000006,"High":87.560000000000002,"Low":85.519999999999996,"Volume":2225790,"Date":"20200626080000000"},{"DT":"2020-06-30T01:00:00Z","Open":86.560000000000002,"Close":87.290000000000006,"High":87.359999999999999,"Low":86.109999999999999,"Volume":1302474,"Date":"20200629080000000"},{"DT":"2020-07-01T01:00:00Z","Open":87.329999999999998,"Close":88.370000000000005,"High":88.879999999999995,"Low":87.234999999999999,"Volume":1920184,"Date":"20200630080000000"},{"DT":"2020-07-02T01:00:00Z","Open":88.890000000000001,"Close":88.109999999999999,"High":88.890000000000001,"Low":87.299999999999997,"Volume":1136989,"Date":"20200701080000000"},{"DT":"2020-07-03T01:00:00Z","Open":88.829999999999998,"Close":88.680000000000007,"High":89.489999999999995,"Low":88.549999999999997,"Volume":1507700,"Date":"20200702080000000"},{"DT":"2020-07-07T01:00:00Z","Open":89.019999999999996,"Close":89.310000000000002,"High":90.640000000000001,"Low":89.019999999999996,"Volume":1412249,"Date":"20200706080000000"},{"DT":"2020-07-08T01:00:00Z","Open":88.840000000000003,"Close":89.209999999999994,"High":90.040000000000006,"Low":88.670400000000001,"Volume":1441704,"Date":"20200707080000000"},{"DT":"2020-07-09T01:00:00Z","Open":89.519999999999996,"Close":89.540000000000006,"High":90.329999999999998,"Low":89.129999999999995,"Volume":1069596,"Date":"20200708080000000"},{"DT":"2020-07-10T01:00:00Z","Open":89.650000000000006,"Close":89.920000000000002,"High":90.400000000000006,"Low":88.560000000000002,"Volume":1133845,"Date":"20200709080000000"},{"DT":"2020-07-11T01:00:00Z","Open":89.849999999999994,"Close":89.420000000000002,"High":89.870000000000005,"Low":88.569999999999993,"Volume":938092,"Date":"20200710080000000"},{"DT":"2020-07-14T01:00:00Z","Open":89.969999999999999,"Close":89.260000000000005,"High":91.239999999999995,"Low":88.650000000000006,"Volume":1646220,"Date":"20200713080000000"},{"DT":"2020-07-15T01:00:00Z","Open":88.829999999999998,"Close":90.689999999999998,"High":90.790000000000006,"Low":88.069999999999993,"Volume":1361240,"Date":"20200714080000000"},{"DT":"2020-07-16T01:00:00Z","Open":91.739999999999995,"Close":92.879999999999995,"High":93.060000000000002,"Low":91.079999999999998,"Volume":1897108,"Date":"20200715080000000"},{"DT":"2020-07-17T01:00:00Z","Open":92.980000000000004,"Close":92.859999999999999,"High":93.209999999999994,"Low":92.060000000000002,"Volume":1226388,"Date":"20200716080000000"},{"DT":"2020-07-18T01:00:00Z","Open":93.409999999999997,"Close":94.370000000000005,"High":94.510000000000005,"Low":92.689999999999998,"Volume":3463585,"Date":"20200717080000000"},{"DT":"2020-07-21T01:00:00Z","Open":94.909999999999997,"Close":95.209999999999994,"High":96.219999999999999,"Low":94.760000000000005,"Volume":1236926,"Date":"20200720080000000"},{"DT":"2020-07-22T01:00:00Z","Open":95.569999999999993,"Close":96.019999999999996,"High":96.450000000000003,"Low":95.159999999999997,"Volume":2169138,"Date":"20200721080000000"},{"DT":"2020-07-23T01:00:00Z","Open":96.359999999999999,"Close":96.349999999999994,"High":96.879999999999995,"Low":95.810000000000002,"Volume":1313240,"Date":"20200722080000000"},{"DT":"2020-07-24T01:00:00Z","Open":96.590000000000003,"Close":96.659999999999997,"High":98.090000000000003,"Low":96.314999999999998,"Volume":1386266,"Date":"20200723080000000"},{"DT":"2020-07-25T01:00:00Z","Open":95.980000000000004,"Close":94.810000000000002,"High":96.219999999999999,"Low":93.870000000000005,"Volume":1142915,"Date":"20200724080000000"},{"DT":"2020-07-28T01:00:00Z","Open":94.959999999999994,"Close":97.269999999999996,"High":97.540000000000006,"Low":94.900000000000006,"Volume":1177050,"Date":"20200727080000000"},{"DT":"2020-07-29T01:00:00Z","Open":96.980000000000004,"Close":95.299999999999997,"High":97.25,"Low":95.200000000000003,"Volume":1373722,"Date":"20200728080000000"},{"DT":"2020-07-30T01:00:00Z","Open":95.810000000000002,"Close":97.099999999999994,"High":97.659999999999997,"Low":95.519999999999996,"Volume":1125314,"Date":"20200729080000000"},{"DT":"2020-07-31T01:00:00Z","Open":96.120000000000005,"Close":95.930000000000007,"High":96.359999999999999,"Low":94.969999999999999,"Volume":1663364,"Date":"20200730080000000"},{"DT":"2020-08-01T01:00:00Z","Open":95.939999999999998,"Close":96.329999999999998,"High":96.409999999999997,"Low":94.724999999999994,"Volume":1551785,"Date":"20200731080000000"},{"DT":"2020-08-04T01:00:00Z","Open":96.939999999999998,"Close":99.090000000000003,"High":99.359999999999999,"Low":96.939999999999998,"Volume":1994325,"Date":"20200803080000000"},{"DT":"2020-08-05T01:00:00Z","Open":98.709999999999994,"Close":97.530000000000001,"High":98.984999999999999,"Low":96.890000000000001,"Volume":779236,"Date":"20200804080000000"},{"DT":"2020-08-06T01:00:00Z","Open":98.090000000000003,"Close":97.890000000000001,"High":98.829999999999998,"Low":97.700000000000003,"Volume":958344,"Date":"20200805080000000"},{"DT":"2020-08-07T01:00:00Z","Open":97.719999999999999,"Close":97.450000000000003,"High":98.25,"Low":95.810000000000002,"Volume":1075476,"Date":"20200806080000000"},{"DT":"2020-08-08T01:00:00Z","Open":97.069999999999993,"Close":97.780000000000001,"High":97.840000000000003,"Low":96.870000000000005,"Volume":897931,"Date":"20200807080000000"},{"DT":"2020-08-11T01:00:00Z","Open":97.840000000000003,"Close":97.140000000000001,"High":97.959999999999994,"Low":96.950000000000003,"Volume":900865,"Date":"20200810080000000"},{"DT":"2020-08-12T01:00:00Z","Open":97.219999999999999,"Close":96.299999999999997,"High":97.629999999999995,"Low":96.200000000000003,"Volume":1136985,"Date":"20200811080000000"},{"DT":"2020-08-13T01:00:00Z","Open":96.659999999999997,"Close":97.629999999999995,"High":98.280000000000001,"Low":96.519999999999996,"Volume":1318189,"Date":"20200812080000000"},{"DT":"2020-08-14T01:00:00Z","Open":97.549999999999997,"Close":98.769999999999996,"High":99.120000000000005,"Low":97.174999999999997,"Volume":1190775,"Date":"20200813080000000"},{"DT":"2020-08-15T01:00:00Z","Open":98.450000000000003,"Close":97.370000000000005,"High":98.829999999999998,"Low":96.900000000000006,"Volume":957365,"Date":"20200814080000000"},{"DT":"2020-08-18T01:00:00Z","Open":97.670000000000002,"Close":97.510000000000005,"High":98.680000000000007,"Low":97.090000000000003,"Volume":1989314,"Date":"20200817080000000"},{"DT":"2020-08-19T01:00:00Z","Open":97.709999999999994,"Close":97.859999999999999,"High":98.709999999999994,"Low":97.109999999999999,"Volume":2008663,"Date":"20200818080000000"},{"DT":"2020-08-20T01:00:00Z","Open":95.230000000000004,"Close":97.959999999999994,"High":99.402500000000003,"Low":94.525199999999998,"Volume":2830773,"Date":"20200819080000000"},{"DT":"2020-08-21T01:00:00Z","Open":97.390000000000001,"Close":97.780000000000001,"High":98.170000000000002,"Low":97.114999999999995,"Volume":1428345,"Date":"20200820080000000"},{"DT":"2020-08-22T01:00:00Z","Open":97.870000000000005,"Close":98.299999999999997,"High":98.319999999999993,"Low":97.269999999999996,"Volume":1269335,"Date":"20200821080000000"},{"DT":"2020-08-25T01:00:00Z","Open":98.780000000000001,"Close":97.599999999999994,"High":99.209999999999994,"Low":97.140000000000001,"Volume":1154546,"Date":"20200824080000000"},{"DT":"2020-08-26T01:00:00Z","Open":97.870000000000005,"Close":98.340000000000003,"High":98.659999999999997,"Low":97.560000000000002,"Volume":1061265,"Date":"20200825080000000"},{"DT":"2020-08-27T01:00:00Z","Open":98.180000000000007,"Close":99.329999999999998,"High":99.730000000000004,"Low":98.049999999999997,"Volume":1072297,"Date":"20200826080000000"},{"DT":"2020-08-28T01:00:00Z","Open":99.189999999999998,"Close":99.019999999999996,"High":99.659999999999997,"Low":97.560000000000002,"Volume":1236929,"Date":"20200827080000000"},{"DT":"2020-08-29T01:00:00Z","Open":99,"Close":99.900000000000006,"High":99.930000000000007,"Low":98.540000000000006,"Volume":866211,"Date":"20200828080000000"},{"DT":"2020-09-01T01:00:00Z","Open":99.900000000000006,"Close":100.42,"High":101.04000000000001,"Low":99.75,"Volume":1077021,"Date":"20200831080000000"},{"DT":"2020-09-02T01:00:00Z","Open":100.92,"Close":101.12000000000001,"High":101.29000000000001,"Low":100.25,"Volume":1159749,"Date":"20200901080000000"},{"DT":"2020-09-03T01:00:00Z","Open":101,"Close":103.42,"High":103.66,"Low":100.45999999999999,"Volume":1462471,"Date":"20200902080000000"},{"DT":"2020-09-04T01:00:00Z","Open":103.09,"Close":99.640000000000001,"High":103.205,"Low":99.040000000000006,"Volume":1992844,"Date":"20200903080000000"},{"DT":"2020-09-05T01:00:00Z","Open":100.06999999999999,"Close":96.840000000000003,"High":100.11,"Low":95.659999999999997,"Volume":1753874,"Date":"20200904080000000"},{"DT":"2020-09-09T01:00:00Z","Open":96.109999999999999,"Close":95.140000000000001,"High":96.469999999999999,"Low":94.760000000000005,"Volume":1225579,"Date":"20200908080000000"},{"DT":"2020-09-10T01:00:00Z","Open":96.099999999999994,"Close":97.930000000000007,"High":98.469999999999999,"Low":95.859999999999999,"Volume":954420,"Date":"20200909080000000"},{"DT":"2020-09-11T01:00:00Z","Open":98.879999999999995,"Close":98.569999999999993,"High":100.09999999999999,"Low":98.239999999999995,"Volume":1933185,"Date":"20200910080000000"},{"DT":"2020-09-12T01:00:00Z","Open":98.709999999999994,"Close":98.599999999999994,"High":99.620000000000005,"Low":98.019999999999996,"Volume":1368561,"Date":"20200911080000000"},{"DT":"2020-09-15T01:00:00Z","Open":99.730000000000004,"Close":99.420000000000002,"High":100.23,"Low":98.969999999999999,"Volume":1207651,"Date":"20200914080000000"},{"DT":"2020-09-16T01:00:00Z","Open":99.719999999999999,"Close":100.37000000000001,"High":101,"Low":99.719999999999999,"Volume":1053823,"Date":"20200915080000000"},{"DT":"2020-09-17T01:00:00Z","Open":101.23,"Close":99.920000000000002,"High":101.53,"Low":98.079999999999998,"Volume":1365682,"Date":"20200916080000000"},{"DT":"2020-09-18T01:00:00Z","Open":99.25,"Close":99.599999999999994,"High":100.455,"Low":98.579999999999998,"Volume":1246412,"Date":"20200917080000000"},{"DT":"2020-09-19T01:00:00Z","Open":99.140000000000001,"Close":99.379999999999995,"High":100.59,"Low":98.459999999999994,"Volume":2162445,"Date":"20200918080000000"},{"DT":"2020-09-22T01:00:00Z","Open":98.180000000000007,"Close":98.129999999999995,"High":98.560000000000002,"Low":96.5,"Volume":927860,"Date":"20200921080000000"},{"DT":"2020-09-23T01:00:00Z","Open":97.840000000000003,"Close":98.620000000000005,"High":98.974999999999994,"Low":97.489999999999995,"Volume":845849,"Date":"20200922080000000"},{"DT":"2020-09-24T01:00:00Z","Open":98.599999999999994,"Close":96.909999999999997,"High":98.909999999999997,"Low":96.569999999999993,"Volume":1148728,"Date":"20200923080000000"},{"DT":"2020-09-25T01:00:00Z","Open":96.569999999999993,"Close":96.340000000000003,"High":96.969999999999999,"Low":95.439999999999998,"Volume":1157571,"Date":"20200924080000000"},{"DT":"2020-09-26T01:00:00Z","Open":95.959999999999994,"Close":97.689999999999998,"High":98.135000000000005,"Low":95.769999999999996,"Volume":1028618,"Date":"20200925080000000"},{"DT":"2020-09-29T01:00:00Z","Open":98.640000000000001,"Close":99.510000000000005,"High":99.730000000000004,"Low":98.120000000000005,"Volume":1336568,"Date":"20200928080000000"},{"DT":"2020-09-30T01:00:00Z","Open":99.790000000000006,"Close":100.22,"High":101.33,"Low":99.590000000000003,"Volume":722378,"Date":"20200929080000000"},{"DT":"2020-10-01T01:00:00Z","Open":100.54000000000001,"Close":100.94,"High":101.89,"Low":100.31,"Volume":1362186,"Date":"20200930080000000"},{"DT":"2020-10-02T01:00:00Z","Open":101.77,"Close":101.22,"High":102.41,"Low":100.54000000000001,"Volume":723579,"Date":"20201001080000000"},{"DT":"2020-10-03T01:00:00Z","Open":100.20999999999999,"Close":100.01000000000001,"High":101.27500000000001,"Low":99.812700000000007,"Volume":712248,"Date":"20201002080000000"},{"DT":"2020-10-06T01:00:00Z","Open":100.99,"Close":103.12000000000001,"High":103.45999999999999,"Low":100.95999999999999,"Volume":803927,"Date":"20201005080000000"},{"DT":"2020-10-07T01:00:00Z","Open":103.12000000000001,"Close":101.63,"High":103.33,"Low":101.48,"Volume":1078014,"Date":"20201006080000000"},{"DT":"2020-10-08T01:00:00Z","Open":102.47,"Close":103.88,"High":104.75,"Low":102.42,"Volume":1322141,"Date":"20201007080000000"},{"DT":"2020-10-09T01:00:00Z","Open":104.2,"Close":104.16,"High":104.39,"Low":103.13,"Volume":765334,"Date":"20201008080000000"},{"DT":"2020-10-10T01:00:00Z","Open":104.83,"Close":105.76000000000001,"High":106.09999999999999,"Low":104.55,"Volume":708966,"Date":"20201009080000000"},{"DT":"2020-10-13T01:00:00Z","Open":106.45,"Close":105.43000000000001,"High":107,"Low":105.31999999999999,"Volume":1003703,"Date":"20201012080000000"},{"DT":"2020-10-14T01:00:00Z","Open":105.44,"Close":105.42,"High":106.005,"Low":104.95999999999999,"Volume":915482,"Date":"20201013080000000"},{"DT":"2020-10-15T01:00:00Z","Open":105.49,"Close":105.06,"High":106.67,"Low":104.92,"Volume":906705,"Date":"20201014080000000"},{"DT":"2020-10-16T01:00:00Z","Open":104.09999999999999,"Close":105.31999999999999,"High":105.72,"Low":103.88,"Volume":722985,"Date":"20201015080000000"},{"DT":"2020-10-17T01:00:00Z","Open":105.95,"Close":106.7,"High":107.54000000000001,"Low":105.70999999999999,"Volume":1039366,"Date":"20201016080000000"},{"DT":"2020-10-20T01:00:00Z","Open":106.78,"Close":105.49,"High":107.62000000000001,"Low":105.24,"Volume":635992,"Date":"20201019080000000"},{"DT":"2020-10-21T01:00:00Z","Open":105.89,"Close":105.61,"High":106.94,"Low":105.56,"Volume":770994,"Date":"20201020080000000"},{"DT":"2020-10-22T01:00:00Z","Open":105.92,"Close":104.83,"High":106.69,"Low":104.12000000000001,"Volume":893965,"Date":"20201021080000000"},{"DT":"2020-10-23T01:00:00Z","Open":105.31999999999999,"Close":106.77,"High":107.09,"Low":105.11,"Volume":1064683,"Date":"20201022080000000"},{"DT":"2020-10-24T01:00:00Z","Open":107.23,"Close":106.17,"High":107.38,"Low":105.47,"Volume":833937,"Date":"20201023080000000"},{"DT":"2020-10-27T01:00:00Z","Open":105.39,"Close":104.63,"High":105.81999999999999,"Low":103.75,"Volume":1101954,"Date":"20201026080000000"},{"DT":"2020-10-28T01:00:00Z","Open":105.11,"Close":106.04000000000001,"High":106.66,"Low":105.11,"Volume":1111491,"Date":"20201027080000000"},{"DT":"2020-10-29T01:00:00Z","Open":104.42,"Close":101.66,"High":105.37000000000001,"Low":101.58,"Volume":1180759,"Date":"20201028080000000"},{"DT":"2020-10-30T01:00:00Z","Open":102.27,"Close":102.02,"High":103.05500000000001,"Low":100.77,"Volume":1421852,"Date":"20201029080000000"},{"DT":"2020-10-31T01:00:00Z","Open":101.77,"Close":102.09,"High":102.34999999999999,"Low":100.65479999999999,"Volume":2310001,"Date":"20201030080000000"},{"DT":"2020-11-03T02:00:00Z","Open":103.52,"Close":105.24,"High":105.34999999999999,"Low":103.29000000000001,"Volume":1572506,"Date":"20201102080000000"},{"DT":"2020-11-04T02:00:00Z","Open":106.43000000000001,"Close":107.03,"High":108.11,"Low":106.14,"Volume":1175149,"Date":"20201103080000000"},{"DT":"2020-11-05T02:00:00Z","Open":108.06999999999999,"Close":108.49,"High":109.8,"Low":107.24,"Volume":1357382,"Date":"20201104080000000"},{"DT":"2020-11-06T02:00:00Z","Open":110.56999999999999,"Close":110.34,"High":111.93000000000001,"Low":109.67,"Volume":1143082,"Date":"20201105080000000"},{"DT":"2020-11-07T02:00:00Z","Open":110.76000000000001,"Close":112.54000000000001,"High":113.34999999999999,"Low":110.325,"Volume":1036556,"Date":"20201106080000000"},{"DT":"2020-11-10T02:00:00Z","Open":116.16,"Close":112.5,"High":117.5,"Low":112.39,"Volume":2178042,"Date":"20201109080000000"},{"DT":"2020-11-11T02:00:00Z","Open":112.81999999999999,"Close":110.2,"High":112.91,"Low":108.99,"Volume":2124829,"Date":"20201110080000000"},{"DT":"2020-11-12T02:00:00Z","Open":111.14,"Close":109.41,"High":111.79000000000001,"Low":108.84,"Volume":1792823,"Date":"20201111080000000"},{"DT":"2020-11-13T02:00:00Z","Open":109.40000000000001,"Close":109.44,"High":111.01000000000001,"Low":108.895,"Volume":1094278,"Date":"20201112080000000"},{"DT":"2020-11-14T02:00:00Z","Open":110.45999999999999,"Close":110.17,"High":111.54000000000001,"Low":109.78,"Volume":1356781,"Date":"20201113080000000"},{"DT":"2020-11-17T02:00:00Z","Open":111,"Close":110.27,"High":111.49,"Low":109.47,"Volume":1656148,"Date":"20201116080000000"},{"DT":"2020-11-18T02:00:00Z","Open":110.5,"Close":109.86,"High":110.77,"Low":109.24500000000001,"Volume":1571458,"Date":"20201117080000000"},{"DT":"2020-11-19T02:00:00Z","Open":109.55,"Close":105.95,"High":109.88,"Low":105.73,"Volume":2048056,"Date":"20201118080000000"},{"DT":"2020-11-20T02:00:00Z","Open":106.74,"Close":108.68000000000001,"High":108.95999999999999,"Low":105.19,"Volume":1886381,"Date":"20201119080000000"},{"DT":"2020-11-21T02:00:00Z","Open":108.64,"Close":110.89,"High":112.3,"Low":108.315,"Volume":2775652,"Date":"20201120080000000"},{"DT":"2020-11-24T02:00:00Z","Open":111.40000000000001,"Close":112.20999999999999,"High":112.42,"Low":109.56,"Volume":3258707,"Date":"20201123080000000"},{"DT":"2020-11-25T02:00:00Z","Open":118.95999999999999,"Close":114.68000000000001,"High":118.95999999999999,"Low":111.43000000000001,"Volume":5560074,"Date":"20201124080000000"},{"DT":"2020-11-26T02:00:00Z","Open":116.09,"Close":114.34999999999999,"High":116.95999999999999,"Low":113.41,"Volume":2862483,"Date":"20201125080000000"},{"DT":"2020-11-28T02:00:00Z","Open":113.77,"Close":114.09,"High":114.98,"Low":112.94,"Volume":983723,"Date":"20201127080000000"},{"DT":"2020-12-01T02:00:00Z","Open":113.89,"Close":116.90000000000001,"High":117.06999999999999,"Low":113.67,"Volume":3778434,"Date":"20201130080000000"},{"DT":"2020-12-02T02:00:00Z","Open":117.58,"Close":115.36,"High":118.38,"Low":115.03700000000001,"Volume":1753671,"Date":"20201201080000000"},{"DT":"2020-12-03T02:00:00Z","Open":115.63,"Close":114.56999999999999,"High":115.95,"Low":114.13,"Volume":1735789,"Date":"20201202080000000"},{"DT":"2020-12-04T02:00:00Z","Open":114.15000000000001,"Close":113.58,"High":115.4229,"Low":113.16,"Volume":1511353,"Date":"20201203080000000"},{"DT":"2020-12-05T02:00:00Z","Open":113.59999999999999,"Close":115.15000000000001,"High":115.24,"Low":113.45,"Volume":1118130,"Date":"20201204080000000"},{"DT":"2020-12-08T02:00:00Z","Open":115.2,"Close":114.40000000000001,"High":116.44,"Low":114.12000000000001,"Volume":2076739,"Date":"20201207080000000"},{"DT":"2020-12-09T02:00:00Z","Open":114.34,"Close":117.01000000000001,"High":117.34,"Low":114.33,"Volume":1320639,"Date":"20201208080000000"},{"DT":"2020-12-10T02:00:00Z","Open":116.38,"Close":116.40000000000001,"High":116.95999999999999,"Low":114.48,"Volume":1717610,"Date":"20201209080000000"},{"DT":"2020-12-11T02:00:00Z","Open":116.94,"Close":118.81,"High":119.90000000000001,"Low":116.33499999999999,"Volume":1630537,"Date":"20201210080000000"},{"DT":"2020-12-12T02:00:00Z","Open":118.67,"Close":118.48,"High":119.06,"Low":117.29000000000001,"Volume":1400768,"Date":"20201211080000000"},{"DT":"2020-12-15T02:00:00Z","Open":118.61,"Close":116.74,"High":120.24,"Low":116.74,"Volume":1395241,"Date":"20201214080000000"},{"DT":"2020-12-16T02:00:00Z","Open":117.3,"Close":117.39,"High":118.04000000000001,"Low":116.84999999999999,"Volume":1973780,"Date":"20201215080000000"},{"DT":"2020-12-17T02:00:00Z","Open":117.58,"Close":117.24,"High":117.74,"Low":116.40000000000001,"Volume":1698574,"Date":"20201216080000000"},{"DT":"2020-12-18T02:00:00Z","Open":118.05,"Close":118.97,"High":119.39,"Low":117.04000000000001,"Volume":2166714,"Date":"20201217080000000"},{"DT":"2020-12-19T02:00:00Z","Open":119.23,"Close":119.3,"High":119.86,"Low":118.44,"Volume":3911781,"Date":"20201218080000000"},{"DT":"2020-12-22T02:00:00Z","Open":117.7,"Close":117.78,"High":118.45,"Low":115.95999999999999,"Volume":2081968,"Date":"20201221080000000"},{"DT":"2020-12-23T02:00:00Z","Open":118,"Close":117.37000000000001,"High":118.43000000000001,"Low":116.84999999999999,"Volume":1670440,"Date":"20201222080000000"},{"DT":"2020-12-24T02:00:00Z","Open":118,"Close":117.3,"High":118.89,"Low":117.22,"Volume":1202061,"Date":"20201223080000000"},{"DT":"2020-12-25T02:00:00Z","Open":117.04000000000001,"Close":117.31,"High":118.37000000000001,"Low":116.84,"Volume":733587,"Date":"20201224080000000"},{"DT":"2020-12-29T02:00:00Z","Open":118.51000000000001,"Close":117.83,"High":118.78,"Low":116.67,"Volume":1003079,"Date":"20201228080000000"},{"DT":"2020-12-30T02:00:00Z","Open":118.56,"Close":117.23,"High":119.12000000000001,"Low":116.83,"Volume":1007399,"Date":"20201229080000000"},{"DT":"2020-12-31T02:00:00Z","Open":117.86,"Close":117.39,"High":118.90000000000001,"Low":117.33,"Volume":1127009,"Date":"20201230080000000"},{"DT":"2021-01-01T02:00:00Z","Open":117.59,"Close":118.49,"High":118.59999999999999,"Low":116.60380000000001,"Volume":1307192,"Date":"20201231080000000"},{"DT":"2021-01-05T02:00:00Z","Open":118.94,"Close":118.64,"High":120.09,"Low":117.11,"Volume":2030667,"Date":"20210104080000000"},{"DT":"2021-01-06T02:00:00Z","Open":118.48,"Close":119.61,"High":120.31999999999999,"Low":118.065,"Volume":2343967,"Date":"20210105080000000"},{"DT":"2021-01-07T02:00:00Z","Open":118.69,"Close":122.89,"High":123.88,"Low":118.20999999999999,"Volume":2428483,"Date":"20210106080000000"},{"DT":"2021-01-08T02:00:00Z","Open":124.33,"Close":126.16,"High":127.48,"Low":124.11,"Volume":1775882,"Date":"20210107080000000"},{"DT":"2021-01-09T02:00:00Z","Open":126.49,"Close":127.06,"High":127.6404,"Low":125.84999999999999,"Volume":1577237,"Date":"20210108080000000"},{"DT":"2021-01-12T02:00:00Z","Open":126.45,"Close":128.15000000000001,"High":129.34,"Low":126.23,"Volume":1746955,"Date":"20210111080000000"},{"DT":"2021-01-13T02:00:00Z","Open":128.33000000000001,"Close":126.97,"High":128.38499999999999,"Low":126.2,"Volume":1826382,"Date":"20210112080000000"},{"DT":"2021-01-14T02:00:00Z","Open":127.45999999999999,"Close":126.98,"High":128.05000000000001,"Low":126.74,"Volume":1530403,"Date":"20210113080000000"},{"DT":"2021-01-15T02:00:00Z","Open":127.27,"Close":126.03,"High":128.19,"Low":125.81999999999999,"Volume":924869,"Date":"20210114080000000"},{"DT":"2021-01-16T02:00:00Z","Open":125.94,"Close":126.20999999999999,"High":127.12000000000001,"Low":124.74,"Volume":2115363,"Date":"20210115080000000"},{"DT":"2021-01-20T02:00:00Z","Open":127.38,"Close":127.34999999999999,"High":127.795,"Low":126.29000000000001,"Volume":1677240,"Date":"20210119080000000"},{"DT":"2021-01-21T02:00:00Z","Open":127.70999999999999,"Close":128.11000000000001,"High":128.91999999999999,"Low":127.36,"Volume":1842980,"Date":"20210120080000000"},{"DT":"2021-01-22T02:00:00Z","Open":127.77,"Close":127,"High":128.78,"Low":126.41500000000001,"Volume":1612125,"Date":"20210121080000000"},{"DT":"2021-01-23T02:00:00Z","Open":127.08,"Close":126.33,"High":127.8,"Low":126.3,"Volume":1438728,"Date":"20210122080000000"},{"DT":"2021-01-26T02:00:00Z","Open":126.69,"Close":125.48,"High":127.48,"Low":124.43000000000001,"Volume":1365448,"Date":"20210125080000000"},{"DT":"2021-01-27T02:00:00Z","Open":125.5,"Close":123.92,"High":125.95,"Low":123.865,"Volume":1476631,"Date":"20210126080000000"},{"DT":"2021-01-28T02:00:00Z","Open":122.08,"Close":118.8,"High":123,"Low":118.11,"Volume":1923527,"Date":"20210127080000000"},{"DT":"2021-01-29T02:00:00Z","Open":119,"Close":121.56,"High":122.67,"Low":118.78,"Volume":1677877,"Date":"20210128080000000"},{"DT":"2021-01-30T02:00:00Z","Open":121.20999999999999,"Close":120.17,"High":121.685,"Low":119.28,"Volume":1821960,"Date":"20210129080000000"},{"DT":"2021-02-02T02:00:00Z","Open":120.69,"Close":120.83,"High":122.09,"Low":120.18000000000001,"Volume":1292732,"Date":"20210201080000000"},{"DT":"2021-02-03T02:00:00Z","Open":122.5,"Close":123.19,"High":125.84999999999999,"Low":122.41500000000001,"Volume":1489175,"Date":"20210202080000000"},{"DT":"2021-02-04T02:00:00Z","Open":123.5,"Close":122.15000000000001,"High":124.59999999999999,"Low":121.90000000000001,"Volume":1448494,"Date":"20210203080000000"},{"DT":"2021-02-05T02:00:00Z","Open":122.51000000000001,"Close":124.06999999999999,"High":124.34,"Low":121.59999999999999,"Volume":1251162,"Date":"20210204080000000"},{"DT":"2021-02-06T02:00:00Z","Open":124.51000000000001,"Close":123.18000000000001,"High":125.95999999999999,"Low":123.11,"Volume":1919710,"Date":"20210205080000000"},{"DT":"2021-02-09T02:00:00Z","Open":123.92,"Close":123.41,"High":125.74,"Low":122.56999999999999,"Volume":2065323,"Date":"20210208080000000"},{"DT":"2021-02-10T02:00:00Z","Open":123.41,"Close":123.24,"High":123.49,"Low":122.36,"Volume":1988260,"Date":"20210209080000000"},{"DT":"2021-02-11T02:00:00Z","Open":124.59,"Close":125.08,"High":125.74,"Low":123.88,"Volume":1112597,"Date":"20210210080000000"},{"DT":"2021-02-12T02:00:00Z","Open":125.7,"Close":126.95999999999999,"High":127.26000000000001,"Low":125.11,"Volume":1122166,"Date":"20210211080000000"},{"DT":"2021-02-13T02:00:00Z","Open":126.93000000000001,"Close":127.98,"High":128.59999999999999,"Low":126.31999999999999,"Volume":1277987,"Date":"20210212080000000"},{"DT":"2021-02-17T02:00:00Z","Open":129.31,"Close":127.95,"High":131.08000000000001,"Low":127.845,"Volume":2132498,"Date":"20210216080000000"},{"DT":"2021-02-18T02:00:00Z","Open":132.80000000000001,"Close":130.12000000000001,"High":136.97999999999999,"Low":129.59,"Volume":4215193,"Date":"20210217080000000"},{"DT":"2021-02-19T02:00:00Z","Open":129,"Close":127.68000000000001,"High":130.38999999999999,"Low":127.58,"Volume":1941522,"Date":"20210218080000000"},{"DT":"2021-02-20T02:00:00Z","Open":128.41,"Close":126.87000000000001,"High":128.89500000000001,"Low":126.49,"Volume":1264231,"Date":"20210219080000000"},{"DT":"2021-02-23T02:00:00Z","Open":125.95,"Close":123.5,"High":126.16,"Low":123.09,"Volume":1340080,"Date":"20210222080000000"},{"DT":"2021-02-24T02:00:00Z","Open":123.51000000000001,"Close":122.42,"High":123.51000000000001,"Low":120.41,"Volume":2125365,"Date":"20210223080000000"},{"DT":"2021-02-25T02:00:00Z","Open":122.26000000000001,"Close":125.02,"High":125.41,"Low":122.01000000000001,"Volume":1898362,"Date":"20210224080000000"},{"DT":"2021-02-26T02:00:00Z","Open":124.81,"Close":122.09999999999999,"High":125.25,"Low":121.93000000000001,"Volume":1431009,"Date":"20210225080000000"},{"DT":"2021-02-27T02:00:00Z","Open":122.93000000000001,"Close":122.06999999999999,"High":123.5094,"Low":120.645,"Volume":1909665,"Date":"20210226080000000"},{"DT":"2021-03-02T02:00:00Z","Open":123.05,"Close":124.48,"High":125.15000000000001,"Low":122.88,"Volume":1404367,"Date":"20210301080000000"},{"DT":"2021-03-03T02:00:00Z","Open":124.56999999999999,"Close":123.64,"High":125.89,"Low":123.17,"Volume":1267347,"Date":"20210302080000000"},{"DT":"2021-03-04T02:00:00Z","Open":122.78,"Close":119.3,"High":122.78,"Low":119.25,"Volume":1612442,"Date":"20210303080000000"},{"DT":"2021-03-05T02:00:00Z","Open":118.69,"Close":114.99,"High":118.83,"Low":113.34,"Volume":2725019,"Date":"20210304080000000"},{"DT":"2021-03-06T02:00:00Z","Open":115.88,"Close":116.14,"High":116.19,"Low":112.47,"Volume":2441519,"Date":"20210305080000000"},{"DT":"2021-03-09T02:00:00Z","Open":116.31,"Close":116.08,"High":118.955,"Low":115.27,"Volume":2766588,"Date":"20210308080000000"},{"DT":"2021-03-10T02:00:00Z","Open":117.87000000000001,"Close":119.84,"High":121.39,"Low":117.54000000000001,"Volume":2291212,"Date":"20210309080000000"},{"DT":"2021-03-11T02:00:00Z","Open":120.59,"Close":119.99,"High":122.20999999999999,"Low":119.685,"Volume":1934557,"Date":"20210310080000000"},{"DT":"2021-03-12T02:00:00Z","Open":121.42,"Close":121.83,"High":122.92,"Low":120.90000000000001,"Volume":1818696,"Date":"20210311080000000"},{"DT":"2021-03-13T02:00:00Z","Open":120.56999999999999,"Close":121.44,"High":122.03,"Low":119.28,"Volume":1368747,"Date":"20210312080000000"},{"DT":"2021-03-16T01:00:00Z","Open":120.92,"Close":124.04000000000001,"High":124.28,"Low":120.34,"Volume":1229988,"Date":"20210315080000000"},{"DT":"2021-03-17T01:00:00Z","Open":124.75,"Close":123,"High":125.30500000000001,"Low":122.45,"Volume":1345485,"Date":"20210316080000000"},{"DT":"2021-03-18T01:00:00Z","Open":122.34,"Close":122.52,"High":123.11,"Low":121.5,"Volume":1452950,"Date":"20210317080000000"},{"DT":"2021-03-19T01:00:00Z","Open":123.59999999999999,"Close":122.59,"High":123.94,"Low":122.13,"Volume":2067597,"Date":"20210318080000000"},{"DT":"2021-03-20T01:00:00Z","Open":122.87000000000001,"Close":122.69,"High":123.5,"Low":121.51000000000001,"Volume":2596984,"Date":"20210319080000000"},{"DT":"2021-03-23T01:00:00Z","Open":122.17,"Close":123.61,"High":123.83,"Low":121.72,"Volume":1772948,"Date":"20210322080000000"},{"DT":"2021-03-24T01:00:00Z","Open":123.15000000000001,"Close":121.98,"High":124.23,"Low":121.47,"Volume":1338263,"Date":"20210323080000000"},{"DT":"2021-03-25T01:00:00Z","Open":122.12000000000001,"Close":120.84,"High":122.95990000000001,"Low":120.74,"Volume":1477529,"Date":"20210324080000000"},{"DT":"2021-03-26T01:00:00Z","Open":120.86,"Close":121.90000000000001,"High":122.33,"Low":119.88,"Volume":967319,"Date":"20210325080000000"},{"DT":"2021-03-27T01:00:00Z","Open":122.54000000000001,"Close":125.64,"High":125.70999999999999,"Low":122.02500000000001,"Volume":1441949,"Date":"20210326080000000"},{"DT":"2021-03-30T01:00:00Z","Open":124.88,"Close":125.42,"High":125.81999999999999,"Low":123.74,"Volume":1539697,"Date":"20210329080000000"},{"DT":"2021-03-31T01:00:00Z","Open":124.61,"Close":124.84,"High":125.6999,"Low":124.405,"Volume":1033656,"Date":"20210330080000000"},{"DT":"2021-04-01T01:00:00Z","Open":125.95,"Close":127.14,"High":128.47499999999999,"Low":125.95,"Volume":1815532,"Date":"20210331080000000"},{"DT":"2021-04-02T01:00:00Z","Open":128,"Close":127.69,"High":128.30000000000001,"Low":127.005,"Volume":1126411,"Date":"20210401080000000"},{"DT":"2021-04-06T01:00:00Z","Open":129,"Close":130,"High":130.61000000000001,"Low":129,"Volume":1096348,"Date":"20210405080000000"},{"DT":"2021-04-07T01:00:00Z","Open":130.56999999999999,"Close":131.03999999999999,"High":131.86000000000001,"Low":129.87000000000001,"Volume":1623166,"Date":"20210406080000000"},{"DT":"2021-04-08T01:00:00Z","Open":130.25,"Close":129.34,"High":130.56999999999999,"Low":128.53,"Volume":954555,"Date":"20210407080000000"},{"DT":"2021-04-09T01:00:00Z","Open":130.25999999999999,"Close":130.69,"High":131.72999999999999,"Low":129.87350000000001,"Volume":925109,"Date":"20210408080000000"},{"DT":"2021-04-10T01:00:00Z","Open":131.46000000000001,"Close":131.91,"High":131.91999999999999,"Low":130.73429999999999,"Volume":1552194,"Date":"20210409080000000"},{"DT":"2021-04-13T01:00:00Z","Open":131.44,"Close":131.27000000000001,"High":132.18000000000001,"Low":130.84,"Volume":1166306,"Date":"20210412080000000"},{"DT":"2021-04-14T01:00:00Z","Open":131.59999999999999,"Close":132.97,"High":133.267,"Low":131.47,"Volume":1593774,"Date":"20210413080000000"},{"DT":"2021-04-15T01:00:00Z","Open":133.09999999999999,"Close":131.97,"High":133.22499999999999,"Low":130.96100000000001,"Volume":1499287,"Date":"20210414080000000"},{"DT":"2021-04-16T01:00:00Z","Open":132,"Close":133.28,"High":133.94,"Low":132,"Volume":2121336,"Date":"20210415080000000"},{"DT":"2021-04-17T01:00:00Z","Open":134.05000000000001,"Close":134.58000000000001,"High":134.63999999999999,"Low":133.16,"Volume":4495368,"Date":"20210416080000000"},{"DT":"2021-04-20T01:00:00Z","Open":134.38,"Close":133.5,"High":134.65000000000001,"Low":133.06999999999999,"Volume":1071635,"Date":"20210419080000000"},{"DT":"2021-04-21T01:00:00Z","Open":133,"Close":132.46000000000001,"High":133.55000000000001,"Low":131.815,"Volume":1261201,"Date":"20210420080000000"},{"DT":"2021-04-22T01:00:00Z","Open":132.88,"Close":133.83000000000001,"High":133.94999999999999,"Low":132.02000000000001,"Volume":1173906,"Date":"20210421080000000"},{"DT":"2021-04-23T01:00:00Z","Open":134.03,"Close":134.53,"High":135.45500000000001,"Low":133.83000000000001,"Volume":1732745,"Date":"20210422080000000"},{"DT":"2021-04-24T01:00:00Z","Open":134.56999999999999,"Close":136.68000000000001,"High":137.12000000000001,"Low":134.5,"Volume":1495158,"Date":"20210423080000000"},{"DT":"2021-04-27T01:00:00Z","Open":137.21000000000001,"Close":137.34,"High":137.8271,"Low":136.68000000000001,"Volume":1287368,"Date":"20210426080000000"},{"DT":"2021-04-28T01:00:00Z","Open":136.93000000000001,"Close":136.47999999999999,"High":137.44,"Low":136.22999999999999,"Volume":1752897,"Date":"20210427080000000"},{"DT":"2021-04-29T01:00:00Z","Open":136,"Close":134.80000000000001,"High":136.50999999999999,"Low":134.71000000000001,"Volume":1603915,"Date":"20210428080000000"},{"DT":"2021-04-30T01:00:00Z","Open":135.41,"Close":134.15000000000001,"High":135.41,"Low":133.53999999999999,"Volume":2135856,"Date":"20210429080000000"},{"DT":"2021-05-01T01:00:00Z","Open":133.90000000000001,"Close":133.63999999999999,"High":134.66,"Low":133.15000000000001,"Volume":1514162,"Date":"20210430080000000"},{"DT":"2021-05-04T01:00:00Z","Open":134.28999999999999,"Close":133.19,"High":134.3099,"Low":132.61000000000001,"Volume":1032021,"Date":"20210503080000000"},{"DT":"2021-05-05T01:00:00Z","Open":132.12000000000001,"Close":130.90000000000001,"High":132.50999999999999,"Low":130.34999999999999,"Volume":1752428,"Date":"20210504080000000"},{"DT":"2021-05-06T01:00:00Z","Open":132.09,"Close":133.37000000000001,"High":134.09,"Low":131.25,"Volume":1430560,"Date":"20210505080000000"},{"DT":"2021-05-07T01:00:00Z","Open":132.31,"Close":132.40000000000001,"High":132.59999999999999,"Low":130.77000000000001,"Volume":1150449,"Date":"20210506080000000"},{"DT":"2021-05-08T01:00:00Z","Open":133.19,"Close":133.90000000000001,"High":134.81999999999999,"Low":133.19,"Volume":1044301,"Date":"20210507080000000"},{"DT":"2021-05-11T01:00:00Z","Open":133.75999999999999,"Close":131.87000000000001,"High":133.93000000000001,"Low":131.75999999999999,"Volume":1034320,"Date":"20210510080000000"},{"DT":"2021-05-12T01:00:00Z","Open":130.27000000000001,"Close":131.41999999999999,"High":131.84,"Low":129.30000000000001,"Volume":1336638,"Date":"20210511080000000"},{"DT":"2021-05-13T01:00:00Z","Open":130.34,"Close":128.63999999999999,"High":131.16499999999999,"Low":128.47,"Volume":1256451,"Date":"20210512080000000"},{"DT":"2021-05-14T01:00:00Z","Open":129.61000000000001,"Close":130.02000000000001,"High":130.75999999999999,"Low":129.25999999999999,"Volume":805888,"Date":"20210513080000000"},{"DT":"2021-05-15T01:00:00Z","Open":130.47,"Close":131.15000000000001,"High":131.69,"Low":130.44999999999999,"Volume":775091,"Date":"20210514080000000"},{"DT":"2021-05-18T01:00:00Z","Open":130.84,"Close":130.11000000000001,"High":131.05000000000001,"Low":129.905,"Volume":886752,"Date":"20210517080000000"},{"DT":"2021-05-19T01:00:00Z","Open":129.94999999999999,"Close":128.75,"High":129.94999999999999,"Low":128.68000000000001,"Volume":1777626,"Date":"20210518080000000"},{"DT":"2021-05-20T01:00:00Z","Open":127.59999999999999,"Close":130.21000000000001,"High":130.28,"Low":127.13,"Volume":1119359,"Date":"20210519080000000"},{"DT":"2021-05-21T01:00:00Z","Open":130.61000000000001,"Close":132.15000000000001,"High":132.78999999999999,"Low":130.61000000000001,"Volume":1035108,"Date":"20210520080000000"},{"DT":"2021-05-22T01:00:00Z","Open":132.66999999999999,"Close":132.30000000000001,"High":134.13,"Low":132.22,"Volume":1445930,"Date":"20210521080000000"},{"DT":"2021-05-25T01:00:00Z","Open":133.50999999999999,"Close":133.34,"High":134.41,"Low":132.53,"Volume":1312632,"Date":"20210524080000000"},{"DT":"2021-05-26T01:00:00Z","Open":133.41,"Close":133.22999999999999,"High":134.80000000000001,"Low":133.00999999999999,"Volume":1890576,"Date":"20210525080000000"},{"DT":"2021-05-27T01:00:00Z","Open":136.30000000000001,"Close":133.28999999999999,"High":138,"Low":133.25049999999999,"Volume":2498437,"Date":"20210526080000000"},{"DT":"2021-05-28T01:00:00Z","Open":133.31999999999999,"Close":137.53999999999999,"High":138.13999999999999,"Low":133.16,"Volume":3699620,"Date":"20210527080000000"},{"DT":"2021-05-29T01:00:00Z","Open":138.59999999999999,"Close":138.13,"High":139.21000000000001,"Low":138.0001,"Volume":1264413,"Date":"20210528080000000"},{"DT":"2021-06-02T01:00:00Z","Open":139.16999999999999,"Close":137.19999999999999,"High":140.31999999999999,"Low":135.56999999999999,"Volume":2015768,"Date":"20210601080000000"},{"DT":"2021-06-03T01:00:00Z","Open":137.12000000000001,"Close":136.56999999999999,"High":138.22,"Low":135.88,"Volume":1395730,"Date":"20210602080000000"},{"DT":"2021-06-04T01:00:00Z","Open":136,"Close":136.37000000000001,"High":136.91,"Low":135.74000000000001,"Volume":1228739,"Date":"20210603080000000"},{"DT":"2021-06-05T01:00:00Z","Open":137.69999999999999,"Close":137.90000000000001,"High":138.40899999999999,"Low":137.38499999999999,"Volume":1069659,"Date":"20210604080000000"},{"DT":"2021-06-08T01:00:00Z","Open":138.09,"Close":137.65000000000001,"High":138.58000000000001,"Low":137.37010000000001,"Volume":935962,"Date":"20210607080000000"},{"DT":"2021-06-09T01:00:00Z","Open":138.59999999999999,"Close":138.75,"High":138.91999999999999,"Low":137.56999999999999,"Volume":1143859,"Date":"20210608080000000"},{"DT":"2021-06-10T01:00:00Z","Open":139.13,"Close":140.13,"High":140.37000000000001,"Low":138.87000000000001,"Volume":961367,"Date":"20210609080000000"},{"DT":"2021-06-11T01:00:00Z","Open":140.31999999999999,"Close":143.06,"High":143.34999999999999,"Low":140.00999999999999,"Volume":1462432,"Date":"20210610080000000"},{"DT":"2021-06-12T01:00:00Z","Open":143.36000000000001,"Close":143.53,"High":143.59999999999999,"Low":141.90000000000001,"Volume":995129,"Date":"20210611080000000"},{"DT":"2021-06-15T01:00:00Z","Open":143.5,"Close":144.38999999999999,"High":144.43000000000001,"Low":142.75999999999999,"Volume":934184,"Date":"20210614080000000"},{"DT":"2021-06-16T01:00:00Z","Open":144.84999999999999,"Close":144.62000000000001,"High":145.16,"Low":144.03999999999999,"Volume":1035800,"Date":"20210615080000000"},{"DT":"2021-06-17T01:00:00Z","Open":144.66,"Close":143.59,"High":145.08000000000001,"Low":142.91999999999999,"Volume":1680754,"Date":"20210616080000000"},{"DT":"2021-06-18T01:00:00Z","Open":143.49000000000001,"Close":146.91999999999999,"High":147.68000000000001,"Low":143.49000000000001,"Volume":2822452,"Date":"20210617080000000"},{"DT":"2021-06-19T01:00:00Z","Open":146.31,"Close":145.00999999999999,"High":146.83000000000001,"Low":144.94,"Volume":3220680,"Date":"20210618080000000"},{"DT":"2021-06-22T01:00:00Z","Open":145.41999999999999,"Close":146.41,"High":146.69,"Low":143.73339999999999,"Volume":1266066,"Date":"20210621080000000"},{"DT":"2021-06-23T01:00:00Z","Open":146.37000000000001,"Close":146.63,"High":147.68000000000001,"Low":145.83000000000001,"Volume":1366205,"Date":"20210622080000000"},{"DT":"2021-06-24T01:00:00Z","Open":146.72,"Close":147.24000000000001,"High":148.06,"Low":146.4263,"Volume":1455656,"Date":"20210623080000000"},{"DT":"2021-06-25T01:00:00Z","Open":147.91999999999999,"Close":146.66999999999999,"High":148.33000000000001,"Low":146.56999999999999,"Volume":1426785,"Date":"20210624080000000"},{"DT":"2021-06-26T01:00:00Z","Open":147.00999999999999,"Close":147.28,"High":147.75999999999999,"Low":146.21000000000001,"Volume":8445127,"Date":"20210625080000000"},{"DT":"2021-06-29T01:00:00Z","Open":147.63,"Close":147.93000000000001,"High":148.03999999999999,"Low":146.43000000000001,"Volume":1645037,"Date":"20210628080000000"},{"DT":"2021-06-30T01:00:00Z","Open":147.56999999999999,"Close":148.81,"High":148.84219999999999,"Low":147.52500000000001,"Volume":816711,"Date":"20210629080000000"},{"DT":"2021-07-01T01:00:00Z","Open":148.68000000000001,"Close":147.81,"High":148.7799,"Low":146.66,"Volume":1259303,"Date":"20210630080000000"},{"DT":"2021-07-02T01:00:00Z","Open":147.77000000000001,"Close":147.78999999999999,"High":148.36500000000001,"Low":147.01499999999999,"Volume":1426535,"Date":"20210701080000000"},{"DT":"2021-07-03T01:00:00Z","Open":148.11000000000001,"Close":148.81999999999999,"High":148.88999999999999,"Low":147.25,"Volume":1400683,"Date":"20210702080000000"},{"DT":"2021-07-07T01:00:00Z","Open":149.22999999999999,"Close":148.97999999999999,"High":149.22999999999999,"Low":148.47999999999999,"Volume":1973342,"Date":"20210706080000000"},{"DT":"2021-07-08T01:00:00Z","Open":149.59,"Close":149.49000000000001,"High":149.62000000000001,"Low":148.09,"Volume":2286351,"Date":"20210707080000000"},{"DT":"2021-07-09T01:00:00Z","Open":148.06999999999999,"Close":148.83000000000001,"High":148.96000000000001,"Low":147.28,"Volume":1891736,"Date":"20210708080000000"},{"DT":"2021-07-10T01:00:00Z","Open":149.49000000000001,"Close":150.03,"High":150.22999999999999,"Low":148.91999999999999,"Volume":1596790,"Date":"20210709080000000"},{"DT":"2021-07-13T01:00:00Z","Open":150.65000000000001,"Close":149.50999999999999,"High":151,"Low":149.16999999999999,"Volume":1480456,"Date":"20210712080000000"},{"DT":"2021-07-14T01:00:00Z","Open":149.11000000000001,"Close":149.27000000000001,"High":149.53999999999999,"Low":148.19,"Volume":1456502,"Date":"20210713080000000"},{"DT":"2021-07-15T01:00:00Z","Open":149.86000000000001,"Close":148.63,"High":149.87000000000001,"Low":148.46000000000001,"Volume":1218451,"Date":"20210714080000000"},{"DT":"2021-07-16T01:00:00Z","Open":148.34,"Close":148.96000000000001,"High":149.31,"Low":147.84,"Volume":1733572,"Date":"20210715080000000"},{"DT":"2021-07-17T01:00:00Z","Open":149.33000000000001,"Close":148.93000000000001,"High":149.815,"Low":148.27000000000001,"Volume":2169757,"Date":"20210716080000000"},{"DT":"2021-07-20T01:00:00Z","Open":147.66,"Close":147.58000000000001,"High":147.97,"Low":146.94999999999999,"Volume":1835098,"Date":"20210719080000000"},{"DT":"2021-07-21T01:00:00Z","Open":148.44999999999999,"Close":149.30000000000001,"High":151.25,"Low":147.83000000000001,"Volume":2245988,"Date":"20210720080000000"},{"DT":"2021-07-22T01:00:00Z","Open":149.49000000000001,"Close":148.94999999999999,"High":149.91,"Low":147.59999999999999,"Volume":2255711,"Date":"20210721080000000"},{"DT":"2021-07-23T01:00:00Z","Open":149.71000000000001,"Close":150.30000000000001,"High":150.5,"Low":148.66999999999999,"Volume":1972884,"Date":"20210722080000000"},{"DT":"2021-07-24T01:00:00Z","Open":150.59,"Close":152.31,"High":152.41,"Low":150.43000000000001,"Volume":2132038,"Date":"20210723080000000"},{"DT":"2021-07-27T01:00:00Z","Open":151.72999999999999,"Close":150.25,"High":152.16999999999999,"Low":149.77000000000001,"Volume":1767670,"Date":"20210726080000000"},{"DT":"2021-07-28T01:00:00Z","Open":149.28999999999999,"Close":149.94999999999999,"High":150,"Low":148.86000000000001,"Volume":2085729,"Date":"20210727080000000"},{"DT":"2021-07-29T01:00:00Z","Open":150,"Close":151.46000000000001,"High":151.97,"Low":149.5,"Volume":2179785,"Date":"20210728080000000"},{"DT":"2021-07-30T01:00:00Z","Open":151.99000000000001,"Close":152.66999999999999,"High":153.46000000000001,"Low":151.41999999999999,"Volume":1527271,"Date":"20210729080000000"},{"DT":"2021-07-31T01:00:00Z","Open":152.52000000000001,"Close":153.22999999999999,"High":153.59999999999999,"Low":152.02000000000001,"Volume":2310071,"Date":"20210730080000000"},{"DT":"2021-08-03T01:00:00Z","Open":154.05000000000001,"Close":153.06999999999999,"High":154.30000000000001,"Low":152.52000000000001,"Volume":1438321,"Date":"20210802080000000"},{"DT":"2021-08-04T01:00:00Z","Open":153.71000000000001,"Close":153.86000000000001,"High":153.97,"Low":152.75749999999999,"Volume":1859655,"Date":"20210803080000000"},{"DT":"2021-08-05T01:00:00Z","Open":153.96000000000001,"Close":154.27000000000001,"High":154.71000000000001,"Low":153.49000000000001,"Volume":1786735,"Date":"20210804080000000"},{"DT":"2021-08-06T01:00:00Z","Open":154.46000000000001,"Close":155.03999999999999,"High":155.16,"Low":153.34,"Volume":1667633,"Date":"20210805080000000"},{"DT":"2021-08-07T01:00:00Z","Open":154.75999999999999,"Close":155.69999999999999,"High":155.88999999999999,"Low":154.47,"Volume":1209255,"Date":"20210806080000000"},{"DT":"2021-08-10T01:00:00Z","Open":156.08000000000001,"Close":156.53999999999999,"High":156.80000000000001,"Low":155.00999999999999,"Volume":982915,"Date":"20210809080000000"},{"DT":"2021-08-11T01:00:00Z","Open":156.91999999999999,"Close":156.52000000000001,"High":157.60499999999999,"Low":155.90000000000001,"Volume":1575880,"Date":"20210810080000000"},{"DT":"2021-08-12T01:00:00Z","Open":156.69,"Close":156.52000000000001,"High":156.99000000000001,"Low":155.84999999999999,"Volume":1402559,"Date":"20210811080000000"},{"DT":"2021-08-13T01:00:00Z","Open":156.50999999999999,"Close":158.15000000000001,"High":158.52000000000001,"Low":156.12000000000001,"Volume":1376083,"Date":"20210812080000000"},{"DT":"2021-08-14T01:00:00Z","Open":158.40000000000001,"Close":159.22999999999999,"High":159.27000000000001,"Low":157.38999999999999,"Volume":1733181,"Date":"20210813080000000"},{"DT":"2021-08-17T01:00:00Z","Open":159.38999999999999,"Close":162.06999999999999,"High":162.52000000000001,"Low":158.5,"Volume":2154532,"Date":"20210816080000000"},{"DT":"2021-08-18T01:00:00Z","Open":161.72999999999999,"Close":160.91,"High":161.84,"Low":159.29499999999999,"Volume":2614179,"Date":"20210817080000000"},{"DT":"2021-08-19T01:00:00Z","Open":163.19999999999999,"Close":163.02000000000001,"High":165.36000000000001,"Low":162.08500000000001,"Volume":2860938,"Date":"20210818080000000"},{"DT":"2021-08-20T01:00:00Z","Open":161.74000000000001,"Close":167.66999999999999,"High":169.08000000000001,"Low":161.61000000000001,"Volume":2179741,"Date":"20210819080000000"},{"DT":"2021-08-21T01:00:00Z","Open":167.83000000000001,"Close":168.13,"High":170.74000000000001,"Low":167.05000000000001,"Volume":2023469,"Date":"20210820080000000"},{"DT":"2021-08-24T01:00:00Z","Open":169.43000000000001,"Close":170,"High":170.56999999999999,"Low":168.13,"Volume":2061439,"Date":"20210823080000000"},{"DT":"2021-08-25T01:00:00Z","Open":170.22999999999999,"Close":170.56999999999999,"High":171.21000000000001,"Low":169.22,"Volume":1238618,"Date":"20210824080000000"},{"DT":"2021-08-26T01:00:00Z","Open":170.06999999999999,"Close":173.30000000000001,"High":173.53999999999999,"Low":170.06999999999999,"Volume":1411986,"Date":"20210825080000000"},{"DT":"2021-08-27T01:00:00Z","Open":173.38999999999999,"Close":173.59,"High":174.47,"Low":172.09999999999999,"Volume":1273360,"Date":"20210826080000000"},{"DT":"2021-08-28T01:00:00Z","Open":174.03,"Close":173.81,"High":175.09999999999999,"Low":172.989,"Volume":1185870,"Date":"20210827080000000"},{"DT":"2021-08-31T01:00:00Z","Open":173.86000000000001,"Close":176.72999999999999,"High":177.12000000000001,"Low":173.86000000000001,"Volume":1221481,"Date":"20210830080000000"},{"DT":"2021-09-01T01:00:00Z","Open":177.09999999999999,"Close":175.47,"High":177.19,"Low":174.83000000000001,"Volume":1733269,"Date":"20210831080000000"},{"DT":"2021-09-02T01:00:00Z","Open":175.03999999999999,"Close":175.44999999999999,"High":175.74379999999999,"Low":174.37790000000001,"Volume":1428976,"Date":"20210901080000000"},{"DT":"2021-09-03T01:00:00Z","Open":176.44999999999999,"Close":178.02000000000001,"High":178.34,"Low":175.69999999999999,"Volume":1194001,"Date":"20210902080000000"},{"DT":"2021-09-04T01:00:00Z","Open":177.66999999999999,"Close":179.28,"High":179.56999999999999,"Low":177.03,"Volume":971760,"Date":"20210903080000000"},{"DT":"2021-09-08T01:00:00Z","Open":179.28,"Close":177.72,"High":179.36500000000001,"Low":176.78999999999999,"Volume":1252069,"Date":"20210907080000000"},{"DT":"2021-09-09T01:00:00Z","Open":177.41999999999999,"Close":178.72999999999999,"High":179.18000000000001,"Low":176.56999999999999,"Volume":1174601,"Date":"20210908080000000"},{"DT":"2021-09-10T01:00:00Z","Open":179.06999999999999,"Close":177.22999999999999,"High":179.36000000000001,"Low":177.02000000000001,"Volume":1010046,"Date":"20210909080000000"},{"DT":"2021-09-11T01:00:00Z","Open":177.72,"Close":177.22999999999999,"High":179.31,"Low":177.16999999999999,"Volume":1086308,"Date":"20210910080000000"},{"DT":"2021-09-14T01:00:00Z","Open":177.66,"Close":172.08000000000001,"High":178,"Low":170.22,"Volume":2274484,"Date":"20210913080000000"},{"DT":"2021-09-15T01:00:00Z","Open":172.55000000000001,"Close":172.41999999999999,"High":173.97999999999999,"Low":171.75999999999999,"Volume":1337413,"Date":"20210914080000000"},{"DT":"2021-09-16T01:00:00Z","Open":172.06999999999999,"Close":173.78999999999999,"High":175.13,"Low":171.38999999999999,"Volume":1535318,"Date":"20210915080000000"},{"DT":"2021-09-17T01:00:00Z","Open":173.93000000000001,"Close":173.28,"High":173.93000000000001,"Low":171.09999999999999,"Volume":1141995,"Date":"20210916080000000"},{"DT":"2021-09-18T01:00:00Z","Open":173.91999999999999,"Close":173.94,"High":177.36000000000001,"Low":172.80000000000001,"Volume":2405719,"Date":"20210917080000000"},{"DT":"2021-09-21T01:00:00Z","Open":170.5,"Close":171.34,"High":172.58000000000001,"Low":169.11000000000001,"Volume":1599479,"Date":"20210920080000000"},{"DT":"2021-09-22T01:00:00Z","Open":172.30000000000001,"Close":171.44,"High":173.59999999999999,"Low":171.19,"Volume":1059767,"Date":"20210921080000000"},{"DT":"2021-09-23T01:00:00Z","Open":172.18000000000001,"Close":172.44,"High":173.31999999999999,"Low":170.905,"Volume":981018,"Date":"20210922080000000"},{"DT":"2021-09-24T01:00:00Z","Open":173.5,"Close":172.77000000000001,"High":174.34999999999999,"Low":172.48500000000001,"Volume":1654791,"Date":"20210923080000000"},{"DT":"2021-09-25T01:00:00Z","Open":172.09,"Close":172.40000000000001,"High":173.08000000000001,"Low":171.19999999999999,"Volume":1041912,"Date":"20210924080000000"},{"DT":"2021-09-28T01:00:00Z","Open":171.06,"Close":166.38,"High":171.15000000000001,"Low":164.2629,"Volume":1419754,"Date":"20210927080000000"},{"DT":"2021-09-29T01:00:00Z","Open":164.19,"Close":159.90000000000001,"High":164.33000000000001,"Low":158.78999999999999,"Volume":2541015,"Date":"20210928080000000"},{"DT":"2021-09-30T01:00:00Z","Open":161.38999999999999,"Close":160,"High":161.80500000000001,"Low":159.83000000000001,"Volume":1268214,"Date":"20210929080000000"},{"DT":"2021-10-01T01:00:00Z","Open":161.22999999999999,"Close":157.53,"High":162.47999999999999,"Low":157.46000000000001,"Volume":1542804,"Date":"20210930080000000"},{"DT":"2021-10-02T01:00:00Z","Open":157.15000000000001,"Close":155.99000000000001,"High":157.5,"Low":153.05000000000001,"Volume":1881934,"Date":"20211001080000000"},{"DT":"2021-10-05T01:00:00Z","Open":155.24000000000001,"Close":152.36000000000001,"High":156.30000000000001,"Low":151.25999999999999,"Volume":1758404,"Date":"20211004080000000"},{"DT":"2021-10-06T01:00:00Z","Open":153.47999999999999,"Close":153.03,"High":155.78,"Low":152.34,"Volume":1494305,"Date":"20211005080000000"},{"DT":"2021-10-07T01:00:00Z","Open":152.55000000000001,"Close":153.65000000000001,"High":154.25999999999999,"Low":151.62000000000001,"Volume":1794778,"Date":"20211006080000000"},{"DT":"2021-10-08T01:00:00Z","Open":155.06,"Close":155.31999999999999,"High":157.47999999999999,"Low":154.95500000000001,"Volume":1002863,"Date":"20211007080000000"},{"DT":"2021-10-09T01:00:00Z","Open":156.18000000000001,"Close":152.47,"High":156.91499999999999,"Low":152.09999999999999,"Volume":904116,"Date":"20211008080000000"},{"DT":"2021-10-12T01:00:00Z","Open":151.49000000000001,"Close":150.02000000000001,"High":152.36000000000001,"Low":149.88,"Volume":1106340,"Date":"20211011080000000"},{"DT":"2021-10-13T01:00:00Z","Open":151.18000000000001,"Close":147.94999999999999,"High":151.18000000000001,"Low":146.30000000000001,"Volume":1809987,"Date":"20211012080000000"},{"DT":"2021-10-14T01:00:00Z","Open":149.08000000000001,"Close":150.22,"High":150.88,"Low":148.74000000000001,"Volume":1509180,"Date":"20211013080000000"},{"DT":"2021-10-15T01:00:00Z","Open":151.62000000000001,"Close":152.59,"High":153.47999999999999,"Low":151.62000000000001,"Volume":1434114,"Date":"20211014080000000"},{"DT":"2021-10-16T01:00:00Z","Open":153.13999999999999,"Close":153.27000000000001,"High":153.88999999999999,"Low":152.55000000000001,"Volume":1397821,"Date":"20211015080000000"},{"DT":"2021-10-19T01:00:00Z","Open":153.63,"Close":154.78,"High":155.41999999999999,"Low":152.38999999999999,"Volume":1183713,"Date":"20211018080000000"},{"DT":"2021-10-20T01:00:00Z","Open":155.96000000000001,"Close":155.62000000000001,"High":157.46000000000001,"Low":155.55000000000001,"Volume":1025510,"Date":"20211019080000000"},{"DT":"2021-10-21T01:00:00Z","Open":156.93000000000001,"Close":157.59,"High":158.12100000000001,"Low":156.31,"Volume":1053067,"Date":"20211020080000000"},{"DT":"2021-10-22T01:00:00Z","Open":157.71000000000001,"Close":156.94,"High":158.02000000000001,"Low":154.53,"Volume":1405098,"Date":"20211021080000000"},{"DT":"2021-10-23T01:00:00Z","Open":156.94999999999999,"Close":157.97,"High":158.71000000000001,"Low":156.90000000000001,"Volume":772154,"Date":"20211022080000000"},{"DT":"2021-10-26T01:00:00Z","Open":157.90000000000001,"Close":158.34,"High":158.52000000000001,"Low":156.74500000000001,"Volume":1088178,"Date":"20211025080000000"},{"DT":"2021-10-27T01:00:00Z","Open":159.63,"Close":158.19,"High":159.91999999999999,"Low":157.03999999999999,"Volume":1016357,"Date":"20211026080000000"},{"DT":"2021-10-28T01:00:00Z","Open":158.30000000000001,"Close":155.25999999999999,"High":158.5,"Low":154.83000000000001,"Volume":1472593,"Date":"20211027080000000"},{"DT":"2021-10-29T01:00:00Z","Open":155.97999999999999,"Close":155.75999999999999,"High":157.78999999999999,"Low":154.19,"Volume":1752595,"Date":"20211028080000000"},{"DT":"2021-10-30T01:00:00Z","Open":155.13,"Close":157.49000000000001,"High":157.56999999999999,"Low":154.44,"Volume":1999808,"Date":"20211029080000000"},{"DT":"2021-11-02T01:00:00Z","Open":157.38,"Close":157.06,"High":158,"Low":155.80000000000001,"Volume":1329077,"Date":"20211101080000000"},{"DT":"2021-11-03T01:00:00Z","Open":157.55000000000001,"Close":157.84999999999999,"High":158,"Low":155.44,"Volume":1714220,"Date":"20211102080000000"},{"DT":"2021-11-04T01:00:00Z","Open":158.03,"Close":158.19999999999999,"High":158.28999999999999,"Low":154.56999999999999,"Volume":1256624,"Date":"20211103080000000"},{"DT":"2021-11-05T01:00:00Z","Open":157.86000000000001,"Close":157.65000000000001,"High":158.93000000000001,"Low":156.36000000000001,"Volume":1015752,"Date":"20211104080000000"},{"DT":"2021-11-06T01:00:00Z","Open":156.56999999999999,"Close":156.41,"High":156.81,"Low":152.43000000000001,"Volume":1775553,"Date":"20211105080000000"},{"DT":"2021-11-09T02:00:00Z","Open":157,"Close":160.94,"High":161.15000000000001,"Low":156.55000000000001,"Volume":1466981,"Date":"20211108080000000"},{"DT":"2021-11-10T02:00:00Z","Open":160.94,"Close":159.81,"High":162.22999999999999,"Low":159.52000000000001,"Volume":1020954,"Date":"20211109080000000"},{"DT":"2021-11-11T02:00:00Z","Open":159.21000000000001,"Close":159.28,"High":159.97999999999999,"Low":156.06,"Volume":1093196,"Date":"20211110080000000"},{"DT":"2021-11-12T02:00:00Z","Open":160.28,"Close":158.78999999999999,"High":161.035,"Low":157.93000000000001,"Volume":935490,"Date":"20211111080000000"},{"DT":"2021-11-13T02:00:00Z","Open":159.72999999999999,"Close":160.88,"High":161.06,"Low":157.71000000000001,"Volume":1444785,"Date":"20211112080000000"},{"DT":"2021-11-16T02:00:00Z","Open":161.25,"Close":157.78,"High":162.33000000000001,"Low":157.5,"Volume":1121448,"Date":"20211115080000000"},{"DT":"2021-11-17T02:00:00Z","Open":157.05000000000001,"Close":161.38999999999999,"High":163,"Low":156.96000000000001,"Volume":1276264,"Date":"20211116080000000"},{"DT":"2021-11-18T02:00:00Z","Open":161.91999999999999,"Close":161.53999999999999,"High":161.91999999999999,"Low":159.90000000000001,"Volume":872431,"Date":"20211117080000000"},{"DT":"2021-11-19T02:00:00Z","Open":162.53,"Close":162.16,"High":162.82499999999999,"Low":160.40000000000001,"Volume":1476011,"Date":"20211118080000000"},{"DT":"2021-11-20T02:00:00Z","Open":163.00999999999999,"Close":164.30000000000001,"High":165.06999999999999,"Low":162.66999999999999,"Volume":1647657,"Date":"20211119080000000"},{"DT":"2021-11-23T02:00:00Z","Open":165,"Close":162.78,"High":165.68000000000001,"Low":162.78,"Volume":2112504,"Date":"20211122080000000"},{"DT":"2021-11-24T02:00:00Z","Open":155.88999999999999,"Close":154.78,"High":159.31999999999999,"Low":151.77000000000001,"Volume":3141511,"Date":"20211123080000000"},{"DT":"2021-11-25T02:00:00Z","Open":153.75999999999999,"Close":152.97,"High":154.66999999999999,"Low":151.09,"Volume":2291441,"Date":"20211124080000000"},{"DT":"2021-11-27T02:00:00Z","Open":153.28999999999999,"Close":152.06999999999999,"High":159.09,"Low":151.56999999999999,"Volume":1632227,"Date":"20211126080000000"},{"DT":"2021-11-30T02:00:00Z","Open":153.06,"Close":153.41999999999999,"High":155.38,"Low":151.56,"Volume":1734578,"Date":"20211129080000000"},{"DT":"2021-12-01T02:00:00Z","Open":153.34999999999999,"Close":150.90000000000001,"High":155.71000000000001,"Low":149.69999999999999,"Volume":3900525,"Date":"20211130080000000"},{"DT":"2021-12-02T02:00:00Z","Open":151.12000000000001,"Close":148.21000000000001,"High":152.84999999999999,"Low":148.09,"Volume":1800900,"Date":"20211201080000000"},{"DT":"2021-12-03T02:00:00Z","Open":147.91,"Close":150.99000000000001,"High":152.47,"Low":147.72999999999999,"Volume":1514140,"Date":"20211202080000000"},{"DT":"2021-12-04T02:00:00Z","Open":151.81999999999999,"Close":149.33000000000001,"High":153,"Low":147.72,"Volume":1412565,"Date":"20211203080000000"},{"DT":"2021-12-07T02:00:00Z","Open":149.34,"Close":151.47,"High":152.03999999999999,"Low":147.78,"Volume":1803458,"Date":"20211206080000000"},{"DT":"2021-12-08T02:00:00Z","Open":152.84,"Close":153.80000000000001,"High":156.24000000000001,"Low":152.61000000000001,"Volume":1422695,"Date":"20211207080000000"},{"DT":"2021-12-09T02:00:00Z","Open":154.75999999999999,"Close":156.31,"High":156.38999999999999,"Low":153.94999999999999,"Volume":1491465,"Date":"20211208080000000"},{"DT":"2021-12-10T02:00:00Z","Open":156.5,"Close":154.61000000000001,"High":158,"Low":154.50999999999999,"Volume":1272365,"Date":"20211209080000000"},{"DT":"2021-12-11T02:00:00Z","Open":154.53,"Close":156.25999999999999,"High":156.34,"Low":154.08000000000001,"Volume":1463881,"Date":"20211210080000000"},{"DT":"2021-12-14T02:00:00Z","Open":157.34,"Close":156.28999999999999,"High":157.90000000000001,"Low":155.13999999999999,"Volume":1413801,"Date":"20211213080000000"},{"DT":"2021-12-15T02:00:00Z","Open":154.88999999999999,"Close":151.88,"High":155.74000000000001,"Low":150.10499999999999,"Volume":1869109,"Date":"20211214080000000"},{"DT":"2021-12-16T02:00:00Z","Open":152.75999999999999,"Close":154.31,"High":154.59,"Low":150.62000000000001,"Volume":2055069,"Date":"20211215080000000"},{"DT":"2021-12-17T02:00:00Z","Open":154.30000000000001,"Close":150.80000000000001,"High":155.90000000000001,"Low":150.46000000000001,"Volume":2085566,"Date":"20211216080000000"},{"DT":"2021-12-18T02:00:00Z","Open":150.34999999999999,"Close":151.41999999999999,"High":152.59,"Low":148.03999999999999,"Volume":2628690,"Date":"20211217080000000"},{"DT":"2021-12-21T02:00:00Z","Open":150.75999999999999,"Close":150.41999999999999,"High":152.18000000000001,"Low":148.53999999999999,"Volume":2027207,"Date":"20211220080000000"},{"DT":"2021-12-22T02:00:00Z","Open":151,"Close":153.96000000000001,"High":154.06,"Low":150.61000000000001,"Volume":1496640,"Date":"20211221080000000"},{"DT":"2021-12-23T02:00:00Z","Open":154.44999999999999,"Close":156.78,"High":157.16,"Low":154.25,"Volume":1907868,"Date":"20211222080000000"},{"DT":"2021-12-24T02:00:00Z","Open":157.28999999999999,"Close":157.80000000000001,"High":158.86000000000001,"Low":156.65000000000001,"Volume":1411035,"Date":"20211223080000000"},{"DT":"2021-12-28T02:00:00Z","Open":158.81999999999999,"Close":158.74000000000001,"High":159.84,"Low":157.185,"Volume":951771,"Date":"20211227080000000"},{"DT":"2021-12-29T02:00:00Z","Open":159.68000000000001,"Close":159.18000000000001,"High":159.78999999999999,"Low":158.12000000000001,"Volume":764279,"Date":"20211228080000000"},{"DT":"2021-12-30T02:00:00Z","Open":159.83000000000001,"Close":160.65000000000001,"High":161.38999999999999,"Low":159.17500000000001,"Volume":833052,"Date":"20211229080000000"},{"DT":"2021-12-31T02:00:00Z","Open":161.11000000000001,"Close":160.88,"High":162.62000000000001,"Low":160.59999999999999,"Volume":771020,"Date":"20211230080000000"},{"DT":"2022-01-01T02:00:00Z","Open":160.34999999999999,"Close":159.65000000000001,"High":161.44999999999999,"Low":159.52000000000001,"Volume":1315542,"Date":"20211231080000000"},{"DT":"2022-01-04T02:00:00Z","Open":159,"Close":156.47999999999999,"High":159.44,"Low":153.93000000000001,"Volume":1606323,"Date":"20220103080000000"},{"DT":"2022-01-05T02:00:00Z","Open":155.49000000000001,"Close":151.19,"High":155.63,"Low":149.69999999999999,"Volume":2233958,"Date":"20220104080000000"},{"DT":"2022-01-06T02:00:00Z","Open":150.83000000000001,"Close":148.59999999999999,"High":153.09999999999999,"Low":148.53,"Volume":2370529,"Date":"20220105080000000"},{"DT":"2022-01-07T02:00:00Z","Open":148.84999999999999,"Close":149.12000000000001,"High":149.96000000000001,"Low":145.58000000000001,"Volume":2298277,"Date":"20220106080000000"},{"DT":"2022-01-08T02:00:00Z","Open":149.12000000000001,"Close":145.15000000000001,"High":149.72999999999999,"Low":145.09,"Volume":2058658,"Date":"20220107080000000"},{"DT":"2022-01-11T02:00:00Z","Open":143.28999999999999,"Close":145.16,"High":145.31,"Low":140.86000000000001,"Volume":2548145,"Date":"20220110080000000"},{"DT":"2022-01-12T02:00:00Z","Open":145,"Close":146.63999999999999,"High":146.94,"Low":143.81,"Volume":2194208,"Date":"20220111080000000"},{"DT":"2022-01-13T02:00:00Z","Open":147.80000000000001,"Close":149.50999999999999,"High":150.38999999999999,"Low":147.55000000000001,"Volume":2250847,"Date":"20220112080000000"},{"DT":"2022-01-14T02:00:00Z","Open":149.46000000000001,"Close":145.16999999999999,"High":149.53999999999999,"Low":144.84999999999999,"Volume":1741764,"Date":"20220113080000000"},{"DT":"2022-01-15T02:00:00Z","Open":144.03999999999999,"Close":144.68000000000001,"High":145.15000000000001,"Low":142.36000000000001,"Volume":2225442,"Date":"20220114080000000"},{"DT":"2022-01-19T02:00:00Z","Open":142.41999999999999,"Close":140.47,"High":143.24000000000001,"Low":140.34,"Volume":1907368,"Date":"20220118080000000"},{"DT":"2022-01-20T02:00:00Z","Open":140.66999999999999,"Close":140.43000000000001,"High":143.59999999999999,"Low":140.25999999999999,"Volume":1472206,"Date":"20220119080000000"},{"DT":"2022-01-21T02:00:00Z","Open":141.38,"Close":139.47999999999999,"High":143.13999999999999,"Low":139.05000000000001,"Volume":1861384,"Date":"20220120080000000"},{"DT":"2022-01-22T02:00:00Z","Open":139.53999999999999,"Close":137.50999999999999,"High":140.49000000000001,"Low":137.49000000000001,"Volume":1878663,"Date":"20220121080000000"},{"DT":"2022-01-25T02:00:00Z","Open":136.38,"Close":138.12000000000001,"High":138.49000000000001,"Low":131.28,"Volume":2155299,"Date":"20220124080000000"},{"DT":"2022-01-26T02:00:00Z","Open":135.36000000000001,"Close":134.56999999999999,"High":136.62000000000001,"Low":132.65000000000001,"Volume":1705313,"Date":"20220125080000000"},{"DT":"2022-01-27T02:00:00Z","Open":135.53999999999999,"Close":133.50999999999999,"High":138.0454,"Low":132.27000000000001,"Volume":1999575,"Date":"20220126080000000"},{"DT":"2022-01-28T02:00:00Z","Open":135.28,"Close":132.09,"High":136.36000000000001,"Low":131.68000000000001,"Volume":1715819,"Date":"20220127080000000"},{"DT":"2022-01-29T02:00:00Z","Open":133,"Close":137.06,"High":137.40000000000001,"Low":131.215,"Volume":2174805,"Date":"20220128080000000"},{"DT":"2022-02-01T02:00:00Z","Open":137.31999999999999,"Close":139.31999999999999,"High":139.47,"Low":136.97290000000001,"Volume":1702950,"Date":"20220131080000000"},{"DT":"2022-02-02T02:00:00Z","Open":140.53,"Close":141.03,"High":141.27000000000001,"Low":138.44999999999999,"Volume":1655987,"Date":"20220201080000000"},{"DT":"2022-02-03T02:00:00Z","Open":140.99000000000001,"Close":144.24000000000001,"High":144.75999999999999,"Low":140.78,"Volume":1475727,"Date":"20220202080000000"},{"DT":"2022-02-04T02:00:00Z","Open":142,"Close":141.78999999999999,"High":143.78,"Low":141.00999999999999,"Volume":914265,"Date":"20220203080000000"},{"DT":"2022-02-05T02:00:00Z","Open":141.47999999999999,"Close":141.12000000000001,"High":142.345,"Low":139.66999999999999,"Volume":1087398,"Date":"20220204080000000"},{"DT":"2022-02-08T02:00:00Z","Open":141.5,"Close":140.37000000000001,"High":142.48500000000001,"Low":139.81,"Volume":1444112,"Date":"20220207080000000"},{"DT":"2022-02-09T02:00:00Z","Open":139.11000000000001,"Close":140.81,"High":141.41,"Low":138.29499999999999,"Volume":1515402,"Date":"20220208080000000"},{"DT":"2022-02-10T02:00:00Z","Open":142.72999999999999,"Close":144.44,"High":145.09999999999999,"Low":142.15000000000001,"Volume":1216888,"Date":"20220209080000000"},{"DT":"2022-02-11T02:00:00Z","Open":141.56,"Close":141.66,"High":144.03999999999999,"Low":140.58000000000001,"Volume":1063719,"Date":"20220210080000000"},{"DT":"2022-02-12T02:00:00Z","Open":141.12000000000001,"Close":137.19999999999999,"High":142.50999999999999,"Low":136.24000000000001,"Volume":1321937,"Date":"20220211080000000"},{"DT":"2022-02-15T02:00:00Z","Open":136.96000000000001,"Close":135.21000000000001,"High":137.69,"Low":134.09999999999999,"Volume":2205269,"Date":"20220214080000000"},{"DT":"2022-02-16T02:00:00Z","Open":137.25,"Close":135.91,"High":138.06,"Low":134.72999999999999,"Volume":2368248,"Date":"20220215080000000"},{"DT":"2022-02-17T02:00:00Z","Open":135.55000000000001,"Close":135.15000000000001,"High":135.59999999999999,"Low":132.11000000000001,"Volume":3187467,"Date":"20220216080000000"},{"DT":"2022-02-18T02:00:00Z","Open":134.63999999999999,"Close":130.25,"High":134.63999999999999,"Low":129.71000000000001,"Volume":2577819,"Date":"20220217080000000"},{"DT":"2022-02-19T02:00:00Z","Open":130.5,"Close":132.05000000000001,"High":133.43000000000001,"Low":130,"Volume":3614196,"Date":"20220218080000000"},{"DT":"2022-02-23T02:00:00Z","Open":130.87000000000001,"Close":130.49000000000001,"High":132.68989999999999,"Low":129.25999999999999,"Volume":3054790,"Date":"20220222080000000"},{"DT":"2022-02-24T02:00:00Z","Open":129.88,"Close":126,"High":134.37000000000001,"Low":125.95,"Volume":3938702,"Date":"20220223080000000"},{"DT":"2022-02-25T02:00:00Z","Open":123.7,"Close":128.15000000000001,"High":128.63,"Low":123.06,"Volume":3430243,"Date":"20220224080000000"},{"DT":"2022-02-26T02:00:00Z","Open":128.84,"Close":133.72999999999999,"High":133.75,"Low":127.92,"Volume":3144478,"Date":"20220225080000000"},{"DT":"2022-03-01T02:00:00Z","Open":132.03,"Close":130.36000000000001,"High":132.875,"Low":129.155,"Volume":3096424,"Date":"20220228080000000"},{"DT":"2022-03-02T02:00:00Z","Open":130.83000000000001,"Close":131.93000000000001,"High":132.91499999999999,"Low":130.08500000000001,"Volume":2634071,"Date":"20220301080000000"},{"DT":"2022-03-03T02:00:00Z","Open":132.68000000000001,"Close":133.16,"High":133.96000000000001,"Low":131.80000000000001,"Volume":1863110,"Date":"20220302080000000"},{"DT":"2022-03-04T02:00:00Z","Open":133.72999999999999,"Close":137.16999999999999,"High":138,"Low":133.44,"Volume":3592139,"Date":"20220303080000000"},{"DT":"2022-03-05T02:00:00Z","Open":135.84999999999999,"Close":133.88999999999999,"High":137.12000000000001,"Low":132.13999999999999,"Volume":3848511,"Date":"20220304080000000"},{"DT":"2022-03-08T02:00:00Z","Open":133.55000000000001,"Close":130.34,"High":133.55000000000001,"Low":128.43000000000001,"Volume":2376504,"Date":"20220307080000000"},{"DT":"2022-03-09T02:00:00Z","Open":128.63999999999999,"Close":129.31999999999999,"High":132.5,"Low":127.54000000000001,"Volume":2375483,"Date":"20220308080000000"},{"DT":"2022-03-09T21:14:11Z","Open":132.84999999999999,"Close":133.80000000000001,"High":133.90000000000001,"Low":131.19,"Volume":1172501,"Date":"20220309031411000"}])')}))}function PostMessageReady(e){window.postMessage({MessageType:"ready"})}function displayAlert(e){alert(e)}window.loadNewChart=function loadNewChart(symbol,msg){stxx.loadChart(symbol,{masterData:eval(msg),periodicity:{period:1,timeUnit:"day"}})},window.addToChart=function addToChart(symbol,msg){stxx.addSeries(symbol,{isComparison:!0,data:eval(msg)})},window.postMessage=function(e){try{stxx.attachQuoteFeed(myQuoteFeed,behavior),stxx.setPeriodicity(1,"day"),stxx.layout.crosshair=!0,stxx.loadChart("SPY")}catch(e){}},window.updateData=function updateData(msg){stxx.updateChartData(eval(msg))}})()})();